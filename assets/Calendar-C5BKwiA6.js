import{u as Ke,r as F,bT as Qe,j as D,ac as Ze}from"./index-GzcG7CSS.js";import{c as k,a as xe,m as y,y as c,D as Je,b as et,d as X,e as P,f as tt,g as ee,W as it,C as L,h as pe,S as st,V as te,j as nt,N as le,k as oe,r as me,l as rt,n as lt,o as H,p as N,w as ae,q as ot,s as ie,t as at,u as dt,B as x,v as ct,x as ht,z as Ce,A as gt,R as Re,P as Te,E as Me,G as ut,H as ft,I as V,_ as A,J as pt,K as mt,L as vt,M as St,O as yt,Q as Et,T as _,U as bt,X as Dt,Y as wt,Z as xt,$ as ke,a0 as Ct,a1 as Rt,a2 as de,a3 as z,a4 as Tt,a5 as Ie,a6 as Mt,a7 as ve,a8 as kt,a9 as It,aa as Nt,ab as Pt,ac as Q,ad as At,ae as S,af as B,ag as se,ah as Ne,ai as I,aj as M,ak as Pe,al as Ae,am as G,an as ce,ao as he,ap as U,aq as Ht,ar as Lt,as as jt,at as Ot,au as Wt,av as Ft,aw as zt,ax as ge,ay as Gt,az as Ut,aA as He,aB as Vt,aC as Le,aD as je,aE as _t,aF as Yt,aG as Xt,aH as Bt,aI as qt,aJ as $t,aK as Z,aL as Kt,aM as Qt,aN as Zt,aO as Jt,aP as ue,aQ as ei,aR as ti,aS as ii,aT as si,aU as ni,F as ri,i as li}from"./index-pbZfDgWV.js";import{u as oi}from"./usePageTitle-CSRQyC0a.js";class ai extends at{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?dt(e)?["timed","allDay"]:["allDay"]:["timed"]}}const di=k({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Oe(l){let e=["fc-timegrid-slot","fc-timegrid-slot-label",l.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return c(ct.Consumer,null,t=>{if(!l.isLabeled)return c("td",{className:e.join(" "),"data-time":l.isoTimeStr});let{dateEnv:i,options:s,viewApi:r}=t,n=s.slotLabelFormat==null?di:Array.isArray(s.slotLabelFormat)?k(s.slotLabelFormat[0]):k(s.slotLabelFormat),o={level:0,time:l.time,date:i.toDate(l.date),view:r,text:i.format(l.date,n)};return c(L,{elTag:"td",elClasses:e,elAttrs:{"data-time":l.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:ci,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},a=>c("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},c(a,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function ci(l){return l.text}class hi extends x{render(){return this.props.slatMetas.map(e=>c("tr",{key:e.key},c(Oe,Object.assign({},e))))}}const gi=k({week:"short"}),ui=5;class fi extends X{constructor(){super(...arguments),this.allDaySplitter=new ai,this.headerElRef=P(),this.rootElRef=P(),this.scrollerElRef=P(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,r=s.renderRange,o=tt(r.start,r.end)===1?ee(this.context,r.start,"week"):{};return i.weekNumbers&&e==="day"?c(it,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:gi},a=>c("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},c(a,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):c("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},c("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context,s={text:t.allDayText,view:i};return c(L,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:pi,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},r=>c("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},c(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:s,props:r}=this,n=[],o=pe(s.options);return e&&n.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(n.push({type:"body",key:"all-day",chunk:{content:t}}),n.push({type:"body",key:"all-day-divider",outerContent:c("tr",{role:"presentation",className:"fc-scrollgrid-section"},c("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),n.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),c(te,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},c(st,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:n}))}renderHScrollLayout(e,t,i,s,r,n,o){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:d,props:g}=this,h=!g.forPrint&&pe(d.options),u=!g.forPrint&&nt(d.options),f=[];e&&f.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>c("tr",{role:"presentation"},this.renderHeadAxis("day",p.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>c("tr",{role:"presentation"},this.renderTableRowAxis(p.rowSyncHeights[0]))},{key:"cols",content:t}]}),f.push({key:"all-day-divider",type:"body",outerContent:c("tr",{role:"presentation",className:"fc-scrollgrid-section"},c("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let m=d.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:p=>c("div",{className:"fc-timegrid-axis-chunk"},c("table",{"aria-hidden":!0,style:{height:p.expandRows?p.clientHeight:""}},p.tableColGroupNode,c("tbody",null,c(hi,{slatMetas:n}))),c("div",{className:"fc-timegrid-now-indicator-container"},c(le,{unit:m?"minute":"day"},v=>{let E=m&&o&&o.safeComputeTop(v);return typeof E=="number"?c(oe,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:E},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),u&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:me},{key:"cols",content:me}]}),c(te,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},c(a,{liquid:!g.isHeightAuto&&!g.forPrint,forPrint:g.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:r}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=ui),{dayMaxEvents:e,dayMaxEventRows:t}}}function pi(l){return l.text}class mi{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if(Et(t.currentRange,e)){let i=_(e),s=e.valueOf()-i.valueOf();if(s>=N(t.slotMinTime)&&s<N(t.slotMaxTime))return this.computeTimeTop(H(s))}return null}computeDateTop(e,t){return t||(t=_(e)),this.computeTimeTop(H(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:i}=this,s=t.els.length,r=(e.milliseconds-N(i.slotMinTime))/N(this.slotDuration),n,o;return r=Math.max(0,r),r=Math.min(s,r),n=Math.floor(r),n=Math.min(n,s-1),o=r-n,t.tops[n]+t.getHeight(n)*o}}class vi extends x{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:s}=e;return c("tbody",null,e.slatMetas.map((r,n)=>{let o={time:r.time,date:t.dateEnv.toDate(r.date),view:t.viewApi};return c("tr",{key:r.key,ref:s.createRef(r.key)},e.axis&&c(Oe,Object.assign({},r)),c(L,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class Si extends x{constructor(){super(...arguments),this.rootElRef=P(),this.slatElRefs=new Re}render(){let{props:e,context:t}=this;return c("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},c("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,c(vi,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new mi(new Te(this.rootElRef.current,yi(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function yi(l,e){return e.map(t=>l[t.key])}function j(l,e){let t=[],i;for(i=0;i<e;i+=1)t.push([]);if(l)for(i=0;i<l.length;i+=1)t[l[i].col].push(l[i]);return t}function Se(l,e){let t=[];if(l){for(let i=0;i<e;i+=1)t[i]={affectedInstances:l.affectedInstances,isEvent:l.isEvent,segs:[]};for(let i of l.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}class Ei extends x{render(){let{props:e}=this;return c(Dt,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>Fe(e.hiddenSegs,e),defaultGenerator:bi,forceTimed:!0},t=>c(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function bi(l){return l.shortText}function Di(l,e,t){let i=new wt;e!=null&&(i.strictOrder=e),t!=null&&(i.maxStackCnt=t);let s=i.addSegs(l),r=xt(s),n=wi(i);return n=Ti(n,1),{segRects:Mi(n),hiddenGroups:r}}function wi(l){const{entriesByLevel:e}=l,t=fe((i,s)=>i+":"+s,(i,s)=>{let r=Ri(l,i,s),n=ye(r,t),o=e[i][s];return[Object.assign(Object.assign({},o),{nextLevelNodes:n[0]}),o.thickness+n[1]]});return ye(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function ye(l,e){if(!l)return[[],0];let{level:t,lateralStart:i,lateralEnd:s}=l,r=i,n=[];for(;r<s;)n.push(e(t,r)),r+=1;return n.sort(xi),[n.map(Ci),n[0][1]]}function xi(l,e){return e[1]-l[1]}function Ci(l){return l[0]}function Ri(l,e,t){let{levelCoords:i,entriesByLevel:s}=l,r=s[e][t],n=i[e]+r.thickness,o=i.length,a=e;for(;a<o&&i[a]<n;a+=1);for(;a<o;a+=1){let d=s[a],g,h=Ct(d,r.span.start,Rt),u=h[0]+h[1],f=u;for(;(g=d[f])&&g.span.start<r.span.end;)f+=1;if(u<f)return{level:a,lateralStart:u,lateralEnd:f}}return null}function Ti(l,e){const t=fe((i,s,r)=>ke(i),(i,s,r)=>{let{nextLevelNodes:n,thickness:o}=i,a=o+r,d=o/a,g,h=[];if(!n.length)g=e;else for(let f of n)if(g===void 0){let m=t(f,s,a);g=m[0],h.push(m[1])}else{let m=t(f,g,0);h.push(m[1])}let u=(g-s)*d;return[g-u,Object.assign(Object.assign({},i),{thickness:u,nextLevelNodes:h})]});return l.map(i=>t(i,0,0)[1])}function Mi(l){let e=[];const t=fe((s,r,n)=>ke(s),(s,r,n)=>{let o=Object.assign(Object.assign({},s),{levelCoord:r,stackDepth:n,stackForward:0});return e.push(o),o.stackForward=i(s.nextLevelNodes,r+s.thickness,n+1)+1});function i(s,r,n){let o=0;for(let a of s)o=Math.max(t(a,r,n),o);return o}return i(l,0,0),e}function fe(l,e){const t={};return(...i)=>{let s=l(...i);return s in t?t[s]:t[s]=e(...i)}}function Ee(l,e,t=null,i=0){let s=[];if(t)for(let r=0;r<l.length;r+=1){let n=l[r],o=t.computeDateTop(n.start,e),a=Math.max(o+(i||0),t.computeDateTop(n.end,e));s.push({start:Math.round(o),end:Math.round(a)})}return s}function ki(l,e,t,i){let s=[],r=[];for(let d=0;d<l.length;d+=1){let g=e[d];g?s.push({index:d,thickness:1,span:g}):r.push(l[d])}let{segRects:n,hiddenGroups:o}=Di(s,t,i),a=[];for(let d of n)a.push({seg:l[d.index],rect:d});for(let d of r)a.push({seg:d,rect:null});return{segPlacements:a,hiddenGroups:o}}const Ii=k({hour:"numeric",minute:"2-digit",meridiem:!1});class We extends x{render(){return c(bt,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Ii}))}}class Ni extends x{constructor(){super(...arguments),this.sortEventSegs=y(Me)}render(){let{props:e,context:t}=this,{options:i}=t,s=i.selectMirror,r=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],n=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return c(ft,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},a=>c("div",{className:"fc-timegrid-col-frame"},c("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),c("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,n,!1,!1,!1)),c("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),c("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),ut(i)&&c(a,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,s,r,n){let{props:o}=this;return o.forPrint?Fe(e,o):this.renderPositionedFgSegs(e,t,i,s,r,n)}renderPositionedFgSegs(e,t,i,s,r,n){let{eventMaxStack:o,eventShortHeight:a,eventOrderStrict:d,eventMinHeight:g}=this.context.options,{date:h,slatCoords:u,eventSelection:f,todayRange:m,nowDate:p}=this.props,v=i||s||r,E=Ee(e,h,u,g),{segPlacements:C,hiddenGroups:w}=ki(e,E,d,o);return c(A,null,this.renderHiddenGroups(w,e),C.map(R=>{let{seg:T,rect:b}=R,K=T.eventRange.instance.instanceId,Ye=v||!!(!t[K]&&b),Xe=J(b&&b.span),Be=!v&&b?this.computeSegHStyle(b):{left:0,right:0},qe=!!b&&b.stackForward>0,$e=!!b&&b.span.end-b.span.start<a;return c("div",{className:"fc-timegrid-event-harness"+(qe?" fc-timegrid-event-harness-inset":""),key:n||K,style:Object.assign(Object.assign({visibility:Ye?"":"hidden"},Xe),Be)},c(We,Object.assign({seg:T,isDragging:i,isResizing:s,isDateSelecting:r,isSelected:K===f,isShort:$e},V(T,m,p))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:n,eventSelection:o,eventDrag:a,eventResize:d}=this.props;return c(A,null,e.map(g=>{let h=J(g.span),u=Pi(g.entries,t);return c(Ei,{key:pt(mt(u)),hiddenSegs:u,top:h.top,bottom:h.bottom,extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:n,eventSelection:o,eventDrag:a,eventResize:d})}))}renderFillSegs(e,t){let{props:i,context:s}=this,n=Ee(e,i.date,i.slatCoords,s.options.eventMinHeight).map((o,a)=>{let d=e[a];return c("div",{key:yt(d.eventRange),className:"fc-timegrid-bg-harness",style:J(o)},t==="bg-event"?c(vt,Object.assign({seg:d},V(d,i.todayRange,i.nowDate))):St(t))});return c(A,null,n)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((s,r)=>c(oe,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:t,options:i}=this.context,s=i.slotEventOverlap,r=e.levelCoord,n=e.levelCoord+e.thickness,o,a;s&&(n=Math.min(1,r+(n-r)*2)),t?(o=1-n,a=r):(o=r,a=1-n);let d={zIndex:e.stackDepth+1,left:o*100+"%",right:a*100+"%"};return s&&!e.stackForward&&(d[t?"marginLeft":"marginRight"]=20),d}}function Fe(l,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:s,eventResize:r}){let n=(s?s.affectedInstances:null)||(r?r.affectedInstances:null)||{};return c(A,null,l.map(o=>{let a=o.eventRange.instance.instanceId;return c("div",{key:a,style:{visibility:n[a]?"hidden":""}},c(We,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===i,isShort:!1},V(o,e,t))))}))}function J(l){return l?{top:l.start,bottom:-l.end}:{top:"",bottom:""}}function Pi(l,e){return l.map(t=>e[t.index])}class Ai extends x{constructor(){super(...arguments),this.splitFgEventSegs=y(j),this.splitBgEventSegs=y(j),this.splitBusinessHourSegs=y(j),this.splitNowIndicatorSegs=y(j),this.splitDateSelectionSegs=y(j),this.splitEventDrag=y(Se),this.splitEventResize=y(Se),this.rootElRef=P(),this.cellElRefs=new Re}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,r=this.splitFgEventSegs(e.fgEventSegs,s),n=this.splitBgEventSegs(e.bgEventSegs,s),o=this.splitBusinessHourSegs(e.businessHourSegs,s),a=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),d=this.splitDateSelectionSegs(e.dateSelectionSegs,s),g=this.splitEventDrag(e.eventDrag,s),h=this.splitEventResize(e.eventResize,s);return c("div",{className:"fc-timegrid-cols",ref:this.rootElRef},c("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,c("tbody",{role:"presentation"},c("tr",{role:"row"},e.axis&&c("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},c("div",{className:"fc-timegrid-col-frame"},c("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&c(oe,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((u,f)=>c(Ni,{key:u.key,elRef:this.cellElRefs.createRef(u.key),dateProfile:e.dateProfile,date:u.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:u.extraRenderProps,extraDataAttrs:u.extraDataAttrs,extraClassNames:u.extraClassNames,extraDateSpan:u.extraDateSpan,fgEventSegs:r[f],bgEventSegs:n[f],businessHourSegs:o[f],nowIndicatorSegs:a[f],dateSelectionSegs:d[f],eventDrag:g[f],eventResize:h[f],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Te(this.rootElRef.current,Hi(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Hi(l,e){return e.map(t=>l[t.key])}class Li extends X{constructor(){super(...arguments),this.processSlotOptions=y(ji),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let s=i.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return c("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},c(Si,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),c(Ai,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:s}=this.context,{colCoords:r}=this,{dateProfile:n}=this.props,{slatCoords:o}=this.state,{snapDuration:a,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),g=r.leftToIndex(e),h=o.positions.topToIndex(t);if(g!=null&&h!=null){let u=this.props.cells[g],f=o.positions.tops[h],m=o.positions.getHeight(h),p=(t-f)/m,v=Math.floor(p*d),E=h*d+v,C=this.props.cells[g].date,w=ie(n.slotMinTime,gt(a,E)),R=i.add(C,w),T=i.add(R,a);return{dateProfile:n,dateSpan:Object.assign({range:{start:R,end:T},allDay:!1},u.extraDateSpan),dayEl:r.els[g],rect:{left:r.lefts[g],right:r.rights[g],top:f,bottom:f+m},layer:0}}return null}}function ji(l,e){let t=e||l,i=ae(l,t);return i===null&&(t=l,i=1),{snapDuration:t,snapsPerSlot:i}}class Oi extends ht{sliceRange(e,t){let i=[];for(let s=0;s<t.length;s+=1){let r=Ce(e,t[s]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:s})}return i}}class Wi extends X{constructor(){super(...arguments),this.buildDayRanges=y(Fi),this.slicer=new Oi,this.timeColsRef=P()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:s}=e,{nowIndicator:r,nextDayThreshold:n}=t.options,o=this.buildDayRanges(s,i,t.dateEnv);return c(le,{unit:r?"minute":"day"},(a,d)=>c(Li,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:a,nowIndicatorSegs:r&&this.slicer.sliceNowDate(a,i,n,t,o),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Fi(l,e,t){let i=[];for(let s of l.headerDates)i.push({start:t.add(s,e.slotMinTime),end:t.add(s,e.slotMaxTime)});return i}const be=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function zi(l,e,t,i,s){let r=new Date(0),n=l,o=H(0),a=t||Gi(i),d=[];for(;N(n)<N(e);){let g=s.add(r,n),h=ae(o,a)!==null;d.push({date:g,time:n,key:g.toISOString(),isoTimeStr:ot(g),isLabeled:h}),n=ie(n,i),o=ie(o,i)}return d}function Gi(l){let e,t,i;for(e=be.length-1;e>=0;e-=1)if(t=H(be[e]),i=ae(t,l),i!==null&&i>1)return t;return l}class Ui extends fi{constructor(){super(...arguments),this.buildTimeColsModel=y(Vi),this.buildSlatMetas=y(zi)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:r}=s,n=this.buildTimeColsModel(r,i),o=this.allDaySplitter.splitProps(s),a=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:d}=e,g=!d,h=d,u=e.dayHeaders&&c(Je,{dates:n.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),f=e.allDaySlot!==!1&&(p=>c(et,Object.assign({},o.allDay,{dateProfile:r,dayTableModel:n,nextDayThreshold:e.nextDayThreshold,tableMinWidth:p.tableMinWidth,colGroupNode:p.tableColGroupNode,renderRowIntro:g?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:p.clientWidth,clientHeight:p.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),m=p=>c(Wi,Object.assign({},o.timed,{dayTableModel:n,dateProfile:r,axis:g,slotDuration:e.slotDuration,slatMetas:a,forPrint:s.forPrint,tableColGroupNode:p.tableColGroupNode,tableMinWidth:p.tableMinWidth,clientWidth:p.clientWidth,clientHeight:p.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:p.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(u,f,m,n.colCnt,d,a,this.state.slatCoords):this.renderSimpleLayout(u,f,m)}}function Vi(l,e){let t=new rt(l.renderRange,e);return new lt(t,!1)}var _i='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';xe(_i);const Yi={allDaySlot:Boolean};var Xi=de({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Yi,views:{timeGrid:{component:Ui,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Bi extends x{constructor(){super(...arguments),this.state={textId:z()}}render(){let{theme:e,dateEnv:t,options:i,viewApi:s}=this.context,{cellId:r,dayDate:n,todayRange:o}=this.props,{textId:a}=this.state,d=kt(n,o),g=i.listDayFormat?t.format(n,i.listDayFormat):"",h=i.listDaySideFormat?t.format(n,i.listDaySideFormat):"",u=Object.assign({date:t.toDate(n),view:s,textId:a,text:g,sideText:h,navLinkAttrs:ee(this.context,n),sideNavLinkAttrs:ee(this.context,n,"day",!1)},d);return c(L,{elTag:"tr",elClasses:["fc-list-day",...It(d,e)],elAttrs:{"data-date":Ie(n)},renderProps:u,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:qi,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},f=>c("th",{scope:"colgroup",colSpan:3,id:r,"aria-labelledby":a},c(f,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function qi(l){return c(A,null,l.text&&c("a",Object.assign({id:l.textId,className:"fc-list-day-text"},l.navLinkAttrs),l.text),l.sideText&&c("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},l.sideNavLinkAttrs),l.sideText))}const $i=k({hour:"numeric",minute:"2-digit",meridiem:"short"});class Ki extends x{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s,timeHeaderId:r,eventHeaderId:n,dateHeaderId:o}=e,a=i.eventTimeFormat||$i;return c(Nt,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Qi(s,t),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(d,g)=>c(A,null,Zi(s,a,t,r,o),c("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},c("span",{className:"fc-list-event-dot",style:{borderColor:g.borderColor||g.backgroundColor}})),c(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${n} ${o}`}})))}}function Qi(l,e){let t=At(l,e);return c("a",Object.assign({},t),l.eventRange.def.title)}function Zi(l,e,t,i,s){let{options:r}=t;if(r.displayEventTime!==!1){let n=l.eventRange.def,o=l.eventRange.instance,a=!1,d;if(n.allDay?a=!0:Pt(l.eventRange.range)?l.isStart?d=Q(l,e,t,null,null,o.range.start,l.end):l.isEnd?d=Q(l,e,t,null,null,l.start,o.range.end):a=!0:d=Q(l,e,t),a){let g={text:t.options.allDayText,view:t.viewApi};return c(L,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${s}`},renderProps:g,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Ji,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount})}return c("td",{className:"fc-list-event-time"},d)}return null}function Ji(l){return l.text}class es extends X{constructor(){super(...arguments),this.computeDateVars=y(is),this.eventStoreToSegs=y(this._eventStoreToSegs),this.state={timeHeaderId:z(),eventHeaderId:z(),dateHeaderIdRoot:z()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:i,dayRanges:s}=this.computeDateVars(e.dateProfile),r=this.eventStoreToSegs(e.eventStore,e.eventUiBases,s);return c(te,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),t.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:t.viewSpec},c(Tt,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},r.length>0?this.renderSegList(r,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,i={text:e.noEventsText,view:t};return c(L,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:ts,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},s=>c(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:i,options:s}=this.context,{timeHeaderId:r,eventHeaderId:n,dateHeaderIdRoot:o}=this.state,a=ss(e);return c(le,{unit:"day"},(d,g)=>{let h=[];for(let u=0;u<a.length;u+=1){let f=a[u];if(f){let m=Ie(t[u]),p=o+"-"+m;h.push(c(Bi,{key:m,cellId:p,dayDate:t[u],todayRange:g})),f=Me(f,s.eventOrder);for(let v of f)h.push(c(Ki,Object.assign({key:m+":"+v.eventRange.instance.instanceId,seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:r,eventHeaderId:n,dateHeaderId:p},V(v,g,d))))}}return c("table",{className:"fc-list-table "+i.getClass("table")},c("thead",null,c("tr",null,c("th",{scope:"col",id:r},s.timeHint),c("th",{scope:"col","aria-hidden":!0}),c("th",{scope:"col",id:n},s.eventHint))),c("tbody",null,h))})}_eventStoreToSegs(e,t,i){return this.eventRangesToSegs(Mt(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,t){let i=[];for(let s of e)i.push(...this.eventRangeToSegs(s,t));return i}eventRangeToSegs(e,t){let{dateEnv:i}=this.context,{nextDayThreshold:s}=this.context.options,r=e.range,n=e.def.allDay,o,a,d,g=[];for(o=0;o<t.length;o+=1)if(a=Ce(r,t[o]),a&&(d={component:this,eventRange:e,start:a.start,end:a.end,isStart:e.isStart&&a.start.valueOf()===r.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===r.end.valueOf(),dayIndex:o},g.push(d),!d.isEnd&&!n&&o+1<t.length&&r.end<i.add(t[o+1].start,s))){d.end=r.end,d.isEnd=!0;break}return g}}function ts(l){return l.text}function is(l){let e=_(l.renderRange.start),t=l.renderRange.end,i=[],s=[];for(;e<t;)i.push(e),s.push({start:e,end:ve(e,1)}),e=ve(e,1);return{dayDates:i,dayRanges:s}}function ss(l){let e=[],t,i;for(t=0;t<l.length;t+=1)i=l[t],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var ns=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';xe(ns);const rs={listDayFormat:De,listDaySideFormat:De,noEventsClassNames:S,noEventsContent:S,noEventsDidMount:S,noEventsWillUnmount:S};function De(l){return l===!1?null:k(l)}var ls=de({name:"@fullcalendar/list",optionRefiners:rs,views:{list:{component:es,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});ue.touchMouseIgnoreWait=500;let ne=0,Y=0,re=!1;class ze{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&os(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,as()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new Le,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),ds()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),cs()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||I(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){re=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?I(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ne||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(re=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}}createEventFromTouch(e,t){let i=e.touches,s,r,n=0,o=0;return i&&i.length?(s=i[0].pageX,r=i[0].pageY):(s=e.pageX,r=e.pageY),t?(this.origPageX=s,this.origPageY=r):(n=s-this.origPageX,o=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:r,deltaX:n,deltaY:o}}}function os(l){return l.button===0&&!l.ctrlKey}function as(){ne+=1,setTimeout(()=>{ne-=1},ue.touchMouseIgnoreWait)}function ds(){Y+=1,Y===1&&window.addEventListener("touchmove",Ge,{passive:!1})}function cs(){Y-=1,Y||window.removeEventListener("touchmove",Ge,{passive:!1})}function Ge(l){re&&l.preventDefault()}class hs{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",Z(i,{left:s.left,top:s.top}),Kt(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Qt(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Z(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Z(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class Ue extends si{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Ve extends Ue{constructor(e,t){super(new ti(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return ii(this.scrollController.el)}}class gs extends Ue{constructor(e){super(new ei,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const we=typeof performance=="function"?performance.now:Date.now;class us{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=we();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,s=t-window.scrollY,r=this.pointerScreenY===null?0:s-this.pointerScreenY,n=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),n<0?this.everMovedLeft=!0:n>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(we()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:s}=this,r=s-e.distance,n=r*r/(s*s)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":i.setScrollLeft(i.getScrollLeft()+n*o);break;case"top":o=-1;case"bottom":i.setScrollTop(i.getScrollTop()+n*o);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,s=null,r=this.scrollCaches||[];for(let n of r){let o=n.clientRect,a=e-o.left,d=o.right-e,g=t-o.top,h=o.bottom-t;a>=0&&d>=0&&g>=0&&h>=0&&(g<=i&&this.everMovedUp&&n.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:n,name:"top",distance:g}),h<=i&&this.everMovedDown&&n.canScrollDown()&&(!s||s.distance>h)&&(s={scrollCache:n,name:"bottom",distance:h}),a<=i&&this.everMovedLeft&&n.canScrollLeft()&&(!s||s.distance>a)&&(s={scrollCache:n,name:"left",distance:a}),d<=i&&this.everMovedRight&&n.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:n,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new gs(!1):new Ve(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class O extends Lt{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,jt(document.body),Ot(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let r=this.minDistance,n,{deltaX:o,deltaY:a}=s;n=o*o+a*a,n>=r*r&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,Wt(document.body),Ft(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new ze(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new hs,this.autoScroller=new us}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class fs{constructor(e){this.el=e,this.origRect=je(e),this.scrollCaches=Zt(e).map(t=>new Ve(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let s of this.scrollCaches)if(!ps(s.getEventTarget())&&!Jt(i,s.clientRect))return!1;return!0}}function ps(l){let e=l.tagName;return e==="HTML"||e==="BODY"}class q{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Le}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,s=e.subjectEl,r;s instanceof HTMLElement&&(r=je(s),i=_t(i,r));let n=this.initialHit=this.queryHitForOffset(i.left,i.top);if(n){if(this.useSubjectCenter&&r){let o=Yt(r,n.rect);o&&(i=Xt(o))}this.coordAdjust=Bt(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!$(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=qt(this.droppableStore,e=>(e.component.prepareHits(),new fs(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:s}=this,r=null;for(let n in i){let o=i[n].component,a=s[n];if(a&&a.isWithinClipping(e,t)){let d=a.computeLeft(),g=a.computeTop(),h=e-d,u=t-g,{origRect:f}=a,m=f.right-f.left,p=f.bottom-f.top;if(h>=0&&h<m&&u>=0&&u<p){let v=o.queryHit(h,u,m,p);v&&$t(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||a.el.contains(a.el.getRootNode().elementFromPoint(h+d-window.scrollX,u+g-window.scrollY)))&&(!r||v.layer>r.layer)&&(v.componentId=n,v.context=o.context,v.rect.left+=d,v.rect.right+=d,v.rect.top+=g,v.rect.bottom+=g,r=v)}}}return r}}function $(l,e){return!l&&!e?!0:!!l!=!!e?!1:Vt(l.dateSpan,e.dateSpan)}function _e(l,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(l,e));return Object.assign(t,ms(l,e.dateEnv)),t}function ms(l,e){return{date:e.toDate(l.range.start),dateStr:e.formatIso(l.range.start,{omitTime:l.allDay}),allDay:l.allDay}}class vs extends B{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:s}=this,r=i.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:n,finalHit:o}=this.hitDragging;if(n&&o&&$(n,o)){let{context:a}=s,d=Object.assign(Object.assign({},_e(n.dateSpan,a)),{dayEl:n.dayEl,jsEvent:i.origEvent,view:a.viewApi||a.calendarApi.view});a.emitter.trigger("dateClick",d)}}},this.dragging=new O(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new q(this.dragging,ge(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Ss extends B{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=n=>{let{component:o,dragging:a}=this,{options:d}=o.context,g=d.selectable&&o.isValidDateDownEl(n.origEvent.target);a.setIgnoreMove(!g),a.delay=n.isTouch?ys(o):null},this.handleDragStart=n=>{this.component.context.calendarApi.unselect(n)},this.handleHitUpdate=(n,o)=>{let{context:a}=this.component,d=null,g=!1;if(n){let h=this.hitDragging.initialHit;n.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,n)||(d=Es(h,n,a.pluginHooks.dateSelectionTransformers)),(!d||!Gt(d,n.dateProfile,a))&&(g=!0,d=null)}d?a.dispatch({type:"SELECT_DATES",selection:d}):o||a.dispatch({type:"UNSELECT_DATES"}),g?he():ce(),o||(this.dragSelection=d)},this.handlePointerUp=n=>{this.dragSelection&&(Ut(this.dragSelection,n,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,s=this.dragging=new O(e.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new q(this.dragging,ge(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function ys(l){let{options:e}=l.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function Es(l,e,t){let i=l.dateSpan,s=e.dateSpan,r=[i.range.start,i.range.end,s.range.start,s.range.end];r.sort(ni);let n={};for(let o of t){let a=o(l,e);if(a===!1)return null;a&&Object.assign(n,a)}return n.range={start:r[0],end:r[3]},n.allDay=i.allDay,n}class W extends B{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=n=>{let o=n.origEvent.target,{component:a,dragging:d}=this,{mirror:g}=d,{options:h}=a.context,u=a.context;this.subjectEl=n.subjectEl;let f=this.subjectSeg=se(n.subjectEl),p=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=Ne(u.getCurrentData().eventStore,p),d.minDistance=n.isTouch?0:h.eventDragMinDistance,d.delay=n.isTouch&&p!==a.props.eventSelection?Ds(a):null,h.fixedMirrorParent?g.parentNode=h.fixedMirrorParent:g.parentNode=I(o,".fc"),g.revertDuration=h.dragRevertDuration;let v=a.isValidSegDownEl(o)&&!I(o,".fc-event-resizer");d.setIgnoreMove(!v),this.isDragging=v&&n.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=n=>{let o=this.component.context,a=this.eventRange,d=a.instance.instanceId;n.isTouch?d!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(n),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new M(o,a.def,a.instance),jsEvent:n.origEvent,view:o.viewApi}))},this.handleHitUpdate=(n,o)=>{if(!this.isDragging)return;let a=this.relevantEvents,d=this.hitDragging.initialHit,g=this.component.context,h=null,u=null,f=null,m=!1,p={affectedEvents:a,mutatedEvents:G(),isEvent:!0};if(n){h=n.context;let v=h.options;g===h||v.editable&&v.droppable?(u=bs(d,n,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),u&&(f=Pe(a,h.getCurrentData().eventUiBases,u,h),p.mutatedEvents=f,Ae(p,n.dateProfile,h)||(m=!0,u=null,f=null,p.mutatedEvents=G()))):h=null}this.displayDrag(h,p),m?he():ce(),o||(g===h&&$(d,n)&&(u=null),this.dragging.setMirrorNeedsRevert(!u),this.dragging.setMirrorIsVisible(!n||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=u,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=n=>{if(this.isDragging){let o=this.component.context,a=o.viewApi,{receivingContext:d,validMutation:g}=this,h=this.eventRange.def,u=this.eventRange.instance,f=new M(o,h,u),m=this.relevantEvents,p=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:n.origEvent,view:a}),g){if(d===o){let E=new M(o,p.defs[h.defId],u?p.instances[u.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:p});let C={oldEvent:f,event:E,relatedEvents:U(p,o,u),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}},w={};for(let R of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(w,R(g,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},C),w),{el:n.subjectEl,delta:g.datesDelta,jsEvent:n.origEvent,view:a})),o.emitter.trigger("eventChange",C)}else if(d){let E={event:f,relatedEvents:U(m,o,u),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},E),{draggedEl:n.subjectEl,view:a})),o.dispatch({type:"REMOVE_EVENTS",eventStore:m}),o.emitter.trigger("eventRemove",E);let C=p.defs[h.defId],w=p.instances[u.instanceId],R=new M(d,C,w);d.dispatch({type:"MERGE_EVENTS",eventStore:p});let T={event:R,relatedEvents:U(p,d,w),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};d.emitter.trigger("eventAdd",T),n.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},_e(v.dateSpan,d)),{draggedEl:n.subjectEl,jsEvent:n.origEvent,view:v.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:n.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,s=this.dragging=new O(e.el);s.pointer.selector=W.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new q(this.dragging,Ht);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,s=this.receivingContext;s&&s!==e&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:G(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}W.SELECTOR=".fc-event-draggable, .fc-event-resizable";function bs(l,e,t,i){let s=l.dateSpan,r=e.dateSpan,n=s.range.start,o=r.range.start,a={};s.allDay!==r.allDay&&(a.allDay=r.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?n=_(t):n=t);let d=He(n,o,l.context.dateEnv,l.componentId===e.componentId?l.largeUnit:null);d.milliseconds&&(a.allDay=!1);let g={datesDelta:d,standardProps:a};for(let h of i)h(g,l,e);return g}function Ds(l){let{options:e}=l.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class ws extends B{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:n}=this,o=this.querySegEl(r),a=se(o),d=this.eventRange=a.eventRange;this.dragging.minDistance=n.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=r=>{let{context:n}=this.component,o=this.eventRange;this.relevantEvents=Ne(n.getCurrentData().eventStore,this.eventRange.instance.instanceId);let a=this.querySegEl(r);this.draggingSegEl=a,this.draggingSeg=se(a),n.calendarApi.unselect(),n.emitter.trigger("eventResizeStart",{el:a,event:new M(n,o.def,o.instance),jsEvent:r.origEvent,view:n.viewApi})},this.handleHitUpdate=(r,n,o)=>{let{context:a}=this.component,d=this.relevantEvents,g=this.hitDragging.initialHit,h=this.eventRange.instance,u=null,f=null,m=!1,p={affectedEvents:d,mutatedEvents:G(),isEvent:!0};r&&(r.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,r)||(u=xs(g,r,o.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),u&&(f=Pe(d,a.getCurrentData().eventUiBases,u,a),p.mutatedEvents=f,Ae(p,r.dateProfile,a)||(m=!0,u=null,f=null,p.mutatedEvents=null)),f?a.dispatch({type:"SET_EVENT_RESIZE",state:p}):a.dispatch({type:"UNSET_EVENT_RESIZE"}),m?he():ce(),n||(u&&$(g,r)&&(u=null),this.validMutation=u,this.mutatedRelevantEvents=f)},this.handleDragEnd=r=>{let{context:n}=this.component,o=this.eventRange.def,a=this.eventRange.instance,d=new M(n,o,a),g=this.relevantEvents,h=this.mutatedRelevantEvents;if(n.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:r.origEvent,view:n.viewApi}),this.validMutation){let u=new M(n,h.defs[o.defId],a?h.instances[a.instanceId]:null);n.dispatch({type:"MERGE_EVENTS",eventStore:h});let f={oldEvent:d,event:u,relatedEvents:U(h,n,a),revert(){n.dispatch({type:"MERGE_EVENTS",eventStore:g})}};n.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||H(0),endDelta:this.validMutation.endDelta||H(0),jsEvent:r.origEvent,view:n.viewApi})),n.emitter.trigger("eventChange",f)}else n.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new O(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new q(this.dragging,ge(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return I(e.subjectEl,".fc-event")}}function xs(l,e,t,i){let s=l.context.dateEnv,r=l.dateSpan.range.start,n=e.dateSpan.range.start,o=He(r,n,s,l.largeUnit);if(t){if(s.add(i.start,o)<i.end)return{startDelta:o}}else if(s.add(i.end,o)>i.start)return{endDelta:o};return null}class Cs{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,r=zt(i.origEvent);this.matchesCancel=!!I(r,s),this.matchesEvent=!!I(r,W.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:r}=this,n=s.getCurrentData();if(!r.wasTouchScroll){if(n.dateSelection&&!this.isRecentPointerDateSelect){let o=s.options.unselectAuto;o&&(!o||!this.matchesCancel)&&s.calendarApi.unselect(i)}n.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new ze(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Rs={fixedMirrorParent:S},Ts={dateClick:S,eventDragStart:S,eventDragStop:S,eventDrop:S,eventResizeStart:S,eventResizeStop:S,eventResize:S,drop:S,eventReceive:S,eventLeave:S};ue.dataAttrPrefix="";var Ms=de({name:"@fullcalendar/interaction",componentInteractions:[vs,Ss,W,ws],calendarInteractions:[Cs],elementDraggingImpl:O,optionRefiners:Rs,listenerRefiners:Ts});const ks=[{key:"rotation",label:"Rotations",color:"#3b82f6"},{key:"hour_log",label:"Hour Logs",color:"#22c55e"},{key:"evaluation",label:"Evaluations",color:"#f97316"},{key:"deadline",label:"Deadlines",color:"#ef4444"},{key:"application",label:"Applications",color:"#f59e0b"}];function As(){oi("Calendar");const l=Ke(),[e,t]=F.useState(null),[i,s]=F.useState(new Set),{data:r}=Qe(e?.start??null,e?.end??null),n=F.useCallback(h=>{t({start:h.startStr.split("T")[0],end:h.endStr.split("T")[0]})},[]),o=F.useCallback(h=>{const f=h.event.extendedProps?.link;f&&l(f)},[l]),a=h=>{s(u=>{const f=new Set(u);return f.has(h)?f.delete(h):f.add(h),f})},d=(r??[]).filter(h=>!i.has(h.type)).map(h=>({id:h.id,title:h.title,start:h.start,end:h.end,allDay:h.allDay,color:h.color,extendedProps:{...h.meta,type:h.type}})),g=typeof window<"u"&&window.innerWidth<768;return D.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[D.jsx("div",{className:"flex items-center justify-between",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Ze,{className:"w-6 h-6 text-primary-600"}),D.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Calendar"})]})}),D.jsx("div",{className:"flex flex-wrap items-center gap-2",children:ks.map(h=>D.jsxs("button",{onClick:()=>a(h.key),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all border ${i.has(h.key)?"border-stone-200 text-stone-400 bg-white":"border-transparent text-white"}`,style:i.has(h.key)?void 0:{backgroundColor:h.color},children:[D.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:h.color}}),h.label]},h.key))}),D.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 p-2 sm:p-4 shadow-sm",children:D.jsx(ri,{plugins:[li,Xi,ls,Ms],initialView:g?"listWeek":"dayGridMonth",headerToolbar:g?{left:"prev,next",center:"title",right:"dayGridMonth,listWeek"}:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listWeek"},buttonText:{today:"Today",month:"Month",week:"Week",list:"List"},events:d,datesSet:n,eventClick:o,height:"auto",eventDisplay:"block",dayMaxEvents:g?2:3,nowIndicator:!0,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:"short"}})})]})}export{As as Calendar};
