import{k as l,u as m,a as d,r as o,t as x,j as e,S as u}from"./index-GzcG7CSS.js";import{C as h}from"./circle-alert-DPVkbFxy.js";function p(){const[r]=l(),s=m(),{loginWithToken:c}=d(),[a,t]=o.useState(null);return o.useEffect(()=>{const n=r.get("token"),i=r.get("error");if(i){t(i);return}if(!n){t("No authentication token received.");return}c(n).then(()=>{x.success("Signed in via SSO"),s("/dashboard",{replace:!0})}).catch(()=>{t("Failed to complete SSO login. Please try again.")})},[]),a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:e.jsxs("div",{className:"w-full max-w-md text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-red-100 flex items-center justify-center mx-auto mb-4",children:e.jsx(h,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-stone-900 mb-2",children:"SSO Login Failed"}),e.jsx("p",{className:"text-stone-500 mb-6",children:a}),e.jsx("button",{onClick:()=>s("/login",{replace:!0}),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Back to Login"})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:e.jsxs("div",{className:"w-full max-w-md text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center mx-auto mb-4",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-stone-900 mb-2",children:"Signing you in..."}),e.jsx("p",{className:"text-stone-500 mb-6",children:"Completing your university SSO authentication"}),e.jsx("div",{className:"w-8 h-8 border-3 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto"})]})})}export{p as SsoCallback};
