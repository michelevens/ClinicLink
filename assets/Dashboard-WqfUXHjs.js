import{r as F,a as R,j as e,u as P,a3 as L,a4 as B,a5 as ae,a6 as Y,a7 as ge,g as W,a1 as M,d as ne,C as V,b as K,a8 as X,a9 as le,aa as je,ab as be,f as U,U as D,B as S,ac as z,ad as fe,h as Ne,ae as Z,H as ee,af as ie,ag as ve,ah as ye,A as we,G as J,ai as ke,i as Ae,t as O}from"./index-GzcG7CSS.js";import{u as _e}from"./usePageTitle-CSRQyC0a.js";import{C as m}from"./Card-FSc1waky.js";import{B as k}from"./Badge-9_pL70Ln.js";import{P as $}from"./Skeleton-CErRX1HU.js";import{C as E}from"./circle-check-big-B5eOtT2b.js";import{C as re}from"./circle-alert-DPVkbFxy.js";import{S as Ce}from"./shield-B4OQBYN4.js";import{M as ce}from"./map-pin-B8WKBtoC.js";import{T as G}from"./triangle-alert-DWR7AhnE.js";import{A as oe}from"./arrow-right-CU9vIbfs.js";import{E as de}from"./eye-DPEVXjN5.js";import{A as Se}from"./activity-6s2TP_mm.js";import{S as xe}from"./star-CqpiQmYF.js";import{C as I}from"./chevron-right-D8jrJqqK.js";import{T as De}from"./trending-up-Cyj7Q2GJ.js";function se(s,d=800){const[a,u]=F.useState(0),f=F.useRef(0);return F.useEffect(()=>{if(s===f.current)return;const N=f.current;if(f.current=s,s===0){u(0);return}const v=performance.now();function g(j){const b=j-v,p=Math.min(b/d,1),h=p===1?1:1-Math.pow(2,-10*p);u(Math.round(N+(s-N)*h)),p<1&&requestAnimationFrame(g)}requestAnimationFrame(g)},[s,d]),a}function Re({value:s}){if(typeof s=="number"){const a=se(s);return e.jsx(e.Fragment,{children:a})}const d=String(s).match(/^(\d+)(.*)$/);if(d){const a=se(Number(d[1]));return e.jsxs(e.Fragment,{children:[a,d[2]]})}return e.jsx(e.Fragment,{children:s})}function x({icon:s,label:d,value:a,color:u="primary",spark:f}){const N={primary:"bg-primary-50 text-primary-600",secondary:"bg-secondary-50 text-secondary-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",accent:"bg-accent-50 text-accent-600"},v={primary:"#6366f1",secondary:"#0ea5e9",green:"#22c55e",amber:"#f59e0b",red:"#ef4444",accent:"#f97316"};return e.jsx(m,{hover:!0,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${N[u]||N.primary}`,children:s}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:e.jsx(Re,{value:a})}),e.jsx("p",{className:"text-xs text-stone-500",children:d})]}),f&&f.length>1&&e.jsx(Me,{data:f,color:v[u]||v.primary})]})})}function Me({data:s,color:d}){const a=Math.max(...s),u=Math.min(...s),f=a-u||1,N=60,v=28,g=2,j=s.map((b,p)=>{const h=g+p/(s.length-1)*(N-g*2),r=v-g-(b-u)/f*(v-g*2);return`${h},${r}`}).join(" ");return e.jsx("svg",{width:N,height:v,className:"shrink-0 opacity-70",children:e.jsx("polyline",{points:j,fill:"none",stroke:d,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}function w({title:s,actionLabel:d,onAction:a}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:s}),d&&a&&e.jsxs("button",{onClick:a,className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[d," ",e.jsx(I,{className:"w-4 h-4"})]})]})}function H({items:s}){const d=s.filter(a=>a.count>0);return d.length===0?null:e.jsx(m,{className:"border-2 border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0",children:e.jsx(G,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-amber-800 text-lg",children:"Action Required"}),e.jsx("div",{className:"mt-2 space-y-2",children:d.map((a,u)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-amber-200 text-amber-800 text-xs font-bold flex-shrink-0",children:a.count}),e.jsx("span",{className:"text-sm text-amber-700",children:a.label})]}),e.jsxs(U,{variant:"outline",size:"sm",onClick:a.onClick,className:"flex-shrink-0 border-amber-300 text-amber-800 hover:bg-amber-100",children:[a.buttonLabel," ",e.jsx(oe,{className:"w-3.5 h-3.5 ml-1"})]})]},u))})]})]})})}function te(){const s=P(),{user:d}=R(),{data:a,isLoading:u}=L(),{data:f}=B(),{data:N}=ae(),{data:v}=Y(),{data:g}=ge(),j=f?.data||[],b=N?.data||[],p=v?.data||[],h=g?.credentials||[],r=b.reduce((l,A)=>l+(Number(A.hours_worked)||0),0),y=b.filter(l=>l.status==="approved").reduce((l,A)=>l+(Number(A.hours_worked)||0),0),c=a?.prior_hours||0,n=c+y,t=a?.hours_required||0,o=b.filter(l=>l.status==="pending").length,i=t>0?Math.min(Math.round(n/t*100),100):0,Q=j.filter(l=>l.status==="accepted"),q=h.filter(l=>l.status==="expired"),T=h.filter(l=>l.status==="expiring_soon"),_=q.length>0?"red":T.length>0?"yellow":"green",me=_==="red"?"Action Required":_==="yellow"?"Expiring Soon":"All Current",he=F.useMemo(()=>{if(b.length===0)return;const l=[...b].filter(C=>C.date).sort((C,ue)=>new Date(C.date).getTime()-new Date(ue.date).getTime());if(l.length<2)return;let A=c;return l.map(C=>(A+=Number(C.hours_worked)||0,A))},[b,c]),pe=F.useMemo(()=>{if(j.length===0)return;const l=[...j].filter(A=>A.created_at).sort((A,C)=>new Date(A.created_at).getTime()-new Date(C.created_at).getTime());if(!(l.length<2))return l.map((A,C)=>C+1)},[j]);return u?e.jsx($,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",d?.firstName||"Student","!"]}),e.jsx("p",{className:"text-stone-500",children:"Track your clinical rotation progress and manage your placements."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{icon:e.jsx(W,{className:"w-5 h-5"}),label:"Hours Completed",value:t>0?`${n}/${t}`:"No program",color:"primary",spark:he}),e.jsx(x,{icon:e.jsx(M,{className:"w-5 h-5"}),label:"Applications",value:a?.applications_count||j.length,color:"secondary",spark:pe}),e.jsx(x,{icon:e.jsx(E,{className:"w-5 h-5"}),label:"Active Rotations",value:a?.active_rotations||Q.length,color:"green"}),e.jsx(x,{icon:e.jsx(re,{className:"w-5 h-5"}),label:"Pending Review",value:o,color:"amber"})]}),e.jsx(H,{items:[{label:"credential(s) expired or expiring",count:q.length+T.length,onClick:()=>s("/settings"),buttonLabel:"Update"},{label:"hour log(s) pending review",count:o,onClick:()=>s("/hours"),buttonLabel:"View"}]}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:"Clinical Hours Progress"}),e.jsx("span",{className:"text-sm font-medium text-primary-600",children:t>0?`${i}%`:"N/A"})]}),e.jsx("div",{className:"w-full h-4 bg-stone-100 rounded-full overflow-hidden",children:t>0?e.jsxs("div",{className:"h-full flex",children:[c>0&&e.jsx("div",{className:"h-full bg-stone-400 transition-all duration-500",style:{width:`${Math.min(c/t*100,100)}%`}}),e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-500",style:{width:`${Math.min(y/t*100,100-c/t*100)}%`}})]}):e.jsx("div",{className:"h-full bg-stone-200 rounded-full"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-2 text-xs text-stone-500 gap-1",children:[c>0&&e.jsxs("span",{children:[c," prior"]}),e.jsxs("span",{children:[y," approved",c>0?" on platform":""]}),e.jsx("span",{children:r-y>0?`${r-y} pending`:""}),e.jsx("span",{children:t>0?`${Math.max(t-n,0)} remaining`:"No program assigned"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(w,{title:"Credential Compliance",actionLabel:"Manage",onAction:()=>s("/settings")}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl ${_==="red"?"bg-red-50 border border-red-200":_==="yellow"?"bg-amber-50 border border-amber-200":"bg-green-50 border border-green-200"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${_==="red"?"bg-red-100 text-red-600":_==="yellow"?"bg-amber-100 text-amber-600":"bg-green-100 text-green-600"}`,children:e.jsx(Ce,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${_==="red"?"text-red-800":_==="yellow"?"text-amber-800":"text-green-800"}`,children:me}),e.jsx("p",{className:`text-sm ${_==="red"?"text-red-600":_==="yellow"?"text-amber-600":"text-green-600"}`,children:q.length>0?`${q.length} credential(s) expired`:T.length>0?`${T.length} credential(s) expiring soon`:`${h.length} credential(s) on file`})]})]}),(q.length>0||T.length>0)&&e.jsx("div",{className:"mt-3 space-y-2",children:[...q,...T].slice(0,3).map(l=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-stone-50 rounded-lg",children:[e.jsx("span",{className:"text-stone-700",children:l.name}),e.jsx(k,{variant:l.status==="expired"?"danger":"warning",children:l.status==="expired"?"Expired":"Expiring"})]},l.id))})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/rotations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(ne,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Search Rotations"})]}),e.jsxs("button",{onClick:()=>s("/hours"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(W,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Log Hours"})]}),e.jsxs("button",{onClick:()=>s("/applications"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(M,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"My Applications"})]}),e.jsxs("button",{onClick:()=>s("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(V,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Evaluations"})]})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(w,{title:"Active Rotations",actionLabel:"All Applications",onAction:()=>s("/applications")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[Q.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No active rotations. Search for rotations to get started!"}),Q.slice(0,3).map(l=>e.jsxs("div",{className:"p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:l.slot?.title||"Rotation"}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"})," ",l.slot?.site?.name]})]}),e.jsx(k,{variant:"success",children:"Active"})]}),l.slot&&e.jsxs("div",{className:"flex items-center gap-3 text-xs text-stone-400 mt-1",children:[e.jsx("span",{children:l.slot.specialty}),e.jsxs("span",{children:[new Date(l.slot.start_date).toLocaleDateString()," - ",new Date(l.slot.end_date).toLocaleDateString()]})]})]},l.id))]})]}),e.jsxs(m,{children:[e.jsx(w,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>s("/evaluations")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[p.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No evaluations yet. They will appear here once your preceptor submits one."}),p.slice(0,3).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[l.type==="mid_rotation"?"Mid-Rotation":l.type==="final"?"Final":"Feedback"," Evaluation"]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[l.slot?.title||"Rotation"," ",l.preceptor?`• ${l.preceptor.first_name} ${l.preceptor.last_name}`:""]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-primary-600",children:l.overall_score?`${l.overall_score}/5`:"—"}),e.jsx(k,{variant:l.is_submitted?"success":"warning",size:"sm",children:l.is_submitted?"Complete":"Pending"})]})]},l.id))]})]})]})]})}function Pe(){const s=P(),{user:d}=R(),{data:a,isLoading:u}=L(),{data:f}=B(),{data:N}=K(),{data:v}=X(),{data:g}=le({status:"pending"}),j=g?.join_requests||[],b=f?.data||[],p=b.filter(n=>n.status==="pending"),h=b.filter(n=>n.status==="accepted"),r=N?.data||[],y=r.filter(n=>n.status==="open"),c=v?.sites||[];return u?e.jsx($,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",d?.firstName||"Manager","!"]}),e.jsx("p",{className:"text-stone-500",children:"Manage your clinical sites, rotation slots, and student placements."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(x,{icon:e.jsx(S,{className:"w-5 h-5"}),label:"My Sites",value:a?.total_sites||c.length,color:"primary"}),e.jsx(x,{icon:e.jsx(z,{className:"w-5 h-5"}),label:"Open Slots",value:a?.open_slots||y.length,color:"secondary"}),e.jsx(x,{icon:e.jsx(M,{className:"w-5 h-5"}),label:"Pending Apps",value:a?.pending_applications||p.length,color:"amber"}),e.jsx(x,{icon:e.jsx(D,{className:"w-5 h-5"}),label:"Active Students",value:a?.active_students||h.length,color:"green"}),e.jsx(x,{icon:e.jsx(xe,{className:"w-5 h-5"}),label:"Avg Rating",value:c.length>0?(c.reduce((n,t)=>n+(t.rating||0),0)/c.length).toFixed(1):"—",color:"accent"})]}),e.jsx(H,{items:[{label:"application(s) to review",count:p.length,onClick:()=>s("/site-applications"),buttonLabel:"Review"},{label:"join request(s) to approve",count:j.length,onClick:()=>s("/preceptors"),buttonLabel:"Review"}]}),r.length>0&&e.jsxs(m,{children:[e.jsx(w,{title:"Slot Occupancy",actionLabel:"Manage Slots",onAction:()=>s("/slots")}),e.jsx("div",{className:"mt-4 space-y-3",children:r.slice(0,5).map(n=>{const t=n.capacity>0?Math.round(n.filled/n.capacity*100):0;return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:n.title}),e.jsxs("span",{className:"text-xs text-stone-500 ml-2",children:[n.filled,"/",n.capacity]})]}),e.jsx("div",{className:"w-full h-2 bg-stone-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${t>=100?"bg-red-400":t>=75?"bg-amber-400":"bg-green-400"}`,style:{width:`${Math.min(t,100)}%`}})})]}),e.jsx(k,{variant:n.status==="open"?"success":n.status==="filled"?"warning":"default",children:n.status})]},n.id)})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/slots"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(ie,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Create Slot"})]}),e.jsxs("button",{onClick:()=>s("/site-applications"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors relative",children:[e.jsx(M,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Review Apps"}),p.length>0&&e.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:p.length})]}),e.jsxs("button",{onClick:()=>s("/site"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(S,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Manage Sites"})]}),e.jsxs("button",{onClick:()=>s("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(Z,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Settings"})]})]})]}),e.jsxs(m,{children:[e.jsx(w,{title:"Pending Applications",actionLabel:"View All",onAction:()=>s("/site-applications")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[p.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No pending applications at this time."}),p.slice(0,4).map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[n.student?.first_name," ",n.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[n.slot?.title," • ",n.slot?.specialty]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(k,{variant:"warning",children:"Pending"})})]},n.id))]})]})]}),h.length>0&&e.jsxs(m,{children:[e.jsx(w,{title:"Active Students"}),e.jsx("div",{className:"mt-4 space-y-3",children:h.slice(0,5).map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-sm font-bold",children:(n.student?.first_name?.[0]||"")+(n.student?.last_name?.[0]||"")}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[n.student?.first_name," ",n.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[n.slot?.title," • ",n.slot?.specialty]})]})]}),e.jsx(k,{variant:"success",children:"Active"})]},n.id))})]})]})}function Le(){const s=P(),{user:d}=R(),{data:a,isLoading:u}=L(),{data:f}=ae(),{data:N}=Y(),{data:v}=X(),{data:g}=ve(),j=ye(),b=f?.data||[],p=N?.data||[],h=b.filter(t=>t.status==="pending"),r=p.filter(t=>!t.is_submitted),y=v?.sites||[],c=g?.invites||[],n=async(t,o)=>{try{await j.mutateAsync(t),O.success(`You have joined ${o}!`)}catch{O.error("Failed to accept invite")}};return u?e.jsx($,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",d?.firstName||"Preceptor","!"]}),e.jsx("p",{className:"text-stone-500",children:"Manage your students, review hours, and complete evaluations."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{icon:e.jsx(D,{className:"w-5 h-5"}),label:"Current Students",value:a?.active_students||0,color:"primary"}),e.jsx(x,{icon:e.jsx(W,{className:"w-5 h-5"}),label:"Hours to Review",value:a?.pending_hour_reviews||h.length,color:"amber"}),e.jsx(x,{icon:e.jsx(V,{className:"w-5 h-5"}),label:"Evaluations Due",value:a?.pending_evaluations||r.length,color:"secondary"}),e.jsx(x,{icon:e.jsx(we,{className:"w-5 h-5"}),label:"Total Hours Supervised",value:b.filter(t=>t.status==="approved").reduce((t,o)=>t+(Number(o.hours_worked)||0),0),color:"green"})]}),e.jsx(H,{items:[{label:"hour log(s) to review",count:h.length,onClick:()=>s("/hours"),buttonLabel:"Review"},{label:"evaluation(s) to complete",count:r.length,onClick:()=>s("/evaluations"),buttonLabel:"Complete"},{label:"site invite(s) pending",count:c.length,onClick:()=>{},buttonLabel:"View Below"}]}),c.length>0&&e.jsx("div",{className:"space-y-3",children:c.map(t=>e.jsx(m,{className:"border-2 border-violet-200 bg-gradient-to-r from-violet-50 to-purple-50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0",children:e.jsx(S,{className:"w-6 h-6 text-violet-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold text-violet-600 uppercase tracking-wider mb-0.5",children:"Site Invitation"}),e.jsx("p",{className:"font-semibold text-stone-900 text-lg",children:t.site.name}),e.jsxs("p",{className:"text-sm text-stone-500",children:[t.site.city,", ",t.site.state,t.invited_by&&e.jsxs("span",{children:[" · Invited by ",t.invited_by]})]}),t.site.specialties?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:t.site.specialties.slice(0,4).map(o=>e.jsx(k,{variant:"secondary",children:o},o))})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(U,{onClick:()=>n(t.token,t.site.name),isLoading:j.isPending,children:[e.jsx(E,{className:"w-4 h-4"})," Accept & Join"]})})]})},t.id))}),y.length>0&&e.jsxs(m,{children:[e.jsx(w,{title:"My Site Affiliation",actionLabel:"View Site",onAction:()=>s("/site")}),e.jsx("div",{className:"mt-4 space-y-3",children:y.map(t=>{const o=t.slots?.filter(i=>i.status==="open")||[];return e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-stone-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center flex-shrink-0",children:e.jsx(S,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-stone-900",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-stone-500 mt-0.5",children:[e.jsx(ce,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[t.city,", ",t.state]})]}),t.specialties?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:t.specialties.slice(0,4).map(i=>e.jsx(k,{variant:"secondary",children:i},i))})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"text-lg font-bold text-primary-600",children:o.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Active Slots"})]})]},t.id)})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/hours"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors relative",children:[e.jsx(W,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Review Hours"}),h.length>0&&e.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:h.length})]}),e.jsxs("button",{onClick:()=>s("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors relative",children:[e.jsx(V,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Evaluations"}),r.length>0&&e.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:r.length})]}),e.jsxs("button",{onClick:()=>s("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(D,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),e.jsxs("button",{onClick:()=>s("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[e.jsx(Z,{className:"w-6 h-6 text-stone-600"}),e.jsx("span",{className:"text-xs font-medium text-stone-700",children:"Settings"})]})]})]}),e.jsxs(m,{children:[e.jsx(w,{title:"Pending Hour Reviews",actionLabel:"Review All",onAction:()=>s("/hours")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[h.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"All caught up! No hours pending review."}),h.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[t.hours_worked,"h — ",t.category.replace("_"," ")]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[new Date(t.date).toLocaleDateString()," • ",t.slot?.title]})]}),e.jsx(k,{variant:"warning",children:"Pending"})]},t.id))]})]})]}),p.length>0&&e.jsxs(m,{children:[e.jsx(w,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>s("/evaluations")}),e.jsx("div",{className:"mt-4 space-y-3",children:p.slice(0,4).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[t.student?.first_name," ",t.student?.last_name," — ",t.type==="mid_rotation"?"Mid-Rotation":t.type==="final"?"Final":"Feedback"]}),e.jsx("p",{className:"text-xs text-stone-500",children:t.slot?.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.overall_score&&e.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[t.overall_score,"/5"]}),e.jsx(k,{variant:t.is_submitted?"success":"warning",children:t.is_submitted?"Submitted":"Draft"})]})]},t.id))})]})]})}function $e(){const s=P(),{user:d}=R(),{data:a,isLoading:u}=L(),{data:f}=B(),{data:N}=K(),{data:v}=ke(),g=f?.data||[],j=N?.data||[],p=(v?.ce_certificates||[]).filter(o=>o.status==="pending"),h=g.filter(o=>o.status==="pending"),r=g.filter(o=>o.status==="accepted"),y=a?.total_students||0,c=a?.active_placements||r.length,n=Math.max(y-c,0),t=y>0?Math.round(c/y*100):0;return u?e.jsx($,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",d?.firstName||"Coordinator","!"]}),e.jsx("p",{className:"text-stone-500",children:"Monitor student placements, program compliance, and site partnerships."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(x,{icon:e.jsx(J,{className:"w-5 h-5"}),label:"Total Students",value:y,color:"primary"}),e.jsx(x,{icon:e.jsx(E,{className:"w-5 h-5"}),label:"Active Placements",value:c,color:"green"}),e.jsx(x,{icon:e.jsx(re,{className:"w-5 h-5"}),label:"Unplaced",value:n,color:n>0?"amber":"green"}),e.jsx(x,{icon:e.jsx(M,{className:"w-5 h-5"}),label:"Pending Apps",value:a?.pending_applications||h.length,color:"secondary"}),e.jsx(x,{icon:e.jsx(z,{className:"w-5 h-5"}),label:"Available Slots",value:a?.available_slots||j.filter(o=>o.status==="open").length,color:"accent"})]}),e.jsx(H,{items:[{label:"unplaced student(s)",count:n,onClick:()=>s("/placements"),buttonLabel:"Place"},{label:"CE certificate(s) to review",count:p.length,onClick:()=>s("/ce-credits"),buttonLabel:"Review"}]}),e.jsxs(m,{children:[e.jsx(w,{title:"Placement Pipeline"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-stone-600",children:"Placement Rate"}),e.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[t,"%"]})]}),e.jsx("div",{className:"w-full h-4 bg-stone-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-green-500 rounded-full transition-all duration-500",style:{width:`${t}%`}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-green-700",children:c}),e.jsx("p",{className:"text-xs text-green-600",children:"Placed"})]}),e.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-amber-700",children:h.length}),e.jsx("p",{className:"text-xs text-amber-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-3 bg-stone-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-stone-700",children:n}),e.jsx("p",{className:"text-xs text-stone-600",children:"Unplaced"})]})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(D,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),e.jsxs("button",{onClick:()=>s("/placements"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(J,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Placements"})]}),e.jsxs("button",{onClick:()=>s("/programs"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(Ae,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Programs"})]}),e.jsxs("button",{onClick:()=>s("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(S,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Sites Directory"})]})]})]}),e.jsxs(m,{children:[e.jsx(w,{title:"Recent Applications",actionLabel:"View All",onAction:()=>s("/placements")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[g.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No applications to review."}),g.slice(0,5).map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[o.student?.first_name," ",o.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[o.slot?.title," • ",o.slot?.site?.name]})]}),e.jsx(k,{variant:o.status==="accepted"?"success":o.status==="pending"?"warning":o.status==="declined"?"danger":"default",children:o.status})]},o.id))]})]})]})]})}function qe(){const s=P(),{user:d}=R(),{data:a,isLoading:u}=L(),{data:f}=B(),{data:N}=Y(),v=f?.data||[],g=N?.data||[],j=v.filter(r=>r.status==="accepted"),b=a?.total_students||0,p=a?.active_placements||j.length,h=Math.max(b-p,0);return u?e.jsx($,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",d?.firstName||"Professor","!"]}),e.jsx("p",{className:"text-stone-500",children:"Monitor your students' clinical progress, evaluations, and placements."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{icon:e.jsx(J,{className:"w-5 h-5"}),label:"Total Students",value:a?.total_students||0,color:"primary"}),e.jsx(x,{icon:e.jsx(E,{className:"w-5 h-5"}),label:"Active Placements",value:a?.active_placements||j.length,color:"green"}),e.jsx(x,{icon:e.jsx(V,{className:"w-5 h-5"}),label:"Evaluations",value:g.length,color:"secondary"}),e.jsx(x,{icon:e.jsx(De,{className:"w-5 h-5"}),label:"Available Slots",value:a?.available_slots||0,color:"accent"})]}),e.jsx(H,{items:[{label:"unplaced student(s)",count:h,onClick:()=>s("/students"),buttonLabel:"View"}]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(D,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),e.jsxs("button",{onClick:()=>s("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(V,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Evaluations"})]}),e.jsxs("button",{onClick:()=>s("/placements"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(de,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Placements"})]}),e.jsxs("button",{onClick:()=>s("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(S,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Sites Directory"})]})]})]}),e.jsxs(m,{children:[e.jsx(w,{title:"Student Placements",actionLabel:"View All",onAction:()=>s("/students")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[j.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No active student placements to monitor."}),j.slice(0,5).map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-sm font-bold",children:(r.student?.first_name?.[0]||"")+(r.student?.last_name?.[0]||"")}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[r.student?.first_name," ",r.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[r.slot?.title," • ",r.slot?.site?.name]})]})]}),e.jsx(k,{variant:"success",children:"Active"})]},r.id))]})]})]}),g.length>0&&e.jsxs(m,{children:[e.jsx(w,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>s("/evaluations")}),e.jsx("div",{className:"mt-4 space-y-3",children:g.slice(0,4).map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[r.student?.first_name," ",r.student?.last_name," — ",r.type==="mid_rotation"?"Mid-Rotation":r.type==="final"?"Final":"Feedback"]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[r.slot?.title," • by ",r.preceptor?.first_name," ",r.preceptor?.last_name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.overall_score&&e.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[r.overall_score,"/5"]}),e.jsx(k,{variant:r.is_submitted?"success":"warning",children:r.is_submitted?"Complete":"Pending"})]})]},r.id))})]})]})}function Te(){const s=P(),{user:d}=R(),{data:a,isLoading:u}=L(),{data:f}=K(),{data:N}=B(),{data:v}=X(),{data:g}=le({status:"pending"}),{data:j}=je(),b=be(),p=f?.data||[],h=N?.data||[],r=v?.sites||[],y=g?.join_requests||[],c=j?.data||[],n=p.filter(i=>i.status==="open").length,t=h.filter(i=>i.status==="pending").length,o=async i=>{try{await b.mutateAsync({id:i,data:{is_active:!0}}),O.success("User approved and activation email sent")}catch{O.error("Failed to approve user")}};return u?e.jsx($,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome, ",d?.firstName||"Admin","!"]}),e.jsx("p",{className:"text-stone-500",children:"Platform overview — manage users, sites, and monitor system health."})]}),c.length>0&&e.jsxs("div",{className:"border-2 border-red-300 bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center flex-shrink-0",children:e.jsx(G,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-red-800 text-lg",children:[c.length," User",c.length!==1?"s":""," Awaiting Approval"]}),e.jsx("p",{className:"text-sm text-red-600",children:"These users registered and need your approval to access the platform."})]}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>s("/admin/users"),className:"border-red-300 text-red-700 hover:bg-red-100 flex-shrink-0",children:["View All ",e.jsx(oe,{className:"w-3.5 h-3.5 ml-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[c.slice(0,5).map(i=>e.jsxs("div",{className:"flex items-center gap-3 bg-white/80 rounded-xl px-4 py-3 border border-red-200/50",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-red-400 to-orange-400 flex items-center justify-center text-white text-sm font-bold flex-shrink-0",children:[i.first_name?.[0],i.last_name?.[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-semibold text-stone-900 truncate",children:[i.first_name," ",i.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500 truncate",children:[i.email," · ",e.jsx("span",{className:"capitalize",children:i.role?.replace("_"," ")})," · ",new Date(i.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!i.email_verified&&e.jsx("span",{className:"text-[10px] font-medium text-amber-700 bg-amber-100 px-2 py-0.5 rounded-full",children:"Unverified"}),e.jsxs(U,{size:"sm",onClick:()=>o(i.id),disabled:b.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(E,{className:"w-3.5 h-3.5"})," Approve"]}),e.jsxs(U,{size:"sm",variant:"outline",onClick:()=>s(`/admin/users/${i.id}`),className:"border-stone-300",children:[e.jsx(de,{className:"w-3.5 h-3.5"})," Review"]})]})]},i.id)),c.length>5&&e.jsxs("p",{className:"text-center text-sm text-red-600 font-medium pt-1",children:["+ ",c.length-5," more pending"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{icon:e.jsx(D,{className:"w-5 h-5"}),label:"Total Users",value:a?.total_users||0,color:"primary"}),e.jsx(x,{icon:e.jsx(G,{className:"w-5 h-5"}),label:"Pending Approvals",value:a?.pending_approvals||0,color:"amber"}),e.jsx(x,{icon:e.jsx(S,{className:"w-5 h-5"}),label:"Active Sites",value:a?.total_sites||r.length,color:"secondary"}),e.jsx(x,{icon:e.jsx(z,{className:"w-5 h-5"}),label:"Total Slots",value:a?.total_slots||p.length,color:"green"})]}),e.jsx(H,{items:[{label:"user(s) awaiting approval",count:c.length,onClick:()=>s("/admin/users"),buttonLabel:"Review"},{label:"application(s) pending review",count:t,onClick:()=>s("/site-applications"),buttonLabel:"Review"},{label:"join request(s) pending",count:y.length,onClick:()=>s("/preceptors"),buttonLabel:"Review"}]}),e.jsxs(m,{children:[e.jsx(w,{title:"Platform Activity"}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-primary-50 rounded-xl",children:[e.jsx(Se,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:a?.recent_applications||h.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Applications"})]}),e.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-xl",children:[e.jsx(M,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:t}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending Review"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[e.jsx(z,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:n}),e.jsx("p",{className:"text-xs text-stone-500",children:"Open Slots"})]}),e.jsxs("div",{className:"text-center p-4 bg-secondary-50 rounded-xl",children:[e.jsx(fe,{className:"w-6 h-6 text-secondary-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:h.filter(i=>i.status==="accepted").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Active Placements"})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/admin/users"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(D,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Manage Users"})]}),e.jsxs("button",{onClick:()=>s("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(S,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Sites Directory"})]}),e.jsxs("button",{onClick:()=>s("/slots"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(Ne,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"All Slots"})]}),e.jsxs("button",{onClick:()=>s("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[e.jsx(Z,{className:"w-6 h-6 text-stone-600"}),e.jsx("span",{className:"text-xs font-medium text-stone-700",children:"Platform Settings"})]})]})]}),e.jsxs(m,{children:[e.jsx(w,{title:"System Health"}),e.jsx("div",{className:"mt-4 space-y-3",children:[{label:"API Status",value:"Operational",color:"green"},{label:"Database",value:"Connected",color:"green"},{label:"Auth Service",value:"Active",color:"green"},{label:"Email Service",value:"Active",color:"green"}].map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsx("span",{className:"text-sm text-stone-700",children:i.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i.color==="green"?"bg-green-500":i.color==="amber"?"bg-amber-500":"bg-red-500"}`}),e.jsx("span",{className:`text-sm font-medium ${i.color==="green"?"text-green-700":i.color==="amber"?"text-amber-700":"text-red-700"}`,children:i.value})]})]},i.label))})]})]}),r.length>0&&e.jsxs(m,{children:[e.jsx(w,{title:"Sites Overview",actionLabel:"View All",onAction:()=>s("/sites")}),e.jsx("div",{className:"mt-4 space-y-3",children:r.slice(0,4).map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-600 flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:i.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[i.city,", ",i.state," • ",i.specialties?.slice(0,2).join(", ")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i.is_verified&&e.jsx(k,{variant:"success",size:"sm",children:"Verified"}),i.rating>0&&e.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3 fill-current"}),i.rating]})]})]},i.id))})]})]})}function Ee(){const s=P(),{user:d}=R(),{data:a,isLoading:u}=L();return u?e.jsx($,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",d?.firstName||"Practitioner","!"]}),e.jsx("p",{className:"text-stone-500",children:"Manage your collaborative practice agreements and find supervising physicians."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(x,{icon:e.jsx(M,{className:"w-5 h-5"}),label:"Open Requests",value:a?.open_requests||0,color:"primary"}),e.jsx(x,{icon:e.jsx(ee,{className:"w-5 h-5"}),label:"Matched Requests",value:a?.matched_requests||0,color:"green"}),e.jsx(x,{icon:e.jsx(D,{className:"w-5 h-5"}),label:"Total Matches",value:a?.total_matches||0,color:"secondary"}),e.jsx(x,{icon:e.jsx(E,{className:"w-5 h-5"}),label:"Accepted Matches",value:a?.accepted_matches||0,color:"accent"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(m,{hover:!0,className:"cursor-pointer",onClick:()=>s("/collaborate/requests"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-stone-900",children:"New Request"}),e.jsx("p",{className:"text-xs text-stone-500",children:"Find a supervising physician"})]}),e.jsx(I,{className:"w-4 h-4 text-stone-400"})]})}),e.jsx(m,{hover:!0,className:"cursor-pointer",onClick:()=>s("/collaborate/directory"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5 text-secondary-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-stone-900",children:"Physician Directory"}),e.jsx("p",{className:"text-xs text-stone-500",children:"Browse available physicians"})]}),e.jsx(I,{className:"w-4 h-4 text-stone-400"})]})}),e.jsx(m,{hover:!0,className:"cursor-pointer",onClick:()=>s("/collaborate/matches"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center",children:e.jsx(ee,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-stone-900",children:"My Matches"}),e.jsx("p",{className:"text-xs text-stone-500",children:"Review collaboration matches"})]}),e.jsx(I,{className:"w-4 h-4 text-stone-400"})]})})]})]})}function es(){_e("Dashboard");const{user:s}=R();if(!s)return null;switch(s.role){case"student":return e.jsx(te,{});case"site_manager":return e.jsx(Pe,{});case"coordinator":return e.jsx($e,{});case"professor":return e.jsx(qe,{});case"preceptor":return e.jsx(Le,{});case"practitioner":return e.jsx(Ee,{});case"admin":return e.jsx(Te,{});default:return e.jsx(te,{})}}export{es as Dashboard};
