(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}})();function vb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var bh={exports:{}},oo={};var wv;function V2(){if(wv)return oo;wv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(l,r,c){var u=null;if(c!==void 0&&(u=""+c),r.key!==void 0&&(u=""+r.key),"key"in r){c={};for(var f in r)f!=="key"&&(c[f]=r[f])}else c=r;return r=c.ref,{$$typeof:s,type:l,key:u,ref:r!==void 0?r:null,props:c}}return oo.Fragment=t,oo.jsx=a,oo.jsxs=a,oo}var Sv;function Q2(){return Sv||(Sv=1,bh.exports=V2()),bh.exports}var e=Q2(),jh={exports:{}},Ie={};var _v;function G2(){if(_v)return Ie;_v=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function N(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function C(H,$,te){this.props=H,this.context=$,this.refs=b,this.updater=te||j}C.prototype.isReactComponent={},C.prototype.setState=function(H,$){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,$,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=C.prototype;function E(H,$,te){this.props=H,this.context=$,this.refs=b,this.updater=te||j}var M=E.prototype=new k;M.constructor=E,S(M,C.prototype),M.isPureReactComponent=!0;var z=Array.isArray;function Q(){}var R={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function ve(H,$,te){var B=te.ref;return{$$typeof:s,type:H,key:$,ref:B!==void 0?B:null,props:te}}function ye(H,$){return ve(H.type,$,H.props)}function oe(H){return typeof H=="object"&&H!==null&&H.$$typeof===s}function F(H){var $={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(te){return $[te]})}var xe=/\/+/g;function X(H,$){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):$.toString(36)}function be(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Q,Q):(H.status="pending",H.then(function($){H.status==="pending"&&(H.status="fulfilled",H.value=$)},function($){H.status==="pending"&&(H.status="rejected",H.reason=$)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function A(H,$,te,B,de){var ke=typeof H;(ke==="undefined"||ke==="boolean")&&(H=null);var Re=!1;if(H===null)Re=!0;else switch(ke){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(H.$$typeof){case s:case t:Re=!0;break;case m:return Re=H._init,A(Re(H._payload),$,te,B,de)}}if(Re)return de=de(H),Re=B===""?"."+X(H,0):B,z(de)?(te="",Re!=null&&(te=Re.replace(xe,"$&/")+"/"),A(de,$,te,"",function(At){return At})):de!=null&&(oe(de)&&(de=ye(de,te+(de.key==null||H&&H.key===de.key?"":(""+de.key).replace(xe,"$&/")+"/")+Re)),$.push(de)),1;Re=0;var ze=B===""?".":B+":";if(z(H))for(var Ye=0;Ye<H.length;Ye++)B=H[Ye],ke=ze+X(B,Ye),Re+=A(B,$,te,ke,de);else if(Ye=N(H),typeof Ye=="function")for(H=Ye.call(H),Ye=0;!(B=H.next()).done;)B=B.value,ke=ze+X(B,Ye++),Re+=A(B,$,te,ke,de);else if(ke==="object"){if(typeof H.then=="function")return A(be(H),$,te,B,de);throw $=String(H),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Re}function T(H,$,te){if(H==null)return H;var B=[],de=0;return A(H,B,"","",function(ke){return $.call(te,ke,de++)}),B}function U(H){if(H._status===-1){var $=H._result;$=$(),$.then(function(te){(H._status===0||H._status===-1)&&(H._status=1,H._result=te)},function(te){(H._status===0||H._status===-1)&&(H._status=2,H._result=te)}),H._status===-1&&(H._status=0,H._result=$)}if(H._status===1)return H._result.default;throw H._result}var me=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},je={map:T,forEach:function(H,$,te){T(H,function(){$.apply(this,arguments)},te)},count:function(H){var $=0;return T(H,function(){$++}),$},toArray:function(H){return T(H,function($){return $})||[]},only:function(H){if(!oe(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ie.Activity=g,Ie.Children=je,Ie.Component=C,Ie.Fragment=a,Ie.Profiler=r,Ie.PureComponent=E,Ie.StrictMode=l,Ie.Suspense=h,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},Ie.cache=function(H){return function(){return H.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(H,$,te){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var B=S({},H.props),de=H.key;if($!=null)for(ke in $.key!==void 0&&(de=""+$.key),$)!q.call($,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&$.ref===void 0||(B[ke]=$[ke]);var ke=arguments.length-2;if(ke===1)B.children=te;else if(1<ke){for(var Re=Array(ke),ze=0;ze<ke;ze++)Re[ze]=arguments[ze+2];B.children=Re}return ve(H.type,de,B)},Ie.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:c,_context:H},H},Ie.createElement=function(H,$,te){var B,de={},ke=null;if($!=null)for(B in $.key!==void 0&&(ke=""+$.key),$)q.call($,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(de[B]=$[B]);var Re=arguments.length-2;if(Re===1)de.children=te;else if(1<Re){for(var ze=Array(Re),Ye=0;Ye<Re;Ye++)ze[Ye]=arguments[Ye+2];de.children=ze}if(H&&H.defaultProps)for(B in Re=H.defaultProps,Re)de[B]===void 0&&(de[B]=Re[B]);return ve(H,ke,de)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(H){return{$$typeof:f,render:H}},Ie.isValidElement=oe,Ie.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:U}},Ie.memo=function(H,$){return{$$typeof:x,type:H,compare:$===void 0?null:$}},Ie.startTransition=function(H){var $=R.T,te={};R.T=te;try{var B=H(),de=R.S;de!==null&&de(te,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Q,me)}catch(ke){me(ke)}finally{$!==null&&te.types!==null&&($.types=te.types),R.T=$}},Ie.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ie.use=function(H){return R.H.use(H)},Ie.useActionState=function(H,$,te){return R.H.useActionState(H,$,te)},Ie.useCallback=function(H,$){return R.H.useCallback(H,$)},Ie.useContext=function(H){return R.H.useContext(H)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(H,$){return R.H.useDeferredValue(H,$)},Ie.useEffect=function(H,$){return R.H.useEffect(H,$)},Ie.useEffectEvent=function(H){return R.H.useEffectEvent(H)},Ie.useId=function(){return R.H.useId()},Ie.useImperativeHandle=function(H,$,te){return R.H.useImperativeHandle(H,$,te)},Ie.useInsertionEffect=function(H,$){return R.H.useInsertionEffect(H,$)},Ie.useLayoutEffect=function(H,$){return R.H.useLayoutEffect(H,$)},Ie.useMemo=function(H,$){return R.H.useMemo(H,$)},Ie.useOptimistic=function(H,$){return R.H.useOptimistic(H,$)},Ie.useReducer=function(H,$,te){return R.H.useReducer(H,$,te)},Ie.useRef=function(H){return R.H.useRef(H)},Ie.useState=function(H){return R.H.useState(H)},Ie.useSyncExternalStore=function(H,$,te){return R.H.useSyncExternalStore(H,$,te)},Ie.useTransition=function(){return R.H.useTransition()},Ie.version="19.2.4",Ie}var Cv;function Cf(){return Cv||(Cv=1,jh.exports=G2()),jh.exports}var _=Cf();const pe=vb(_);var Nh={exports:{}},co={},wh={exports:{}},Sh={};var Ev;function Y2(){return Ev||(Ev=1,(function(s){function t(A,T){var U=A.length;A.push(T);e:for(;0<U;){var me=U-1>>>1,je=A[me];if(0<r(je,T))A[me]=T,A[U]=je,U=me;else break e}}function a(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var T=A[0],U=A.pop();if(U!==T){A[0]=U;e:for(var me=0,je=A.length,H=je>>>1;me<H;){var $=2*(me+1)-1,te=A[$],B=$+1,de=A[B];if(0>r(te,U))B<je&&0>r(de,te)?(A[me]=de,A[B]=U,me=B):(A[me]=te,A[$]=U,me=$);else if(B<je&&0>r(de,U))A[me]=de,A[B]=U,me=B;else break e}}return T}function r(A,T){var U=A.sortIndex-T.sortIndex;return U!==0?U:A.id-T.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();s.unstable_now=function(){return u.now()-f}}var h=[],x=[],m=1,g=null,y=3,N=!1,j=!1,S=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function M(A){for(var T=a(x);T!==null;){if(T.callback===null)l(x);else if(T.startTime<=A)l(x),T.sortIndex=T.expirationTime,t(h,T);else break;T=a(x)}}function z(A){if(S=!1,M(A),!j)if(a(h)!==null)j=!0,Q||(Q=!0,F());else{var T=a(x);T!==null&&be(z,T.startTime-A)}}var Q=!1,R=-1,q=5,ve=-1;function ye(){return b?!0:!(s.unstable_now()-ve<q)}function oe(){if(b=!1,Q){var A=s.unstable_now();ve=A;var T=!0;try{e:{j=!1,S&&(S=!1,k(R),R=-1),N=!0;var U=y;try{t:{for(M(A),g=a(h);g!==null&&!(g.expirationTime>A&&ye());){var me=g.callback;if(typeof me=="function"){g.callback=null,y=g.priorityLevel;var je=me(g.expirationTime<=A);if(A=s.unstable_now(),typeof je=="function"){g.callback=je,M(A),T=!0;break t}g===a(h)&&l(h),M(A)}else l(h);g=a(h)}if(g!==null)T=!0;else{var H=a(x);H!==null&&be(z,H.startTime-A),T=!1}}break e}finally{g=null,y=U,N=!1}T=void 0}}finally{T?F():Q=!1}}}var F;if(typeof E=="function")F=function(){E(oe)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,X=xe.port2;xe.port1.onmessage=oe,F=function(){X.postMessage(null)}}else F=function(){C(oe,0)};function be(A,T){R=C(function(){A(s.unstable_now())},T)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(A){switch(y){case 1:case 2:case 3:var T=3;break;default:T=y}var U=y;y=T;try{return A()}finally{y=U}},s.unstable_requestPaint=function(){b=!0},s.unstable_runWithPriority=function(A,T){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=y;y=A;try{return T()}finally{y=U}},s.unstable_scheduleCallback=function(A,T,U){var me=s.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?me+U:me):U=me,A){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=U+je,A={id:m++,callback:T,priorityLevel:A,startTime:U,expirationTime:je,sortIndex:-1},U>me?(A.sortIndex=U,t(x,A),a(h)===null&&A===a(x)&&(S?(k(R),R=-1):S=!0,be(z,U-me))):(A.sortIndex=je,t(h,A),j||N||(j=!0,Q||(Q=!0,F()))),A},s.unstable_shouldYield=ye,s.unstable_wrapCallback=function(A){var T=y;return function(){var U=y;y=T;try{return A.apply(this,arguments)}finally{y=U}}}})(Sh)),Sh}var Av;function W2(){return Av||(Av=1,wh.exports=Y2()),wh.exports}var _h={exports:{}},_s={};var kv;function K2(){if(kv)return _s;kv=1;var s=Cf();function t(h){var x="https://react.dev/errors/"+h;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)x+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(h,x,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:h,containerInfo:x,implementation:m}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,x){if(h==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return _s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,_s.createPortal=function(h,x){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return c(h,x,null,m)},_s.flushSync=function(h){var x=u.T,m=l.p;try{if(u.T=null,l.p=2,h)return h()}finally{u.T=x,l.p=m,l.d.f()}},_s.preconnect=function(h,x){typeof h=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,l.d.C(h,x))},_s.prefetchDNS=function(h){typeof h=="string"&&l.d.D(h)},_s.preinit=function(h,x){if(typeof h=="string"&&x&&typeof x.as=="string"){var m=x.as,g=f(m,x.crossOrigin),y=typeof x.integrity=="string"?x.integrity:void 0,N=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;m==="style"?l.d.S(h,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:N}):m==="script"&&l.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:N,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},_s.preinitModule=function(h,x){if(typeof h=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var m=f(x.as,x.crossOrigin);l.d.M(h,{crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&l.d.M(h)},_s.preload=function(h,x){if(typeof h=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var m=x.as,g=f(m,x.crossOrigin);l.d.L(h,m,{crossOrigin:g,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},_s.preloadModule=function(h,x){if(typeof h=="string")if(x){var m=f(x.as,x.crossOrigin);l.d.m(h,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else l.d.m(h)},_s.requestFormReset=function(h){l.d.r(h)},_s.unstable_batchedUpdates=function(h,x){return h(x)},_s.useFormState=function(h,x,m){return u.H.useFormState(h,x,m)},_s.useFormStatus=function(){return u.H.useHostTransitionStatus()},_s.version="19.2.4",_s}var Dv;function yb(){if(Dv)return _h.exports;Dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),_h.exports=K2(),_h.exports}var Rv;function Z2(){if(Rv)return co;Rv=1;var s=W2(),t=Cf(),a=yb();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(l(188))}function x(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(l(188));return i!==n?null:n}for(var o=n,d=i;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return h(p),n;if(v===d)return h(p),i;v=v.sibling}throw Error(l(188))}if(o.return!==d.return)o=p,d=v;else{for(var w=!1,D=p.child;D;){if(D===o){w=!0,o=p,d=v;break}if(D===d){w=!0,d=p,o=v;break}D=D.sibling}if(!w){for(D=v.child;D;){if(D===o){w=!0,o=v,d=p;break}if(D===d){w=!0,d=v,o=p;break}D=D.sibling}if(!w)throw Error(l(189))}}if(o.alternate!==d)throw Error(l(190))}if(o.tag!==3)throw Error(l(188));return o.stateNode.current===o?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var xe=Symbol.for("react.client.reference");function X(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===xe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case C:return"Profiler";case b:return"StrictMode";case z:return"Suspense";case Q:return"SuspenseList";case ve:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case E:return n.displayName||"Context";case k:return(n._context.displayName||"Context")+".Consumer";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return i=n.displayName||null,i!==null?i:X(n.type)||"Memo";case q:i=n._payload,n=n._init;try{return X(n(i))}catch{}}return null}var be=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},me=[],je=-1;function H(n){return{current:n}}function $(n){0>je||(n.current=me[je],me[je]=null,je--)}function te(n,i){je++,me[je]=n.current,n.current=i}var B=H(null),de=H(null),ke=H(null),Re=H(null);function ze(n,i){switch(te(ke,i),te(de,n),te(B,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Qg(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Qg(i),n=Gg(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(B),te(B,n)}function Ye(){$(B),$(de),$(ke)}function At(n){n.memoizedState!==null&&te(Re,n);var i=B.current,o=Gg(i,n.type);i!==o&&(te(de,n),te(B,o))}function zt(n){de.current===n&&($(B),$(de)),Re.current===n&&($(Re),ao._currentValue=U)}var Jt,Ns;function ie(n){if(Jt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Jt=i&&i[1]||"",Ns=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+n+Ns}var Ue=!1;function ft(n,i){if(!n||Ue)return"";Ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ae){var ee=ae}Reflect.construct(n,[],fe)}else{try{fe.call()}catch(ae){ee=ae}n.call(fe.prototype)}}else{try{throw Error()}catch(ae){ee=ae}(fe=n())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ae){if(ae&&ee&&typeof ae.stack=="string")return[ae.stack,ee.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),w=v[0],D=v[1];if(w&&D){var P=w.split(`
`),Z=D.split(`
`);for(p=d=0;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(d===P.length||p===Z.length)for(d=P.length-1,p=Z.length-1;1<=d&&0<=p&&P[d]!==Z[p];)p--;for(;1<=d&&0<=p;d--,p--)if(P[d]!==Z[p]){if(d!==1||p!==1)do if(d--,p--,0>p||P[d]!==Z[p]){var ce=`
`+P[d].replace(" at new "," at ");return n.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",n.displayName)),ce}while(1<=d&&0<=p);break}}}finally{Ue=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ie(o):""}function bt(n,i){switch(n.tag){case 26:case 27:case 5:return ie(n.type);case 16:return ie("Lazy");case 13:return n.child!==i&&i!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return ft(n.type,!1);case 11:return ft(n.type.render,!1);case 1:return ft(n.type,!0);case 31:return ie("Activity");default:return""}}function ws(n){try{var i="",o=null;do i+=bt(n,o),o=n,n=n.return;while(n);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var W=Object.prototype.hasOwnProperty,he=s.unstable_scheduleCallback,Ve=s.unstable_cancelCallback,Ne=s.unstable_shouldYield,ne=s.unstable_requestPaint,we=s.unstable_now,Qe=s.unstable_getCurrentPriorityLevel,zs=s.unstable_ImmediatePriority,jt=s.unstable_UserBlockingPriority,In=s.unstable_NormalPriority,Fn=s.unstable_LowPriority,En=s.unstable_IdlePriority,il=s.log,$n=s.unstable_setDisableYieldValue,ia=null,es=null;function Ls(n){if(typeof il=="function"&&$n(n),es&&typeof es.setStrictMode=="function")try{es.setStrictMode(ia,n)}catch{}}var cs=Math.clz32?Math.clz32:un,vr=Math.log,bi=Math.LN2;function un(n){return n>>>=0,n===0?32:31-(vr(n)/bi|0)|0}var J=256,kt=262144,An=4194304;function Vn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qe(n,i,o){var d=n.pendingLanes;if(d===0)return 0;var p=0,v=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var D=d&134217727;return D!==0?(d=D&~v,d!==0?p=Vn(d):(w&=D,w!==0?p=Vn(w):o||(o=D&~n,o!==0&&(p=Vn(o))))):(D=d&~v,D!==0?p=Vn(D):w!==0?p=Vn(w):o||(o=d&~n,o!==0&&(p=Vn(o)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,o=i&-i,v>=o||v===32&&(o&4194048)!==0)?i:p}function Lt(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ds(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(){var n=An;return An<<=1,(An&62914560)===0&&(An=4194304),n}function Ta(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function $t(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Us(n,i,o,d,p,v){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var D=n.entanglements,P=n.expirationTimes,Z=n.hiddenUpdates;for(o=w&~o;0<o;){var ce=31-cs(o),fe=1<<ce;D[ce]=0,P[ce]=-1;var ee=Z[ce];if(ee!==null)for(Z[ce]=null,ce=0;ce<ee.length;ce++){var ae=ee[ce];ae!==null&&(ae.lane&=-536870913)}o&=~fe}d!==0&&ji(n,d,0),v!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=v&~(w&~i))}function ji(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-cs(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|o&261930}function Hs(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var d=31-cs(o),p=1<<d;p&i|n[d]&i&&(n[d]|=i),o&=~p}}function Ps(n,i){var o=i&-i;return o=(o&42)!==0?1:ll(o),(o&(n.suspendedLanes|i))!==0?0:o}function ll(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function kn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function du(){var n=T.p;return n!==0?n:(n=window.event,n===void 0?32:pv(n.type))}function Tx(n,i){var o=T.p;try{return T.p=n,i()}finally{T.p=o}}var Ma=Math.random().toString(36).slice(2),fs="__reactFiber$"+Ma,qs="__reactProps$"+Ma,rl="__reactContainer$"+Ma,uu="__reactEvents$"+Ma,Ow="__reactListeners$"+Ma,zw="__reactHandles$"+Ma,Mx="__reactResources$"+Ma,yr="__reactMarker$"+Ma;function mu(n){delete n[fs],delete n[qs],delete n[uu],delete n[Ow],delete n[zw]}function ol(n){var i=n[fs];if(i)return i;for(var o=n.parentNode;o;){if(i=o[rl]||o[fs]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=ev(n);n!==null;){if(o=n[fs])return o;n=ev(n)}return i}n=o,o=n.parentNode}return null}function cl(n){if(n=n[fs]||n[rl]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function br(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function dl(n){var i=n[Mx];return i||(i=n[Mx]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function us(n){n[yr]=!0}var Ox=new Set,zx={};function Ni(n,i){ul(n,i),ul(n+"Capture",i)}function ul(n,i){for(zx[n]=i,n=0;n<i.length;n++)Ox.add(i[n])}var Lw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lx={},Ux={};function Uw(n){return W.call(Ux,n)?!0:W.call(Lx,n)?!1:Lw.test(n)?Ux[n]=!0:(Lx[n]=!0,!1)}function Bo(n,i,o){if(Uw(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Io(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function la(n,i,o,d){if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+d)}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hx(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Hw(n,i,o){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,v=d.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,v.call(this,w)}}),Object.defineProperty(n,i,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function hu(n){if(!n._valueTracker){var i=Hx(n)?"checked":"value";n._valueTracker=Hw(n,i,""+n[i])}}function Px(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return n&&(d=Hx(n)?n.checked?"true":"false":n.value),n=d,n!==o?(i.setValue(n),!0):!1}function Fo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pw=/[\n"\\]/g;function hn(n){return n.replace(Pw,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fu(n,i,o,d,p,v,w,D){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+mn(i)):n.value!==""+mn(i)&&(n.value=""+mn(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?xu(n,w,mn(i)):o!=null?xu(n,w,mn(o)):d!=null&&n.removeAttribute("value"),p==null&&v!=null&&(n.defaultChecked=!!v),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.name=""+mn(D):n.removeAttribute("name")}function qx(n,i,o,d,p,v,w,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),i!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){hu(n);return}o=o!=null?""+mn(o):"",i=i!=null?""+mn(i):o,D||i===n.value||(n.value=i),n.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=D?n.checked:!!d,n.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),hu(n)}function xu(n,i,o){i==="number"&&Fo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function ml(n,i,o,d){if(n=n.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=i.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&d&&(n[o].defaultSelected=!0)}else{for(o=""+mn(o),i=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function Bx(n,i,o){if(i!=null&&(i=""+mn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+mn(o):""}function Ix(n,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(l(92));if(be(d)){if(1<d.length)throw Error(l(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=mn(i),n.defaultValue=o,d=n.textContent,d===o&&d!==""&&d!==null&&(n.value=d),hu(n)}function hl(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var qw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fx(n,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":d?n.setProperty(i,o):typeof o!="number"||o===0||qw.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function $x(n,i,o){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&o[p]!==d&&Fx(n,p,d)}else for(var v in i)i.hasOwnProperty(v)&&Fx(n,v,i[v])}function pu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(n){return Iw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ra(){}var gu=null;function vu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fl=null,xl=null;function Vx(n){var i=cl(n);if(i&&(n=i.stateNode)){var o=n[qs]||null;e:switch(n=i.stateNode,i.type){case"input":if(fu(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==n&&d.form===n.form){var p=d[qs]||null;if(!p)throw Error(l(90));fu(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===n.form&&Px(d)}break e;case"textarea":Bx(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ml(n,!!o.multiple,i,!1)}}}var yu=!1;function Qx(n,i,o){if(yu)return n(i,o);yu=!0;try{var d=n(i);return d}finally{if(yu=!1,(fl!==null||xl!==null)&&(Rc(),fl&&(i=fl,n=xl,xl=fl=null,Vx(i),n)))for(i=0;i<n.length;i++)Vx(n[i])}}function jr(n,i){var o=n.stateNode;if(o===null)return null;var d=o[qs]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(l(231,i,typeof o));return o}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=!1;if(oa)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){bu=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{bu=!1}var Oa=null,ju=null,Vo=null;function Gx(){if(Vo)return Vo;var n,i=ju,o=i.length,d,p="value"in Oa?Oa.value:Oa.textContent,v=p.length;for(n=0;n<o&&i[n]===p[n];n++);var w=o-n;for(d=1;d<=w&&i[o-d]===p[v-d];d++);return Vo=p.slice(n,1<d?1-d:void 0)}function Qo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Go(){return!0}function Yx(){return!1}function Bs(n){function i(o,d,p,v,w){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(o=n[D],this[D]=o?o(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Go:Yx,this.isPropagationStopped=Yx,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),i}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Bs(wi),wr=g({},wi,{view:0,detail:0}),Fw=Bs(wr),Nu,wu,Sr,Wo=g({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Sr&&(Sr&&n.type==="mousemove"?(Nu=n.screenX-Sr.screenX,wu=n.screenY-Sr.screenY):wu=Nu=0,Sr=n),Nu)},movementY:function(n){return"movementY"in n?n.movementY:wu}}),Wx=Bs(Wo),$w=g({},Wo,{dataTransfer:0}),Vw=Bs($w),Qw=g({},wr,{relatedTarget:0}),Su=Bs(Qw),Gw=g({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yw=Bs(Gw),Ww=g({},wi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Kw=Bs(Ww),Zw=g({},wi,{data:0}),Kx=Bs(Zw),Xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=e1[n])?!!i[n]:!1}function _u(){return t1}var s1=g({},wr,{key:function(n){if(n.key){var i=Xw[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Qo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(n){return n.type==="keypress"?Qo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),n1=Bs(s1),a1=g({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zx=Bs(a1),i1=g({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),l1=Bs(i1),r1=g({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),o1=Bs(r1),c1=g({},Wo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),d1=Bs(c1),u1=g({},wi,{newState:0,oldState:0}),m1=Bs(u1),h1=[9,13,27,32],Cu=oa&&"CompositionEvent"in window,_r=null;oa&&"documentMode"in document&&(_r=document.documentMode);var f1=oa&&"TextEvent"in window&&!_r,Xx=oa&&(!Cu||_r&&8<_r&&11>=_r),Jx=" ",ep=!1;function tp(n,i){switch(n){case"keyup":return h1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pl=!1;function x1(n,i){switch(n){case"compositionend":return sp(i);case"keypress":return i.which!==32?null:(ep=!0,Jx);case"textInput":return n=i.data,n===Jx&&ep?null:n;default:return null}}function p1(n,i){if(pl)return n==="compositionend"||!Cu&&tp(n,i)?(n=Gx(),Vo=ju=Oa=null,pl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xx&&i.locale!=="ko"?null:i.data;default:return null}}var g1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!g1[n.type]:i==="textarea"}function ap(n,i,o,d){fl?xl?xl.push(d):xl=[d]:fl=d,i=Hc(i,"onChange"),0<i.length&&(o=new Yo("onChange","change",null,o,d),n.push({event:o,listeners:i}))}var Cr=null,Er=null;function v1(n){qg(n,0)}function Ko(n){var i=br(n);if(Px(i))return n}function ip(n,i){if(n==="change")return i}var lp=!1;if(oa){var Eu;if(oa){var Au="oninput"in document;if(!Au){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),Au=typeof rp.oninput=="function"}Eu=Au}else Eu=!1;lp=Eu&&(!document.documentMode||9<document.documentMode)}function op(){Cr&&(Cr.detachEvent("onpropertychange",cp),Er=Cr=null)}function cp(n){if(n.propertyName==="value"&&Ko(Er)){var i=[];ap(i,Er,n,vu(n)),Qx(v1,i)}}function y1(n,i,o){n==="focusin"?(op(),Cr=i,Er=o,Cr.attachEvent("onpropertychange",cp)):n==="focusout"&&op()}function b1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ko(Er)}function j1(n,i){if(n==="click")return Ko(i)}function N1(n,i){if(n==="input"||n==="change")return Ko(i)}function w1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Xs=typeof Object.is=="function"?Object.is:w1;function Ar(n,i){if(Xs(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!W.call(i,p)||!Xs(n[p],i[p]))return!1}return!0}function dp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function up(n,i){var o=dp(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=i&&d>=i)return{node:o,offset:i-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dp(o)}}function mp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?mp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function hp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Fo(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Fo(n.document)}return i}function ku(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var S1=oa&&"documentMode"in document&&11>=document.documentMode,gl=null,Du=null,kr=null,Ru=!1;function fp(n,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ru||gl==null||gl!==Fo(d)||(d=gl,"selectionStart"in d&&ku(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),kr&&Ar(kr,d)||(kr=d,d=Hc(Du,"onSelect"),0<d.length&&(i=new Yo("onSelect","select",null,i,o),n.push({event:i,listeners:d}),i.target=gl)))}function Si(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var vl={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},Tu={},xp={};oa&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function _i(n){if(Tu[n])return Tu[n];if(!vl[n])return n;var i=vl[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in xp)return Tu[n]=i[o];return n}var pp=_i("animationend"),gp=_i("animationiteration"),vp=_i("animationstart"),_1=_i("transitionrun"),C1=_i("transitionstart"),E1=_i("transitioncancel"),yp=_i("transitionend"),bp=new Map,Mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mu.push("scrollEnd");function Dn(n,i){bp.set(n,i),Ni(i,[n])}var Zo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},fn=[],yl=0,Ou=0;function Xo(){for(var n=yl,i=Ou=yl=0;i<n;){var o=fn[i];fn[i++]=null;var d=fn[i];fn[i++]=null;var p=fn[i];fn[i++]=null;var v=fn[i];if(fn[i++]=null,d!==null&&p!==null){var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}v!==0&&jp(o,p,v)}}function Jo(n,i,o,d){fn[yl++]=n,fn[yl++]=i,fn[yl++]=o,fn[yl++]=d,Ou|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function zu(n,i,o,d){return Jo(n,i,o,d),ec(n)}function Ci(n,i){return Jo(n,null,null,i),ec(n)}function jp(n,i,o){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o);for(var p=!1,v=n.return;v!==null;)v.childLanes|=o,d=v.alternate,d!==null&&(d.childLanes|=o),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(p=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,p&&i!==null&&(p=31-cs(o),n=v.hiddenUpdates,d=n[p],d===null?n[p]=[i]:d.push(i),i.lane=o|536870912),v):null}function ec(n){if(50<Zr)throw Zr=0,$m=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var bl={};function A1(n,i,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(n,i,o,d){return new A1(n,i,o,d)}function Lu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ca(n,i){var o=n.alternate;return o===null?(o=Js(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Np(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function tc(n,i,o,d,p,v){var w=0;if(d=n,typeof n=="function")Lu(n)&&(w=1);else if(typeof n=="string")w=M2(n,o,B.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ve:return n=Js(31,o,i,p),n.elementType=ve,n.lanes=v,n;case S:return Ei(o.children,p,v,i);case b:w=8,p|=24;break;case C:return n=Js(12,o,i,p|2),n.elementType=C,n.lanes=v,n;case z:return n=Js(13,o,i,p),n.elementType=z,n.lanes=v,n;case Q:return n=Js(19,o,i,p),n.elementType=Q,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:w=10;break e;case k:w=9;break e;case M:w=11;break e;case R:w=14;break e;case q:w=16,d=null;break e}w=29,o=Error(l(130,n===null?"null":typeof n,"")),d=null}return i=Js(w,o,i,p),i.elementType=n,i.type=d,i.lanes=v,i}function Ei(n,i,o,d){return n=Js(7,n,d,i),n.lanes=o,n}function Uu(n,i,o){return n=Js(6,n,null,i),n.lanes=o,n}function wp(n){var i=Js(18,null,null,0);return i.stateNode=n,i}function Hu(n,i,o){return i=Js(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Sp=new WeakMap;function xn(n,i){if(typeof n=="object"&&n!==null){var o=Sp.get(n);return o!==void 0?o:(i={value:n,source:i,stack:ws(i)},Sp.set(n,i),i)}return{value:n,source:i,stack:ws(i)}}var jl=[],Nl=0,sc=null,Dr=0,pn=[],gn=0,za=null,Qn=1,Gn="";function da(n,i){jl[Nl++]=Dr,jl[Nl++]=sc,sc=n,Dr=i}function _p(n,i,o){pn[gn++]=Qn,pn[gn++]=Gn,pn[gn++]=za,za=n;var d=Qn;n=Gn;var p=32-cs(d)-1;d&=~(1<<p),o+=1;var v=32-cs(i)+p;if(30<v){var w=p-p%5;v=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Qn=1<<32-cs(i)+p|o<<p|d,Gn=v+n}else Qn=1<<v|o<<p|d,Gn=n}function Pu(n){n.return!==null&&(da(n,1),_p(n,1,0))}function qu(n){for(;n===sc;)sc=jl[--Nl],jl[Nl]=null,Dr=jl[--Nl],jl[Nl]=null;for(;n===za;)za=pn[--gn],pn[gn]=null,Gn=pn[--gn],pn[gn]=null,Qn=pn[--gn],pn[gn]=null}function Cp(n,i){pn[gn++]=Qn,pn[gn++]=Gn,pn[gn++]=za,Qn=i.id,Gn=i.overflow,za=n}var xs=null,Rt=null,st=!1,La=null,vn=!1,Bu=Error(l(519));function Ua(n){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rr(xn(i,n)),Bu}function Ep(n){var i=n.stateNode,o=n.type,d=n.memoizedProps;switch(i[fs]=n,i[qs]=d,o){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(o=0;o<Jr.length;o++)Xe(Jr[o],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),qx(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),Ix(i,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||$g(i.textContent,o)?(d.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),d.onScroll!=null&&Xe("scroll",i),d.onScrollEnd!=null&&Xe("scrollend",i),d.onClick!=null&&(i.onclick=ra),i=!0):i=!1,i||Ua(n,!0)}function Ap(n){for(xs=n.return;xs;)switch(xs.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:xs=xs.return}}function wl(n){if(n!==xs)return!1;if(!st)return Ap(n),st=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||ih(n.type,n.memoizedProps)),o=!o),o&&Rt&&Ua(n),Ap(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Rt=Jg(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Rt=Jg(n)}else i===27?(i=Rt,Za(n.type)?(n=dh,dh=null,Rt=n):Rt=i):Rt=xs?bn(n.stateNode.nextSibling):null;return!0}function Ai(){Rt=xs=null,st=!1}function Iu(){var n=La;return n!==null&&(Vs===null?Vs=n:Vs.push.apply(Vs,n),La=null),n}function Rr(n){La===null?La=[n]:La.push(n)}var Fu=H(null),ki=null,ua=null;function Ha(n,i,o){te(Fu,i._currentValue),i._currentValue=o}function ma(n){n._currentValue=Fu.current,$(Fu)}function $u(n,i,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===o)break;n=n.return}}function Vu(n,i,o,d){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var v=p.dependencies;if(v!==null){var w=p.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=p;for(var P=0;P<i.length;P++)if(D.context===i[P]){v.lanes|=o,D=v.alternate,D!==null&&(D.lanes|=o),$u(v.return,o,n),d||(w=null);break e}v=D.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(l(341));w.lanes|=o,v=w.alternate,v!==null&&(v.lanes|=o),$u(w,o,n),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Sl(n,i,o,d){n=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var D=p.type;Xs(p.pendingProps.value,w.value)||(n!==null?n.push(D):n=[D])}}else if(p===Re.current){if(w=p.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(ao):n=[ao])}p=p.return}n!==null&&Vu(i,n,o,d),i.flags|=262144}function nc(n){for(n=n.firstContext;n!==null;){if(!Xs(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Di(n){ki=n,ua=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ps(n){return kp(ki,n)}function ac(n,i){return ki===null&&Di(n),kp(n,i)}function kp(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ua===null){if(n===null)throw Error(l(308));ua=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ua=ua.next=i;return o}var k1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},D1=s.unstable_scheduleCallback,R1=s.unstable_NormalPriority,ts={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new k1,data:new Map,refCount:0}}function Tr(n){n.refCount--,n.refCount===0&&D1(R1,function(){n.controller.abort()})}var Mr=null,Gu=0,_l=0,Cl=null;function T1(n,i){if(Mr===null){var o=Mr=[];Gu=0,_l=Km(),Cl={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Gu++,i.then(Dp,Dp),i}function Dp(){if(--Gu===0&&Mr!==null){Cl!==null&&(Cl.status="fulfilled");var n=Mr;Mr=null,_l=0,Cl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function M1(n,i){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var Rp=A.S;A.S=function(n,i){fg=we(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&T1(n,i),Rp!==null&&Rp(n,i)};var Ri=H(null);function Yu(){var n=Ri.current;return n!==null?n:Nt.pooledCache}function ic(n,i){i===null?te(Ri,Ri.current):te(Ri,i.pool)}function Tp(){var n=Yu();return n===null?null:{parent:ts._currentValue,pool:n}}var El=Error(l(460)),Wu=Error(l(474)),lc=Error(l(542)),rc={then:function(){}};function Mp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Op(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(ra,ra),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Lp(n),n;default:if(typeof i.status=="string")i.then(ra,ra);else{if(n=Nt,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Lp(n),n}throw Mi=i,El}}function Ti(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Mi=o,El):o}}var Mi=null;function zp(){if(Mi===null)throw Error(l(459));var n=Mi;return Mi=null,n}function Lp(n){if(n===El||n===lc)throw Error(l(483))}var Al=null,Or=0;function oc(n){var i=Or;return Or+=1,Al===null&&(Al=[]),Op(Al,n,i)}function zr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function cc(n,i){throw i.$$typeof===y?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Up(n){function i(G,I){if(n){var K=G.deletions;K===null?(G.deletions=[I],G.flags|=16):K.push(I)}}function o(G,I){if(!n)return null;for(;I!==null;)i(G,I),I=I.sibling;return null}function d(G){for(var I=new Map;G!==null;)G.key!==null?I.set(G.key,G):I.set(G.index,G),G=G.sibling;return I}function p(G,I){return G=ca(G,I),G.index=0,G.sibling=null,G}function v(G,I,K){return G.index=K,n?(K=G.alternate,K!==null?(K=K.index,K<I?(G.flags|=67108866,I):K):(G.flags|=67108866,I)):(G.flags|=1048576,I)}function w(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function D(G,I,K,ue){return I===null||I.tag!==6?(I=Uu(K,G.mode,ue),I.return=G,I):(I=p(I,K),I.return=G,I)}function P(G,I,K,ue){var Te=K.type;return Te===S?ce(G,I,K.props.children,ue,K.key):I!==null&&(I.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===q&&Ti(Te)===I.type)?(I=p(I,K.props),zr(I,K),I.return=G,I):(I=tc(K.type,K.key,K.props,null,G.mode,ue),zr(I,K),I.return=G,I)}function Z(G,I,K,ue){return I===null||I.tag!==4||I.stateNode.containerInfo!==K.containerInfo||I.stateNode.implementation!==K.implementation?(I=Hu(K,G.mode,ue),I.return=G,I):(I=p(I,K.children||[]),I.return=G,I)}function ce(G,I,K,ue,Te){return I===null||I.tag!==7?(I=Ei(K,G.mode,ue,Te),I.return=G,I):(I=p(I,K),I.return=G,I)}function fe(G,I,K){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Uu(""+I,G.mode,K),I.return=G,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return K=tc(I.type,I.key,I.props,null,G.mode,K),zr(K,I),K.return=G,K;case j:return I=Hu(I,G.mode,K),I.return=G,I;case q:return I=Ti(I),fe(G,I,K)}if(be(I)||F(I))return I=Ei(I,G.mode,K,null),I.return=G,I;if(typeof I.then=="function")return fe(G,oc(I),K);if(I.$$typeof===E)return fe(G,ac(G,I),K);cc(G,I)}return null}function ee(G,I,K,ue){var Te=I!==null?I.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Te!==null?null:D(G,I,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return K.key===Te?P(G,I,K,ue):null;case j:return K.key===Te?Z(G,I,K,ue):null;case q:return K=Ti(K),ee(G,I,K,ue)}if(be(K)||F(K))return Te!==null?null:ce(G,I,K,ue,null);if(typeof K.then=="function")return ee(G,I,oc(K),ue);if(K.$$typeof===E)return ee(G,I,ac(G,K),ue);cc(G,K)}return null}function ae(G,I,K,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return G=G.get(K)||null,D(I,G,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:return G=G.get(ue.key===null?K:ue.key)||null,P(I,G,ue,Te);case j:return G=G.get(ue.key===null?K:ue.key)||null,Z(I,G,ue,Te);case q:return ue=Ti(ue),ae(G,I,K,ue,Te)}if(be(ue)||F(ue))return G=G.get(K)||null,ce(I,G,ue,Te,null);if(typeof ue.then=="function")return ae(G,I,K,oc(ue),Te);if(ue.$$typeof===E)return ae(G,I,K,ac(I,ue),Te);cc(I,ue)}return null}function Se(G,I,K,ue){for(var Te=null,lt=null,Ae=I,Ge=I=0,tt=null;Ae!==null&&Ge<K.length;Ge++){Ae.index>Ge?(tt=Ae,Ae=null):tt=Ae.sibling;var rt=ee(G,Ae,K[Ge],ue);if(rt===null){Ae===null&&(Ae=tt);break}n&&Ae&&rt.alternate===null&&i(G,Ae),I=v(rt,I,Ge),lt===null?Te=rt:lt.sibling=rt,lt=rt,Ae=tt}if(Ge===K.length)return o(G,Ae),st&&da(G,Ge),Te;if(Ae===null){for(;Ge<K.length;Ge++)Ae=fe(G,K[Ge],ue),Ae!==null&&(I=v(Ae,I,Ge),lt===null?Te=Ae:lt.sibling=Ae,lt=Ae);return st&&da(G,Ge),Te}for(Ae=d(Ae);Ge<K.length;Ge++)tt=ae(Ae,G,Ge,K[Ge],ue),tt!==null&&(n&&tt.alternate!==null&&Ae.delete(tt.key===null?Ge:tt.key),I=v(tt,I,Ge),lt===null?Te=tt:lt.sibling=tt,lt=tt);return n&&Ae.forEach(function(si){return i(G,si)}),st&&da(G,Ge),Te}function Le(G,I,K,ue){if(K==null)throw Error(l(151));for(var Te=null,lt=null,Ae=I,Ge=I=0,tt=null,rt=K.next();Ae!==null&&!rt.done;Ge++,rt=K.next()){Ae.index>Ge?(tt=Ae,Ae=null):tt=Ae.sibling;var si=ee(G,Ae,rt.value,ue);if(si===null){Ae===null&&(Ae=tt);break}n&&Ae&&si.alternate===null&&i(G,Ae),I=v(si,I,Ge),lt===null?Te=si:lt.sibling=si,lt=si,Ae=tt}if(rt.done)return o(G,Ae),st&&da(G,Ge),Te;if(Ae===null){for(;!rt.done;Ge++,rt=K.next())rt=fe(G,rt.value,ue),rt!==null&&(I=v(rt,I,Ge),lt===null?Te=rt:lt.sibling=rt,lt=rt);return st&&da(G,Ge),Te}for(Ae=d(Ae);!rt.done;Ge++,rt=K.next())rt=ae(Ae,G,Ge,rt.value,ue),rt!==null&&(n&&rt.alternate!==null&&Ae.delete(rt.key===null?Ge:rt.key),I=v(rt,I,Ge),lt===null?Te=rt:lt.sibling=rt,lt=rt);return n&&Ae.forEach(function($2){return i(G,$2)}),st&&da(G,Ge),Te}function gt(G,I,K,ue){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case N:e:{for(var Te=K.key;I!==null;){if(I.key===Te){if(Te=K.type,Te===S){if(I.tag===7){o(G,I.sibling),ue=p(I,K.props.children),ue.return=G,G=ue;break e}}else if(I.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===q&&Ti(Te)===I.type){o(G,I.sibling),ue=p(I,K.props),zr(ue,K),ue.return=G,G=ue;break e}o(G,I);break}else i(G,I);I=I.sibling}K.type===S?(ue=Ei(K.props.children,G.mode,ue,K.key),ue.return=G,G=ue):(ue=tc(K.type,K.key,K.props,null,G.mode,ue),zr(ue,K),ue.return=G,G=ue)}return w(G);case j:e:{for(Te=K.key;I!==null;){if(I.key===Te)if(I.tag===4&&I.stateNode.containerInfo===K.containerInfo&&I.stateNode.implementation===K.implementation){o(G,I.sibling),ue=p(I,K.children||[]),ue.return=G,G=ue;break e}else{o(G,I);break}else i(G,I);I=I.sibling}ue=Hu(K,G.mode,ue),ue.return=G,G=ue}return w(G);case q:return K=Ti(K),gt(G,I,K,ue)}if(be(K))return Se(G,I,K,ue);if(F(K)){if(Te=F(K),typeof Te!="function")throw Error(l(150));return K=Te.call(K),Le(G,I,K,ue)}if(typeof K.then=="function")return gt(G,I,oc(K),ue);if(K.$$typeof===E)return gt(G,I,ac(G,K),ue);cc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,I!==null&&I.tag===6?(o(G,I.sibling),ue=p(I,K),ue.return=G,G=ue):(o(G,I),ue=Uu(K,G.mode,ue),ue.return=G,G=ue),w(G)):o(G,I)}return function(G,I,K,ue){try{Or=0;var Te=gt(G,I,K,ue);return Al=null,Te}catch(Ae){if(Ae===El||Ae===lc)throw Ae;var lt=Js(29,Ae,null,G.mode);return lt.lanes=ue,lt.return=G,lt}}}var Oi=Up(!0),Hp=Up(!1),Pa=!1;function Ku(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ba(n,i,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ct&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=ec(n),jp(n,null,o),i}return Jo(n,d,i,o),ec(n)}function Lr(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,Hs(n,o)}}function Xu(n,i){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=w:v=v.next=w,o=o.next}while(o!==null);v===null?p=v=i:v=v.next=i}else p=v=i;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Ju=!1;function Ur(){if(Ju){var n=Cl;if(n!==null)throw n}}function Hr(n,i,o,d){Ju=!1;var p=n.updateQueue;Pa=!1;var v=p.firstBaseUpdate,w=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var P=D,Z=P.next;P.next=null,w===null?v=Z:w.next=Z,w=P;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==w&&(D===null?ce.firstBaseUpdate=Z:D.next=Z,ce.lastBaseUpdate=P))}if(v!==null){var fe=p.baseState;w=0,ce=Z=P=null,D=v;do{var ee=D.lane&-536870913,ae=ee!==D.lane;if(ae?(et&ee)===ee:(d&ee)===ee){ee!==0&&ee===_l&&(Ju=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Se=n,Le=D;ee=i;var gt=o;switch(Le.tag){case 1:if(Se=Le.payload,typeof Se=="function"){fe=Se.call(gt,fe,ee);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Le.payload,ee=typeof Se=="function"?Se.call(gt,fe,ee):Se,ee==null)break e;fe=g({},fe,ee);break e;case 2:Pa=!0}}ee=D.callback,ee!==null&&(n.flags|=64,ae&&(n.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[ee]:ae.push(ee))}else ae={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(Z=ce=ae,P=fe):ce=ce.next=ae,w|=ee;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);ce===null&&(P=fe),p.baseState=P,p.firstBaseUpdate=Z,p.lastBaseUpdate=ce,v===null&&(p.shared.lanes=0),Qa|=w,n.lanes=w,n.memoizedState=fe}}function Pp(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function qp(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Pp(o[n],i)}var kl=H(null),dc=H(0);function Bp(n,i){n=ja,te(dc,n),te(kl,i),ja=n|i.baseLanes}function em(){te(dc,ja),te(kl,kl.current)}function tm(){ja=dc.current,$(kl),$(dc)}var en=H(null),yn=null;function Ia(n){var i=n.alternate;te(Kt,Kt.current&1),te(en,n),yn===null&&(i===null||kl.current!==null||i.memoizedState!==null)&&(yn=n)}function sm(n){te(Kt,Kt.current),te(en,n),yn===null&&(yn=n)}function Ip(n){n.tag===22?(te(Kt,Kt.current),te(en,n),yn===null&&(yn=n)):Fa()}function Fa(){te(Kt,Kt.current),te(en,en.current)}function tn(n){$(en),yn===n&&(yn=null),$(Kt)}var Kt=H(0);function uc(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||oh(o)||ch(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ha=0,$e=null,xt=null,ss=null,mc=!1,Dl=!1,zi=!1,hc=0,Pr=0,Rl=null,O1=0;function Gt(){throw Error(l(321))}function nm(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Xs(n[o],i[o]))return!1;return!0}function am(n,i,o,d,p,v){return ha=v,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=n===null||n.memoizedState===null?_0:ym,zi=!1,v=o(d,p),zi=!1,Dl&&(v=$p(i,o,d,p)),Fp(n),v}function Fp(n){A.H=Ir;var i=xt!==null&&xt.next!==null;if(ha=0,ss=xt=$e=null,mc=!1,Pr=0,Rl=null,i)throw Error(l(300));n===null||ns||(n=n.dependencies,n!==null&&nc(n)&&(ns=!0))}function $p(n,i,o,d){$e=n;var p=0;do{if(Dl&&(Rl=null),Pr=0,Dl=!1,25<=p)throw Error(l(301));if(p+=1,ss=xt=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}A.H=C0,v=i(o,d)}while(Dl);return v}function z1(){var n=A.H,i=n.useState()[0];return i=typeof i.then=="function"?qr(i):i,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&($e.flags|=1024),i}function im(){var n=hc!==0;return hc=0,n}function lm(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function rm(n){if(mc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mc=!1}ha=0,ss=xt=$e=null,Dl=!1,Pr=hc=0,Rl=null}function Ds(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?$e.memoizedState=ss=n:ss=ss.next=n,ss}function Zt(){if(xt===null){var n=$e.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var i=ss===null?$e.memoizedState:ss.next;if(i!==null)ss=i,xt=n;else{if(n===null)throw $e.alternate===null?Error(l(467)):Error(l(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},ss===null?$e.memoizedState=ss=n:ss=ss.next=n}return ss}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qr(n){var i=Pr;return Pr+=1,Rl===null&&(Rl=[]),n=Op(Rl,n,i),i=$e,(ss===null?i.memoizedState:ss.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?_0:ym),n}function xc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return qr(n);if(n.$$typeof===E)return ps(n)}throw Error(l(438,String(n)))}function om(n){var i=null,o=$e.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=$e.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=fc(),$e.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),d=0;d<n;d++)o[d]=ye;return i.index++,o}function fa(n,i){return typeof i=="function"?i(n):i}function pc(n){var i=Zt();return cm(i,xt,n)}function cm(n,i,o){var d=n.queue;if(d===null)throw Error(l(311));d.lastRenderedReducer=o;var p=n.baseQueue,v=d.pending;if(v!==null){if(p!==null){var w=p.next;p.next=v.next,v.next=w}i.baseQueue=p=v,d.pending=null}if(v=n.baseState,p===null)n.memoizedState=v;else{i=p.next;var D=w=null,P=null,Z=i,ce=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(et&fe)===fe:(ha&fe)===fe){var ee=Z.revertLane;if(ee===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===_l&&(ce=!0);else if((ha&ee)===ee){Z=Z.next,ee===_l&&(ce=!0);continue}else fe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(D=P=fe,w=v):P=P.next=fe,$e.lanes|=ee,Qa|=ee;fe=Z.action,zi&&o(v,fe),v=Z.hasEagerState?Z.eagerState:o(v,fe)}else ee={lane:fe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(D=P=ee,w=v):P=P.next=ee,$e.lanes|=fe,Qa|=fe;Z=Z.next}while(Z!==null&&Z!==i);if(P===null?w=v:P.next=D,!Xs(v,n.memoizedState)&&(ns=!0,ce&&(o=Cl,o!==null)))throw o;n.memoizedState=v,n.baseState=w,n.baseQueue=P,d.lastRenderedState=v}return p===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function dm(n){var i=Zt(),o=i.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=n;var d=o.dispatch,p=o.pending,v=i.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do v=n(v,w.action),w=w.next;while(w!==p);Xs(v,i.memoizedState)||(ns=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,d]}function Vp(n,i,o){var d=$e,p=Zt(),v=st;if(v){if(o===void 0)throw Error(l(407));o=o()}else o=i();var w=!Xs((xt||p).memoizedState,o);if(w&&(p.memoizedState=o,ns=!0),p=p.queue,hm(Yp.bind(null,d,p,n),[n]),p.getSnapshot!==i||w||ss!==null&&ss.memoizedState.tag&1){if(d.flags|=2048,Tl(9,{destroy:void 0},Gp.bind(null,d,p,o,i),null),Nt===null)throw Error(l(349));v||(ha&127)!==0||Qp(d,i,o)}return o}function Qp(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=$e.updateQueue,i===null?(i=fc(),$e.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Gp(n,i,o,d){i.value=o,i.getSnapshot=d,Wp(i)&&Kp(n)}function Yp(n,i,o){return o(function(){Wp(i)&&Kp(n)})}function Wp(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Xs(n,o)}catch{return!0}}function Kp(n){var i=Ci(n,2);i!==null&&Qs(i,n,2)}function um(n){var i=Ds();if(typeof n=="function"){var o=n;if(n=o(),zi){Ls(!0);try{o()}finally{Ls(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},i}function Zp(n,i,o,d){return n.baseState=o,cm(n,xt,typeof d=="function"?d:fa)}function L1(n,i,o,d,p){if(yc(n))throw Error(l(485));if(n=i.action,n!==null){var v={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};A.T!==null?o(!0):v.isTransition=!1,d(v),o=i.pending,o===null?(v.next=i.pending=v,Xp(i,v)):(v.next=o.next,i.pending=o.next=v)}}function Xp(n,i){var o=i.action,d=i.payload,p=n.state;if(i.isTransition){var v=A.T,w={};A.T=w;try{var D=o(p,d),P=A.S;P!==null&&P(w,D),Jp(n,i,D)}catch(Z){mm(n,i,Z)}finally{v!==null&&w.types!==null&&(v.types=w.types),A.T=v}}else try{v=o(p,d),Jp(n,i,v)}catch(Z){mm(n,i,Z)}}function Jp(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){e0(n,i,d)},function(d){return mm(n,i,d)}):e0(n,i,o)}function e0(n,i,o){i.status="fulfilled",i.value=o,t0(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Xp(n,o)))}function mm(n,i,o){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,t0(i),i=i.next;while(i!==d)}n.action=null}function t0(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function s0(n,i){return i}function n0(n,i){if(st){var o=Nt.formState;if(o!==null){e:{var d=$e;if(st){if(Rt){t:{for(var p=Rt,v=vn;p.nodeType!==8;){if(!v){p=null;break t}if(p=bn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Rt=bn(p.nextSibling),d=p.data==="F!";break e}}Ua(d)}d=!1}d&&(i=o[0])}}return o=Ds(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s0,lastRenderedState:i},o.queue=d,o=N0.bind(null,$e,d),d.dispatch=o,d=um(!1),v=vm.bind(null,$e,!1,d.queue),d=Ds(),p={state:i,dispatch:null,action:n,pending:null},d.queue=p,o=L1.bind(null,$e,p,v,o),p.dispatch=o,d.memoizedState=n,[i,o,!1]}function a0(n){var i=Zt();return i0(i,xt,n)}function i0(n,i,o){if(i=cm(n,i,s0)[0],n=pc(fa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=qr(i)}catch(w){throw w===El?lc:w}else d=i;i=Zt();var p=i.queue,v=p.dispatch;return o!==i.memoizedState&&($e.flags|=2048,Tl(9,{destroy:void 0},U1.bind(null,p,o),null)),[d,v,n]}function U1(n,i){n.action=i}function l0(n){var i=Zt(),o=xt;if(o!==null)return i0(i,o,n);Zt(),i=i.memoizedState,o=Zt();var d=o.queue.dispatch;return o.memoizedState=n,[i,d,!1]}function Tl(n,i,o,d){return n={tag:n,create:o,deps:d,inst:i,next:null},i=$e.updateQueue,i===null&&(i=fc(),$e.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,i.lastEffect=n),n}function r0(){return Zt().memoizedState}function gc(n,i,o,d){var p=Ds();$e.flags|=n,p.memoizedState=Tl(1|i,{destroy:void 0},o,d===void 0?null:d)}function vc(n,i,o,d){var p=Zt();d=d===void 0?null:d;var v=p.memoizedState.inst;xt!==null&&d!==null&&nm(d,xt.memoizedState.deps)?p.memoizedState=Tl(i,v,o,d):($e.flags|=n,p.memoizedState=Tl(1|i,v,o,d))}function o0(n,i){gc(8390656,8,n,i)}function hm(n,i){vc(2048,8,n,i)}function H1(n){$e.flags|=4;var i=$e.updateQueue;if(i===null)i=fc(),$e.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function c0(n){var i=Zt().memoizedState;return H1({ref:i,nextImpl:n}),function(){if((ct&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function d0(n,i){return vc(4,2,n,i)}function u0(n,i){return vc(4,4,n,i)}function m0(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function h0(n,i,o){o=o!=null?o.concat([n]):null,vc(4,4,m0.bind(null,i,n),o)}function fm(){}function f0(n,i){var o=Zt();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&nm(i,d[1])?d[0]:(o.memoizedState=[n,i],n)}function x0(n,i){var o=Zt();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&nm(i,d[1]))return d[0];if(d=n(),zi){Ls(!0);try{n()}finally{Ls(!1)}}return o.memoizedState=[d,i],d}function xm(n,i,o){return o===void 0||(ha&1073741824)!==0&&(et&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=pg(),$e.lanes|=n,Qa|=n,o)}function p0(n,i,o,d){return Xs(o,i)?o:kl.current!==null?(n=xm(n,o,d),Xs(n,i)||(ns=!0),n):(ha&42)===0||(ha&1073741824)!==0&&(et&261930)===0?(ns=!0,n.memoizedState=o):(n=pg(),$e.lanes|=n,Qa|=n,i)}function g0(n,i,o,d,p){var v=T.p;T.p=v!==0&&8>v?v:8;var w=A.T,D={};A.T=D,vm(n,!1,i,o);try{var P=p(),Z=A.S;if(Z!==null&&Z(D,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ce=M1(P,d);Br(n,i,ce,an(n))}else Br(n,i,d,an(n))}catch(fe){Br(n,i,{then:function(){},status:"rejected",reason:fe},an())}finally{T.p=v,w!==null&&D.types!==null&&(w.types=D.types),A.T=w}}function P1(){}function pm(n,i,o,d){if(n.tag!==5)throw Error(l(476));var p=v0(n).queue;g0(n,p,i,U,o===null?P1:function(){return y0(n),o(d)})}function v0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:U},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function y0(n){var i=v0(n);i.next===null&&(i=n.alternate.memoizedState),Br(n,i.next.queue,{},an())}function gm(){return ps(ao)}function b0(){return Zt().memoizedState}function j0(){return Zt().memoizedState}function q1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=an();n=qa(o);var d=Ba(i,n,o);d!==null&&(Qs(d,i,o),Lr(d,i,o)),i={cache:Qu()},n.payload=i;return}i=i.return}}function B1(n,i,o){var d=an();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yc(n)?w0(i,o):(o=zu(n,i,o,d),o!==null&&(Qs(o,n,d),S0(o,i,d)))}function N0(n,i,o){var d=an();Br(n,i,o,d)}function Br(n,i,o,d){var p={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(yc(n))w0(i,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var w=i.lastRenderedState,D=v(w,o);if(p.hasEagerState=!0,p.eagerState=D,Xs(D,w))return Jo(n,i,p,0),Nt===null&&Xo(),!1}catch{}if(o=zu(n,i,p,d),o!==null)return Qs(o,n,d),S0(o,i,d),!0}return!1}function vm(n,i,o,d){if(d={lane:2,revertLane:Km(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},yc(n)){if(i)throw Error(l(479))}else i=zu(n,o,d,2),i!==null&&Qs(i,n,2)}function yc(n){var i=n.alternate;return n===$e||i!==null&&i===$e}function w0(n,i){Dl=mc=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function S0(n,i,o){if((o&4194048)!==0){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,Hs(n,o)}}var Ir={readContext:ps,use:xc,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};Ir.useEffectEvent=Gt;var _0={readContext:ps,use:xc,useCallback:function(n,i){return Ds().memoizedState=[n,i===void 0?null:i],n},useContext:ps,useEffect:o0,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,gc(4194308,4,m0.bind(null,i,n),o)},useLayoutEffect:function(n,i){return gc(4194308,4,n,i)},useInsertionEffect:function(n,i){gc(4,2,n,i)},useMemo:function(n,i){var o=Ds();i=i===void 0?null:i;var d=n();if(zi){Ls(!0);try{n()}finally{Ls(!1)}}return o.memoizedState=[d,i],d},useReducer:function(n,i,o){var d=Ds();if(o!==void 0){var p=o(i);if(zi){Ls(!0);try{o(i)}finally{Ls(!1)}}}else p=i;return d.memoizedState=d.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},d.queue=n,n=n.dispatch=B1.bind(null,$e,n),[d.memoizedState,n]},useRef:function(n){var i=Ds();return n={current:n},i.memoizedState=n},useState:function(n){n=um(n);var i=n.queue,o=N0.bind(null,$e,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:fm,useDeferredValue:function(n,i){var o=Ds();return xm(o,n,i)},useTransition:function(){var n=um(!1);return n=g0.bind(null,$e,n.queue,!0,!1),Ds().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var d=$e,p=Ds();if(st){if(o===void 0)throw Error(l(407));o=o()}else{if(o=i(),Nt===null)throw Error(l(349));(et&127)!==0||Qp(d,i,o)}p.memoizedState=o;var v={value:o,getSnapshot:i};return p.queue=v,o0(Yp.bind(null,d,v,n),[n]),d.flags|=2048,Tl(9,{destroy:void 0},Gp.bind(null,d,v,o,i),null),o},useId:function(){var n=Ds(),i=Nt.identifierPrefix;if(st){var o=Gn,d=Qn;o=(d&~(1<<32-cs(d)-1)).toString(32)+o,i="_"+i+"R_"+o,o=hc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=O1++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:gm,useFormState:n0,useActionState:n0,useOptimistic:function(n){var i=Ds();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=vm.bind(null,$e,!0,o),o.dispatch=i,[n,i]},useMemoCache:om,useCacheRefresh:function(){return Ds().memoizedState=q1.bind(null,$e)},useEffectEvent:function(n){var i=Ds(),o={impl:n};return i.memoizedState=o,function(){if((ct&2)!==0)throw Error(l(440));return o.impl.apply(void 0,arguments)}}},ym={readContext:ps,use:xc,useCallback:f0,useContext:ps,useEffect:hm,useImperativeHandle:h0,useInsertionEffect:d0,useLayoutEffect:u0,useMemo:x0,useReducer:pc,useRef:r0,useState:function(){return pc(fa)},useDebugValue:fm,useDeferredValue:function(n,i){var o=Zt();return p0(o,xt.memoizedState,n,i)},useTransition:function(){var n=pc(fa)[0],i=Zt().memoizedState;return[typeof n=="boolean"?n:qr(n),i]},useSyncExternalStore:Vp,useId:b0,useHostTransitionStatus:gm,useFormState:a0,useActionState:a0,useOptimistic:function(n,i){var o=Zt();return Zp(o,xt,n,i)},useMemoCache:om,useCacheRefresh:j0};ym.useEffectEvent=c0;var C0={readContext:ps,use:xc,useCallback:f0,useContext:ps,useEffect:hm,useImperativeHandle:h0,useInsertionEffect:d0,useLayoutEffect:u0,useMemo:x0,useReducer:dm,useRef:r0,useState:function(){return dm(fa)},useDebugValue:fm,useDeferredValue:function(n,i){var o=Zt();return xt===null?xm(o,n,i):p0(o,xt.memoizedState,n,i)},useTransition:function(){var n=dm(fa)[0],i=Zt().memoizedState;return[typeof n=="boolean"?n:qr(n),i]},useSyncExternalStore:Vp,useId:b0,useHostTransitionStatus:gm,useFormState:l0,useActionState:l0,useOptimistic:function(n,i){var o=Zt();return xt!==null?Zp(o,xt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:om,useCacheRefresh:j0};C0.useEffectEvent=c0;function bm(n,i,o,d){i=n.memoizedState,o=o(d,i),o=o==null?i:g({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var jm={enqueueSetState:function(n,i,o){n=n._reactInternals;var d=an(),p=qa(d);p.payload=i,o!=null&&(p.callback=o),i=Ba(n,p,d),i!==null&&(Qs(i,n,d),Lr(i,n,d))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var d=an(),p=qa(d);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Ba(n,p,d),i!==null&&(Qs(i,n,d),Lr(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=an(),d=qa(o);d.tag=2,i!=null&&(d.callback=i),i=Ba(n,d,o),i!==null&&(Qs(i,n,o),Lr(i,n,o))}};function E0(n,i,o,d,p,v,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,w):i.prototype&&i.prototype.isPureReactComponent?!Ar(o,d)||!Ar(p,v):!0}function A0(n,i,o,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==n&&jm.enqueueReplaceState(i,i.state,null)}function Li(n,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(n=n.defaultProps){o===i&&(o=g({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function k0(n){Zo(n)}function D0(n){console.error(n)}function R0(n){Zo(n)}function bc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function T0(n,i,o){try{var d=n.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Nm(n,i,o){return o=qa(o),o.tag=3,o.payload={element:null},o.callback=function(){bc(n,i)},o}function M0(n){return n=qa(n),n.tag=3,n}function O0(n,i,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;n.payload=function(){return p(v)},n.callback=function(){T0(i,o,d)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){T0(i,o,d),typeof p!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function I1(n,i,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&Sl(i,o,p,!0),o=en.current,o!==null){switch(o.tag){case 31:case 13:return yn===null?Tc():o.alternate===null&&Yt===0&&(Yt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===rc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),Gm(n,d,p)),!1;case 22:return o.flags|=65536,d===rc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),Gm(n,d,p)),!1}throw Error(l(435,o.tag))}return Gm(n,d,p),Tc(),!1}if(st)return i=en.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==Bu&&(n=Error(l(422),{cause:d}),Rr(xn(n,o)))):(d!==Bu&&(i=Error(l(423),{cause:d}),Rr(xn(i,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,d=xn(d,o),p=Nm(n.stateNode,d,p),Xu(n,p),Yt!==4&&(Yt=2)),!1;var v=Error(l(520),{cause:d});if(v=xn(v,o),Kr===null?Kr=[v]:Kr.push(v),Yt!==4&&(Yt=2),i===null)return!0;d=xn(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Nm(o.stateNode,d,n),Xu(o,n),!1;case 1:if(i=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ga===null||!Ga.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=M0(p),O0(p,n,o,d),Xu(o,p),!1}o=o.return}while(o!==null);return!1}var wm=Error(l(461)),ns=!1;function gs(n,i,o,d){i.child=n===null?Hp(i,null,o,d):Oi(i,n.child,o,d)}function z0(n,i,o,d,p){o=o.render;var v=i.ref;if("ref"in d){var w={};for(var D in d)D!=="ref"&&(w[D]=d[D])}else w=d;return Di(i),d=am(n,i,o,w,v,p),D=im(),n!==null&&!ns?(lm(n,i,p),xa(n,i,p)):(st&&D&&Pu(i),i.flags|=1,gs(n,i,d,p),i.child)}function L0(n,i,o,d,p){if(n===null){var v=o.type;return typeof v=="function"&&!Lu(v)&&v.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=v,U0(n,i,v,d,p)):(n=tc(o.type,null,d,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,!Rm(n,p)){var w=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ar,o(w,d)&&n.ref===i.ref)return xa(n,i,p)}return i.flags|=1,n=ca(v,d),n.ref=i.ref,n.return=i,i.child=n}function U0(n,i,o,d,p){if(n!==null){var v=n.memoizedProps;if(Ar(v,d)&&n.ref===i.ref)if(ns=!1,i.pendingProps=d=v,Rm(n,p))(n.flags&131072)!==0&&(ns=!0);else return i.lanes=n.lanes,xa(n,i,p)}return Sm(n,i,o,d,p)}function H0(n,i,o,d){var p=d.children,v=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~v}else d=0,i.child=null;return P0(n,i,v,o,d)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ic(i,v!==null?v.cachePool:null),v!==null?Bp(i,v):em(),Ip(i);else return d=i.lanes=536870912,P0(n,i,v!==null?v.baseLanes|o:o,o,d)}else v!==null?(ic(i,v.cachePool),Bp(i,v),Fa(),i.memoizedState=null):(n!==null&&ic(i,null),em(),Fa());return gs(n,i,p,o),i.child}function Fr(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function P0(n,i,o,d,p){var v=Yu();return v=v===null?null:{parent:ts._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},n!==null&&ic(i,null),em(),Ip(i),n!==null&&Sl(n,i,d,!0),i.childLanes=p,null}function jc(n,i){return i=wc({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function q0(n,i,o){return Oi(i,n.child,null,o),n=jc(i,i.pendingProps),n.flags|=2,tn(i),i.memoizedState=null,n}function F1(n,i,o){var d=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(st){if(d.mode==="hidden")return n=jc(i,d),i.lanes=536870912,Fr(null,n);if(sm(i),(n=Rt)?(n=Xg(n,vn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:za!==null?{id:Qn,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},o=wp(n),o.return=i,i.child=o,xs=i,Rt=null)):n=null,n===null)throw Ua(i);return i.lanes=536870912,null}return jc(i,d)}var v=n.memoizedState;if(v!==null){var w=v.dehydrated;if(sm(i),p)if(i.flags&256)i.flags&=-257,i=q0(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(l(558));else if(ns||Sl(n,i,o,!1),p=(o&n.childLanes)!==0,ns||p){if(d=Nt,d!==null&&(w=Ps(d,o),w!==0&&w!==v.retryLane))throw v.retryLane=w,Ci(n,w),Qs(d,n,w),wm;Tc(),i=q0(n,i,o)}else n=v.treeContext,Rt=bn(w.nextSibling),xs=i,st=!0,La=null,vn=!1,n!==null&&Cp(i,n),i=jc(i,d),i.flags|=4096;return i}return n=ca(n.child,{mode:d.mode,children:d.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Nc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(l(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Sm(n,i,o,d,p){return Di(i),o=am(n,i,o,d,void 0,p),d=im(),n!==null&&!ns?(lm(n,i,p),xa(n,i,p)):(st&&d&&Pu(i),i.flags|=1,gs(n,i,o,p),i.child)}function B0(n,i,o,d,p,v){return Di(i),i.updateQueue=null,o=$p(i,d,o,p),Fp(n),d=im(),n!==null&&!ns?(lm(n,i,v),xa(n,i,v)):(st&&d&&Pu(i),i.flags|=1,gs(n,i,o,v),i.child)}function I0(n,i,o,d,p){if(Di(i),i.stateNode===null){var v=bl,w=o.contextType;typeof w=="object"&&w!==null&&(v=ps(w)),v=new o(d,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=jm,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=d,v.state=i.memoizedState,v.refs={},Ku(i),w=o.contextType,v.context=typeof w=="object"&&w!==null?ps(w):bl,v.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(bm(i,o,w,d),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&jm.enqueueReplaceState(v,v.state,null),Hr(i,d,v,p),Ur(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){v=i.stateNode;var D=i.memoizedProps,P=Li(o,D);v.props=P;var Z=v.context,ce=o.contextType;w=bl,typeof ce=="object"&&ce!==null&&(w=ps(ce));var fe=o.getDerivedStateFromProps;ce=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||Z!==w)&&A0(i,v,d,w),Pa=!1;var ee=i.memoizedState;v.state=ee,Hr(i,d,v,p),Ur(),Z=i.memoizedState,D||ee!==Z||Pa?(typeof fe=="function"&&(bm(i,o,fe,d),Z=i.memoizedState),(P=Pa||E0(i,o,P,d,ee,Z,w))?(ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Z),v.props=d,v.state=Z,v.context=w,d=P):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{v=i.stateNode,Zu(n,i),w=i.memoizedProps,ce=Li(o,w),v.props=ce,fe=i.pendingProps,ee=v.context,Z=o.contextType,P=bl,typeof Z=="object"&&Z!==null&&(P=ps(Z)),D=o.getDerivedStateFromProps,(Z=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==fe||ee!==P)&&A0(i,v,d,P),Pa=!1,ee=i.memoizedState,v.state=ee,Hr(i,d,v,p),Ur();var ae=i.memoizedState;w!==fe||ee!==ae||Pa||n!==null&&n.dependencies!==null&&nc(n.dependencies)?(typeof D=="function"&&(bm(i,o,D,d),ae=i.memoizedState),(ce=Pa||E0(i,o,ce,d,ee,ae,P)||n!==null&&n.dependencies!==null&&nc(n.dependencies))?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ae,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ae,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ae),v.props=d,v.state=ae,v.context=P,d=ce):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),d=!1)}return v=d,Nc(n,i),d=(i.flags&128)!==0,v||d?(v=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,n!==null&&d?(i.child=Oi(i,n.child,null,p),i.child=Oi(i,null,o,p)):gs(n,i,o,p),i.memoizedState=v.state,n=i.child):n=xa(n,i,p),n}function F0(n,i,o,d){return Ai(),i.flags|=256,gs(n,i,o,d),i.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cm(n){return{baseLanes:n,cachePool:Tp()}}function Em(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=nn),n}function $0(n,i,o){var d=i.pendingProps,p=!1,v=(i.flags&128)!==0,w;if((w=v)||(w=n!==null&&n.memoizedState===null?!1:(Kt.current&2)!==0),w&&(p=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(st){if(p?Ia(i):Fa(),(n=Rt)?(n=Xg(n,vn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:za!==null?{id:Qn,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},o=wp(n),o.return=i,i.child=o,xs=i,Rt=null)):n=null,n===null)throw Ua(i);return ch(n)?i.lanes=32:i.lanes=536870912,null}var D=d.children;return d=d.fallback,p?(Fa(),p=i.mode,D=wc({mode:"hidden",children:D},p),d=Ei(d,p,o,null),D.return=i,d.return=i,D.sibling=d,i.child=D,d=i.child,d.memoizedState=Cm(o),d.childLanes=Em(n,w,o),i.memoizedState=_m,Fr(null,d)):(Ia(i),Am(i,D))}var P=n.memoizedState;if(P!==null&&(D=P.dehydrated,D!==null)){if(v)i.flags&256?(Ia(i),i.flags&=-257,i=km(n,i,o)):i.memoizedState!==null?(Fa(),i.child=n.child,i.flags|=128,i=null):(Fa(),D=d.fallback,p=i.mode,d=wc({mode:"visible",children:d.children},p),D=Ei(D,p,o,null),D.flags|=2,d.return=i,D.return=i,d.sibling=D,i.child=d,Oi(i,n.child,null,o),d=i.child,d.memoizedState=Cm(o),d.childLanes=Em(n,w,o),i.memoizedState=_m,i=Fr(null,d));else if(Ia(i),ch(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var Z=w.dgst;w=Z,d=Error(l(419)),d.stack="",d.digest=w,Rr({value:d,source:null,stack:null}),i=km(n,i,o)}else if(ns||Sl(n,i,o,!1),w=(o&n.childLanes)!==0,ns||w){if(w=Nt,w!==null&&(d=Ps(w,o),d!==0&&d!==P.retryLane))throw P.retryLane=d,Ci(n,d),Qs(w,n,d),wm;oh(D)||Tc(),i=km(n,i,o)}else oh(D)?(i.flags|=192,i.child=n.child,i=null):(n=P.treeContext,Rt=bn(D.nextSibling),xs=i,st=!0,La=null,vn=!1,n!==null&&Cp(i,n),i=Am(i,d.children),i.flags|=4096);return i}return p?(Fa(),D=d.fallback,p=i.mode,P=n.child,Z=P.sibling,d=ca(P,{mode:"hidden",children:d.children}),d.subtreeFlags=P.subtreeFlags&65011712,Z!==null?D=ca(Z,D):(D=Ei(D,p,o,null),D.flags|=2),D.return=i,d.return=i,d.sibling=D,i.child=d,Fr(null,d),d=i.child,D=n.child.memoizedState,D===null?D=Cm(o):(p=D.cachePool,p!==null?(P=ts._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Tp(),D={baseLanes:D.baseLanes|o,cachePool:p}),d.memoizedState=D,d.childLanes=Em(n,w,o),i.memoizedState=_m,Fr(n.child,d)):(Ia(i),o=n.child,n=o.sibling,o=ca(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=o,i.memoizedState=null,o)}function Am(n,i){return i=wc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function wc(n,i){return n=Js(22,n,null,i),n.lanes=0,n}function km(n,i,o){return Oi(i,n.child,null,o),n=Am(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function V0(n,i,o){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),$u(n.return,i,o)}function Dm(n,i,o,d,p,v){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p,treeForkCount:v}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=o,w.tailMode=p,w.treeForkCount=v)}function Q0(n,i,o){var d=i.pendingProps,p=d.revealOrder,v=d.tail;d=d.children;var w=Kt.current,D=(w&2)!==0;if(D?(w=w&1|2,i.flags|=128):w&=1,te(Kt,w),gs(n,i,d,o),d=st?Dr:0,!D&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&V0(n,o,i);else if(n.tag===19)V0(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)n=o.alternate,n!==null&&uc(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),Dm(i,!1,p,o,v,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&uc(n)===null){i.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}Dm(i,!0,o,null,v,d);break;case"together":Dm(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function xa(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Qa|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Sl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,o=ca(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ca(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Rm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&nc(n)))}function $1(n,i,o){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),Ha(i,ts,n.memoizedState.cache),Ai();break;case 27:case 5:At(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:Ha(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,sm(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Ia(i),i.flags|=128,null):(o&i.child.childLanes)!==0?$0(n,i,o):(Ia(i),n=xa(n,i,o),n!==null?n.sibling:null);Ia(i);break;case 19:var p=(n.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(Sl(n,i,o,!1),d=(o&i.childLanes)!==0),p){if(d)return Q0(n,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(Kt,Kt.current),d)break;return null;case 22:return i.lanes=0,H0(n,i,o,i.pendingProps);case 24:Ha(i,ts,n.memoizedState.cache)}return xa(n,i,o)}function G0(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)ns=!0;else{if(!Rm(n,o)&&(i.flags&128)===0)return ns=!1,$1(n,i,o);ns=(n.flags&131072)!==0}else ns=!1,st&&(i.flags&1048576)!==0&&_p(i,Dr,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(n=Ti(i.elementType),i.type=n,typeof n=="function")Lu(n)?(d=Li(n,d),i.tag=1,i=I0(null,i,n,d,o)):(i.tag=0,i=Sm(null,i,n,d,o));else{if(n!=null){var p=n.$$typeof;if(p===M){i.tag=11,i=z0(null,i,n,d,o);break e}else if(p===R){i.tag=14,i=L0(null,i,n,d,o);break e}}throw i=X(n)||n,Error(l(306,i,""))}}return i;case 0:return Sm(n,i,i.type,i.pendingProps,o);case 1:return d=i.type,p=Li(d,i.pendingProps),I0(n,i,d,p,o);case 3:e:{if(ze(i,i.stateNode.containerInfo),n===null)throw Error(l(387));d=i.pendingProps;var v=i.memoizedState;p=v.element,Zu(n,i),Hr(i,d,null,o);var w=i.memoizedState;if(d=w.cache,Ha(i,ts,d),d!==v.cache&&Vu(i,[ts],o,!0),Ur(),d=w.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=F0(n,i,d,o);break e}else if(d!==p){p=xn(Error(l(424)),i),Rr(p),i=F0(n,i,d,o);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Rt=bn(n.firstChild),xs=i,st=!0,La=null,vn=!0,o=Hp(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ai(),d===p){i=xa(n,i,o);break e}gs(n,i,d,o)}i=i.child}return i;case 26:return Nc(n,i),n===null?(o=av(i.type,null,i.pendingProps,null))?i.memoizedState=o:st||(o=i.type,n=i.pendingProps,d=Pc(ke.current).createElement(o),d[fs]=i,d[qs]=n,vs(d,o,n),us(d),i.stateNode=d):i.memoizedState=av(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return At(i),n===null&&st&&(d=i.stateNode=tv(i.type,i.pendingProps,ke.current),xs=i,vn=!0,p=Rt,Za(i.type)?(dh=p,Rt=bn(d.firstChild)):Rt=p),gs(n,i,i.pendingProps.children,o),Nc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&st&&((p=d=Rt)&&(d=b2(d,i.type,i.pendingProps,vn),d!==null?(i.stateNode=d,xs=i,Rt=bn(d.firstChild),vn=!1,p=!0):p=!1),p||Ua(i)),At(i),p=i.type,v=i.pendingProps,w=n!==null?n.memoizedProps:null,d=v.children,ih(p,v)?d=null:w!==null&&ih(p,w)&&(i.flags|=32),i.memoizedState!==null&&(p=am(n,i,z1,null,null,o),ao._currentValue=p),Nc(n,i),gs(n,i,d,o),i.child;case 6:return n===null&&st&&((n=o=Rt)&&(o=j2(o,i.pendingProps,vn),o!==null?(i.stateNode=o,xs=i,Rt=null,n=!0):n=!1),n||Ua(i)),null;case 13:return $0(n,i,o);case 4:return ze(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=Oi(i,null,d,o):gs(n,i,d,o),i.child;case 11:return z0(n,i,i.type,i.pendingProps,o);case 7:return gs(n,i,i.pendingProps,o),i.child;case 8:return gs(n,i,i.pendingProps.children,o),i.child;case 12:return gs(n,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,Ha(i,i.type,d.value),gs(n,i,d.children,o),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,Di(i),p=ps(p),d=d(p),i.flags|=1,gs(n,i,d,o),i.child;case 14:return L0(n,i,i.type,i.pendingProps,o);case 15:return U0(n,i,i.type,i.pendingProps,o);case 19:return Q0(n,i,o);case 31:return F1(n,i,o);case 22:return H0(n,i,o,i.pendingProps);case 24:return Di(i),d=ps(ts),n===null?(p=Yu(),p===null&&(p=Nt,v=Qu(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),i.memoizedState={parent:d,cache:p},Ku(i),Ha(i,ts,p)):((n.lanes&o)!==0&&(Zu(n,i),Hr(i,null,null,o),Ur()),p=n.memoizedState,v=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ha(i,ts,d)):(d=v.cache,Ha(i,ts,d),d!==p.cache&&Vu(i,[ts],o,!0))),gs(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function pa(n){n.flags|=4}function Tm(n,i,o,d,p){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(bg())n.flags|=8192;else throw Mi=rc,Wu}else n.flags&=-16777217}function Y0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!cv(i))if(bg())n.flags|=8192;else throw Mi=rc,Wu}function Sc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ss():536870912,n.lanes|=i,Ll|=i)}function $r(n,i){if(!st)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Tt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(i)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=o,i}function V1(n,i,o){var d=i.pendingProps;switch(qu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return o=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),ma(ts),Ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(wl(i)?pa(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Iu())),Tt(i),null;case 26:var p=i.type,v=i.memoizedState;return n===null?(pa(i),v!==null?(Tt(i),Y0(i,v)):(Tt(i),Tm(i,p,null,d,o))):v?v!==n.memoizedState?(pa(i),Tt(i),Y0(i,v)):(Tt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==d&&pa(i),Tt(i),Tm(i,p,n,d,o)),null;case 27:if(zt(i),o=ke.current,p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&pa(i);else{if(!d){if(i.stateNode===null)throw Error(l(166));return Tt(i),null}n=B.current,wl(i)?Ep(i):(n=tv(p,d,o),i.stateNode=n,pa(i))}return Tt(i),null;case 5:if(zt(i),p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&pa(i);else{if(!d){if(i.stateNode===null)throw Error(l(166));return Tt(i),null}if(v=B.current,wl(i))Ep(i);else{var w=Pc(ke.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?w.createElement(p,{is:d.is}):w.createElement(p)}}v[fs]=i,v[qs]=d;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=v;e:switch(vs(v,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&pa(i)}}return Tt(i),Tm(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==d&&pa(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(l(166));if(n=ke.current,wl(i)){if(n=i.stateNode,o=i.memoizedProps,d=null,p=xs,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}n[fs]=i,n=!!(n.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||$g(n.nodeValue,o)),n||Ua(i,!0)}else n=Pc(n).createTextNode(d),n[fs]=i,i.stateNode=n}return Tt(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(d=wl(i),o!==null){if(n===null){if(!d)throw Error(l(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[fs]=i}else Ai(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),n=!1}else o=Iu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(tn(i),i):(tn(i),null);if((i.flags&128)!==0)throw Error(l(558))}return Tt(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=wl(i),d!==null&&d.dehydrated!==null){if(n===null){if(!p)throw Error(l(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(l(317));p[fs]=i}else Ai(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),p=!1}else p=Iu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(tn(i),i):(tn(i),null)}return tn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=d!==null,n=n!==null&&n.memoizedState!==null,o&&(d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Sc(i,i.updateQueue),Tt(i),null);case 4:return Ye(),n===null&&eh(i.stateNode.containerInfo),Tt(i),null;case 10:return ma(i.type),Tt(i),null;case 19:if($(Kt),d=i.memoizedState,d===null)return Tt(i),null;if(p=(i.flags&128)!==0,v=d.rendering,v===null)if(p)$r(d,!1);else{if(Yt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=uc(n),v!==null){for(i.flags|=128,$r(d,!1),n=v.updateQueue,i.updateQueue=n,Sc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Np(o,n),o=o.sibling;return te(Kt,Kt.current&1|2),st&&da(i,d.treeForkCount),i.child}n=n.sibling}d.tail!==null&&we()>kc&&(i.flags|=128,p=!0,$r(d,!1),i.lanes=4194304)}else{if(!p)if(n=uc(v),n!==null){if(i.flags|=128,p=!0,n=n.updateQueue,i.updateQueue=n,Sc(i,n),$r(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!st)return Tt(i),null}else 2*we()-d.renderingStartTime>kc&&o!==536870912&&(i.flags|=128,p=!0,$r(d,!1),i.lanes=4194304);d.isBackwards?(v.sibling=i.child,i.child=v):(n=d.last,n!==null?n.sibling=v:i.child=v,d.last=v)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=we(),n.sibling=null,o=Kt.current,te(Kt,p?o&1|2:o&1),st&&da(i,d.treeForkCount),n):(Tt(i),null);case 22:case 23:return tn(i),tm(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),o=i.updateQueue,o!==null&&Sc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),n!==null&&$(Ri),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ma(ts),Tt(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Q1(n,i){switch(qu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ma(ts),Ye(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return zt(i),null;case 31:if(i.memoizedState!==null){if(tn(i),i.alternate===null)throw Error(l(340));Ai()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(tn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Ai()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return $(Kt),null;case 4:return Ye(),null;case 10:return ma(i.type),null;case 22:case 23:return tn(i),tm(),n!==null&&$(Ri),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ma(ts),null;case 25:return null;default:return null}}function W0(n,i){switch(qu(i),i.tag){case 3:ma(ts),Ye();break;case 26:case 27:case 5:zt(i);break;case 4:Ye();break;case 31:i.memoizedState!==null&&tn(i);break;case 13:tn(i);break;case 19:$(Kt);break;case 10:ma(i.type);break;case 22:case 23:tn(i),tm(),n!==null&&$(Ri);break;case 24:ma(ts)}}function Vr(n,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&n)===n){d=void 0;var v=o.create,w=o.inst;d=v(),w.destroy=d}o=o.next}while(o!==p)}}catch(D){mt(i,i.return,D)}}function $a(n,i,o){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&n)===n){var w=d.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,p=i;var P=o,Z=D;try{Z()}catch(ce){mt(p,P,ce)}}}d=d.next}while(d!==v)}}catch(ce){mt(i,i.return,ce)}}function K0(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{qp(i,o)}catch(d){mt(n,n.return,d)}}}function Z0(n,i,o){o.props=Li(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(d){mt(n,i,d)}}function Qr(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof o=="function"?n.refCleanup=o(d):o.current=d}}catch(p){mt(n,i,p)}}function Yn(n,i){var o=n.ref,d=n.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){mt(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){mt(n,i,p)}else o.current=null}function X0(n){var i=n.type,o=n.memoizedProps,d=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){mt(n,n.return,p)}}function Mm(n,i,o){try{var d=n.stateNode;f2(d,n.type,o,i),d[qs]=i}catch(p){mt(n,n.return,p)}}function J0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Za(n.type)||n.tag===4}function Om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||J0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Za(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zm(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ra));else if(d!==4&&(d===27&&Za(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(zm(n,i,o),n=n.sibling;n!==null;)zm(n,i,o),n=n.sibling}function _c(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(d!==4&&(d===27&&Za(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(_c(n,i,o),n=n.sibling;n!==null;)_c(n,i,o),n=n.sibling}function eg(n){var i=n.stateNode,o=n.memoizedProps;try{for(var d=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);vs(i,d,o),i[fs]=n,i[qs]=o}catch(v){mt(n,n.return,v)}}var ga=!1,as=!1,Lm=!1,tg=typeof WeakSet=="function"?WeakSet:Set,ms=null;function G1(n,i){if(n=n.containerInfo,nh=Qc,n=hp(n),ku(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var w=0,D=-1,P=-1,Z=0,ce=0,fe=n,ee=null;t:for(;;){for(var ae;fe!==o||p!==0&&fe.nodeType!==3||(D=w+p),fe!==v||d!==0&&fe.nodeType!==3||(P=w+d),fe.nodeType===3&&(w+=fe.nodeValue.length),(ae=fe.firstChild)!==null;)ee=fe,fe=ae;for(;;){if(fe===n)break t;if(ee===o&&++Z===p&&(D=w),ee===v&&++ce===d&&(P=w),(ae=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=ae}o=D===-1||P===-1?null:{start:D,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ah={focusedElem:n,selectionRange:o},Qc=!1,ms=i;ms!==null;)if(i=ms,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ms=n;else for(;ms!==null;){switch(i=ms,v=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,o=i,p=v.memoizedProps,v=v.memoizedState,d=o.stateNode;try{var Se=Li(o.type,p);n=d.getSnapshotBeforeUpdate(Se,v),d.__reactInternalSnapshotBeforeUpdate=n}catch(Le){mt(o,o.return,Le)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)rh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,ms=n;break}ms=i.return}}function sg(n,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:ya(n,o),d&4&&Vr(5,o);break;case 1:if(ya(n,o),d&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(w){mt(o,o.return,w)}else{var p=Li(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){mt(o,o.return,w)}}d&64&&K0(o),d&512&&Qr(o,o.return);break;case 3:if(ya(n,o),d&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{qp(n,i)}catch(w){mt(o,o.return,w)}}break;case 27:i===null&&d&4&&eg(o);case 26:case 5:ya(n,o),i===null&&d&4&&X0(o),d&512&&Qr(o,o.return);break;case 12:ya(n,o);break;case 31:ya(n,o),d&4&&ig(n,o);break;case 13:ya(n,o),d&4&&lg(n,o),d&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=s2.bind(null,o),N2(n,o))));break;case 22:if(d=o.memoizedState!==null||ga,!d){i=i!==null&&i.memoizedState!==null||as,p=ga;var v=as;ga=d,(as=i)&&!v?ba(n,o,(o.subtreeFlags&8772)!==0):ya(n,o),ga=p,as=v}break;case 30:break;default:ya(n,o)}}function ng(n){var i=n.alternate;i!==null&&(n.alternate=null,ng(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&mu(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ut=null,Is=!1;function va(n,i,o){for(o=o.child;o!==null;)ag(n,i,o),o=o.sibling}function ag(n,i,o){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(ia,o)}catch{}switch(o.tag){case 26:as||Yn(o,i),va(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:as||Yn(o,i);var d=Ut,p=Is;Za(o.type)&&(Ut=o.stateNode,Is=!1),va(n,i,o),to(o.stateNode),Ut=d,Is=p;break;case 5:as||Yn(o,i);case 6:if(d=Ut,p=Is,Ut=null,va(n,i,o),Ut=d,Is=p,Ut!==null)if(Is)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(o.stateNode)}catch(v){mt(o,i,v)}else try{Ut.removeChild(o.stateNode)}catch(v){mt(o,i,v)}break;case 18:Ut!==null&&(Is?(n=Ut,Kg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),$l(n)):Kg(Ut,o.stateNode));break;case 4:d=Ut,p=Is,Ut=o.stateNode.containerInfo,Is=!0,va(n,i,o),Ut=d,Is=p;break;case 0:case 11:case 14:case 15:$a(2,o,i),as||$a(4,o,i),va(n,i,o);break;case 1:as||(Yn(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Z0(o,i,d)),va(n,i,o);break;case 21:va(n,i,o);break;case 22:as=(d=as)||o.memoizedState!==null,va(n,i,o),as=d;break;default:va(n,i,o)}}function ig(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{$l(n)}catch(o){mt(i,i.return,o)}}}function lg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$l(n)}catch(o){mt(i,i.return,o)}}function Y1(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new tg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new tg),i;default:throw Error(l(435,n.tag))}}function Cc(n,i){var o=Y1(n);i.forEach(function(d){if(!o.has(d)){o.add(d);var p=n2.bind(null,n,d);d.then(p,p)}})}function Fs(n,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],v=n,w=i,D=w;e:for(;D!==null;){switch(D.tag){case 27:if(Za(D.type)){Ut=D.stateNode,Is=!1;break e}break;case 5:Ut=D.stateNode,Is=!1;break e;case 3:case 4:Ut=D.stateNode.containerInfo,Is=!0;break e}D=D.return}if(Ut===null)throw Error(l(160));ag(v,w,p),Ut=null,Is=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)rg(i,n),i=i.sibling}var Rn=null;function rg(n,i){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Fs(i,n),$s(n),d&4&&($a(3,n,n.return),Vr(3,n),$a(5,n,n.return));break;case 1:Fs(i,n),$s(n),d&512&&(as||o===null||Yn(o,o.return)),d&64&&ga&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=Rn;if(Fs(i,n),$s(n),d&512&&(as||o===null||Yn(o,o.return)),d&4){var v=o!==null?o.memoizedState:null;if(d=n.memoizedState,o===null)if(d===null)if(n.stateNode===null){e:{d=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[yr]||v[fs]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),vs(v,d,o),v[fs]=n,us(v),d=v;break e;case"link":var w=rv("link","href",p).get(d+(o.href||""));if(w){for(var D=0;D<w.length;D++)if(v=w[D],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(D,1);break t}}v=p.createElement(d),vs(v,d,o),p.head.appendChild(v);break;case"meta":if(w=rv("meta","content",p).get(d+(o.content||""))){for(D=0;D<w.length;D++)if(v=w[D],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(D,1);break t}}v=p.createElement(d),vs(v,d,o),p.head.appendChild(v);break;default:throw Error(l(468,d))}v[fs]=n,us(v),d=v}n.stateNode=d}else ov(p,n.type,n.stateNode);else n.stateNode=lv(p,d,n.memoizedProps);else v!==d?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,d===null?ov(p,n.type,n.stateNode):lv(p,d,n.memoizedProps)):d===null&&n.stateNode!==null&&Mm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Fs(i,n),$s(n),d&512&&(as||o===null||Yn(o,o.return)),o!==null&&d&4&&Mm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Fs(i,n),$s(n),d&512&&(as||o===null||Yn(o,o.return)),n.flags&32){p=n.stateNode;try{hl(p,"")}catch(Se){mt(n,n.return,Se)}}d&4&&n.stateNode!=null&&(p=n.memoizedProps,Mm(n,p,o!==null?o.memoizedProps:p)),d&1024&&(Lm=!0);break;case 6:if(Fs(i,n),$s(n),d&4){if(n.stateNode===null)throw Error(l(162));d=n.memoizedProps,o=n.stateNode;try{o.nodeValue=d}catch(Se){mt(n,n.return,Se)}}break;case 3:if(Ic=null,p=Rn,Rn=qc(i.containerInfo),Fs(i,n),Rn=p,$s(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{$l(i.containerInfo)}catch(Se){mt(n,n.return,Se)}Lm&&(Lm=!1,og(n));break;case 4:d=Rn,Rn=qc(n.stateNode.containerInfo),Fs(i,n),$s(n),Rn=d;break;case 12:Fs(i,n),$s(n);break;case 31:Fs(i,n),$s(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Cc(n,d)));break;case 13:Fs(i,n),$s(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ac=we()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Cc(n,d)));break;case 22:p=n.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,Z=ga,ce=as;if(ga=Z||p,as=ce||P,Fs(i,n),as=ce,ga=Z,$s(n),d&8192)e:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||P||ga||as||Ui(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){P=o=i;try{if(v=P.stateNode,p)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=P.stateNode;var fe=P.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){mt(P,P.return,Se)}}}else if(i.tag===6){if(o===null){P=i;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(Se){mt(P,P.return,Se)}}}else if(i.tag===18){if(o===null){P=i;try{var ae=P.stateNode;p?Zg(ae,!0):Zg(P.stateNode,!1)}catch(Se){mt(P,P.return,Se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=n.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Cc(n,o))));break;case 19:Fs(i,n),$s(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Cc(n,d)));break;case 30:break;case 21:break;default:Fs(i,n),$s(n)}}function $s(n){var i=n.flags;if(i&2){try{for(var o,d=n.return;d!==null;){if(J0(d)){o=d;break}d=d.return}if(o==null)throw Error(l(160));switch(o.tag){case 27:var p=o.stateNode,v=Om(n);_c(n,v,p);break;case 5:var w=o.stateNode;o.flags&32&&(hl(w,""),o.flags&=-33);var D=Om(n);_c(n,D,w);break;case 3:case 4:var P=o.stateNode.containerInfo,Z=Om(n);zm(n,Z,P);break;default:throw Error(l(161))}}catch(ce){mt(n,n.return,ce)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function og(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;og(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ya(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sg(n,i.alternate,i),i=i.sibling}function Ui(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:$a(4,i,i.return),Ui(i);break;case 1:Yn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Z0(i,i.return,o),Ui(i);break;case 27:to(i.stateNode);case 26:case 5:Yn(i,i.return),Ui(i);break;case 22:i.memoizedState===null&&Ui(i);break;case 30:Ui(i);break;default:Ui(i)}n=n.sibling}}function ba(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=n,v=i,w=v.flags;switch(v.tag){case 0:case 11:case 15:ba(p,v,o),Vr(4,v);break;case 1:if(ba(p,v,o),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){mt(d,d.return,Z)}if(d=v,p=d.updateQueue,p!==null){var D=d.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)Pp(P[p],D)}catch(Z){mt(d,d.return,Z)}}o&&w&64&&K0(v),Qr(v,v.return);break;case 27:eg(v);case 26:case 5:ba(p,v,o),o&&d===null&&w&4&&X0(v),Qr(v,v.return);break;case 12:ba(p,v,o);break;case 31:ba(p,v,o),o&&w&4&&ig(p,v);break;case 13:ba(p,v,o),o&&w&4&&lg(p,v);break;case 22:v.memoizedState===null&&ba(p,v,o),Qr(v,v.return);break;case 30:break;default:ba(p,v,o)}i=i.sibling}}function Um(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Tr(o))}function Hm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Tr(n))}function Tn(n,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cg(n,i,o,d),i=i.sibling}function cg(n,i,o,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Tn(n,i,o,d),p&2048&&Vr(9,i);break;case 1:Tn(n,i,o,d);break;case 3:Tn(n,i,o,d),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Tr(n)));break;case 12:if(p&2048){Tn(n,i,o,d),n=i.stateNode;try{var v=i.memoizedProps,w=v.id,D=v.onPostCommit;typeof D=="function"&&D(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){mt(i,i.return,P)}}else Tn(n,i,o,d);break;case 31:Tn(n,i,o,d);break;case 13:Tn(n,i,o,d);break;case 23:break;case 22:v=i.stateNode,w=i.alternate,i.memoizedState!==null?v._visibility&2?Tn(n,i,o,d):Gr(n,i):v._visibility&2?Tn(n,i,o,d):(v._visibility|=2,Ml(n,i,o,d,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Um(w,i);break;case 24:Tn(n,i,o,d),p&2048&&Hm(i.alternate,i);break;default:Tn(n,i,o,d)}}function Ml(n,i,o,d,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=n,w=i,D=o,P=d,Z=w.flags;switch(w.tag){case 0:case 11:case 15:Ml(v,w,D,P,p),Vr(8,w);break;case 23:break;case 22:var ce=w.stateNode;w.memoizedState!==null?ce._visibility&2?Ml(v,w,D,P,p):Gr(v,w):(ce._visibility|=2,Ml(v,w,D,P,p)),p&&Z&2048&&Um(w.alternate,w);break;case 24:Ml(v,w,D,P,p),p&&Z&2048&&Hm(w.alternate,w);break;default:Ml(v,w,D,P,p)}i=i.sibling}}function Gr(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,d=i,p=d.flags;switch(d.tag){case 22:Gr(o,d),p&2048&&Um(d.alternate,d);break;case 24:Gr(o,d),p&2048&&Hm(d.alternate,d);break;default:Gr(o,d)}i=i.sibling}}var Yr=8192;function Ol(n,i,o){if(n.subtreeFlags&Yr)for(n=n.child;n!==null;)dg(n,i,o),n=n.sibling}function dg(n,i,o){switch(n.tag){case 26:Ol(n,i,o),n.flags&Yr&&n.memoizedState!==null&&O2(o,Rn,n.memoizedState,n.memoizedProps);break;case 5:Ol(n,i,o);break;case 3:case 4:var d=Rn;Rn=qc(n.stateNode.containerInfo),Ol(n,i,o),Rn=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=Yr,Yr=16777216,Ol(n,i,o),Yr=d):Ol(n,i,o));break;default:Ol(n,i,o)}}function ug(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Wr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];ms=d,hg(d,n)}ug(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mg(n),n=n.sibling}function mg(n){switch(n.tag){case 0:case 11:case 15:Wr(n),n.flags&2048&&$a(9,n,n.return);break;case 3:Wr(n);break;case 12:Wr(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ec(n)):Wr(n);break;default:Wr(n)}}function Ec(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];ms=d,hg(d,n)}ug(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:$a(8,i,i.return),Ec(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ec(i));break;default:Ec(i)}n=n.sibling}}function hg(n,i){for(;ms!==null;){var o=ms;switch(o.tag){case 0:case 11:case 15:$a(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Tr(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,ms=d;else e:for(o=n;ms!==null;){d=ms;var p=d.sibling,v=d.return;if(ng(d),d===o){ms=null;break e}if(p!==null){p.return=v,ms=p;break e}ms=v}}}var W1={getCacheForType:function(n){var i=ps(ts),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return ps(ts).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,ct=0,Nt=null,Ze=null,et=0,ut=0,sn=null,Va=!1,zl=!1,Pm=!1,ja=0,Yt=0,Qa=0,Hi=0,qm=0,nn=0,Ll=0,Kr=null,Vs=null,Bm=!1,Ac=0,fg=0,kc=1/0,Dc=null,Ga=null,ls=0,Ya=null,Ul=null,Na=0,Im=0,Fm=null,xg=null,Zr=0,$m=null;function an(){return(ct&2)!==0&&et!==0?et&-et:A.T!==null?Km():du()}function pg(){if(nn===0)if((et&536870912)===0||st){var n=kt;kt<<=1,(kt&3932160)===0&&(kt=262144),nn=n}else nn=536870912;return n=en.current,n!==null&&(n.flags|=32),nn}function Qs(n,i,o){(n===Nt&&(ut===2||ut===9)||n.cancelPendingCommit!==null)&&(Hl(n,0),Wa(n,et,nn,!1)),$t(n,o),((ct&2)===0||n!==Nt)&&(n===Nt&&((ct&2)===0&&(Hi|=o),Yt===4&&Wa(n,et,nn,!1)),Wn(n))}function gg(n,i,o){if((ct&6)!==0)throw Error(l(327));var d=!o&&(i&127)===0&&(i&n.expiredLanes)===0||Lt(n,i),p=d?J1(n,i):Qm(n,i,!0),v=d;do{if(p===0){zl&&!d&&Wa(n,i,0,!1);break}else{if(o=n.current.alternate,v&&!Z1(o)){p=Qm(n,i,!1),v=!1;continue}if(p===2){if(v=i,n.errorRecoveryDisabledLanes&v)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var D=n;p=Kr;var P=D.current.memoizedState.isDehydrated;if(P&&(Hl(D,w).flags|=256),w=Qm(D,w,!1),w!==2){if(Pm&&!P){D.errorRecoveryDisabledLanes|=v,Hi|=v,p=4;break e}v=Vs,Vs=p,v!==null&&(Vs===null?Vs=v:Vs.push.apply(Vs,v))}p=w}if(v=!1,p!==2)continue}}if(p===1){Hl(n,0),Wa(n,i,0,!0);break}e:{switch(d=n,v=p,v){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Wa(d,i,nn,!Va);break e;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(p=Ac+300-we(),10<p)){if(Wa(d,i,nn,!Va),qe(d,0,!0)!==0)break e;Na=i,d.timeoutHandle=Yg(vg.bind(null,d,o,Vs,Dc,Bm,i,nn,Hi,Ll,Va,v,"Throttled",-0,0),p);break e}vg(d,o,Vs,Dc,Bm,i,nn,Hi,Ll,Va,v,null,-0,0)}}break}while(!0);Wn(n)}function vg(n,i,o,d,p,v,w,D,P,Z,ce,fe,ee,ae){if(n.timeoutHandle=-1,fe=i.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ra},dg(i,v,fe);var Se=(v&62914560)===v?Ac-we():(v&4194048)===v?fg-we():0;if(Se=z2(fe,Se),Se!==null){Na=v,n.cancelPendingCommit=Se(Cg.bind(null,n,i,v,o,d,p,w,D,P,ce,fe,null,ee,ae)),Wa(n,v,w,!Z);return}}Cg(n,i,v,o,d,p,w,D,P)}function Z1(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],v=p.getSnapshot;p=p.value;try{if(!Xs(v(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wa(n,i,o,d){i&=~qm,i&=~Hi,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var p=i;0<p;){var v=31-cs(p),w=1<<v;d[v]=-1,p&=~w}o!==0&&ji(n,o,i)}function Rc(){return(ct&6)===0?(Xr(0),!1):!0}function Vm(){if(Ze!==null){if(ut===0)var n=Ze.return;else n=Ze,ua=ki=null,rm(n),Al=null,Or=0,n=Ze;for(;n!==null;)W0(n.alternate,n),n=n.return;Ze=null}}function Hl(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,g2(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Na=0,Vm(),Nt=n,Ze=o=ca(n.current,null),et=i,ut=0,sn=null,Va=!1,zl=Lt(n,i),Pm=!1,Ll=nn=qm=Hi=Qa=Yt=0,Vs=Kr=null,Bm=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var p=31-cs(d),v=1<<p;i|=n[p],d&=~v}return ja=i,Xo(),o}function yg(n,i){$e=null,A.H=Ir,i===El||i===lc?(i=zp(),ut=3):i===Wu?(i=zp(),ut=4):ut=i===wm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sn=i,Ze===null&&(Yt=1,bc(n,xn(i,n.current)))}function bg(){var n=en.current;return n===null?!0:(et&4194048)===et?yn===null:(et&62914560)===et||(et&536870912)!==0?n===yn:!1}function jg(){var n=A.H;return A.H=Ir,n===null?Ir:n}function Ng(){var n=A.A;return A.A=W1,n}function Tc(){Yt=4,Va||(et&4194048)!==et&&en.current!==null||(zl=!0),(Qa&134217727)===0&&(Hi&134217727)===0||Nt===null||Wa(Nt,et,nn,!1)}function Qm(n,i,o){var d=ct;ct|=2;var p=jg(),v=Ng();(Nt!==n||et!==i)&&(Dc=null,Hl(n,i)),i=!1;var w=Yt;e:do try{if(ut!==0&&Ze!==null){var D=Ze,P=sn;switch(ut){case 8:Vm(),w=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(i=!0);var Z=ut;if(ut=0,sn=null,Pl(n,D,P,Z),o&&zl){w=0;break e}break;default:Z=ut,ut=0,sn=null,Pl(n,D,P,Z)}}X1(),w=Yt;break}catch(ce){yg(n,ce)}while(!0);return i&&n.shellSuspendCounter++,ua=ki=null,ct=d,A.H=p,A.A=v,Ze===null&&(Nt=null,et=0,Xo()),w}function X1(){for(;Ze!==null;)wg(Ze)}function J1(n,i){var o=ct;ct|=2;var d=jg(),p=Ng();Nt!==n||et!==i?(Dc=null,kc=we()+500,Hl(n,i)):zl=Lt(n,i);e:do try{if(ut!==0&&Ze!==null){i=Ze;var v=sn;t:switch(ut){case 1:ut=0,sn=null,Pl(n,i,v,1);break;case 2:case 9:if(Mp(v)){ut=0,sn=null,Sg(i);break}i=function(){ut!==2&&ut!==9||Nt!==n||(ut=7),Wn(n)},v.then(i,i);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Mp(v)?(ut=0,sn=null,Sg(i)):(ut=0,sn=null,Pl(n,i,v,7));break;case 5:var w=null;switch(Ze.tag){case 26:w=Ze.memoizedState;case 5:case 27:var D=Ze;if(w?cv(w):D.stateNode.complete){ut=0,sn=null;var P=D.sibling;if(P!==null)Ze=P;else{var Z=D.return;Z!==null?(Ze=Z,Mc(Z)):Ze=null}break t}}ut=0,sn=null,Pl(n,i,v,5);break;case 6:ut=0,sn=null,Pl(n,i,v,6);break;case 8:Vm(),Yt=6;break e;default:throw Error(l(462))}}e2();break}catch(ce){yg(n,ce)}while(!0);return ua=ki=null,A.H=d,A.A=p,ct=o,Ze!==null?0:(Nt=null,et=0,Xo(),Yt)}function e2(){for(;Ze!==null&&!Ne();)wg(Ze)}function wg(n){var i=G0(n.alternate,n,ja);n.memoizedProps=n.pendingProps,i===null?Mc(n):Ze=i}function Sg(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=B0(o,i,i.pendingProps,i.type,void 0,et);break;case 11:i=B0(o,i,i.pendingProps,i.type.render,i.ref,et);break;case 5:rm(i);default:W0(o,i),i=Ze=Np(i,ja),i=G0(o,i,ja)}n.memoizedProps=n.pendingProps,i===null?Mc(n):Ze=i}function Pl(n,i,o,d){ua=ki=null,rm(i),Al=null,Or=0;var p=i.return;try{if(I1(n,p,i,o,et)){Yt=1,bc(n,xn(o,n.current)),Ze=null;return}}catch(v){if(p!==null)throw Ze=p,v;Yt=1,bc(n,xn(o,n.current)),Ze=null;return}i.flags&32768?(st||d===1?n=!0:zl||(et&536870912)!==0?n=!1:(Va=n=!0,(d===2||d===9||d===3||d===6)&&(d=en.current,d!==null&&d.tag===13&&(d.flags|=16384))),_g(i,n)):Mc(i)}function Mc(n){var i=n;do{if((i.flags&32768)!==0){_g(i,Va);return}n=i.return;var o=V1(i.alternate,i,ja);if(o!==null){Ze=o;return}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=n}while(i!==null);Yt===0&&(Yt=5)}function _g(n,i){do{var o=Q1(n.alternate,n);if(o!==null){o.flags&=32767,Ze=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Ze=n;return}Ze=n=o}while(n!==null);Yt=6,Ze=null}function Cg(n,i,o,d,p,v,w,D,P){n.cancelPendingCommit=null;do Oc();while(ls!==0);if((ct&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(v=i.lanes|i.childLanes,v|=Ou,Us(n,o,v,w,D,P),n===Nt&&(Ze=Nt=null,et=0),Ul=i,Ya=n,Na=o,Im=v,Fm=p,xg=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,a2(In,function(){return Rg(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=A.T,A.T=null,p=T.p,T.p=2,w=ct,ct|=4;try{G1(n,i,o)}finally{ct=w,T.p=p,A.T=d}}ls=1,Eg(),Ag(),kg()}}function Eg(){if(ls===1){ls=0;var n=Ya,i=Ul,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=A.T,A.T=null;var d=T.p;T.p=2;var p=ct;ct|=4;try{rg(i,n);var v=ah,w=hp(n.containerInfo),D=v.focusedElem,P=v.selectionRange;if(w!==D&&D&&D.ownerDocument&&mp(D.ownerDocument.documentElement,D)){if(P!==null&&ku(D)){var Z=P.start,ce=P.end;if(ce===void 0&&(ce=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(ce,D.value.length);else{var fe=D.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var ae=ee.getSelection(),Se=D.textContent.length,Le=Math.min(P.start,Se),gt=P.end===void 0?Le:Math.min(P.end,Se);!ae.extend&&Le>gt&&(w=gt,gt=Le,Le=w);var G=up(D,Le),I=up(D,gt);if(G&&I&&(ae.rangeCount!==1||ae.anchorNode!==G.node||ae.anchorOffset!==G.offset||ae.focusNode!==I.node||ae.focusOffset!==I.offset)){var K=fe.createRange();K.setStart(G.node,G.offset),ae.removeAllRanges(),Le>gt?(ae.addRange(K),ae.extend(I.node,I.offset)):(K.setEnd(I.node,I.offset),ae.addRange(K))}}}}for(fe=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&fe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var ue=fe[D];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Qc=!!nh,ah=nh=null}finally{ct=p,T.p=d,A.T=o}}n.current=i,ls=2}}function Ag(){if(ls===2){ls=0;var n=Ya,i=Ul,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=A.T,A.T=null;var d=T.p;T.p=2;var p=ct;ct|=4;try{sg(n,i.alternate,i)}finally{ct=p,T.p=d,A.T=o}}ls=3}}function kg(){if(ls===4||ls===3){ls=0,ne();var n=Ya,i=Ul,o=Na,d=xg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ls=5:(ls=0,Ul=Ya=null,Dg(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Ga=null),kn(o),i=i.stateNode,es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(ia,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=A.T,p=T.p,T.p=2,A.T=null;try{for(var v=n.onRecoverableError,w=0;w<d.length;w++){var D=d[w];v(D.value,{componentStack:D.stack})}}finally{A.T=i,T.p=p}}(Na&3)!==0&&Oc(),Wn(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===$m?Zr++:(Zr=0,$m=n):Zr=0,Xr(0)}}function Dg(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Tr(i)))}function Oc(){return Eg(),Ag(),kg(),Rg()}function Rg(){if(ls!==5)return!1;var n=Ya,i=Im;Im=0;var o=kn(Na),d=A.T,p=T.p;try{T.p=32>o?32:o,A.T=null,o=Fm,Fm=null;var v=Ya,w=Na;if(ls=0,Ul=Ya=null,Na=0,(ct&6)!==0)throw Error(l(331));var D=ct;if(ct|=4,mg(v.current),cg(v,v.current,w,o),ct=D,Xr(0,!1),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(ia,v)}catch{}return!0}finally{T.p=p,A.T=d,Dg(n,i)}}function Tg(n,i,o){i=xn(o,i),i=Nm(n.stateNode,i,2),n=Ba(n,i,2),n!==null&&($t(n,2),Wn(n))}function mt(n,i,o){if(n.tag===3)Tg(n,n,o);else for(;i!==null;){if(i.tag===3){Tg(i,n,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ga===null||!Ga.has(d))){n=xn(o,n),o=M0(2),d=Ba(i,o,2),d!==null&&(O0(o,d,i,n),$t(d,2),Wn(d));break}}i=i.return}}function Gm(n,i,o){var d=n.pingCache;if(d===null){d=n.pingCache=new K1;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(o)||(Pm=!0,p.add(o),n=t2.bind(null,n,i,o),i.then(n,n))}function t2(n,i,o){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Nt===n&&(et&o)===o&&(Yt===4||Yt===3&&(et&62914560)===et&&300>we()-Ac?(ct&2)===0&&Hl(n,0):qm|=o,Ll===et&&(Ll=0)),Wn(n)}function Mg(n,i){i===0&&(i=Ss()),n=Ci(n,i),n!==null&&($t(n,i),Wn(n))}function s2(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Mg(n,o)}function n2(n,i){var o=0;switch(n.tag){case 31:case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(l(314))}d!==null&&d.delete(i),Mg(n,o)}function a2(n,i){return he(n,i)}var zc=null,ql=null,Ym=!1,Lc=!1,Wm=!1,Ka=0;function Wn(n){n!==ql&&n.next===null&&(ql===null?zc=ql=n:ql=ql.next=n),Lc=!0,Ym||(Ym=!0,l2())}function Xr(n,i){if(!Wm&&Lc){Wm=!0;do for(var o=!1,d=zc;d!==null;){if(n!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var w=d.suspendedLanes,D=d.pingedLanes;v=(1<<31-cs(42|n)+1)-1,v&=p&~(w&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Ug(d,v))}else v=et,v=qe(d,d===Nt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Lt(d,v)||(o=!0,Ug(d,v));d=d.next}while(o);Wm=!1}}function i2(){Og()}function Og(){Lc=Ym=!1;var n=0;Ka!==0&&p2()&&(n=Ka);for(var i=we(),o=null,d=zc;d!==null;){var p=d.next,v=zg(d,i);v===0?(d.next=null,o===null?zc=p:o.next=p,p===null&&(ql=o)):(o=d,(n!==0||(v&3)!==0)&&(Lc=!0)),d=p}ls!==0&&ls!==5||Xr(n),Ka!==0&&(Ka=0)}function zg(n,i){for(var o=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var w=31-cs(v),D=1<<w,P=p[w];P===-1?((D&o)===0||(D&d)!==0)&&(p[w]=ds(D,i)):P<=i&&(n.expiredLanes|=D),v&=~D}if(i=Nt,o=et,o=qe(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,o===0||n===i&&(ut===2||ut===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Ve(d),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Lt(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(d!==null&&Ve(d),kn(o)){case 2:case 8:o=jt;break;case 32:o=In;break;case 268435456:o=En;break;default:o=In}return d=Lg.bind(null,n),o=he(o,d),n.callbackPriority=i,n.callbackNode=o,i}return d!==null&&d!==null&&Ve(d),n.callbackPriority=2,n.callbackNode=null,2}function Lg(n,i){if(ls!==0&&ls!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Oc()&&n.callbackNode!==o)return null;var d=et;return d=qe(n,n===Nt?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(gg(n,d,i),zg(n,we()),n.callbackNode!=null&&n.callbackNode===o?Lg.bind(null,n):null)}function Ug(n,i){if(Oc())return null;gg(n,i,!0)}function l2(){v2(function(){(ct&6)!==0?he(zs,i2):Og()})}function Km(){if(Ka===0){var n=_l;n===0&&(n=J,J<<=1,(J&261888)===0&&(J=256)),Ka=n}return Ka}function Hg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$o(""+n)}function Pg(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function r2(n,i,o,d,p){if(i==="submit"&&o&&o.stateNode===p){var v=Hg((p[qs]||null).action),w=d.submitter;w&&(i=(i=w[qs]||null)?Hg(i.formAction):w.getAttribute("formAction"),i!==null&&(v=i,w=null));var D=new Yo("action","action",null,d,p);n.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ka!==0){var P=w?Pg(p,w):new FormData(p);pm(o,{pending:!0,data:P,method:p.method,action:v},null,P)}}else typeof v=="function"&&(D.preventDefault(),P=w?Pg(p,w):new FormData(p),pm(o,{pending:!0,data:P,method:p.method,action:v},v,P))},currentTarget:p}]})}}for(var Zm=0;Zm<Mu.length;Zm++){var Xm=Mu[Zm],o2=Xm.toLowerCase(),c2=Xm[0].toUpperCase()+Xm.slice(1);Dn(o2,"on"+c2)}Dn(pp,"onAnimationEnd"),Dn(gp,"onAnimationIteration"),Dn(vp,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(_1,"onTransitionRun"),Dn(C1,"onTransitionStart"),Dn(E1,"onTransitionCancel"),Dn(yp,"onTransitionEnd"),ul("onMouseEnter",["mouseout","mouseover"]),ul("onMouseLeave",["mouseout","mouseover"]),ul("onPointerEnter",["pointerout","pointerover"]),ul("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jr));function qg(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],p=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var w=d.length-1;0<=w;w--){var D=d[w],P=D.instance,Z=D.currentTarget;if(D=D.listener,P!==v&&p.isPropagationStopped())break e;v=D,p.currentTarget=Z;try{v(p)}catch(ce){Zo(ce)}p.currentTarget=null,v=P}else for(w=0;w<d.length;w++){if(D=d[w],P=D.instance,Z=D.currentTarget,D=D.listener,P!==v&&p.isPropagationStopped())break e;v=D,p.currentTarget=Z;try{v(p)}catch(ce){Zo(ce)}p.currentTarget=null,v=P}}}}function Xe(n,i){var o=i[uu];o===void 0&&(o=i[uu]=new Set);var d=n+"__bubble";o.has(d)||(Bg(i,n,2,!1),o.add(d))}function Jm(n,i,o){var d=0;i&&(d|=4),Bg(o,n,d,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function eh(n){if(!n[Uc]){n[Uc]=!0,Ox.forEach(function(o){o!=="selectionchange"&&(d2.has(o)||Jm(o,!1,n),Jm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Jm("selectionchange",!1,i))}}function Bg(n,i,o,d){switch(pv(i)){case 2:var p=H2;break;case 8:p=P2;break;default:p=xh}o=p.bind(null,i,o,n),p=void 0,!bu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(i,o,{capture:!0,passive:p}):n.addEventListener(i,o,!0):p!==void 0?n.addEventListener(i,o,{passive:p}):n.addEventListener(i,o,!1)}function th(n,i,o,d,p){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var D=d.stateNode.containerInfo;if(D===p)break;if(w===4)for(w=d.return;w!==null;){var P=w.tag;if((P===3||P===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;D!==null;){if(w=ol(D),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){d=v=w;continue e}D=D.parentNode}}d=d.return}Qx(function(){var Z=v,ce=vu(o),fe=[];e:{var ee=bp.get(n);if(ee!==void 0){var ae=Yo,Se=n;switch(n){case"keypress":if(Qo(o)===0)break e;case"keydown":case"keyup":ae=n1;break;case"focusin":Se="focus",ae=Su;break;case"focusout":Se="blur",ae=Su;break;case"beforeblur":case"afterblur":ae=Su;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=l1;break;case pp:case gp:case vp:ae=Yw;break;case yp:ae=o1;break;case"scroll":case"scrollend":ae=Fw;break;case"wheel":ae=d1;break;case"copy":case"cut":case"paste":ae=Kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Zx;break;case"toggle":case"beforetoggle":ae=m1}var Le=(i&4)!==0,gt=!Le&&(n==="scroll"||n==="scrollend"),G=Le?ee!==null?ee+"Capture":null:ee;Le=[];for(var I=Z,K;I!==null;){var ue=I;if(K=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||K===null||G===null||(ue=jr(I,G),ue!=null&&Le.push(eo(I,ue,K))),gt)break;I=I.return}0<Le.length&&(ee=new ae(ee,Se,null,o,ce),fe.push({event:ee,listeners:Le}))}}if((i&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",ae=n==="mouseout"||n==="pointerout",ee&&o!==gu&&(Se=o.relatedTarget||o.fromElement)&&(ol(Se)||Se[rl]))break e;if((ae||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,ae?(Se=o.relatedTarget||o.toElement,ae=Z,Se=Se?ol(Se):null,Se!==null&&(gt=c(Se),Le=Se.tag,Se!==gt||Le!==5&&Le!==27&&Le!==6)&&(Se=null)):(ae=null,Se=Z),ae!==Se)){if(Le=Wx,ue="onMouseLeave",G="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(Le=Zx,ue="onPointerLeave",G="onPointerEnter",I="pointer"),gt=ae==null?ee:br(ae),K=Se==null?ee:br(Se),ee=new Le(ue,I+"leave",ae,o,ce),ee.target=gt,ee.relatedTarget=K,ue=null,ol(ce)===Z&&(Le=new Le(G,I+"enter",Se,o,ce),Le.target=K,Le.relatedTarget=gt,ue=Le),gt=ue,ae&&Se)t:{for(Le=u2,G=ae,I=Se,K=0,ue=G;ue;ue=Le(ue))K++;ue=0;for(var Te=I;Te;Te=Le(Te))ue++;for(;0<K-ue;)G=Le(G),K--;for(;0<ue-K;)I=Le(I),ue--;for(;K--;){if(G===I||I!==null&&G===I.alternate){Le=G;break t}G=Le(G),I=Le(I)}Le=null}else Le=null;ae!==null&&Ig(fe,ee,ae,Le,!1),Se!==null&&gt!==null&&Ig(fe,gt,Se,Le,!0)}}e:{if(ee=Z?br(Z):window,ae=ee.nodeName&&ee.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ee.type==="file")var lt=ip;else if(np(ee))if(lp)lt=N1;else{lt=b1;var Ae=y1}else ae=ee.nodeName,!ae||ae.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&pu(Z.elementType)&&(lt=ip):lt=j1;if(lt&&(lt=lt(n,Z))){ap(fe,lt,o,ce);break e}Ae&&Ae(n,ee,Z),n==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&xu(ee,"number",ee.value)}switch(Ae=Z?br(Z):window,n){case"focusin":(np(Ae)||Ae.contentEditable==="true")&&(gl=Ae,Du=Z,kr=null);break;case"focusout":kr=Du=gl=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,fp(fe,o,ce);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":fp(fe,o,ce)}var Ge;if(Cu)e:{switch(n){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else pl?tp(n,o)&&(tt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(tt="onCompositionStart");tt&&(Xx&&o.locale!=="ko"&&(pl||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&pl&&(Ge=Gx()):(Oa=ce,ju="value"in Oa?Oa.value:Oa.textContent,pl=!0)),Ae=Hc(Z,tt),0<Ae.length&&(tt=new Kx(tt,n,null,o,ce),fe.push({event:tt,listeners:Ae}),Ge?tt.data=Ge:(Ge=sp(o),Ge!==null&&(tt.data=Ge)))),(Ge=f1?x1(n,o):p1(n,o))&&(tt=Hc(Z,"onBeforeInput"),0<tt.length&&(Ae=new Kx("onBeforeInput","beforeinput",null,o,ce),fe.push({event:Ae,listeners:tt}),Ae.data=Ge)),r2(fe,n,Z,o,ce)}qg(fe,i)})}function eo(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Hc(n,i){for(var o=i+"Capture",d=[];n!==null;){var p=n,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=jr(n,o),p!=null&&d.unshift(eo(n,p,v)),p=jr(n,i),p!=null&&d.push(eo(n,p,v))),n.tag===3)return d;n=n.return}return[]}function u2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ig(n,i,o,d,p){for(var v=i._reactName,w=[];o!==null&&o!==d;){var D=o,P=D.alternate,Z=D.stateNode;if(D=D.tag,P!==null&&P===d)break;D!==5&&D!==26&&D!==27||Z===null||(P=Z,p?(Z=jr(o,v),Z!=null&&w.unshift(eo(o,Z,P))):p||(Z=jr(o,v),Z!=null&&w.push(eo(o,Z,P)))),o=o.return}w.length!==0&&n.push({event:i,listeners:w})}var m2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function Fg(n){return(typeof n=="string"?n:""+n).replace(m2,`
`).replace(h2,"")}function $g(n,i){return i=Fg(i),Fg(n)===i}function pt(n,i,o,d,p,v){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||hl(n,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&hl(n,""+d);break;case"className":Io(n,"class",d);break;case"tabIndex":Io(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Io(n,o,d);break;case"style":$x(n,d,v);break;case"data":if(i!=="object"){Io(n,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=$o(""+d),n.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(i!=="input"&&pt(n,i,"name",p.name,p,null),pt(n,i,"formEncType",p.formEncType,p,null),pt(n,i,"formMethod",p.formMethod,p,null),pt(n,i,"formTarget",p.formTarget,p,null)):(pt(n,i,"encType",p.encType,p,null),pt(n,i,"method",p.method,p,null),pt(n,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=$o(""+d),n.setAttribute(o,d);break;case"onClick":d!=null&&(n.onclick=ra);break;case"onScroll":d!=null&&Xe("scroll",n);break;case"onScrollEnd":d!=null&&Xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(l(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(l(60));n.innerHTML=o}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}o=$o(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""+d):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":d===!0?n.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,d):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(o,d):n.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(o):n.setAttribute(o,d);break;case"popover":Xe("beforetoggle",n),Xe("toggle",n),Bo(n,"popover",d);break;case"xlinkActuate":la(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":la(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":la(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":la(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":la(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":la(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":la(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":la(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":la(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Bo(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bw.get(o)||o,Bo(n,o,d))}}function sh(n,i,o,d,p,v){switch(o){case"style":$x(n,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(l(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(l(60));n.innerHTML=o}}break;case"children":typeof d=="string"?hl(n,d):(typeof d=="number"||typeof d=="bigint")&&hl(n,""+d);break;case"onScroll":d!=null&&Xe("scroll",n);break;case"onScrollEnd":d!=null&&Xe("scrollend",n);break;case"onClick":d!=null&&(n.onclick=ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zx.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),v=n[qs]||null,v=v!=null?v[o]:null,typeof v=="function"&&n.removeEventListener(i,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,d,p);break e}o in n?n[o]=d:d===!0?n.setAttribute(o,""):Bo(n,o,d)}}}function vs(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",n),Xe("load",n);var d=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var w=o[v];if(w!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:pt(n,i,v,w,o,null)}}p&&pt(n,i,"srcSet",o.srcSet,o,null),d&&pt(n,i,"src",o.src,o,null);return;case"input":Xe("invalid",n);var D=v=w=p=null,P=null,Z=null;for(d in o)if(o.hasOwnProperty(d)){var ce=o[d];if(ce!=null)switch(d){case"name":p=ce;break;case"type":w=ce;break;case"checked":P=ce;break;case"defaultChecked":Z=ce;break;case"value":v=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(l(137,i));break;default:pt(n,i,d,ce,o,null)}}qx(n,v,D,P,Z,w,p,!1);return;case"select":Xe("invalid",n),d=w=v=null;for(p in o)if(o.hasOwnProperty(p)&&(D=o[p],D!=null))switch(p){case"value":v=D;break;case"defaultValue":w=D;break;case"multiple":d=D;default:pt(n,i,p,D,o,null)}i=v,o=w,n.multiple=!!d,i!=null?ml(n,!!d,i,!1):o!=null&&ml(n,!!d,o,!0);return;case"textarea":Xe("invalid",n),v=p=d=null;for(w in o)if(o.hasOwnProperty(w)&&(D=o[w],D!=null))switch(w){case"value":d=D;break;case"defaultValue":p=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(91));break;default:pt(n,i,w,D,o,null)}Ix(n,d,p,v);return;case"option":for(P in o)o.hasOwnProperty(P)&&(d=o[P],d!=null)&&(P==="selected"?n.selected=d&&typeof d!="function"&&typeof d!="symbol":pt(n,i,P,d,o,null));return;case"dialog":Xe("beforetoggle",n),Xe("toggle",n),Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":Xe("load",n);break;case"video":case"audio":for(d=0;d<Jr.length;d++)Xe(Jr[d],n);break;case"image":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"embed":case"source":case"link":Xe("error",n),Xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(d=o[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:pt(n,i,Z,d,o,null)}return;default:if(pu(i)){for(ce in o)o.hasOwnProperty(ce)&&(d=o[ce],d!==void 0&&sh(n,i,ce,d,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(d=o[D],d!=null&&pt(n,i,D,d,o,null))}function f2(n,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,w=null,D=null,P=null,Z=null,ce=null;for(ae in o){var fe=o[ae];if(o.hasOwnProperty(ae)&&fe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":P=fe;default:d.hasOwnProperty(ae)||pt(n,i,ae,null,d,fe)}}for(var ee in d){var ae=d[ee];if(fe=o[ee],d.hasOwnProperty(ee)&&(ae!=null||fe!=null))switch(ee){case"type":v=ae;break;case"name":p=ae;break;case"checked":Z=ae;break;case"defaultChecked":ce=ae;break;case"value":w=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,i));break;default:ae!==fe&&pt(n,i,ee,ae,d,fe)}}fu(n,w,D,P,Z,ce,v,p);return;case"select":ae=w=D=ee=null;for(v in o)if(P=o[v],o.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":ae=P;default:d.hasOwnProperty(v)||pt(n,i,v,null,d,P)}for(p in d)if(v=d[p],P=o[p],d.hasOwnProperty(p)&&(v!=null||P!=null))switch(p){case"value":ee=v;break;case"defaultValue":D=v;break;case"multiple":w=v;default:v!==P&&pt(n,i,p,v,d,P)}i=D,o=w,d=ae,ee!=null?ml(n,!!o,ee,!1):!!d!=!!o&&(i!=null?ml(n,!!o,i,!0):ml(n,!!o,o?[]:"",!1));return;case"textarea":ae=ee=null;for(D in o)if(p=o[D],o.hasOwnProperty(D)&&p!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:pt(n,i,D,null,d,p)}for(w in d)if(p=d[w],v=o[w],d.hasOwnProperty(w)&&(p!=null||v!=null))switch(w){case"value":ee=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:p!==v&&pt(n,i,w,p,d,v)}Bx(n,ee,ae);return;case"option":for(var Se in o)ee=o[Se],o.hasOwnProperty(Se)&&ee!=null&&!d.hasOwnProperty(Se)&&(Se==="selected"?n.selected=!1:pt(n,i,Se,null,d,ee));for(P in d)ee=d[P],ae=o[P],d.hasOwnProperty(P)&&ee!==ae&&(ee!=null||ae!=null)&&(P==="selected"?n.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":pt(n,i,P,ee,d,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)ee=o[Le],o.hasOwnProperty(Le)&&ee!=null&&!d.hasOwnProperty(Le)&&pt(n,i,Le,null,d,ee);for(Z in d)if(ee=d[Z],ae=o[Z],d.hasOwnProperty(Z)&&ee!==ae&&(ee!=null||ae!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,i));break;default:pt(n,i,Z,ee,d,ae)}return;default:if(pu(i)){for(var gt in o)ee=o[gt],o.hasOwnProperty(gt)&&ee!==void 0&&!d.hasOwnProperty(gt)&&sh(n,i,gt,void 0,d,ee);for(ce in d)ee=d[ce],ae=o[ce],!d.hasOwnProperty(ce)||ee===ae||ee===void 0&&ae===void 0||sh(n,i,ce,ee,d,ae);return}}for(var G in o)ee=o[G],o.hasOwnProperty(G)&&ee!=null&&!d.hasOwnProperty(G)&&pt(n,i,G,null,d,ee);for(fe in d)ee=d[fe],ae=o[fe],!d.hasOwnProperty(fe)||ee===ae||ee==null&&ae==null||pt(n,i,fe,ee,d,ae)}function Vg(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var p=o[d],v=p.transferSize,w=p.initiatorType,D=p.duration;if(v&&D&&Vg(w)){for(w=0,D=p.responseEnd,d+=1;d<o.length;d++){var P=o[d],Z=P.startTime;if(Z>D)break;var ce=P.transferSize,fe=P.initiatorType;ce&&Vg(fe)&&(P=P.responseEnd,w+=ce*(P<D?1:(D-Z)/(P-Z)))}if(--d,i+=8*(v+w)/(p.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var nh=null,ah=null;function Pc(n){return n.nodeType===9?n:n.ownerDocument}function Qg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gg(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function ih(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lh=null;function p2(){var n=window.event;return n&&n.type==="popstate"?n===lh?!1:(lh=n,!0):(lh=null,!1)}var Yg=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,v2=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(n){return Wg.resolve(null).then(n).catch(y2)}:Yg;function y2(n){setTimeout(function(){throw n})}function Za(n){return n==="head"}function Kg(n,i){var o=i,d=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(d===0){n.removeChild(p),$l(i);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")to(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,to(o);for(var v=o.firstChild;v;){var w=v.nextSibling,D=v.nodeName;v[yr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=w}}else o==="body"&&to(n.ownerDocument.body);o=p}while(o);$l(i)}function Zg(n,i){var o=n;n=0;do{var d=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=d}while(o)}function rh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rh(o),mu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function b2(n,i,o,d){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[yr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=bn(n.nextSibling),n===null)break}return null}function j2(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=bn(n.nextSibling),n===null))return null;return n}function Xg(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=bn(n.nextSibling),n===null))return null;return n}function oh(n){return n.data==="$?"||n.data==="$~"}function ch(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function N2(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function bn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var dh=null;function Jg(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return bn(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function ev(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function tv(n,i,o){switch(i=Pc(o),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function to(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);mu(n)}var jn=new Map,sv=new Set;function qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var wa=T.d;T.d={f:w2,r:S2,D:_2,C:C2,L:E2,m:A2,X:D2,S:k2,M:R2};function w2(){var n=wa.f(),i=Rc();return n||i}function S2(n){var i=cl(n);i!==null&&i.tag===5&&i.type==="form"?y0(i):wa.r(n)}var Bl=typeof document>"u"?null:document;function nv(n,i,o){var d=Bl;if(d&&typeof i=="string"&&i){var p=hn(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),sv.has(p)||(sv.add(p),n={rel:n,crossOrigin:o,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),vs(i,"link",n),us(i),d.head.appendChild(i)))}}function _2(n){wa.D(n),nv("dns-prefetch",n,null)}function C2(n,i){wa.C(n,i),nv("preconnect",n,i)}function E2(n,i,o){wa.L(n,i,o);var d=Bl;if(d&&n&&i){var p='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+hn(o.imageSizes)+'"]')):p+='[href="'+hn(n)+'"]';var v=p;switch(i){case"style":v=Il(n);break;case"script":v=Fl(n)}jn.has(v)||(n=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),jn.set(v,n),d.querySelector(p)!==null||i==="style"&&d.querySelector(so(v))||i==="script"&&d.querySelector(no(v))||(i=d.createElement("link"),vs(i,"link",n),us(i),d.head.appendChild(i)))}}function A2(n,i){wa.m(n,i);var o=Bl;if(o&&n){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+hn(d)+'"][href="'+hn(n)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Fl(n)}if(!jn.has(v)&&(n=g({rel:"modulepreload",href:n},i),jn.set(v,n),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(no(v)))return}d=o.createElement("link"),vs(d,"link",n),us(d),o.head.appendChild(d)}}}function k2(n,i,o){wa.S(n,i,o);var d=Bl;if(d&&n){var p=dl(d).hoistableStyles,v=Il(n);i=i||"default";var w=p.get(v);if(!w){var D={loading:0,preload:null};if(w=d.querySelector(so(v)))D.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},o),(o=jn.get(v))&&uh(n,o);var P=w=d.createElement("link");us(P),vs(P,"link",n),P._p=new Promise(function(Z,ce){P.onload=Z,P.onerror=ce}),P.addEventListener("load",function(){D.loading|=1}),P.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Bc(w,i,d)}w={type:"stylesheet",instance:w,count:1,state:D},p.set(v,w)}}}function D2(n,i){wa.X(n,i);var o=Bl;if(o&&n){var d=dl(o).hoistableScripts,p=Fl(n),v=d.get(p);v||(v=o.querySelector(no(p)),v||(n=g({src:n,async:!0},i),(i=jn.get(p))&&mh(n,i),v=o.createElement("script"),us(v),vs(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function R2(n,i){wa.M(n,i);var o=Bl;if(o&&n){var d=dl(o).hoistableScripts,p=Fl(n),v=d.get(p);v||(v=o.querySelector(no(p)),v||(n=g({src:n,async:!0,type:"module"},i),(i=jn.get(p))&&mh(n,i),v=o.createElement("script"),us(v),vs(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function av(n,i,o,d){var p=(p=ke.current)?qc(p):null;if(!p)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Il(o.href),o=dl(p).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Il(o.href);var v=dl(p).hoistableStyles,w=v.get(n);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,w),(v=p.querySelector(so(n)))&&!v._p&&(w.instance=v,w.state.loading=5),jn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},jn.set(n,o),v||T2(p,n,o,w.state))),i&&d===null)throw Error(l(528,""));return w}if(i&&d!==null)throw Error(l(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fl(o),o=dl(p).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function Il(n){return'href="'+hn(n)+'"'}function so(n){return'link[rel="stylesheet"]['+n+"]"}function iv(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function T2(n,i,o,d){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=n.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),vs(i,"link",o),us(i),n.head.appendChild(i))}function Fl(n){return'[src="'+hn(n)+'"]'}function no(n){return"script[async]"+n}function lv(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=n.querySelector('style[data-href~="'+hn(o.href)+'"]');if(d)return i.instance=d,us(d),d;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),us(d),vs(d,"style",p),Bc(d,o.precedence,n),i.instance=d;case"stylesheet":p=Il(o.href);var v=n.querySelector(so(p));if(v)return i.state.loading|=4,i.instance=v,us(v),v;d=iv(o),(p=jn.get(p))&&uh(d,p),v=(n.ownerDocument||n).createElement("link"),us(v);var w=v;return w._p=new Promise(function(D,P){w.onload=D,w.onerror=P}),vs(v,"link",d),i.state.loading|=4,Bc(v,o.precedence,n),i.instance=v;case"script":return v=Fl(o.src),(p=n.querySelector(no(v)))?(i.instance=p,us(p),p):(d=o,(p=jn.get(v))&&(d=g({},o),mh(d,p)),n=n.ownerDocument||n,p=n.createElement("script"),us(p),vs(p,"link",d),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Bc(d,o.precedence,n));return i.instance}function Bc(n,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,w=0;w<d.length;w++){var D=d[w];if(D.dataset.precedence===i)v=D;else if(v!==p)break}v?v.parentNode.insertBefore(n,v.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function uh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function mh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Ic=null;function rv(n,i,o){if(Ic===null){var d=new Map,p=Ic=new Map;p.set(o,d)}else p=Ic,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(n))return d;for(d.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var v=o[p];if(!(v[yr]||v[fs]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(i)||"";w=n+w;var D=d.get(w);D?D.push(v):d.set(w,[v])}}return d}function ov(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function M2(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function O2(n,i,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Il(d.href),v=i.querySelector(so(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Fc.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=v,us(v);return}v=i.ownerDocument||i,d=iv(d),(p=jn.get(p))&&uh(d,p),v=v.createElement("link"),us(v);var w=v;w._p=new Promise(function(D,P){w.onload=D,w.onerror=P}),vs(v,"link",d),o.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Fc.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var hh=0;function z2(n,i){return n.stylesheets&&n.count===0&&Vc(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var d=setTimeout(function(){if(n.stylesheets&&Vc(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+i);0<n.imgBytes&&hh===0&&(hh=62500*x2());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Vc(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>hh?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $c=null;function Vc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$c=new Map,i.forEach(L2,n),$c=null,Fc.call(n))}function L2(n,i){if(!(i.state.loading&4)){var o=$c.get(n);if(o)var d=o.get(null);else{o=new Map,$c.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var w=p[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),d=w)}d&&o.set(null,d)}p=i.instance,w=p.getAttribute("data-precedence"),v=o.get(w)||d,v===d&&o.set(null,p),o.set(w,p),this.count++,d=Fc.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var ao={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function U2(n,i,o,d,p,v,w,D,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function dv(n,i,o,d,p,v,w,D,P,Z,ce,fe){return n=new U2(n,i,o,w,P,Z,ce,fe,D),i=1,v===!0&&(i|=24),v=Js(3,null,null,i),n.current=v,v.stateNode=n,i=Qu(),i.refCount++,n.pooledCache=i,i.refCount++,v.memoizedState={element:d,isDehydrated:o,cache:i},Ku(v),n}function uv(n){return n?(n=bl,n):bl}function mv(n,i,o,d,p,v){p=uv(p),d.context===null?d.context=p:d.pendingContext=p,d=qa(i),d.payload={element:o},v=v===void 0?null:v,v!==null&&(d.callback=v),o=Ba(n,d,i),o!==null&&(Qs(o,n,i),Lr(o,n,i))}function hv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function fh(n,i){hv(n,i),(n=n.alternate)&&hv(n,i)}function fv(n){if(n.tag===13||n.tag===31){var i=Ci(n,67108864);i!==null&&Qs(i,n,67108864),fh(n,67108864)}}function xv(n){if(n.tag===13||n.tag===31){var i=an();i=ll(i);var o=Ci(n,i);o!==null&&Qs(o,n,i),fh(n,i)}}var Qc=!0;function H2(n,i,o,d){var p=A.T;A.T=null;var v=T.p;try{T.p=2,xh(n,i,o,d)}finally{T.p=v,A.T=p}}function P2(n,i,o,d){var p=A.T;A.T=null;var v=T.p;try{T.p=8,xh(n,i,o,d)}finally{T.p=v,A.T=p}}function xh(n,i,o,d){if(Qc){var p=ph(d);if(p===null)th(n,i,d,Gc,o),gv(n,d);else if(B2(p,n,i,o,d))d.stopPropagation();else if(gv(n,d),i&4&&-1<q2.indexOf(n)){for(;p!==null;){var v=cl(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=Vn(v.pendingLanes);if(w!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var P=1<<31-cs(w);D.entanglements[1]|=P,w&=~P}Wn(v),(ct&6)===0&&(kc=we()+500,Xr(0))}}break;case 31:case 13:D=Ci(v,2),D!==null&&Qs(D,v,2),Rc(),fh(v,2)}if(v=ph(d),v===null&&th(n,i,d,Gc,o),v===p)break;p=v}p!==null&&d.stopPropagation()}else th(n,i,d,null,o)}}function ph(n){return n=vu(n),gh(n)}var Gc=null;function gh(n){if(Gc=null,n=ol(n),n!==null){var i=c(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=u(i),n!==null)return n;n=null}else if(o===31){if(n=f(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Gc=n,null}function pv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case zs:return 2;case jt:return 8;case In:case Fn:return 32;case En:return 268435456;default:return 32}default:return 32}}var vh=!1,Xa=null,Ja=null,ei=null,io=new Map,lo=new Map,ti=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(n,i){switch(n){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":io.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(i.pointerId)}}function ro(n,i,o,d,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},i!==null&&(i=cl(i),i!==null&&fv(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function B2(n,i,o,d,p){switch(i){case"focusin":return Xa=ro(Xa,n,i,o,d,p),!0;case"dragenter":return Ja=ro(Ja,n,i,o,d,p),!0;case"mouseover":return ei=ro(ei,n,i,o,d,p),!0;case"pointerover":var v=p.pointerId;return io.set(v,ro(io.get(v)||null,n,i,o,d,p)),!0;case"gotpointercapture":return v=p.pointerId,lo.set(v,ro(lo.get(v)||null,n,i,o,d,p)),!0}return!1}function vv(n){var i=ol(n.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){n.blockedOn=i,Tx(n.priority,function(){xv(o)});return}}else if(i===31){if(i=f(o),i!==null){n.blockedOn=i,Tx(n.priority,function(){xv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=ph(n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);gu=d,o.target.dispatchEvent(d),gu=null}else return i=cl(o),i!==null&&fv(i),n.blockedOn=o,!1;i.shift()}return!0}function yv(n,i,o){Yc(n)&&o.delete(i)}function I2(){vh=!1,Xa!==null&&Yc(Xa)&&(Xa=null),Ja!==null&&Yc(Ja)&&(Ja=null),ei!==null&&Yc(ei)&&(ei=null),io.forEach(yv),lo.forEach(yv)}function Wc(n,i){n.blockedOn===i&&(n.blockedOn=null,vh||(vh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,I2)))}var Kc=null;function bv(n){Kc!==n&&(Kc=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Kc===n&&(Kc=null);for(var i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],p=n[i+2];if(typeof d!="function"){if(gh(d||o)===null)continue;break}var v=cl(o);v!==null&&(n.splice(i,3),i-=3,pm(v,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function $l(n){function i(P){return Wc(P,n)}Xa!==null&&Wc(Xa,n),Ja!==null&&Wc(Ja,n),ei!==null&&Wc(ei,n),io.forEach(i),lo.forEach(i);for(var o=0;o<ti.length;o++){var d=ti[o];d.blockedOn===n&&(d.blockedOn=null)}for(;0<ti.length&&(o=ti[0],o.blockedOn===null);)vv(o),o.blockedOn===null&&ti.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],v=o[d+1],w=p[qs]||null;if(typeof v=="function")w||bv(o);else if(w){var D=null;if(v&&v.hasAttribute("formAction")){if(p=v,w=v[qs]||null)D=w.formAction;else if(gh(p)!==null)continue}else D=w.action;typeof D=="function"?o[d+1]=D:(o.splice(d,3),d-=3),bv(o)}}}function jv(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function yh(n){this._internalRoot=n}Zc.prototype.render=yh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var o=i.current,d=an();mv(o,d,n,i,null,null)},Zc.prototype.unmount=yh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;mv(n.current,2,null,n,null,null),Rc(),i[rl]=null}};function Zc(n){this._internalRoot=n}Zc.prototype.unstable_scheduleHydration=function(n){if(n){var i=du();n={blockedOn:null,target:n,priority:i};for(var o=0;o<ti.length&&i!==0&&i<ti[o].priority;o++);ti.splice(o,0,n),o===0&&vv(n)}};var Nv=t.version;if(Nv!=="19.2.4")throw Error(l(527,Nv,"19.2.4"));T.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=x(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var F2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{ia=Xc.inject(F2),es=Xc}catch{}}return co.createRoot=function(n,i){if(!r(n))throw Error(l(299));var o=!1,d="",p=k0,v=D0,w=R0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=dv(n,1,!1,null,null,o,d,null,p,v,w,jv),n[rl]=i.current,eh(n),new yh(i)},co.hydrateRoot=function(n,i,o){if(!r(n))throw Error(l(299));var d=!1,p="",v=k0,w=D0,D=R0,P=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),i=dv(n,1,!0,i,o??null,d,p,P,v,w,D,jv),i.context=uv(null),o=i.current,d=an(),d=ll(d),p=qa(d),p.callback=null,Ba(o,p,d),o=d,i.current.lanes=o,$t(i,o),Wn(i),n[rl]=i.current,eh(n),new Zc(i)},co.version="19.2.4",co}var Tv;function X2(){if(Tv)return Nh.exports;Tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nh.exports=Z2(),Nh.exports}var J2=X2();var Mv="popstate";function e5(s={}){function t(l,r){let{pathname:c,search:u,hash:f}=l.location;return Kh("",{pathname:c,search:u,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(l,r){return typeof r=="string"?r:jo(r)}return s5(t,a,null,s)}function It(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function wn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t5(){return Math.random().toString(36).substring(2,10)}function Ov(s,t){return{usr:s.state,key:s.key,idx:t}}function Kh(s,t,a=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?ir(t):t,state:a,key:t&&t.key||l||t5()}}function jo({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function ir(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let l=s.indexOf("?");l>=0&&(t.search=s.substring(l),s=s.substring(0,l)),s&&(t.pathname=s)}return t}function s5(s,t,a,l={}){let{window:r=document.defaultView,v5Compat:c=!1}=l,u=r.history,f="POP",h=null,x=m();x==null&&(x=0,u.replaceState({...u.state,idx:x},""));function m(){return(u.state||{idx:null}).idx}function g(){f="POP";let b=m(),C=b==null?null:b-x;x=b,h&&h({action:f,location:S.location,delta:C})}function y(b,C){f="PUSH";let k=Kh(S.location,b,C);x=m()+1;let E=Ov(k,x),M=S.createHref(k);try{u.pushState(E,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(M)}c&&h&&h({action:f,location:S.location,delta:1})}function N(b,C){f="REPLACE";let k=Kh(S.location,b,C);x=m();let E=Ov(k,x),M=S.createHref(k);u.replaceState(E,"",M),c&&h&&h({action:f,location:S.location,delta:0})}function j(b){return n5(b)}let S={get action(){return f},get location(){return s(r,u)},listen(b){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Mv,g),h=b,()=>{r.removeEventListener(Mv,g),h=null}},createHref(b){return t(r,b)},createURL:j,encodeLocation(b){let C=j(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:N,go(b){return u.go(b)}};return S}function n5(s,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),It(a,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:jo(s);return l=l.replace(/ $/,"%20"),!t&&l.startsWith("//")&&(l=a+l),new URL(l,a)}function bb(s,t,a="/"){return a5(s,t,a,!1)}function a5(s,t,a,l){let r=typeof t=="string"?ir(t):t,c=Aa(r.pathname||"/",a);if(c==null)return null;let u=jb(s);i5(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let x=p5(c);f=f5(u[h],x,l)}return f}function jb(s,t=[],a=[],l="",r=!1){let c=(u,f,h=r,x)=>{let m={relativePath:x===void 0?u.path||"":x,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(l)&&h)return;It(m.relativePath.startsWith(l),`Absolute route path "${m.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(l.length)}let g=_a([l,m.relativePath]),y=a.concat(m);u.children&&u.children.length>0&&(It(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jb(u.children,t,y,g,h)),!(u.path==null&&!u.index)&&t.push({path:g,score:m5(g,u.index),routesMeta:y})};return s.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))c(u,f);else for(let h of Nb(u.path))c(u,f,!0,h)}),t}function Nb(s){let t=s.split("/");if(t.length===0)return[];let[a,...l]=t,r=a.endsWith("?"),c=a.replace(/\?$/,"");if(l.length===0)return r?[c,""]:[c];let u=Nb(l.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),r&&f.push(...u),f.map(h=>s.startsWith("/")&&h===""?"/":h)}function i5(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:h5(t.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}var l5=/^:[\w-]+$/,r5=3,o5=2,c5=1,d5=10,u5=-2,zv=s=>s==="*";function m5(s,t){let a=s.split("/"),l=a.length;return a.some(zv)&&(l+=u5),t&&(l+=o5),a.filter(r=>!zv(r)).reduce((r,c)=>r+(l5.test(c)?r5:c===""?c5:d5),l)}function h5(s,t){return s.length===t.length&&s.slice(0,-1).every((l,r)=>l===t[r])?s[s.length-1]-t[t.length-1]:0}function f5(s,t,a=!1){let{routesMeta:l}=s,r={},c="/",u=[];for(let f=0;f<l.length;++f){let h=l[f],x=f===l.length-1,m=c==="/"?t:t.slice(c.length)||"/",g=yd({path:h.relativePath,caseSensitive:h.caseSensitive,end:x},m),y=h.route;if(!g&&x&&a&&!l[l.length-1].route.index&&(g=yd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(r,g.params),u.push({params:r,pathname:_a([c,g.pathname]),pathnameBase:b5(_a([c,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(c=_a([c,g.pathnameBase]))}return u}function yd(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,l]=x5(s.path,s.caseSensitive,s.end),r=t.match(a);if(!r)return null;let c=r[0],u=c.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:l.reduce((x,{paramName:m,isOptional:g},y)=>{if(m==="*"){let j=f[y]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const N=f[y];return g&&!N?x[m]=void 0:x[m]=(N||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:u,pattern:s}}function x5(s,t=!1,a=!0){wn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(l.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),l]}function p5(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Aa(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,l=s.charAt(a);return l&&l!=="/"?null:s.slice(a)||"/"}var g5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function v5(s,t="/"){let{pathname:a,search:l="",hash:r=""}=typeof s=="string"?ir(s):s,c;return a?(a=a.replace(/\/\/+/g,"/"),a.startsWith("/")?c=Lv(a.substring(1),"/"):c=Lv(a,t)):c=t,{pathname:c,search:j5(l),hash:N5(r)}}function Lv(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function Ch(s,t,a,l){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y5(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Ef(s){let t=y5(s);return t.map((a,l)=>l===t.length-1?a.pathname:a.pathnameBase)}function Af(s,t,a,l=!1){let r;typeof s=="string"?r=ir(s):(r={...s},It(!r.pathname||!r.pathname.includes("?"),Ch("?","pathname","search",r)),It(!r.pathname||!r.pathname.includes("#"),Ch("#","pathname","hash",r)),It(!r.search||!r.search.includes("#"),Ch("#","search","hash",r)));let c=s===""||r.pathname==="",u=c?"/":r.pathname,f;if(u==null)f=a;else{let g=t.length-1;if(!l&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}f=g>=0?t[g]:"/"}let h=v5(r,f),x=u&&u!=="/"&&u.endsWith("/"),m=(c||u===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(x||m)&&(h.pathname+="/"),h}var _a=s=>s.join("/").replace(/\/\/+/g,"/"),b5=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),j5=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,N5=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,w5=class{constructor(s,t,a,l=!1){this.status=s,this.statusText=t||"",this.internal=l,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function S5(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function _5(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sb(s,t){let a=s;if(typeof a!="string"||!g5.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let l=a,r=!1;if(wb)try{let c=new URL(window.location.href),u=a.startsWith("//")?new URL(c.protocol+a):new URL(a),f=Aa(u.pathname,t);u.origin===c.origin&&f!=null?a=f+u.search+u.hash:r=!0}catch{wn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:r,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _b=["POST","PUT","PATCH","DELETE"];new Set(_b);var C5=["GET",..._b];new Set(C5);var lr=_.createContext(null);lr.displayName="DataRouter";var $d=_.createContext(null);$d.displayName="DataRouterState";var E5=_.createContext(!1),Cb=_.createContext({isTransitioning:!1});Cb.displayName="ViewTransition";var A5=_.createContext(new Map);A5.displayName="Fetchers";var k5=_.createContext(null);k5.displayName="Await";var cn=_.createContext(null);cn.displayName="Navigation";var Do=_.createContext(null);Do.displayName="Location";var qn=_.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var kf=_.createContext(null);kf.displayName="RouteError";var Eb="REACT_ROUTER_ERROR",D5="REDIRECT",R5="ROUTE_ERROR_RESPONSE";function T5(s){if(s.startsWith(`${Eb}:${D5}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function M5(s){if(s.startsWith(`${Eb}:${R5}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new w5(t.status,t.statusText,t.data)}catch{}}function O5(s,{relative:t}={}){It(rr(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:l}=_.useContext(cn),{hash:r,pathname:c,search:u}=Ro(s,{relative:t}),f=c;return a!=="/"&&(f=c==="/"?a:_a([a,c])),l.createHref({pathname:f,search:u,hash:r})}function rr(){return _.useContext(Do)!=null}function na(){return It(rr(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Do).location}var Ab="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kb(s){_.useContext(cn).static||_.useLayoutEffect(s)}function yt(){let{isDataRoute:s}=_.useContext(qn);return s?G5():z5()}function z5(){It(rr(),"useNavigate() may be used only in the context of a <Router> component.");let s=_.useContext(lr),{basename:t,navigator:a}=_.useContext(cn),{matches:l}=_.useContext(qn),{pathname:r}=na(),c=JSON.stringify(Ef(l)),u=_.useRef(!1);return kb(()=>{u.current=!0}),_.useCallback((h,x={})=>{if(wn(u.current,Ab),!u.current)return;if(typeof h=="number"){a.go(h);return}let m=Af(h,JSON.parse(c),r,x.relative==="path");s==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:_a([t,m.pathname])),(x.replace?a.replace:a.push)(m,x.state,x)},[t,a,c,r,s])}_.createContext(null);function xi(){let{matches:s}=_.useContext(qn),t=s[s.length-1];return t?t.params:{}}function Ro(s,{relative:t}={}){let{matches:a}=_.useContext(qn),{pathname:l}=na(),r=JSON.stringify(Ef(a));return _.useMemo(()=>Af(s,JSON.parse(r),l,t==="path"),[s,r,l,t])}function L5(s,t){return Db(s,t)}function Db(s,t,a,l,r){It(rr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=_.useContext(cn),{matches:u}=_.useContext(qn),f=u[u.length-1],h=f?f.params:{},x=f?f.pathname:"/",m=f?f.pathnameBase:"/",g=f&&f.route;{let k=g&&g.path||"";Tb(x,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=na(),N;if(t){let k=typeof t=="string"?ir(t):t;It(m==="/"||k.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),N=k}else N=y;let j=N.pathname||"/",S=j;if(m!=="/"){let k=m.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=bb(s,{pathname:S});wn(g||b!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),wn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=B5(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:_a([m,c.encodeLocation?c.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:_a([m,c.encodeLocation?c.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,a,l,r);return t&&C?_.createElement(Do.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},C):C}function U5(){let s=Q5(),t=S5(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},u=null;return console.error("Error handled by React Router default ErrorBoundary:",s),u=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:c},"ErrorBoundary")," or"," ",_.createElement("code",{style:c},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),a?_.createElement("pre",{style:r},a):null,u)}var H5=_.createElement(U5,null),Rb=class extends _.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const a=M5(s.digest);a&&(s=a)}let t=s!==void 0?_.createElement(qn.Provider,{value:this.props.routeContext},_.createElement(kf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?_.createElement(P5,{error:s},t):t}};Rb.contextType=E5;var Eh=new WeakMap;function P5({children:s,error:t}){let{basename:a}=_.useContext(cn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let l=T5(t.digest);if(l){let r=Eh.get(t);if(r)throw r;let c=Sb(l.location,a);if(wb&&!Eh.get(t))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw Eh.set(t,u),u}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function q5({routeContext:s,match:t,children:a}){let l=_.useContext(lr);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(qn.Provider,{value:s},a)}function B5(s,t=[],a=null,l=null,r=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let c=s,u=a?.errors;if(u!=null){let m=c.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);It(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(a)for(let m=0;m<c.length;m++){let g=c[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:y,errors:N}=a,j=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||j){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}let x=a&&l?(m,g)=>{l(m,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:_5(a.matches),errorInfo:g})}:void 0;return c.reduceRight((m,g,y)=>{let N,j=!1,S=null,b=null;a&&(N=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||H5,f&&(h<0&&y===0?(Tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,b=null):h===y&&(j=!0,b=g.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,y+1)),k=()=>{let E;return N?E=S:j?E=b:g.route.Component?E=_.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=m,_.createElement(q5,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:a!=null},children:E})};return a&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?_.createElement(Rb,{location:a.location,revalidation:a.revalidation,component:S,error:N,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:x}):k()},null)}function Df(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I5(s){let t=_.useContext(lr);return It(t,Df(s)),t}function F5(s){let t=_.useContext($d);return It(t,Df(s)),t}function $5(s){let t=_.useContext(qn);return It(t,Df(s)),t}function Rf(s){let t=$5(s),a=t.matches[t.matches.length-1];return It(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function V5(){return Rf("useRouteId")}function Q5(){let s=_.useContext(kf),t=F5("useRouteError"),a=Rf("useRouteError");return s!==void 0?s:t.errors?.[a]}function G5(){let{router:s}=I5("useNavigate"),t=Rf("useNavigate"),a=_.useRef(!1);return kb(()=>{a.current=!0}),_.useCallback(async(r,c={})=>{wn(a.current,Ab),a.current&&(typeof r=="number"?await s.navigate(r):await s.navigate(r,{fromRouteId:t,...c}))},[s,t])}var Uv={};function Tb(s,t,a){!t&&!Uv[s]&&(Uv[s]=!0,wn(!1,a))}_.memo(Y5);function Y5({routes:s,future:t,state:a,onError:l}){return Db(s,void 0,a,l,t)}function $i({to:s,replace:t,state:a,relative:l}){It(rr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=_.useContext(cn);wn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=_.useContext(qn),{pathname:u}=na(),f=yt(),h=Af(s,Ef(c),u,l==="path"),x=JSON.stringify(h);return _.useEffect(()=>{f(JSON.parse(x),{replace:t,state:a,relative:l})},[f,x,l,t,a]),null}function Ke(s){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W5({basename:s="/",children:t=null,location:a,navigationType:l="POP",navigator:r,static:c=!1,unstable_useTransitions:u}){It(!rr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:f,navigator:r,static:c,unstable_useTransitions:u,future:{}}),[f,r,c,u]);typeof a=="string"&&(a=ir(a));let{pathname:x="/",search:m="",hash:g="",state:y=null,key:N="default"}=a,j=_.useMemo(()=>{let S=Aa(x,f);return S==null?null:{location:{pathname:S,search:m,hash:g,state:y,key:N},navigationType:l}},[f,x,m,g,y,N,l]);return wn(j!=null,`<Router basename="${f}"> is not able to match the URL "${x}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:_.createElement(cn.Provider,{value:h},_.createElement(Do.Provider,{children:t,value:j}))}function K5({children:s,location:t}){return L5(Zh(s),t)}function Zh(s,t=[]){let a=[];return _.Children.forEach(s,(l,r)=>{if(!_.isValidElement(l))return;let c=[...t,r];if(l.type===_.Fragment){a.push.apply(a,Zh(l.props.children,c));return}It(l.type===Ke,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!l.props.index||!l.props.children,"An index route cannot have child routes.");let u={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(u.children=Zh(l.props.children,c)),a.push(u)}),a}var cd="get",dd="application/x-www-form-urlencoded";function Vd(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Z5(s){return Vd(s)&&s.tagName.toLowerCase()==="button"}function X5(s){return Vd(s)&&s.tagName.toLowerCase()==="form"}function J5(s){return Vd(s)&&s.tagName.toLowerCase()==="input"}function eS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function tS(s,t){return s.button===0&&(!t||t==="_self")&&!eS(s)}function Xh(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((t,a)=>{let l=s[a];return t.concat(Array.isArray(l)?l.map(r=>[a,r]):[[a,l]])},[]))}function sS(s,t){let a=Xh(s);return t&&t.forEach((l,r)=>{a.has(r)||t.getAll(r).forEach(c=>{a.append(r,c)})}),a}var Jc=null;function nS(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var aS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ah(s){return s!=null&&!aS.has(s)?(wn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dd}"`),null):s}function iS(s,t){let a,l,r,c,u;if(X5(s)){let f=s.getAttribute("action");l=f?Aa(f,t):null,a=s.getAttribute("method")||cd,r=Ah(s.getAttribute("enctype"))||dd,c=new FormData(s)}else if(Z5(s)||J5(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=s.getAttribute("formaction")||f.getAttribute("action");if(l=h?Aa(h,t):null,a=s.getAttribute("formmethod")||f.getAttribute("method")||cd,r=Ah(s.getAttribute("formenctype"))||Ah(f.getAttribute("enctype"))||dd,c=new FormData(f,s),!nS()){let{name:x,type:m,value:g}=s;if(m==="image"){let y=x?`${x}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else x&&c.append(x,g)}}else{if(Vd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=cd,l=null,r=dd,u=s}return c&&r==="text/plain"&&(u=c,c=void 0),{action:l,method:a.toLowerCase(),encType:r,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tf(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function lS(s,t,a,l){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${l}`:r.pathname=`${r.pathname}.${l}`:r.pathname==="/"?r.pathname=`_root.${l}`:t&&Aa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${l}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${l}`,r}async function rS(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function cS(s,t,a){let l=await Promise.all(s.map(async r=>{let c=t.routes[r.route.id];if(c){let u=await rS(c,a);return u.links?u.links():[]}return[]}));return hS(l.flat(1).filter(oS).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Hv(s,t,a,l,r,c){let u=(h,x)=>a[x]?h.route.id!==a[x].route.id:!0,f=(h,x)=>a[x].pathname!==h.pathname||a[x].route.path?.endsWith("*")&&a[x].params["*"]!==h.params["*"];return c==="assets"?t.filter((h,x)=>u(h,x)||f(h,x)):c==="data"?t.filter((h,x)=>{let m=l.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(u(h,x)||f(h,x))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function dS(s,t,{includeHydrateFallback:a}={}){return uS(s.map(l=>{let r=t.routes[l.route.id];if(!r)return[];let c=[r.module];return r.clientActionModule&&(c=c.concat(r.clientActionModule)),r.clientLoaderModule&&(c=c.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(c=c.concat(r.hydrateFallbackModule)),r.imports&&(c=c.concat(r.imports)),c}).flat(1))}function uS(s){return[...new Set(s)]}function mS(s){let t={},a=Object.keys(s).sort();for(let l of a)t[l]=s[l];return t}function hS(s,t){let a=new Set;return new Set(t),s.reduce((l,r)=>{let c=JSON.stringify(mS(r));return a.has(c)||(a.add(c),l.push({key:c,link:r})),l},[])}function Mb(){let s=_.useContext(lr);return Tf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function fS(){let s=_.useContext($d);return Tf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Mf=_.createContext(void 0);Mf.displayName="FrameworkContext";function Ob(){let s=_.useContext(Mf);return Tf(s,"You must render this element inside a <HydratedRouter> element"),s}function xS(s,t){let a=_.useContext(Mf),[l,r]=_.useState(!1),[c,u]=_.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:x,onMouseLeave:m,onTouchStart:g}=t,y=_.useRef(null);_.useEffect(()=>{if(s==="render"&&u(!0),s==="viewport"){let S=C=>{C.forEach(k=>{u(k.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[s]),_.useEffect(()=>{if(l){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[l]);let N=()=>{r(!0)},j=()=>{r(!1),u(!1)};return a?s!=="intent"?[c,y,{}]:[c,y,{onFocus:uo(f,N),onBlur:uo(h,j),onMouseEnter:uo(x,N),onMouseLeave:uo(m,j),onTouchStart:uo(g,N)}]:[!1,y,{}]}function uo(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function pS({page:s,...t}){let{router:a}=Mb(),l=_.useMemo(()=>bb(a.routes,s,a.basename),[a.routes,s,a.basename]);return l?_.createElement(vS,{page:s,matches:l,...t}):null}function gS(s){let{manifest:t,routeModules:a}=Ob(),[l,r]=_.useState([]);return _.useEffect(()=>{let c=!1;return cS(s,t,a).then(u=>{c||r(u)}),()=>{c=!0}},[s,t,a]),l}function vS({page:s,matches:t,...a}){let l=na(),{future:r,manifest:c,routeModules:u}=Ob(),{basename:f}=Mb(),{loaderData:h,matches:x}=fS(),m=_.useMemo(()=>Hv(s,t,x,c,l,"data"),[s,t,x,c,l]),g=_.useMemo(()=>Hv(s,t,x,c,l,"assets"),[s,t,x,c,l]),y=_.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let S=new Set,b=!1;if(t.forEach(k=>{let E=c.routes[k.route.id];!E||!E.hasLoader||(!m.some(M=>M.route.id===k.route.id)&&k.route.id in h&&u[k.route.id]?.shouldRevalidate||E.hasClientLoader?b=!0:S.add(k.route.id))}),S.size===0)return[];let C=lS(s,f,r.unstable_trailingSlashAwareDataRequests,"data");return b&&S.size>0&&C.searchParams.set("_routes",t.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[f,r.unstable_trailingSlashAwareDataRequests,h,l,c,m,t,s,u]),N=_.useMemo(()=>dS(g,c),[g,c]),j=gS(g);return _.createElement(_.Fragment,null,y.map(S=>_.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),N.map(S=>_.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),j.map(({key:S,link:b})=>_.createElement("link",{key:S,nonce:a.nonce,...b,crossOrigin:b.crossOrigin??a.crossOrigin})))}function yS(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bS&&(window.__reactRouterVersion="7.13.0")}catch{}function jS({basename:s,children:t,unstable_useTransitions:a,window:l}){let r=_.useRef();r.current==null&&(r.current=e5({window:l,v5Compat:!0}));let c=r.current,[u,f]=_.useState({action:c.action,location:c.location}),h=_.useCallback(x=>{a===!1?f(x):_.startTransition(()=>f(x))},[a]);return _.useLayoutEffect(()=>c.listen(h),[c,h]),_.createElement(W5,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:a})}var zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=_.forwardRef(function({onClick:t,discover:a="render",prefetch:l="none",relative:r,reloadDocument:c,replace:u,state:f,target:h,to:x,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y,...N},j){let{basename:S,unstable_useTransitions:b}=_.useContext(cn),C=typeof x=="string"&&zb.test(x),k=Sb(x,S);x=k.to;let E=O5(x,{relative:r}),[M,z,Q]=xS(l,N),R=SS(x,{replace:u,state:f,target:h,preventScrollReset:m,relative:r,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:b});function q(ye){t&&t(ye),ye.defaultPrevented||R(ye)}let ve=_.createElement("a",{...N,...Q,href:k.absoluteURL||E,onClick:k.isExternal||c?t:q,ref:yS(j,z),target:h,"data-discover":!C&&a==="render"?"true":void 0});return M&&!C?_.createElement(_.Fragment,null,ve,_.createElement(pS,{page:E})):ve});Vt.displayName="Link";var Lb=_.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:l="",end:r=!1,style:c,to:u,viewTransition:f,children:h,...x},m){let g=Ro(u,{relative:x.relative}),y=na(),N=_.useContext($d),{navigator:j,basename:S}=_.useContext(cn),b=N!=null&&kS(g)&&f===!0,C=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,k=y.pathname,E=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(k=k.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&S&&(E=Aa(E,S)||E);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=k===C||!r&&k.startsWith(C)&&k.charAt(M)==="/",Q=E!=null&&(E===C||!r&&E.startsWith(C)&&E.charAt(C.length)==="/"),R={isActive:z,isPending:Q,isTransitioning:b},q=z?t:void 0,ve;typeof l=="function"?ve=l(R):ve=[l,z?"active":null,Q?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let ye=typeof c=="function"?c(R):c;return _.createElement(Vt,{...x,"aria-current":q,className:ve,ref:m,style:ye,to:u,viewTransition:f},typeof h=="function"?h(R):h)});Lb.displayName="NavLink";var NS=_.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:l,replace:r,state:c,method:u=cd,action:f,onSubmit:h,relative:x,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y,...N},j)=>{let{unstable_useTransitions:S}=_.useContext(cn),b=ES(),C=AS(f,{relative:x}),k=u.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&zb.test(f),M=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let Q=z.nativeEvent.submitter,R=Q?.getAttribute("formmethod")||u,q=()=>b(Q||z.currentTarget,{fetcherKey:t,method:R,navigate:a,replace:r,state:c,relative:x,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&a!==!1?_.startTransition(()=>q()):q()};return _.createElement("form",{ref:j,method:k,action:C,onSubmit:l?h:M,...N,"data-discover":!E&&s==="render"?"true":void 0})});NS.displayName="Form";function wS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ub(s){let t=_.useContext(lr);return It(t,wS(s)),t}function SS(s,{target:t,replace:a,state:l,preventScrollReset:r,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let x=yt(),m=na(),g=Ro(s,{relative:c});return _.useCallback(y=>{if(tS(y,t)){y.preventDefault();let N=a!==void 0?a:jo(m)===jo(g),j=()=>x(s,{replace:N,state:l,preventScrollReset:r,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:f});h?_.startTransition(()=>j()):j()}},[m,x,g,a,l,t,s,r,c,u,f,h])}function Of(s){wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(Xh(s)),a=_.useRef(!1),l=na(),r=_.useMemo(()=>sS(l.search,a.current?null:t.current),[l.search]),c=yt(),u=_.useCallback((f,h)=>{const x=Xh(typeof f=="function"?f(new URLSearchParams(r)):f);a.current=!0,c("?"+x,h)},[c,r]);return[r,u]}var _S=0,CS=()=>`__${String(++_S)}__`;function ES(){let{router:s}=Ub("useSubmit"),{basename:t}=_.useContext(cn),a=V5(),l=s.fetch,r=s.navigate;return _.useCallback(async(c,u={})=>{let{action:f,method:h,encType:x,formData:m,body:g}=iS(c,t);if(u.navigate===!1){let y=u.fetcherKey||CS();await l(y,a,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:g,formMethod:u.method||h,formEncType:u.encType||x,flushSync:u.flushSync})}else await r(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:g,formMethod:u.method||h,formEncType:u.encType||x,replace:u.replace,state:u.state,fromRouteId:a,flushSync:u.flushSync,viewTransition:u.viewTransition})},[l,r,t,a])}function AS(s,{relative:t}={}){let{basename:a}=_.useContext(cn),l=_.useContext(qn);It(l,"useFormAction must be used inside a RouteContext");let[r]=l.matches.slice(-1),c={...Ro(s||".",{relative:t})},u=na();if(s==null){c.search=u.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(m=>m==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let m=f.toString();c.search=m?`?${m}`:""}}return(!s||s===".")&&r.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:_a([a,c.pathname])),jo(c)}function kS(s,{relative:t}={}){let a=_.useContext(Cb);It(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Ub("useViewTransitionState"),r=Ro(s,{relative:t});if(!a.isTransitioning)return!1;let c=Aa(a.currentLocation.pathname,l)||a.currentLocation.pathname,u=Aa(a.nextLocation.pathname,l)||a.nextLocation.pathname;return yd(r.pathname,u)!=null||yd(r.pathname,c)!=null}var bd=yb();const DS=vb(bd);var or=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},RS={setTimeout:(s,t)=>setTimeout(s,t),clearTimeout:s=>clearTimeout(s),setInterval:(s,t)=>setInterval(s,t),clearInterval:s=>clearInterval(s)},TS=class{#e=RS;#t=!1;setTimeoutProvider(s){this.#e=s}setTimeout(s,t){return this.#e.setTimeout(s,t)}clearTimeout(s){this.#e.clearTimeout(s)}setInterval(s,t){return this.#e.setInterval(s,t)}clearInterval(s){this.#e.clearInterval(s)}},Fi=new TS;function MS(s){setTimeout(s,0)}var Gi=typeof window>"u"||"Deno"in globalThis;function Rs(){}function OS(s,t){return typeof s=="function"?s(t):s}function Jh(s){return typeof s=="number"&&s>=0&&s!==1/0}function Hb(s,t){return Math.max(s+(t||0)-Date.now(),0)}function ri(s,t){return typeof s=="function"?s(t):s}function Nn(s,t){return typeof s=="function"?s(t):s}function Pv(s,t){const{type:a="all",exact:l,fetchStatus:r,predicate:c,queryKey:u,stale:f}=s;if(u){if(l){if(t.queryHash!==zf(u,t.options))return!1}else if(!No(t.queryKey,u))return!1}if(a!=="all"){const h=t.isActive();if(a==="active"&&!h||a==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||r&&r!==t.state.fetchStatus||c&&!c(t))}function qv(s,t){const{exact:a,status:l,predicate:r,mutationKey:c}=s;if(c){if(!t.options.mutationKey)return!1;if(a){if(Yi(t.options.mutationKey)!==Yi(c))return!1}else if(!No(t.options.mutationKey,c))return!1}return!(l&&t.state.status!==l||r&&!r(t))}function zf(s,t){return(t?.queryKeyHashFn||Yi)(s)}function Yi(s){return JSON.stringify(s,(t,a)=>ef(a)?Object.keys(a).sort().reduce((l,r)=>(l[r]=a[r],l),{}):a)}function No(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(a=>No(s[a],t[a])):!1}var zS=Object.prototype.hasOwnProperty;function Pb(s,t,a=0){if(s===t)return s;if(a>500)return t;const l=Bv(s)&&Bv(t);if(!l&&!(ef(s)&&ef(t)))return t;const c=(l?s:Object.keys(s)).length,u=l?t:Object.keys(t),f=u.length,h=l?new Array(f):{};let x=0;for(let m=0;m<f;m++){const g=l?m:u[m],y=s[g],N=t[g];if(y===N){h[g]=y,(l?m<c:zS.call(s,g))&&x++;continue}if(y===null||N===null||typeof y!="object"||typeof N!="object"){h[g]=N;continue}const j=Pb(y,N,a+1);h[g]=j,j===y&&x++}return c===f&&x===c?s:h}function jd(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const a in s)if(s[a]!==t[a])return!1;return!0}function Bv(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function ef(s){if(!Iv(s))return!1;const t=s.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!Iv(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Iv(s){return Object.prototype.toString.call(s)==="[object Object]"}function LS(s){return new Promise(t=>{Fi.setTimeout(t,s)})}function tf(s,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(s,t):a.structuralSharing!==!1?Pb(s,t):t}function US(s,t,a=0){const l=[...s,t];return a&&l.length>a?l.slice(1):l}function HS(s,t,a=0){const l=[t,...s];return a&&l.length>a?l.slice(0,-1):l}var Lf=Symbol();function qb(s,t){return!s.queryFn&&t?.initialPromise?()=>t.initialPromise:!s.queryFn||s.queryFn===Lf?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Uf(s,t){return typeof s=="function"?s(...t):!!s}function PS(s,t,a){let l=!1,r;return Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(r??=t(),l||(l=!0,r.aborted?a():r.addEventListener("abort",a,{once:!0})),r)}),s}var qS=class extends or{#e;#t;#s;constructor(){super(),this.#s=s=>{if(!Gi&&window.addEventListener){const t=()=>s();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#s=s,this.#t?.(),this.#t=s(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(t=>{t(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Hf=new qS;function sf(){let s,t;const a=new Promise((r,c)=>{s=r,t=c});a.status="pending",a.catch(()=>{});function l(r){Object.assign(a,r),delete a.resolve,delete a.reject}return a.resolve=r=>{l({status:"fulfilled",value:r}),s(r)},a.reject=r=>{l({status:"rejected",reason:r}),t(r)},a}var BS=MS;function IS(){let s=[],t=0,a=f=>{f()},l=f=>{f()},r=BS;const c=f=>{t?s.push(f):r(()=>{a(f)})},u=()=>{const f=s;s=[],f.length&&r(()=>{l(()=>{f.forEach(h=>{a(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{a=f},setBatchNotifyFunction:f=>{l=f},setScheduler:f=>{r=f}}}var rs=IS(),FS=class extends or{#e=!0;#t;#s;constructor(){super(),this.#s=s=>{if(!Gi&&window.addEventListener){const t=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#s=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(a=>{a(s)}))}isOnline(){return this.#e}},Nd=new FS;function $S(s){return Math.min(1e3*2**s,3e4)}function Bb(s){return(s??"online")==="online"?Nd.isOnline():!0}var nf=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function Ib(s){let t=!1,a=0,l;const r=sf(),c=()=>r.status!=="pending",u=S=>{if(!c()){const b=new nf(S);y(b),s.onCancel?.(b)}},f=()=>{t=!0},h=()=>{t=!1},x=()=>Hf.isFocused()&&(s.networkMode==="always"||Nd.isOnline())&&s.canRun(),m=()=>Bb(s.networkMode)&&s.canRun(),g=S=>{c()||(l?.(),r.resolve(S))},y=S=>{c()||(l?.(),r.reject(S))},N=()=>new Promise(S=>{l=b=>{(c()||x())&&S(b)},s.onPause?.()}).then(()=>{l=void 0,c()||s.onContinue?.()}),j=()=>{if(c())return;let S;const b=a===0?s.initialPromise:void 0;try{S=b??s.fn()}catch(C){S=Promise.reject(C)}Promise.resolve(S).then(g).catch(C=>{if(c())return;const k=s.retry??(Gi?0:3),E=s.retryDelay??$S,M=typeof E=="function"?E(a,C):E,z=k===!0||typeof k=="number"&&a<k||typeof k=="function"&&k(a,C);if(t||!z){y(C);return}a++,s.onFail?.(a,C),LS(M).then(()=>x()?void 0:N()).then(()=>{t?y(C):j()})})};return{promise:r,status:()=>r.status,cancel:u,continue:()=>(l?.(),r),cancelRetry:f,continueRetry:h,canStart:m,start:()=>(m()?j():N().then(j),r)}}var Fb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jh(this.gcTime)&&(this.#e=Fi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Gi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Fi.clearTimeout(this.#e),this.#e=void 0)}},VS=class extends Fb{#e;#t;#s;#a;#n;#l;#r;constructor(s){super(),this.#r=!1,this.#l=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#a=s.client,this.#s=this.#a.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=$v(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(s){if(this.options={...this.#l,...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=$v(this.options);t.data!==void 0&&(this.setState(Fv(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(s,t){const a=tf(this.state.data,s,this.options);return this.#i({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(s,t){this.#i({type:"setState",state:s,setStateOptions:t})}cancel(s){const t=this.#n?.promise;return this.#n?.cancel(s),t?t.then(Rs).catch(Rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>Nn(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ri(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Hb(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(t=>t!==s),this.observers.length||(this.#n&&(this.#r?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(s,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(s&&this.setOptions(s),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const a=new AbortController,l=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#r=!0,a.signal)})},r=()=>{const f=qb(this.options,t),x=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return l(m),m})();return this.#r=!1,this.options.persister?this.options.persister(f,x,this):f(x)},u=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:r};return l(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#n=Ib({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof nf&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(f,h)=>{this.#i({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#n.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#s.config.onSuccess?.(f,this),this.#s.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof nf){if(f.silent)return this.#n.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#s.config.onError?.(f,this),this.#s.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(s){const t=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...$b(a.data,this.options),fetchMeta:s.meta??null};case"success":const l={...a,...Fv(s.data,s.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=s.manual?l:void 0,l;case"error":const r=s.error;return{...a,error:r,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=t(this.state),rs.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:s})})}};function $b(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bb(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Fv(s,t){return{data:s,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $v(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,a=t!==void 0,l=a?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var QS=class extends or{constructor(s,t){super(),this.options=t,this.#e=s,this.#i=null,this.#r=sf(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#a=void 0;#n;#l;#r;#i;#x;#m;#h;#c;#d;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Vv(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return af(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return af(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(s){const t=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!jd(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Qv(this.#t,a,this.options,t)&&this.#u(),this.updateResult(),l&&(this.#t!==a||Nn(this.options.enabled,this.#t)!==Nn(t.enabled,this.#t)||ri(this.options.staleTime,this.#t)!==ri(t.staleTime,this.#t))&&this.#p();const r=this.#g();l&&(this.#t!==a||Nn(this.options.enabled,this.#t)!==Nn(t.enabled,this.#t)||r!==this.#o)&&this.#v(r)}getOptimisticResult(s){const t=this.#e.getQueryCache().build(this.#e,s),a=this.createResult(t,s);return YS(this,a)&&(this.#a=a,this.#l=this.options,this.#n=this.#t.state),a}getCurrentResult(){return this.#a}trackResult(s,t){return new Proxy(s,{get:(a,l)=>(this.trackProp(l),t?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,l))})}trackProp(s){this.#f.add(s)}getCurrentQuery(){return this.#t}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const t=this.#e.defaultQueryOptions(s),a=this.#e.getQueryCache().build(this.#e,t);return a.fetch().then(()=>this.createResult(a,t))}fetch(s){return this.#u({...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#u(s){this.#N();let t=this.#t.fetch(this.options,s);return s?.throwOnError||(t=t.catch(Rs)),t}#p(){this.#b();const s=ri(this.options.staleTime,this.#t);if(Gi||this.#a.isStale||!Jh(s))return;const a=Hb(this.#a.dataUpdatedAt,s)+1;this.#c=Fi.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(s){this.#j(),this.#o=s,!(Gi||Nn(this.options.enabled,this.#t)===!1||!Jh(this.#o)||this.#o===0)&&(this.#d=Fi.setInterval(()=>{(this.options.refetchIntervalInBackground||Hf.isFocused())&&this.#u()},this.#o))}#y(){this.#p(),this.#v(this.#g())}#b(){this.#c&&(Fi.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(Fi.clearInterval(this.#d),this.#d=void 0)}createResult(s,t){const a=this.#t,l=this.options,r=this.#a,c=this.#n,u=this.#l,h=s!==a?s.state:this.#s,{state:x}=s;let m={...x},g=!1,y;if(t._optimisticResults){const q=this.hasListeners(),ve=!q&&Vv(s,t),ye=q&&Qv(s,a,t,l);(ve||ye)&&(m={...m,...$b(x.data,s.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:N,errorUpdatedAt:j,status:S}=m;y=m.data;let b=!1;if(t.placeholderData!==void 0&&y===void 0&&S==="pending"){let q;r?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(q=r.data,b=!0):q=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,q!==void 0&&(S="success",y=tf(r?.data,q,t),g=!0)}if(t.select&&y!==void 0&&!b)if(r&&y===c?.data&&t.select===this.#x)y=this.#m;else try{this.#x=t.select,y=t.select(y),y=tf(r?.data,y,t),this.#m=y,this.#i=null}catch(q){this.#i=q}this.#i&&(N=this.#i,y=this.#m,j=Date.now(),S="error");const C=m.fetchStatus==="fetching",k=S==="pending",E=S==="error",M=k&&C,z=y!==void 0,R={status:S,fetchStatus:m.fetchStatus,isPending:k,isSuccess:S==="success",isError:E,isInitialLoading:M,isLoading:M,data:y,dataUpdatedAt:m.dataUpdatedAt,error:N,errorUpdatedAt:j,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!k,isLoadingError:E&&!z,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&z,isStale:Pf(s,t),refetch:this.refetch,promise:this.#r,isEnabled:Nn(t.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const q=R.data!==void 0,ve=R.status==="error"&&!q,ye=xe=>{ve?xe.reject(R.error):q&&xe.resolve(R.data)},oe=()=>{const xe=this.#r=R.promise=sf();ye(xe)},F=this.#r;switch(F.status){case"pending":s.queryHash===a.queryHash&&ye(F);break;case"fulfilled":(ve||R.data!==F.value)&&oe();break;case"rejected":(!ve||R.error!==F.reason)&&oe();break}}return R}updateResult(){const s=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#l=this.options,this.#n.data!==void 0&&(this.#h=this.#t),jd(t,s))return;this.#a=t;const a=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,r=typeof l=="function"?l():l;if(r==="all"||!r&&!this.#f.size)return!0;const c=new Set(r??this.#f);return this.options.throwOnError&&c.add("error"),Object.keys(this.#a).some(u=>{const f=u;return this.#a[f]!==s[f]&&c.has(f)})};this.#w({listeners:a()})}#N(){const s=this.#e.getQueryCache().build(this.#e,this.options);if(s===this.#t)return;const t=this.#t;this.#t=s,this.#s=s.state,this.hasListeners()&&(t?.removeObserver(this),s.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(s){rs.batch(()=>{s.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function GS(s,t){return Nn(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Vv(s,t){return GS(s,t)||s.state.data!==void 0&&af(s,t,t.refetchOnMount)}function af(s,t,a){if(Nn(t.enabled,s)!==!1&&ri(t.staleTime,s)!=="static"){const l=typeof a=="function"?a(s):a;return l==="always"||l!==!1&&Pf(s,t)}return!1}function Qv(s,t,a,l){return(s!==t||Nn(l.enabled,s)===!1)&&(!a.suspense||s.state.status!=="error")&&Pf(s,a)}function Pf(s,t){return Nn(t.enabled,s)!==!1&&s.isStaleByTime(ri(t.staleTime,s))}function YS(s,t){return!jd(s.getCurrentResult(),t)}function Gv(s){return{onFetch:(t,a)=>{const l=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const x=async()=>{let m=!1;const g=j=>{PS(j,()=>t.signal,()=>m=!0)},y=qb(t.options,t.fetchOptions),N=async(j,S,b)=>{if(m)return Promise.reject();if(S==null&&j.pages.length)return Promise.resolve(j);const k=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:S,direction:b?"backward":"forward",meta:t.options.meta};return g(Q),Q})(),E=await y(k),{maxPages:M}=t.options,z=b?HS:US;return{pages:z(j.pages,E,M),pageParams:z(j.pageParams,S,M)}};if(r&&c.length){const j=r==="backward",S=j?WS:Yv,b={pages:c,pageParams:u},C=S(l,b);f=await N(b,C,j)}else{const j=s??c.length;do{const S=h===0?u[0]??l.initialPageParam:Yv(l,f);if(h>0&&S==null)break;f=await N(f,S),h++}while(h<j)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(x,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=x}}}function Yv(s,{pages:t,pageParams:a}){const l=t.length-1;return t.length>0?s.getNextPageParam(t[l],t,a[l],a):void 0}function WS(s,{pages:t,pageParams:a}){return t.length>0?s.getPreviousPageParam?.(t[0],t,a[0],a):void 0}var KS=class extends Fb{#e;#t;#s;#a;constructor(s){super(),this.#e=s.client,this.mutationId=s.mutationId,this.#s=s.mutationCache,this.#t=[],this.state=s.state||Vb(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(t=>t!==s),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(s){const t=()=>{this.#n({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Ib({fn:()=>this.options.mutationFn?this.options.mutationFn(s,a):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#n({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const l=this.state.status==="pending",r=!this.#a.canStart();try{if(l)t();else{this.#n({type:"pending",variables:s,isPaused:r}),this.#s.config.onMutate&&await this.#s.config.onMutate(s,this,a);const u=await this.options.onMutate?.(s,a);u!==this.state.context&&this.#n({type:"pending",context:u,variables:s,isPaused:r})}const c=await this.#a.start();return await this.#s.config.onSuccess?.(c,s,this.state.context,this,a),await this.options.onSuccess?.(c,s,this.state.context,a),await this.#s.config.onSettled?.(c,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(c,null,s,this.state.context,a),this.#n({type:"success",data:c}),c}catch(c){try{await this.#s.config.onError?.(c,s,this.state.context,this,a)}catch(u){Promise.reject(u)}try{await this.options.onError?.(c,s,this.state.context,a)}catch(u){Promise.reject(u)}try{await this.#s.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,a)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,c,s,this.state.context,a)}catch(u){Promise.reject(u)}throw this.#n({type:"error",error:c}),c}finally{this.#s.runNext(this)}}#n(s){const t=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=t(this.state),rs.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(s)}),this.#s.notify({mutation:this,type:"updated",action:s})})}};function Vb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ZS=class extends or{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(s,t,a){const l=new KS({client:s,mutationCache:this,mutationId:++this.#s,options:s.defaultMutationOptions(t),state:a});return this.add(l),l}add(s){this.#e.add(s);const t=ed(s);if(typeof t=="string"){const a=this.#t.get(t);a?a.push(s):this.#t.set(t,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const t=ed(s);if(typeof t=="string"){const a=this.#t.get(t);if(a)if(a.length>1){const l=a.indexOf(s);l!==-1&&a.splice(l,1)}else a[0]===s&&this.#t.delete(t)}}this.notify({type:"removed",mutation:s})}canRun(s){const t=ed(s);if(typeof t=="string"){const l=this.#t.get(t)?.find(r=>r.state.status==="pending");return!l||l===s}else return!0}runNext(s){const t=ed(s);return typeof t=="string"?this.#t.get(t)?.find(l=>l!==s&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){rs.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const t={exact:!0,...s};return this.getAll().find(a=>qv(t,a))}findAll(s={}){return this.getAll().filter(t=>qv(s,t))}notify(s){rs.batch(()=>{this.listeners.forEach(t=>{t(s)})})}resumePausedMutations(){const s=this.getAll().filter(t=>t.state.isPaused);return rs.batch(()=>Promise.all(s.map(t=>t.continue().catch(Rs))))}};function ed(s){return s.options.scope?.id}var XS=class extends or{#e;#t=void 0;#s;#a;constructor(t,a){super(),this.#e=t,this.setOptions(a),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const a=this.options;this.options=this.#e.defaultMutationOptions(t),jd(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),a?.mutationKey&&this.options.mutationKey&&Yi(a.mutationKey)!==Yi(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#l(t)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#l()}mutate(t,a){return this.#a=a,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){const t=this.#s?.state??Vb();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#l(t){rs.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#t.variables,l=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,a,l,r)}catch(c){Promise.reject(c)}try{this.#a.onSettled?.(t.data,null,a,l,r)}catch(c){Promise.reject(c)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,a,l,r)}catch(c){Promise.reject(c)}try{this.#a.onSettled?.(void 0,t.error,a,l,r)}catch(c){Promise.reject(c)}}}this.listeners.forEach(a=>{a(this.#t)})})}},JS=class extends or{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,t,a){const l=t.queryKey,r=t.queryHash??zf(l,t);let c=this.get(r);return c||(c=new VS({client:s,queryKey:l,queryHash:r,options:s.defaultQueryOptions(t),state:a,defaultOptions:s.getQueryDefaults(l)}),this.add(c)),c}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const t=this.#e.get(s.queryHash);t&&(s.destroy(),t===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){rs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const t={exact:!0,...s};return this.getAll().find(a=>Pv(t,a))}findAll(s={}){const t=this.getAll();return Object.keys(s).length>0?t.filter(a=>Pv(s,a)):t}notify(s){rs.batch(()=>{this.listeners.forEach(t=>{t(s)})})}onFocus(){rs.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){rs.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},e_=class{#e;#t;#s;#a;#n;#l;#r;#i;constructor(s={}){this.#e=s.queryCache||new JS,this.#t=s.mutationCache||new ZS,this.#s=s.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#r=Hf.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Nd.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#r?.(),this.#r=void 0,this.#i?.(),this.#i=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(s){const t=this.defaultQueryOptions(s),a=this.#e.build(this,t),l=a.state.data;return l===void 0?this.fetchQuery(s):(s.revalidateIfStale&&a.isStaleByTime(ri(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(l))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:t,state:a})=>{const l=a.data;return[t,l]})}setQueryData(s,t,a){const l=this.defaultQueryOptions({queryKey:s}),c=this.#e.get(l.queryHash)?.state.data,u=OS(t,c);if(u!==void 0)return this.#e.build(this,l).setData(u,{...a,manual:!0})}setQueriesData(s,t,a){return rs.batch(()=>this.#e.findAll(s).map(({queryKey:l})=>[l,this.setQueryData(l,t,a)]))}getQueryState(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state}removeQueries(s){const t=this.#e;rs.batch(()=>{t.findAll(s).forEach(a=>{t.remove(a)})})}resetQueries(s,t){const a=this.#e;return rs.batch(()=>(a.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...s},t)))}cancelQueries(s,t={}){const a={revert:!0,...t},l=rs.batch(()=>this.#e.findAll(s).map(r=>r.cancel(a)));return Promise.all(l).then(Rs).catch(Rs)}invalidateQueries(s,t={}){return rs.batch(()=>(this.#e.findAll(s).forEach(a=>{a.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},t)))}refetchQueries(s,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},l=rs.batch(()=>this.#e.findAll(s).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let c=r.fetch(void 0,a);return a.throwOnError||(c=c.catch(Rs)),r.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(l).then(Rs)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const a=this.#e.build(this,t);return a.isStaleByTime(ri(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Rs).catch(Rs)}fetchInfiniteQuery(s){return s.behavior=Gv(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Rs).catch(Rs)}ensureInfiniteQueryData(s){return s.behavior=Gv(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Nd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(s){this.#s=s}setQueryDefaults(s,t){this.#a.set(Yi(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...this.#a.values()],a={};return t.forEach(l=>{No(s,l.queryKey)&&Object.assign(a,l.defaultOptions)}),a}setMutationDefaults(s,t){this.#n.set(Yi(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...this.#n.values()],a={};return t.forEach(l=>{No(s,l.mutationKey)&&Object.assign(a,l.defaultOptions)}),a}defaultQueryOptions(s){if(s._defaulted)return s;const t={...this.#s.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=zf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lf&&(t.enabled=!1),t}defaultMutationOptions(s){return s?._defaulted?s:{...this.#s.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Qb=_.createContext(void 0),Ce=s=>{const t=_.useContext(Qb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},t_=({client:s,children:t})=>(_.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(Qb.Provider,{value:s,children:t})),Gb=_.createContext(!1),s_=()=>_.useContext(Gb);Gb.Provider;function n_(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var a_=_.createContext(n_()),i_=()=>_.useContext(a_),l_=(s,t,a)=>{const l=a?.state.error&&typeof s.throwOnError=="function"?Uf(s.throwOnError,[a.state.error,a]):s.throwOnError;(s.suspense||s.experimental_prefetchInRender||l)&&(t.isReset()||(s.retryOnMount=!1))},r_=s=>{_.useEffect(()=>{s.clearReset()},[s])},o_=({result:s,errorResetBoundary:t,throwOnError:a,query:l,suspense:r})=>s.isError&&!t.isReset()&&!s.isFetching&&l&&(r&&s.data===void 0||Uf(a,[s.error,l])),c_=s=>{if(s.suspense){const a=r=>r==="static"?r:Math.max(r??1e3,1e3),l=s.staleTime;s.staleTime=typeof l=="function"?(...r)=>a(l(...r)):a(l),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},d_=(s,t)=>s.isLoading&&s.isFetching&&!t,u_=(s,t)=>s?.suspense&&t.isPending,Wv=(s,t,a)=>t.fetchOptimistic(s).catch(()=>{a.clearReset()});function m_(s,t,a){const l=s_(),r=i_(),c=Ce(),u=c.defaultQueryOptions(s);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const f=c.getQueryCache().get(u.queryHash);u._optimisticResults=l?"isRestoring":"optimistic",c_(u),l_(u,r,f),r_(r);const h=!c.getQueryCache().get(u.queryHash),[x]=_.useState(()=>new t(c,u)),m=x.getOptimisticResult(u),g=!l&&s.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(y=>{const N=g?x.subscribe(rs.batchCalls(y)):Rs;return x.updateResult(),N},[x,g]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),_.useEffect(()=>{x.setOptions(u)},[u,x]),u_(u,m))throw Wv(u,x,r);if(o_({result:m,errorResetBoundary:r,throwOnError:u.throwOnError,query:f,suspense:u.suspense}))throw m.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!Gi&&d_(m,l)&&(h?Wv(u,x,r):f?.promise)?.catch(Rs).finally(()=>{x.updateResult()}),u.notifyOnChangeProps?m:x.trackResult(m)}function Pe(s,t){return m_(s,QS)}function _e(s,t){const a=Ce(),[l]=_.useState(()=>new XS(a,s));_.useEffect(()=>{l.setOptions(s)},[l,s]);const r=_.useSyncExternalStore(_.useCallback(u=>l.subscribe(rs.batchCalls(u)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),c=_.useCallback((u,f)=>{l.mutate(u,f).catch(Rs)},[l]);if(r.error&&Uf(l.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:c,mutateAsync:r.mutate}}function h_(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}const f_=s=>{switch(s){case"success":return g_;case"info":return y_;case"warning":return v_;case"error":return b_;default:return null}},x_=Array(12).fill(0),p_=({visible:s,className:t})=>pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":s},pe.createElement("div",{className:"sonner-spinner"},x_.map((a,l)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${l}`})))),g_=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),v_=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),y_=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),b_=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j_=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),N_=()=>{const[s,t]=pe.useState(document.hidden);return pe.useEffect(()=>{const a=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),s};let lf=1;class w_{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const a=this.subscribers.indexOf(t);this.subscribers.splice(a,1)}),this.publish=t=>{this.subscribers.forEach(a=>a(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var a;const{message:l,...r}=t,c=typeof t?.id=="number"||((a=t.id)==null?void 0:a.length)>0?t.id:lf++,u=this.toasts.find(h=>h.id===c),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(h=>h.id===c?(this.publish({...h,...t,id:c,title:l}),{...h,...t,id:c,dismissible:f,title:l}):h):this.addToast({title:l,...r,dismissible:f,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:t,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(l=>l({id:a.id,dismiss:!0}))}),t),this.message=(t,a)=>this.create({...a,message:t}),this.error=(t,a)=>this.create({...a,message:t,type:"error"}),this.success=(t,a)=>this.create({...a,type:"success",message:t}),this.info=(t,a)=>this.create({...a,type:"info",message:t}),this.warning=(t,a)=>this.create({...a,type:"warning",message:t}),this.loading=(t,a)=>this.create({...a,type:"loading",message:t}),this.promise=(t,a)=>{if(!a)return;let l;a.loading!==void 0&&(l=this.create({...a,promise:t,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let c=l!==void 0,u;const f=r.then(async x=>{if(u=["resolve",x],pe.isValidElement(x))c=!1,this.create({id:l,type:"default",message:x});else if(__(x)&&!x.ok){c=!1;const g=typeof a.error=="function"?await a.error(`HTTP error! status: ${x.status}`):a.error,y=typeof a.description=="function"?await a.description(`HTTP error! status: ${x.status}`):a.description,j=typeof g=="object"&&!pe.isValidElement(g)?g:{message:g};this.create({id:l,type:"error",description:y,...j})}else if(x instanceof Error){c=!1;const g=typeof a.error=="function"?await a.error(x):a.error,y=typeof a.description=="function"?await a.description(x):a.description,j=typeof g=="object"&&!pe.isValidElement(g)?g:{message:g};this.create({id:l,type:"error",description:y,...j})}else if(a.success!==void 0){c=!1;const g=typeof a.success=="function"?await a.success(x):a.success,y=typeof a.description=="function"?await a.description(x):a.description,j=typeof g=="object"&&!pe.isValidElement(g)?g:{message:g};this.create({id:l,type:"success",description:y,...j})}}).catch(async x=>{if(u=["reject",x],a.error!==void 0){c=!1;const m=typeof a.error=="function"?await a.error(x):a.error,g=typeof a.description=="function"?await a.description(x):a.description,N=typeof m=="object"&&!pe.isValidElement(m)?m:{message:m};this.create({id:l,type:"error",description:g,...N})}}).finally(()=>{c&&(this.dismiss(l),l=void 0),a.finally==null||a.finally.call(a)}),h=()=>new Promise((x,m)=>f.then(()=>u[0]==="reject"?m(u[1]):x(u[1])).catch(m));return typeof l!="string"&&typeof l!="number"?{unwrap:h}:Object.assign(l,{unwrap:h})},this.custom=(t,a)=>{const l=a?.id||lf++;return this.create({jsx:t(l),id:l,...a}),l},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gs=new w_,S_=(s,t)=>{const a=t?.id||lf++;return Gs.addToast({title:s,...t,id:a}),a},__=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",C_=S_,E_=()=>Gs.toasts,A_=()=>Gs.getActiveToasts(),Y=Object.assign(C_,{success:Gs.success,info:Gs.info,warning:Gs.warning,error:Gs.error,custom:Gs.custom,message:Gs.message,promise:Gs.promise,dismiss:Gs.dismiss,loading:Gs.loading},{getHistory:E_,getToasts:A_});h_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function td(s){return s.label!==void 0}const k_=3,D_="24px",R_="16px",Kv=4e3,T_=356,M_=14,O_=45,z_=200;function Kn(...s){return s.filter(Boolean).join(" ")}function L_(s){const[t,a]=s.split("-"),l=[];return t&&l.push(t),a&&l.push(a),l}const U_=s=>{var t,a,l,r,c,u,f,h,x;const{invert:m,toast:g,unstyled:y,interacting:N,setHeights:j,visibleToasts:S,heights:b,index:C,toasts:k,expanded:E,removeToast:M,defaultRichColors:z,closeButton:Q,style:R,cancelButtonStyle:q,actionButtonStyle:ve,className:ye="",descriptionClassName:oe="",duration:F,position:xe,gap:X,expandByDefault:be,classNames:A,icons:T,closeButtonAriaLabel:U="Close toast"}=s,[me,je]=pe.useState(null),[H,$]=pe.useState(null),[te,B]=pe.useState(!1),[de,ke]=pe.useState(!1),[Re,ze]=pe.useState(!1),[Ye,At]=pe.useState(!1),[zt,Jt]=pe.useState(!1),[Ns,ie]=pe.useState(0),[Ue,ft]=pe.useState(0),bt=pe.useRef(g.duration||F||Kv),ws=pe.useRef(null),W=pe.useRef(null),he=C===0,Ve=C+1<=S,Ne=g.type,ne=g.dismissible!==!1,we=g.className||"",Qe=g.descriptionClassName||"",zs=pe.useMemo(()=>b.findIndex(qe=>qe.toastId===g.id)||0,[b,g.id]),jt=pe.useMemo(()=>{var qe;return(qe=g.closeButton)!=null?qe:Q},[g.closeButton,Q]),In=pe.useMemo(()=>g.duration||F||Kv,[g.duration,F]),Fn=pe.useRef(0),En=pe.useRef(0),il=pe.useRef(0),$n=pe.useRef(null),[ia,es]=xe.split("-"),Ls=pe.useMemo(()=>b.reduce((qe,Lt,ds)=>ds>=zs?qe:qe+Lt.height,0),[b,zs]),cs=N_(),vr=g.invert||m,bi=Ne==="loading";En.current=pe.useMemo(()=>zs*X+Ls,[zs,Ls]),pe.useEffect(()=>{bt.current=In},[In]),pe.useEffect(()=>{B(!0)},[]),pe.useEffect(()=>{const qe=W.current;if(qe){const Lt=qe.getBoundingClientRect().height;return ft(Lt),j(ds=>[{toastId:g.id,height:Lt,position:g.position},...ds]),()=>j(ds=>ds.filter(Ss=>Ss.toastId!==g.id))}},[j,g.id]),pe.useLayoutEffect(()=>{if(!te)return;const qe=W.current,Lt=qe.style.height;qe.style.height="auto";const ds=qe.getBoundingClientRect().height;qe.style.height=Lt,ft(ds),j(Ss=>Ss.find($t=>$t.toastId===g.id)?Ss.map($t=>$t.toastId===g.id?{...$t,height:ds}:$t):[{toastId:g.id,height:ds,position:g.position},...Ss])},[te,g.title,g.description,j,g.id,g.jsx,g.action,g.cancel]);const un=pe.useCallback(()=>{ke(!0),ie(En.current),j(qe=>qe.filter(Lt=>Lt.toastId!==g.id)),setTimeout(()=>{M(g)},z_)},[g,M,j,En]);pe.useEffect(()=>{if(g.promise&&Ne==="loading"||g.duration===1/0||g.type==="loading")return;let qe;return E||N||cs?(()=>{if(il.current<Fn.current){const Ss=new Date().getTime()-Fn.current;bt.current=bt.current-Ss}il.current=new Date().getTime()})():bt.current!==1/0&&(Fn.current=new Date().getTime(),qe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),un()},bt.current)),()=>clearTimeout(qe)},[E,N,g,Ne,cs,un]),pe.useEffect(()=>{g.delete&&(un(),g.onDismiss==null||g.onDismiss.call(g,g))},[un,g.delete]);function J(){var qe;if(T?.loading){var Lt;return pe.createElement("div",{className:Kn(A?.loader,g==null||(Lt=g.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":Ne==="loading"},T.loading)}return pe.createElement(p_,{className:Kn(A?.loader,g==null||(qe=g.classNames)==null?void 0:qe.loader),visible:Ne==="loading"})}const kt=g.icon||T?.[Ne]||f_(Ne);var An,Vn;return pe.createElement("li",{tabIndex:0,ref:W,className:Kn(ye,we,A?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,A?.default,A?.[Ne],g==null||(a=g.classNames)==null?void 0:a[Ne]),"data-sonner-toast":"","data-rich-colors":(An=g.richColors)!=null?An:z,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":te,"data-promise":!!g.promise,"data-swiped":zt,"data-removed":de,"data-visible":Ve,"data-y-position":ia,"data-x-position":es,"data-index":C,"data-front":he,"data-swiping":Re,"data-dismissible":ne,"data-type":Ne,"data-invert":vr,"data-swipe-out":Ye,"data-swipe-direction":H,"data-expanded":!!(E||be&&te),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":k.length-C,"--offset":`${de?Ns:En.current}px`,"--initial-height":be?"auto":`${Ue}px`,...R,...g.style},onDragEnd:()=>{ze(!1),je(null),$n.current=null},onPointerDown:qe=>{qe.button!==2&&(bi||!ne||(ws.current=new Date,ie(En.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(ze(!0),$n.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,Lt,ds;if(Ye||!ne)return;$n.current=null;const Ss=Number(((qe=W.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ta=Number(((Lt=W.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((ds=ws.current)==null?void 0:ds.getTime()),Us=me==="x"?Ss:Ta,ji=Math.abs(Us)/$t;if(Math.abs(Us)>=O_||ji>.11){ie(En.current),g.onDismiss==null||g.onDismiss.call(g,g),$(me==="x"?Ss>0?"right":"left":Ta>0?"down":"up"),un(),At(!0);return}else{var Hs,Ps;(Hs=W.current)==null||Hs.style.setProperty("--swipe-amount-x","0px"),(Ps=W.current)==null||Ps.style.setProperty("--swipe-amount-y","0px")}Jt(!1),ze(!1),je(null)},onPointerMove:qe=>{var Lt,ds,Ss;if(!$n.current||!ne||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;const $t=qe.clientY-$n.current.y,Us=qe.clientX-$n.current.x;var ji;const Hs=(ji=s.swipeDirections)!=null?ji:L_(xe);!me&&(Math.abs(Us)>1||Math.abs($t)>1)&&je(Math.abs(Us)>Math.abs($t)?"x":"y");let Ps={x:0,y:0};const ll=kn=>1/(1.5+Math.abs(kn)/20);if(me==="y"){if(Hs.includes("top")||Hs.includes("bottom"))if(Hs.includes("top")&&$t<0||Hs.includes("bottom")&&$t>0)Ps.y=$t;else{const kn=$t*ll($t);Ps.y=Math.abs(kn)<Math.abs($t)?kn:$t}}else if(me==="x"&&(Hs.includes("left")||Hs.includes("right")))if(Hs.includes("left")&&Us<0||Hs.includes("right")&&Us>0)Ps.x=Us;else{const kn=Us*ll(Us);Ps.x=Math.abs(kn)<Math.abs(Us)?kn:Us}(Math.abs(Ps.x)>0||Math.abs(Ps.y)>0)&&Jt(!0),(ds=W.current)==null||ds.style.setProperty("--swipe-amount-x",`${Ps.x}px`),(Ss=W.current)==null||Ss.style.setProperty("--swipe-amount-y",`${Ps.y}px`)}},jt&&!g.jsx&&Ne!=="loading"?pe.createElement("button",{"aria-label":U,"data-disabled":bi,"data-close-button":!0,onClick:bi||!ne?()=>{}:()=>{un(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Kn(A?.closeButton,g==null||(l=g.classNames)==null?void 0:l.closeButton)},(Vn=T?.close)!=null?Vn:j_):null,(Ne||g.icon||g.promise)&&g.icon!==null&&(T?.[Ne]!==null||g.icon)?pe.createElement("div",{"data-icon":"",className:Kn(A?.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||J():null,g.type!=="loading"?kt:null):null,pe.createElement("div",{"data-content":"",className:Kn(A?.content,g==null||(c=g.classNames)==null?void 0:c.content)},pe.createElement("div",{"data-title":"",className:Kn(A?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?pe.createElement("div",{"data-description":"",className:Kn(oe,Qe,A?.description,g==null||(f=g.classNames)==null?void 0:f.description)},typeof g.description=="function"?g.description():g.description):null),pe.isValidElement(g.cancel)?g.cancel:g.cancel&&td(g.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||q,onClick:qe=>{td(g.cancel)&&ne&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,qe),un())},className:Kn(A?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,pe.isValidElement(g.action)?g.action:g.action&&td(g.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||ve,onClick:qe=>{td(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,qe),!qe.defaultPrevented&&un())},className:Kn(A?.actionButton,g==null||(x=g.classNames)==null?void 0:x.actionButton)},g.action.label):null)};function Zv(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function H_(s,t){const a={};return[s,t].forEach((l,r)=>{const c=r===1,u=c?"--mobile-offset":"--offset",f=c?R_:D_;function h(x){["top","right","bottom","left"].forEach(m=>{a[`${u}-${m}`]=typeof x=="number"?`${x}px`:x})}typeof l=="number"||typeof l=="string"?h(l):typeof l=="object"?["top","right","bottom","left"].forEach(x=>{l[x]===void 0?a[`${u}-${x}`]=f:a[`${u}-${x}`]=typeof l[x]=="number"?`${l[x]}px`:l[x]}):h(f)}),a}const P_=pe.forwardRef(function(t,a){const{id:l,invert:r,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:f,closeButton:h,className:x,offset:m,mobileOffset:g,theme:y="light",richColors:N,duration:j,style:S,visibleToasts:b=k_,toastOptions:C,dir:k=Zv(),gap:E=M_,icons:M,containerAriaLabel:z="Notifications"}=t,[Q,R]=pe.useState([]),q=pe.useMemo(()=>l?Q.filter(te=>te.toasterId===l):Q.filter(te=>!te.toasterId),[Q,l]),ve=pe.useMemo(()=>Array.from(new Set([c].concat(q.filter(te=>te.position).map(te=>te.position)))),[q,c]),[ye,oe]=pe.useState([]),[F,xe]=pe.useState(!1),[X,be]=pe.useState(!1),[A,T]=pe.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=pe.useRef(null),me=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),je=pe.useRef(null),H=pe.useRef(!1),$=pe.useCallback(te=>{R(B=>{var de;return(de=B.find(ke=>ke.id===te.id))!=null&&de.delete||Gs.dismiss(te.id),B.filter(({id:ke})=>ke!==te.id)})},[]);return pe.useEffect(()=>Gs.subscribe(te=>{if(te.dismiss){requestAnimationFrame(()=>{R(B=>B.map(de=>de.id===te.id?{...de,delete:!0}:de))});return}setTimeout(()=>{DS.flushSync(()=>{R(B=>{const de=B.findIndex(ke=>ke.id===te.id);return de!==-1?[...B.slice(0,de),{...B[de],...te},...B.slice(de+1)]:[te,...B]})})})}),[Q]),pe.useEffect(()=>{if(y!=="system"){T(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;const te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:B})=>{T(B?"dark":"light")})}catch{te.addListener(({matches:de})=>{try{T(de?"dark":"light")}catch(ke){console.error(ke)}})}},[y]),pe.useEffect(()=>{Q.length<=1&&xe(!1)},[Q]),pe.useEffect(()=>{const te=B=>{var de;if(u.every(ze=>B[ze]||B.code===ze)){var Re;xe(!0),(Re=U.current)==null||Re.focus()}B.code==="Escape"&&(document.activeElement===U.current||(de=U.current)!=null&&de.contains(document.activeElement))&&xe(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[u]),pe.useEffect(()=>{if(U.current)return()=>{je.current&&(je.current.focus({preventScroll:!0}),je.current=null,H.current=!1)}},[U.current]),pe.createElement("section",{ref:a,"aria-label":`${z} ${me}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ve.map((te,B)=>{var de;const[ke,Re]=te.split("-");return q.length?pe.createElement("ol",{key:te,dir:k==="auto"?Zv():k,tabIndex:-1,ref:U,className:x,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":ke,"data-x-position":Re,style:{"--front-toast-height":`${((de=ye[0])==null?void 0:de.height)||0}px`,"--width":`${T_}px`,"--gap":`${E}px`,...S,...H_(m,g)},onBlur:ze=>{H.current&&!ze.currentTarget.contains(ze.relatedTarget)&&(H.current=!1,je.current&&(je.current.focus({preventScroll:!0}),je.current=null))},onFocus:ze=>{ze.target instanceof HTMLElement&&ze.target.dataset.dismissible==="false"||H.current||(H.current=!0,je.current=ze.relatedTarget)},onMouseEnter:()=>xe(!0),onMouseMove:()=>xe(!0),onMouseLeave:()=>{X||xe(!1)},onDragEnd:()=>xe(!1),onPointerDown:ze=>{ze.target instanceof HTMLElement&&ze.target.dataset.dismissible==="false"||be(!0)},onPointerUp:()=>be(!1)},q.filter(ze=>!ze.position&&B===0||ze.position===te).map((ze,Ye)=>{var At,zt;return pe.createElement(U_,{key:ze.id,icons:M,index:Ye,toast:ze,defaultRichColors:N,duration:(At=C?.duration)!=null?At:j,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:r,visibleToasts:b,closeButton:(zt=C?.closeButton)!=null?zt:h,interacting:X,position:te,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:$,toasts:q.filter(Jt=>Jt.position==ze.position),heights:ye.filter(Jt=>Jt.position==ze.position),setHeights:oe,expandByDefault:f,gap:E,expanded:F,swipeDirections:t.swipeDirections})})):null}))}),Ys="https://cliniclink-api-production.up.railway.app/api";class q_{baseUrl;constructor(t){this.baseUrl=t}getToken(){return localStorage.getItem("cliniclink_token")}async request(t,a={}){const l=this.getToken(),r={"Content-Type":"application/json",Accept:"application/json",...a.headers||{}};l&&(r.Authorization=`Bearer ${l}`);const c=await fetch(`${this.baseUrl}${t}`,{...a,headers:r});if(c.status===401)throw localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),window.location.href="/ClinicLink/login",new Error("Unauthorized");if(!c.ok){const u=await c.json().catch(()=>({})),f=u.message||u.error||`Request failed (${c.status})`,h=new Error(f);throw h.status=c.status,h.errors=u.errors||{},h}return c.status===204?{}:c.json()}get(t){return this.request(t)}post(t,a){return this.request(t,{method:"POST",body:a?JSON.stringify(a):void 0})}put(t,a){return this.request(t,{method:"PUT",body:a?JSON.stringify(a):void 0})}delete(t){return this.request(t,{method:"DELETE"})}async upload(t,a){const l=this.getToken(),r={Accept:"application/json"};l&&(r.Authorization=`Bearer ${l}`);const c=await fetch(`${this.baseUrl}${t}`,{method:"POST",headers:r,body:a});if(c.status===401)throw localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),window.location.href="/ClinicLink/login",new Error("Unauthorized");if(!c.ok){const u=await c.json().catch(()=>({})),f=u.message||u.error||`Request failed (${c.status})`,h=new Error(f);throw h.status=c.status,h.errors=u.errors||{},h}return c.status===204?{}:c.json()}}const le=new q_(Ys),Ts={register:s=>le.post("/auth/register",s),login:s=>le.post("/auth/login",s),me:()=>le.get("/auth/me"),logout:()=>le.post("/auth/logout"),updateProfile:s=>le.put("/auth/profile",s),forgotPassword:s=>le.post("/auth/forgot-password",{email:s}),resetPassword:s=>le.post("/auth/reset-password",s),completeOnboarding:s=>le.post("/auth/complete-onboarding",s),mfaStatus:()=>le.get("/auth/mfa/status"),mfaSetup:()=>le.post("/auth/mfa/setup"),mfaConfirm:s=>le.post("/auth/mfa/confirm",{code:s}),mfaDisable:s=>le.post("/auth/mfa/disable",{password:s}),mfaBackupCodes:s=>le.post("/auth/mfa/backup-codes",{password:s}),mfaVerify:(s,t)=>le.post("/auth/mfa/verify",{mfa_token:s,code:t})},Ji={list:s=>{const t=new URLSearchParams;return s?.search&&t.set("search",s.search),s?.specialty&&t.set("specialty",s.specialty),s?.state&&t.set("state",s.state),s?.page&&t.set("page",String(s.page)),le.get(`/sites?${t}`)},get:s=>le.get(`/sites/${s}`),create:s=>le.post("/sites",s),update:(s,t)=>le.put(`/sites/${s}`,t),delete:s=>le.delete(`/sites/${s}`),mine:()=>le.get("/my-sites")},To={list:s=>{const t=new URLSearchParams;return s?.search&&t.set("search",s.search),s?.specialty&&t.set("specialty",s.specialty),s?.status&&t.set("status",s.status),s?.cost_type&&t.set("cost_type",s.cost_type),s?.page&&t.set("page",String(s.page)),le.get(`/slots?${t}`)},get:s=>le.get(`/slots/${s}`),create:s=>le.post("/slots",s),update:(s,t)=>le.put(`/slots/${s}`,t),delete:s=>le.delete(`/slots/${s}`),preceptors:()=>le.get("/preceptor-options")},B_={list:()=>le.get("/my-preceptors")},Jn={list:()=>le.get("/site-invites"),create:s=>le.post("/site-invites",s),bulkCreate:s=>le.post("/site-invites/bulk",s),validate:s=>le.get(`/invite/${s}`),accept:s=>le.post(`/invite/${s}/accept`),resend:s=>le.post(`/site-invites/${s}/resend`,{}),revoke:s=>le.delete(`/site-invites/${s}`),myPending:()=>le.get("/my-pending-invites")},Qd={list:()=>le.get("/applications"),get:s=>le.get(`/applications/${s}`),create:s=>le.post("/applications",s),review:(s,t)=>le.put(`/applications/${s}/review`,t),withdraw:s=>le.put(`/applications/${s}/withdraw`)},Mo={list:()=>le.get("/hour-logs"),create:s=>le.post("/hour-logs",s),update:(s,t)=>le.put(`/hour-logs/${s}`,t),review:(s,t)=>le.put(`/hour-logs/${s}/review`,t),delete:s=>le.delete(`/hour-logs/${s}`),summary:()=>le.get("/hour-logs/summary")},Yb={list:()=>le.get("/evaluations"),get:s=>le.get(`/evaluations/${s}`),create:s=>le.post("/evaluations",s),update:(s,t)=>le.put(`/evaluations/${s}`,t)},el={profile:()=>le.get("/student/profile"),updateProfile:s=>le.put("/student/profile",s),credentials:()=>le.get("/student/credentials"),addCredential:s=>le.post("/student/credentials",s),updateCredential:(s,t)=>le.put(`/student/credentials/${s}`,t),deleteCredential:s=>le.delete(`/student/credentials/${s}`),uploadCredentialFile:(s,t)=>{const a=new FormData;return a.append("file",t),le.upload(`/student/credentials/${s}/upload`,a)},downloadCredentialUrl:s=>{const t=localStorage.getItem("cliniclink_token");return`${Ys}/student/credentials/${s}/download?token=${t}`}},I_={list:()=>le.get("/my-students")},Wb={setPriorHours:(s,t)=>le.put(`/students/${s}/prior-hours`,{prior_hours:t}),bulkSetPriorHours:s=>le.post("/students/bulk-prior-hours",{students:s}),updateProgram:(s,t)=>le.put(`/programs/${s}`,t),createProgram:(s,t)=>le.post(`/universities/${s}/programs`,t),assignStudentProgram:(s,t)=>le.post("/students/assign-program",{student_id:s,program_id:t})},F_={stats:()=>le.get("/dashboard/stats")},cr={list:()=>le.get("/certificates"),get:s=>le.get(`/certificates/${s}`),create:s=>le.post("/certificates",s),eligibility:(s,t)=>le.get(`/certificates/eligibility/${s}/${t}`),revoke:(s,t)=>le.put(`/certificates/${s}/revoke`,t),getPdfUrl:s=>{const t=localStorage.getItem("cliniclink_token");return`${Ys}/certificates/${s}/pdf?token=${t}`},publicVerify:s=>le.get(`/verify/${s}`)},di={list:s=>{const t=new URLSearchParams;return s?.search&&t.set("search",s.search),s?.state&&t.set("state",s.state),s?.page&&t.set("page",String(s.page)),le.get(`/universities?${t}`)},get:s=>le.get(`/universities/${s}`),programs:s=>le.get(`/universities/${s}/programs`)},Oo={list:s=>{const t=new URLSearchParams;return s?.status&&t.set("status",s.status),s?.university_id&&t.set("university_id",s.university_id),s?.site_id&&t.set("site_id",s.site_id),le.get(`/agreements?${t}`)},create:s=>le.post("/agreements",s),update:(s,t)=>le.put(`/agreements/${s}`,t),uploadDocument:(s,t)=>{const a=new FormData;return a.append("file",t),le.upload(`/agreements/${s}/upload`,a)},downloadUrl:s=>`${Ys}/agreements/${s}/download`},Cn={users:s=>{const t=new URLSearchParams;return s?.search&&t.set("search",s.search),s?.role&&t.set("role",s.role),s?.page&&t.set("page",String(s.page)),le.get(`/admin/users?${t}`)},getUser:s=>le.get(`/admin/users/${s}`),updateUser:(s,t)=>le.put(`/admin/users/${s}`,t),deleteUser:s=>le.delete(`/admin/users/${s}`),resetUserPassword:s=>le.post(`/admin/users/${s}/reset-password`,{}),createUser:s=>le.post("/admin/users",s),bulkInvite:s=>le.post("/admin/users/bulk-invite",s),createUniversity:s=>le.post("/admin/universities",s),updateUniversity:(s,t)=>le.put(`/admin/universities/${s}`,t),deleteUniversity:s=>le.delete(`/admin/universities/${s}`),assignPreceptorToSites:(s,t)=>le.post(`/admin/users/${s}/assign-sites`,{site_ids:t}),removePreceptorFromSite:(s,t)=>le.delete(`/admin/users/${s}/remove-site/${t}`)},Gd={list:s=>{const t=new URLSearchParams;return s?.site_id&&t.set("site_id",s.site_id),le.get(`/onboarding-templates?${t}`)},get:s=>le.get(`/onboarding-templates/${s}`),create:s=>le.post("/onboarding-templates",s),update:(s,t)=>le.put(`/onboarding-templates/${s}`,t),delete:s=>le.delete(`/onboarding-templates/${s}`)},pi={list:s=>{const t=new URLSearchParams;return s?.application_id&&t.set("application_id",s.application_id),le.get(`/onboarding-tasks?${t}`)},complete:s=>le.put(`/onboarding-tasks/${s}/complete`),uncomplete:s=>le.put(`/onboarding-tasks/${s}/uncomplete`),verify:(s,t)=>le.put(`/onboarding-tasks/${s}/verify`,t),unverify:s=>le.put(`/onboarding-tasks/${s}/unverify`),applicationProgress:s=>le.get(`/applications/${s}/onboarding-progress`),uploadFile:(s,t)=>{const a=new FormData;return a.append("file",t),le.upload(`/onboarding-tasks/${s}/upload`,a)},downloadFileUrl:s=>`${Ys}/onboarding-tasks/${s}/download`},dr={list:s=>{const t=new URLSearchParams;return s?.page&&t.set("page",String(s.page)),le.get(`/notifications?${t}`)},unreadCount:()=>le.get("/notifications/unread-count"),markAsRead:s=>le.put(`/notifications/${s}/read`),markAllAsRead:()=>le.put("/notifications/read-all"),getPreferences:()=>le.get("/notifications/preferences"),updatePreferences:s=>le.put("/notifications/preferences",s)},ur={create:s=>le.post("/site-join-requests",s),mine:()=>le.get("/site-join-requests/mine"),list:s=>{const t=new URLSearchParams;return s?.status&&t.set("status",s.status),le.get(`/site-join-requests?${t}`)},withdraw:s=>le.put(`/site-join-requests/${s}/withdraw`),approve:(s,t)=>le.put(`/site-join-requests/${s}/approve`,t),deny:(s,t)=>le.put(`/site-join-requests/${s}/deny`,t)},qf={site:s=>le.get(`/compliance/site/${s}`),student:s=>le.get(`/compliance/student/${s}`),overview:()=>le.get("/compliance/overview")},Kb={get:s=>le.get(`/universities/${s}/ce-policy`),upsert:(s,t)=>le.put(`/universities/${s}/ce-policy`,t)},gi={list:s=>{const t=new URLSearchParams;return s?.university_id&&t.set("university_id",s.university_id),le.get(`/ce-certificates?${t}`)},get:s=>le.get(`/ce-certificates/${s}`),approve:s=>le.put(`/ce-certificates/${s}/approve`),reject:(s,t)=>le.put(`/ce-certificates/${s}/reject`,t),revoke:(s,t)=>le.put(`/ce-certificates/${s}/revoke`,t),auditTrail:s=>le.get(`/ce-certificates/${s}/audit-trail`),downloadUrl:s=>{const t=localStorage.getItem("cliniclink_token");return`${Ys}/ce-certificates/${s}/download?token=${t}`},eligibility:s=>le.get(`/ce-eligibility/${s}`),publicVerify:s=>le.get(`/verify-ce/${s}`)},$_={complete:s=>le.put(`/applications/${s}/complete`)},tl={conversations:s=>{const t=new URLSearchParams;return s?.page&&t.set("page",String(s.page)),le.get(`/messages/conversations?${t}`)},messages:(s,t)=>{const a=new URLSearchParams;return t?.page&&a.set("page",String(t.page)),le.get(`/messages/conversations/${s}?${a}`)},send:(s,t)=>le.post(`/messages/conversations/${s}`,{body:t}),createConversation:s=>le.post("/messages/conversations",s),unreadCount:()=>le.get("/messages/unread-count"),searchUsers:s=>le.get(`/messages/users?search=${encodeURIComponent(s)}`),broadcast:s=>le.post("/messages/broadcast",s)},V_={events:(s,t)=>le.get(`/calendar/events?start=${s}&end=${t}`)},Xl={hourLogsCsvUrl:s=>{const t=localStorage.getItem("cliniclink_token"),a=new URLSearchParams;return t&&a.set("token",t),s?.status&&a.set("status",s.status),s?.slot_id&&a.set("slot_id",s.slot_id),s?.date_from&&a.set("date_from",s.date_from),s?.date_to&&a.set("date_to",s.date_to),`${Ys}/exports/hour-logs/csv?${a}`},hourLogsPdfUrl:s=>{const t=localStorage.getItem("cliniclink_token"),a=new URLSearchParams;return t&&a.set("token",t),s?.status&&a.set("status",s.status),s?.slot_id&&a.set("slot_id",s.slot_id),s?.date_from&&a.set("date_from",s.date_from),s?.date_to&&a.set("date_to",s.date_to),`${Ys}/exports/hour-logs/pdf?${a}`},evaluationsCsvUrl:s=>{const t=localStorage.getItem("cliniclink_token"),a=new URLSearchParams;return t&&a.set("token",t),s?.type&&a.set("type",s.type),`${Ys}/exports/evaluations/csv?${a}`},evaluationsPdfUrl:s=>{const t=localStorage.getItem("cliniclink_token"),a=new URLSearchParams;return t&&a.set("token",t),s?.type&&a.set("type",s.type),`${Ys}/exports/evaluations/pdf?${a}`},complianceCsvUrl:s=>{const t=localStorage.getItem("cliniclink_token"),a=new URLSearchParams;return t&&a.set("token",t),s?.site_id&&a.set("site_id",s.site_id),`${Ys}/exports/compliance/csv?${a}`},compliancePdfUrl:s=>{const t=localStorage.getItem("cliniclink_token"),a=new URLSearchParams;return t&&a.set("token",t),s?.site_id&&a.set("site_id",s.site_id),`${Ys}/exports/compliance/pdf?${a}`}},Zb=_.createContext(null);function rf(s){return{id:s.id,email:s.email,username:s.username||void 0,firstName:s.first_name,lastName:s.last_name,role:s.role,phone:s.phone||void 0,avatar:s.avatar_url||void 0,createdAt:s.created_at,onboardingCompleted:s.onboarding_completed??!1,universityId:s.student_profile?.university_id||void 0,programId:s.student_profile?.program_id||void 0}}const Q_={student:{id:"demo-student-1",email:"student@cliniclink.com",firstName:"Sarah",lastName:"Chen",role:"student",createdAt:new Date().toISOString(),onboardingCompleted:!0},preceptor:{id:"demo-preceptor-1",email:"preceptor@cliniclink.com",firstName:"Dr. James",lastName:"Wilson",role:"preceptor",createdAt:new Date().toISOString(),onboardingCompleted:!0},site_manager:{id:"demo-site-1",email:"site@cliniclink.com",firstName:"Maria",lastName:"Garcia",role:"site_manager",createdAt:new Date().toISOString(),onboardingCompleted:!0},coordinator:{id:"demo-coord-1",email:"coordinator@cliniclink.com",firstName:"Dr. Lisa",lastName:"Thompson",role:"coordinator",createdAt:new Date().toISOString(),onboardingCompleted:!0},professor:{id:"demo-prof-1",email:"professor@cliniclink.com",firstName:"Prof. Robert",lastName:"Martinez",role:"professor",createdAt:new Date().toISOString(),onboardingCompleted:!0},admin:{id:"demo-admin-1",email:"admin@cliniclink.com",firstName:"Admin",lastName:"User",role:"admin",createdAt:new Date().toISOString(),onboardingCompleted:!0}},Vl={user:null,token:null,isAuthenticated:!1,isLoading:!1,mfaPending:!1,mfaToken:null};function kh(s,t){const a=rf(s.user);if(localStorage.setItem("cliniclink_token",s.token),localStorage.setItem("cliniclink_user",JSON.stringify(a)),t({user:a,token:s.token,isAuthenticated:!0,isLoading:!1,mfaPending:!1,mfaToken:null}),s.accepted_invites?.length){const l=s.accepted_invites.length,r=s.accepted_invites.map(c=>c.site_name).join(", ");Y.success(l===1?`Welcome to ${r}! You've been linked as a preceptor.`:`You've been linked to ${l} clinical sites: ${r}`,{duration:6e3,description:"Your pending site invitations were automatically accepted."})}}function G_({children:s}){const[t,a]=_.useState(()=>{const m=localStorage.getItem("cliniclink_token"),g=localStorage.getItem("cliniclink_user");if(m&&g)try{return{...Vl,user:JSON.parse(g),token:m,isAuthenticated:!0}}catch{localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user")}return Vl});_.useEffect(()=>{t.token&&!t.token.startsWith("demo-")&&Ts.me().then(m=>{const g=rf(m);localStorage.setItem("cliniclink_user",JSON.stringify(g)),a(y=>({...y,user:g}))}).catch(()=>{localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),a(Vl)})},[]);const l=_.useCallback(async(m,g)=>{a(y=>({...y,isLoading:!0}));try{const y=await Ts.login({login:m,password:g});if("mfa_required"in y&&y.mfa_required){a(N=>({...N,isLoading:!1,mfaPending:!0,mfaToken:y.mfa_token}));return}kh(y,a)}catch(y){throw a(N=>({...N,isLoading:!1})),y}},[]),r=_.useCallback(async m=>{if(!t.mfaToken)throw new Error("No MFA session active.");a(g=>({...g,isLoading:!0}));try{const g=await Ts.mfaVerify(t.mfaToken,m);kh(g,a)}catch(g){throw a(y=>({...y,isLoading:!1})),g}},[t.mfaToken]),c=_.useCallback(()=>{a(Vl)},[]),u=_.useCallback(async m=>{a(g=>({...g,isLoading:!0}));try{await Ts.register({first_name:m.firstName,last_name:m.lastName,email:m.email,username:m.username,password:m.password,password_confirmation:m.password,role:m.role,university_id:m.universityId,program_id:m.programId}),a(g=>({...g,isLoading:!1}))}catch(g){throw a(y=>({...y,isLoading:!1})),g}},[]),f=_.useCallback(()=>{const m=localStorage.getItem("cliniclink_token");localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),a(Vl),m&&!m.startsWith("demo-")&&Ts.logout().catch(()=>{})},[]),h=_.useCallback(async m=>{a(y=>({...y,isLoading:!0}));const g={student:"student@cliniclink.com",preceptor:"preceptor@cliniclink.com",site_manager:"site@cliniclink.com",coordinator:"coordinator@cliniclink.com",professor:"professor@cliniclink.com",admin:"admin@cliniclink.com"};try{const y=await Ts.login({login:g[m],password:"password"});if("mfa_required"in y&&y.mfa_required){a(N=>({...N,isLoading:!1,mfaPending:!0,mfaToken:y.mfa_token}));return}kh(y,a)}catch{const y=Q_[m],N="demo-token-"+Date.now();localStorage.setItem("cliniclink_token",N),localStorage.setItem("cliniclink_user",JSON.stringify(y)),a({...Vl,user:y,token:N,isAuthenticated:!0})}},[]),x=_.useCallback(async m=>{const g=await Ts.completeOnboarding(m),y=rf(g.user);localStorage.setItem("cliniclink_user",JSON.stringify(y)),a(N=>({...N,user:y}))},[]);return e.jsx(Zb.Provider,{value:{...t,login:l,verifyMfa:r,cancelMfa:c,register:u,logout:f,demoLogin:h,completeOnboarding:x},children:s})}function We(){const s=_.useContext(Zb);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const Xb=(...s)=>s.filter((t,a,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===a).join(" ").trim();const Y_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const W_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,l)=>l?l.toUpperCase():a.toLowerCase());const Xv=s=>{const t=W_(s);return t.charAt(0).toUpperCase()+t.slice(1)};var K_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z_=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const X_=_.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:r="",children:c,iconNode:u,...f},h)=>_.createElement("svg",{ref:h,...K_,width:t,height:t,stroke:s,strokeWidth:l?Number(a)*24/Number(t):a,className:Xb("lucide",r),...!c&&!Z_(f)&&{"aria-hidden":"true"},...f},[...u.map(([x,m])=>_.createElement(x,m)),...Array.isArray(c)?c:[c]]));const ge=(s,t)=>{const a=_.forwardRef(({className:l,...r},c)=>_.createElement(X_,{ref:c,iconNode:t,className:Xb(`lucide-${Y_(Xv(s))}`,`lucide-${s}`,l),...r}));return a.displayName=Xv(s),a};const J_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wd=ge("activity",J_);const eC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sn=ge("arrow-left",eC);const tC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ni=ge("arrow-right",tC);const sC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],nC=ge("at-sign",sC);const aC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Qt=ge("award",aC);const iC=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Un=ge("badge-check",iC);const lC=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bi=ge("ban",lC);const rC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jb=ge("bell",rC);const oC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pt=ge("book-open",oC);const cC=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],dC=ge("brain",cC);const uC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],mC=ge("briefcase",uC);const hC=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ee=ge("building-2",hC);const fC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ui=ge("calendar-days",fC);const xC=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],pC=ge("calendar-range",xC);const gC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ot=ge("calendar",gC);const vC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wo=ge("chart-column",vC);const yC=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],bC=ge("check-check",yC);const jC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zo=ge("check",jC);const NC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],on=ge("chevron-down",NC);const wC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yd=ge("chevron-left",wC);const SC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Os=ge("chevron-right",SC);const _C=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wi=ge("chevron-up",_C);const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zn=ge("circle-alert",CC);const EC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fe=ge("circle-check-big",EC);const AC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Es=ge("circle-check",AC);const kC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ht=ge("circle-x",kC);const DC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ej=ge("circle",DC);const RC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],bs=ge("clipboard-check",RC);const TC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],tj=ge("clipboard-list",TC);const MC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Be=ge("clock",MC);const OC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Bf=ge("copy",OC);const zC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sj=ge("dollar-sign",zC);const LC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dn=ge("download",LC);const UC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],If=ge("eye-off",UC);const HC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ea=ge("eye",HC);const PC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Sd=ge("file-check",PC);const qC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Jv=ge("file-spreadsheet",qC);const BC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],St=ge("file-text",BC);const IC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ff=ge("funnel",IC);const FC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ta=ge("globe",FC);const $C=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],it=ge("graduation-cap",$C);const VC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],QC=ge("grip-vertical",VC);const GC=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],So=ge("handshake",GC);const YC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],$f=ge("hash",YC);const WC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ud=ge("heart",WC);const KC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Vf=ge("history",KC);const ZC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],XC=ge("hourglass",ZC);const JC=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Wd=ge("inbox",JC);const e4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],nj=ge("info",e4);const t4=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],ey=ge("key-round",t4);const s4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Dh=ge("key",s4);const n4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],a4=ge("layout-dashboard",n4);const i4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],aj=ge("layout-grid",i4);const l4=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ty=ge("link-2",l4);const r4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ij=ge("list",r4);const o4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Et=ge("loader-circle",o4);const c4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jl=ge("lock",c4);const d4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],md=ge("log-in",d4);const u4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],m4=ge("log-out",u4);const h4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ln=ge("mail",h4);const f4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ht=ge("map-pin",f4);const x4=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],_d=ge("megaphone",x4);const p4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],g4=ge("menu",p4);const v4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cd=ge("message-square",v4);const y4=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],er=ge("paperclip",y4);const b4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],j4=ge("pen-line",b4);const N4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Xn=ge("pencil",N4);const w4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_n=ge("phone",w4);const S4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ct=ge("plus",S4);const _4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kd=ge("save",_4);const C4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qt=ge("search",C4);const E4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mn=ge("send",E4);const A4=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ed=ge("settings-2",A4);const k4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zd=ge("settings",k4);const D4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ys=ge("shield-check",D4);const R4=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],T4=ge("shield-off",R4);const M4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],lj=ge("shield-x",M4);const O4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ft=ge("shield",O4);const z4=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],L4=ge("smartphone",z4);const U4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rj=ge("sparkles",U4);const H4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hs=ge("star",H4);const P4=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],dt=ge("stethoscope",P4);const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],B4=ge("target",q4);const I4=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],oj=ge("toggle-left",I4);const F4=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],cj=ge("toggle-right",F4);const $4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],os=ge("trash-2",$4);const V4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_o=ge("trending-up",V4);const Q4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],js=ge("triangle-alert",Q4);const G4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Hn=ge("upload",G4);const Y4=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dj=ge("user-check",Y4);const W4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oi=ge("user-plus",W4);const K4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Z4=ge("user-x",K4);const X4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xt=ge("user",X4);const J4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],at=ge("users",J4);const eE=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],tE=ge("wand-sparkles",eE);const sE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ks=ge("x",sE);const nE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aE=ge("zap",nE);function mr(){return Pe({queryKey:["dashboard-stats"],queryFn:()=>F_.stats()})}function hr(s){return Pe({queryKey:["slots",s],queryFn:()=>To.list(s)})}function iE(){const s=Ce();return _e({mutationFn:To.create,onSuccess:()=>{s.invalidateQueries({queryKey:["slots"]})}})}function lE(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>To.update(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["slots"]})}})}function rE(){const s=Ce();return _e({mutationFn:To.delete,onSuccess:()=>{s.invalidateQueries({queryKey:["slots"]})}})}function oE(){return Pe({queryKey:["preceptors"],queryFn:()=>To.preceptors()})}function Lo(s){return Pe({queryKey:["sites",s],queryFn:()=>Ji.list(s)})}function cE(s){return Pe({queryKey:["site",s],queryFn:()=>Ji.get(s),enabled:!!s})}function Da(){return Pe({queryKey:["my-sites"],queryFn:()=>Ji.mine()})}function uj(){const s=Ce();return _e({mutationFn:Ji.create,onSuccess:()=>{s.invalidateQueries({queryKey:["sites"]}),s.invalidateQueries({queryKey:["my-sites"]})}})}function mj(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>Ji.update(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["sites"]}),s.invalidateQueries({queryKey:["my-sites"]})}})}function Zs(){return Pe({queryKey:["applications"],queryFn:()=>Qd.list()})}function dE(){const s=Ce();return _e({mutationFn:Qd.create,onSuccess:()=>{s.invalidateQueries({queryKey:["applications"]}),s.invalidateQueries({queryKey:["dashboard-stats"]})}})}function uE(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>Qd.review(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["applications"]}),s.invalidateQueries({queryKey:["dashboard-stats"]})}})}function mE(){const s=Ce();return _e({mutationFn:Qd.withdraw,onSuccess:()=>{s.invalidateQueries({queryKey:["applications"]}),s.invalidateQueries({queryKey:["dashboard-stats"]})}})}function Qf(){return Pe({queryKey:["hour-logs"],queryFn:()=>Mo.list()})}function hE(){return Pe({queryKey:["hour-summary"],queryFn:()=>Mo.summary()})}function fE(){const s=Ce();return _e({mutationFn:Mo.create,onSuccess:()=>{s.invalidateQueries({queryKey:["hour-logs"]}),s.invalidateQueries({queryKey:["hour-summary"]}),s.invalidateQueries({queryKey:["dashboard-stats"]})}})}function xE(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>Mo.review(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["hour-logs"]}),s.invalidateQueries({queryKey:["hour-summary"]}),s.invalidateQueries({queryKey:["dashboard-stats"]})}})}function pE(){const s=Ce();return _e({mutationFn:Mo.delete,onSuccess:()=>{s.invalidateQueries({queryKey:["hour-logs"]}),s.invalidateQueries({queryKey:["hour-summary"]})}})}function Xd(){return Pe({queryKey:["evaluations"],queryFn:()=>Yb.list()})}function gE(){const s=Ce();return _e({mutationFn:Yb.create,onSuccess:()=>{s.invalidateQueries({queryKey:["evaluations"]})}})}function vE(){return Pe({queryKey:["certificates"],queryFn:()=>cr.list()})}function yE(){const s=Ce();return _e({mutationFn:cr.create,onSuccess:()=>{s.invalidateQueries({queryKey:["certificates"]}),s.invalidateQueries({queryKey:["dashboard-stats"]})}})}function bE(s,t){return Pe({queryKey:["certificate-eligibility",s,t],queryFn:()=>cr.eligibility(s,t),enabled:!!s&&!!t})}function jE(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>cr.revoke(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["certificates"]})}})}function Gf(){return Pe({queryKey:["my-students"],queryFn:()=>I_.list()})}function NE(){return Pe({queryKey:["student-profile"],queryFn:()=>el.profile()})}function wE(){const s=Ce();return _e({mutationFn:el.updateProfile,onSuccess:()=>{s.invalidateQueries({queryKey:["student-profile"]})}})}function hj(){return Pe({queryKey:["credentials"],queryFn:()=>el.credentials()})}function SE(){const s=Ce();return _e({mutationFn:el.addCredential,onSuccess:()=>{s.invalidateQueries({queryKey:["credentials"]})}})}function _E(){const s=Ce();return _e({mutationFn:el.deleteCredential,onSuccess:()=>{s.invalidateQueries({queryKey:["credentials"]})}})}function CE(){const s=Ce();return _e({mutationFn:({id:t,file:a})=>el.uploadCredentialFile(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["credentials"]})}})}function EE(s){return Pe({queryKey:["admin-users",s],queryFn:()=>Cn.users(s)})}function AE(s){return Pe({queryKey:["admin-user",s],queryFn:()=>Cn.getUser(s),enabled:!!s})}function fj(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>Cn.updateUser(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-users"]}),s.invalidateQueries({queryKey:["admin-user"]})}})}function kE(){const s=Ce();return _e({mutationFn:Cn.createUser,onSuccess:()=>{s.invalidateQueries({queryKey:["admin-users"]})}})}function xj(){const s=Ce();return _e({mutationFn:Cn.deleteUser,onSuccess:()=>{s.invalidateQueries({queryKey:["admin-users"]})}})}function DE(){return _e({mutationFn:Cn.resetUserPassword})}function RE(){const s=Ce();return _e({mutationFn:Cn.bulkInvite,onSuccess:()=>{s.invalidateQueries({queryKey:["admin-users"]})}})}function TE(){const s=Ce();return _e({mutationFn:({userId:t,siteIds:a})=>Cn.assignPreceptorToSites(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-user"]}),s.invalidateQueries({queryKey:["admin-users"]})}})}function ME(){const s=Ce();return _e({mutationFn:({userId:t,siteId:a})=>Cn.removePreceptorFromSite(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-user"]}),s.invalidateQueries({queryKey:["admin-users"]})}})}function fr(s){return Pe({queryKey:["universities",s],queryFn:()=>di.list(s)})}function OE(){const s=Ce();return _e({mutationFn:Cn.createUniversity,onSuccess:()=>{s.invalidateQueries({queryKey:["universities"]})}})}function zE(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>Cn.updateUniversity(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["universities"]})}})}function pj(){const s=Ce();return _e({mutationFn:({universityId:t,data:a})=>Wb.createProgram(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["universities"]}),s.invalidateQueries({queryKey:["university-programs"]})}})}function gj(){const s=Ce();return _e({mutationFn:({studentId:t,programId:a})=>Wb.assignStudentProgram(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["my-students"]}),s.invalidateQueries({queryKey:["university-programs"]}),s.invalidateQueries({queryKey:["admin-user"]})}})}function LE(){const s=Ce();return _e({mutationFn:Cn.deleteUniversity,onSuccess:()=>{s.invalidateQueries({queryKey:["universities"]})}})}function UE(s){return Pe({queryKey:["university",s],queryFn:()=>di.get(s),enabled:!!s})}function HE(){return Pe({queryKey:["mfa-status"],queryFn:()=>Ts.mfaStatus()})}function PE(){return _e({mutationFn:()=>Ts.mfaSetup()})}function qE(){const s=Ce();return _e({mutationFn:t=>Ts.mfaConfirm(t),onSuccess:()=>{s.invalidateQueries({queryKey:["mfa-status"]})}})}function BE(){const s=Ce();return _e({mutationFn:t=>Ts.mfaDisable(t),onSuccess:()=>{s.invalidateQueries({queryKey:["mfa-status"]})}})}function IE(){const s=Ce();return _e({mutationFn:t=>Ts.mfaBackupCodes(t),onSuccess:()=>{s.invalidateQueries({queryKey:["mfa-status"]})}})}function FE(s){return Pe({queryKey:["notifications",s],queryFn:()=>dr.list(s)})}function $E(){return Pe({queryKey:["unread-count"],queryFn:()=>dr.unreadCount(),refetchInterval:3e4})}function VE(){const s=Ce();return _e({mutationFn:dr.markAsRead,onSuccess:()=>{s.invalidateQueries({queryKey:["notifications"]}),s.invalidateQueries({queryKey:["unread-count"]})}})}function QE(){const s=Ce();return _e({mutationFn:dr.markAllAsRead,onSuccess:()=>{s.invalidateQueries({queryKey:["notifications"]}),s.invalidateQueries({queryKey:["unread-count"]})}})}function GE(){return Pe({queryKey:["notification-preferences"],queryFn:()=>dr.getPreferences()})}function YE(){const s=Ce();return _e({mutationFn:dr.updatePreferences,onSuccess:()=>{s.invalidateQueries({queryKey:["notification-preferences"]})}})}function WE(){const s=Ce();return _e({mutationFn:ur.create,onSuccess:()=>{s.invalidateQueries({queryKey:["my-join-requests"]}),s.invalidateQueries({queryKey:["site-join-requests"]})}})}function vj(){return Pe({queryKey:["my-join-requests"],queryFn:()=>ur.mine()})}function Yf(s){return Pe({queryKey:["site-join-requests",s],queryFn:()=>ur.list(s)})}function KE(){const s=Ce();return _e({mutationFn:ur.withdraw,onSuccess:()=>{s.invalidateQueries({queryKey:["my-join-requests"]}),s.invalidateQueries({queryKey:["site-join-requests"]})}})}function ZE(){const s=Ce();return _e({mutationFn:({id:t,notes:a})=>ur.approve(t,{notes:a}),onSuccess:()=>{s.invalidateQueries({queryKey:["site-join-requests"]}),s.invalidateQueries({queryKey:["site-preceptors"]}),s.invalidateQueries({queryKey:["site-invites"]})}})}function XE(){const s=Ce();return _e({mutationFn:({id:t,notes:a})=>ur.deny(t,{notes:a}),onSuccess:()=>{s.invalidateQueries({queryKey:["site-join-requests"]})}})}function JE(s){return Pe({queryKey:["onboarding-templates",s],queryFn:()=>Gd.list(s)})}function eA(){const s=Ce();return _e({mutationFn:Gd.create,onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-templates"]})}})}function tA(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>Gd.update(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-templates"]})}})}function sA(){const s=Ce();return _e({mutationFn:Gd.delete,onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-templates"]})}})}function yj(s){return Pe({queryKey:["onboarding-tasks",s],queryFn:()=>pi.list(s)})}function nA(){const s=Ce();return _e({mutationFn:pi.complete,onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-tasks"]}),s.invalidateQueries({queryKey:["onboarding-progress"]})}})}function aA(){const s=Ce();return _e({mutationFn:pi.uncomplete,onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-tasks"]}),s.invalidateQueries({queryKey:["onboarding-progress"]})}})}function iA(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>pi.verify(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-tasks"]}),s.invalidateQueries({queryKey:["onboarding-progress"]})}})}function lA(){const s=Ce();return _e({mutationFn:pi.unverify,onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-tasks"]}),s.invalidateQueries({queryKey:["onboarding-progress"]})}})}function rA(){const s=Ce();return _e({mutationFn:({taskId:t,file:a})=>pi.uploadFile(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["onboarding-tasks"]}),s.invalidateQueries({queryKey:["onboarding-progress"]})}})}function oA(s){return Pe({queryKey:["agreements",s],queryFn:()=>Oo.list(s)})}function cA(){const s=Ce();return _e({mutationFn:Oo.create,onSuccess:()=>{s.invalidateQueries({queryKey:["agreements"]})}})}function dA(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>Oo.update(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["agreements"]})}})}function uA(){const s=Ce();return _e({mutationFn:({id:t,file:a})=>Oo.uploadDocument(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["agreements"]})}})}function mA(){return Pe({queryKey:["site-preceptors"],queryFn:()=>B_.list()})}function hA(){return Pe({queryKey:["site-invites"],queryFn:()=>Jn.list()})}function fA(){const s=Ce();return _e({mutationFn:Jn.create,onSuccess:()=>{s.invalidateQueries({queryKey:["site-invites"]})}})}function xA(){const s=Ce();return _e({mutationFn:Jn.bulkCreate,onSuccess:()=>{s.invalidateQueries({queryKey:["site-invites"]})}})}function pA(){return Pe({queryKey:["my-pending-invites"],queryFn:()=>Jn.myPending()})}function gA(){const s=Ce();return _e({mutationFn:Jn.accept,onSuccess:()=>{s.invalidateQueries({queryKey:["my-pending-invites"]}),s.invalidateQueries({queryKey:["site-invites"]}),s.invalidateQueries({queryKey:["my-sites"]})}})}function vA(){return _e({mutationFn:Jn.resend})}function yA(){const s=Ce();return _e({mutationFn:Jn.revoke,onSuccess:()=>{s.invalidateQueries({queryKey:["site-invites"]})}})}function bA(s){return Pe({queryKey:["compliance-site",s],queryFn:()=>qf.site(s),enabled:!!s})}function jA(s){return Pe({queryKey:["compliance-student",s],queryFn:()=>qf.student(s),enabled:!!s})}function NA(){return Pe({queryKey:["compliance-overview"],queryFn:()=>qf.overview()})}function bj(s){return Pe({queryKey:["ce-policy",s],queryFn:()=>Kb.get(s),enabled:!!s})}function wA(){const s=Ce();return _e({mutationFn:({universityId:t,data:a})=>Kb.upsert(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["ce-policy"]})}})}function Jd(s){return Pe({queryKey:["ce-certificates",s],queryFn:()=>gi.list(s)})}function SA(){const s=Ce();return _e({mutationFn:gi.approve,onSuccess:()=>{s.invalidateQueries({queryKey:["ce-certificates"]})}})}function _A(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>gi.reject(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["ce-certificates"]})}})}function CA(){const s=Ce();return _e({mutationFn:({id:t,data:a})=>gi.revoke(t,a),onSuccess:()=>{s.invalidateQueries({queryKey:["ce-certificates"]})}})}function EA(s){return Pe({queryKey:["ce-audit-trail",s],queryFn:()=>gi.auditTrail(s),enabled:!!s})}function jj(s){return Pe({queryKey:["ce-eligibility",s],queryFn:()=>gi.eligibility(s),enabled:!!s})}function Nj(){const s=Ce();return _e({mutationFn:$_.complete,onSuccess:()=>{s.invalidateQueries({queryKey:["applications"]}),s.invalidateQueries({queryKey:["ce-certificates"]}),s.invalidateQueries({queryKey:["dashboard-stats"]})}})}function AA(s){return Pe({queryKey:["conversations",s],queryFn:()=>tl.conversations(s)})}function kA(s){return Pe({queryKey:["conversation",s],queryFn:()=>tl.messages(s),enabled:!!s,refetchInterval:1e4})}function DA(){const s=Ce();return _e({mutationFn:({conversationId:t,body:a})=>tl.send(t,a),onSuccess:(t,a)=>{s.invalidateQueries({queryKey:["conversation",a.conversationId]}),s.invalidateQueries({queryKey:["conversations"]})}})}function RA(){const s=Ce();return _e({mutationFn:tl.createConversation,onSuccess:()=>{s.invalidateQueries({queryKey:["conversations"]})}})}function TA(){return Pe({queryKey:["message-unread-count"],queryFn:()=>tl.unreadCount(),refetchInterval:3e4})}function MA(s){return Pe({queryKey:["messageable-users",s],queryFn:()=>tl.searchUsers(s),enabled:s.length>=2})}function OA(){const s=Ce();return _e({mutationFn:tl.broadcast,onSuccess:()=>{s.invalidateQueries({queryKey:["conversations"]})}})}function zA(s,t){return Pe({queryKey:["calendar-events",s,t],queryFn:()=>V_.events(s,t),enabled:!!s&&!!t})}function LA(s){const t=new Date,a=new Date(s),l=Math.floor((t.getTime()-a.getTime())/1e3);if(l<60)return"just now";const r=Math.floor(l/60);if(r<60)return`${r}m ago`;const c=Math.floor(r/60);if(c<24)return`${c}h ago`;const u=Math.floor(c/24);return u<7?`${u}d ago`:a.toLocaleDateString()}function sy(){const[s,t]=_.useState(!1),a=_.useRef(null),l=yt(),{data:r}=$E(),{data:c}=FE(),u=VE(),f=QE(),h=r?.count??0,x=c?.data??[];_.useEffect(()=>{function g(y){a.current&&!a.current.contains(y.target)&&t(!1)}return s&&document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[s]);function m(g){g.read_at||u.mutate(g.id),g.data.link&&l(g.data.link),t(!1)}return e.jsxs("div",{className:"relative",ref:a,children:[e.jsxs("button",{onClick:()=>t(!s),className:"relative p-2 rounded-lg text-stone-500 hover:text-stone-700 hover:bg-stone-100 transition-colors","aria-label":"Notifications",children:[e.jsx(Jb,{className:"w-5 h-5"}),h>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:h>99?"99+":h})]}),s&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-lg border border-stone-200 z-50 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-stone-100",children:[e.jsx("h3",{className:"font-semibold text-sm text-stone-900",children:"Notifications"}),h>0&&e.jsxs("button",{onClick:()=>f.mutate(),className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[e.jsx(bC,{className:"w-3.5 h-3.5"}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:x.length===0?e.jsx("div",{className:"px-4 py-8 text-center text-sm text-stone-400",children:"No notifications yet"}):x.map(g=>e.jsxs("button",{onClick:()=>m(g),className:`w-full text-left px-4 py-3 border-b border-stone-50 hover:bg-stone-50 transition-colors flex gap-3 ${g.read_at?"":"bg-primary-50/40"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`text-sm truncate ${g.read_at?"font-medium text-stone-700":"font-semibold text-stone-900"}`,children:g.data.title}),!g.read_at&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 shrink-0"})]}),e.jsx("p",{className:"text-xs text-stone-500 mt-0.5 line-clamp-2",children:g.data.message}),e.jsx("p",{className:"text-[11px] text-stone-400 mt-1",children:LA(g.created_at)})]}),!g.read_at&&e.jsx("button",{onClick:y=>{y.stopPropagation(),u.mutate(g.id)},className:"shrink-0 p-1 rounded text-stone-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Mark as read",children:e.jsx(zo,{className:"w-3.5 h-3.5"})})]},g.id))})]})]})}const UA=[{label:"Dashboard",path:"/dashboard",icon:e.jsx(a4,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]},{label:"Search Rotations",path:"/rotations",icon:e.jsx(qt,{className:"w-5 h-5"}),roles:["student"]},{label:"My Applications",path:"/applications",icon:e.jsx(St,{className:"w-5 h-5"}),roles:["student"]},{label:"Hour Log",path:"/hours",icon:e.jsx(Be,{className:"w-5 h-5"}),roles:["student","preceptor"]},{label:"Evaluations",path:"/evaluations",icon:e.jsx(bs,{className:"w-5 h-5"}),roles:["student","preceptor"]},{label:"Certificates",path:"/certificates",icon:e.jsx(Qt,{className:"w-5 h-5"}),roles:["student","preceptor","coordinator","admin"]},{label:"CE Credits",path:"/ce-credits",icon:e.jsx(Un,{className:"w-5 h-5"}),roles:["preceptor","coordinator","admin"]},{label:"Onboarding",path:"/onboarding-checklists",icon:e.jsx(tj,{className:"w-5 h-5"}),roles:["student","site_manager"]},{label:"Agreements",path:"/agreements",icon:e.jsx(So,{className:"w-5 h-5"}),roles:["coordinator","site_manager","admin"]},{label:"Messages",path:"/messages",icon:e.jsx(Cd,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]},{label:"Calendar",path:"/calendar",icon:e.jsx(Ot,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]},{label:"Compliance",path:"/compliance",icon:e.jsx(ys,{className:"w-5 h-5"}),roles:["student","site_manager","coordinator","professor","admin"]},{label:"My Site",path:"/site",icon:e.jsx(Ee,{className:"w-5 h-5"}),roles:["site_manager"]},{label:"Rotation Slots",path:"/slots",icon:e.jsx(ui,{className:"w-5 h-5"}),roles:["site_manager","admin"]},{label:"Preceptors",path:"/preceptors",icon:e.jsx(dj,{className:"w-5 h-5"}),roles:["site_manager"]},{label:"Applications",path:"/site-applications",icon:e.jsx(St,{className:"w-5 h-5"}),roles:["site_manager","admin"]},{label:"My Students",path:"/students",icon:e.jsx(at,{className:"w-5 h-5"}),roles:["preceptor","coordinator","professor"]},{label:"My University",path:"/programs",icon:e.jsx(Pt,{className:"w-5 h-5"}),roles:["coordinator"]},{label:"Placements",path:"/placements",icon:e.jsx(it,{className:"w-5 h-5"}),roles:["coordinator","professor"]},{label:"Sites Directory",path:"/sites",icon:e.jsx(dt,{className:"w-5 h-5"}),roles:["coordinator","admin"]},{label:"Universities",path:"/universities",icon:e.jsx(Pt,{className:"w-5 h-5"}),roles:["admin"]},{label:"All Users",path:"/admin/users",icon:e.jsx(at,{className:"w-5 h-5"}),roles:["admin"]},{label:"Settings",path:"/settings",icon:e.jsx(Zd,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]}];function HA(){const[s,t]=_.useState(!1),{user:a,logout:l}=We(),r=na();_.useEffect(()=>{t(!1)},[r.pathname]),_.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]);const{data:c}=TA(),u=UA.filter(x=>a&&x.roles.includes(a.role)),f={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"},h=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-stone-200",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(sy,{})}),e.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-1.5 rounded-lg text-stone-400 hover:text-stone-600 hover:bg-stone-100 transition-colors",children:e.jsx(Ks,{className:"w-5 h-5"})})]})]}),a&&e.jsx("div",{className:"px-4 py-3 border-b border-stone-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[a.firstName[0],a.lastName[0]]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900 truncate",children:[a.firstName," ",a.lastName]}),e.jsx("p",{className:"text-xs text-stone-500",children:f[a.role]})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-3 px-2 space-y-1",children:u.map(x=>e.jsxs(Lb,{to:x.path,className:({isActive:m})=>`flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${m||r.pathname===x.path?"bg-primary-50 text-primary-700":"text-stone-600 hover:bg-stone-50 hover:text-stone-900"}`,children:[x.icon,e.jsx("span",{className:"flex-1",children:x.label}),x.path==="/messages"&&(c?.count??0)>0&&e.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-600 text-white text-xs font-bold flex items-center justify-center",children:c.count>9?"9+":c.count})]},x.path))}),e.jsx("div",{className:"border-t border-stone-200 p-2",children:e.jsxs("button",{onClick:l,className:"flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-stone-600 hover:bg-red-50 hover:text-red-600 transition-all w-full",children:[e.jsx(m4,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-stone-200 flex items-center justify-between px-4 z-30",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t(!0),className:"p-2 -ml-2 rounded-lg text-stone-600 hover:bg-stone-100 transition-colors","aria-label":"Open menu",children:e.jsx(g4,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"font-bold text-base bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]})]}),e.jsx(sy,{})]}),s&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>t(!1)}),e.jsx("aside",{className:`lg:hidden fixed left-0 top-0 h-screen w-72 bg-white flex flex-col z-50 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full"}`,children:h}),e.jsx("aside",{className:"hidden lg:flex fixed left-0 top-0 h-screen w-64 bg-white border-r border-stone-200 flex-col z-40",children:h})]})}function wj({children:s}){return e.jsxs("div",{className:"min-h-screen bg-stone-50",children:[e.jsx(HA,{}),e.jsx("main",{className:"lg:ml-64 min-h-screen pt-14 lg:pt-0",children:e.jsx("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto",children:s})})]})}function L({variant:s="primary",size:t="md",children:a,isLoading:l,className:r="",disabled:c,...u}){const f="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 shadow-glow-primary hover:-translate-y-0.5",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500 shadow-glow-secondary hover:-translate-y-0.5",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-stone-600 hover:bg-stone-100 focus:ring-stone-400",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"},x={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-5 py-2.5 text-sm gap-2",lg:"px-7 py-3 text-base gap-2.5"};return e.jsxs("button",{className:`${f} ${h[s]} ${x[t]} ${r}`,disabled:c||l,...u,children:[l&&e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a]})}function V({children:s,hover:t=!1,glass:a=!1,padding:l="md",className:r="",...c}){const u={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return e.jsx("div",{className:`rounded-2xl border border-stone-200 shadow-sm ${a?"glass":"bg-white"} ${t?"hover-lift cursor-pointer":""} ${u[l]} ${r}`,...c,children:s})}function re({children:s,variant:t="default",size:a="sm"}){const l={default:"bg-stone-100 text-stone-700",primary:"bg-primary-100 text-primary-700",secondary:"bg-secondary-100 text-secondary-700",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700"},r={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return e.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${l[t]} ${r[a]}`,children:s})}function PA(){const s=yt(),{demoLogin:t}=We(),{data:a}=hr({status:"open"}),l=(a?.data||[]).slice(0,6),r=c=>{t(c),s("/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-stone-50",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-stone-200/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm font-medium text-stone-600",children:[e.jsx("button",{onClick:()=>s("/rotations"),className:"hover:text-primary-600 transition-colors",children:"Browse Rotations"}),e.jsx("a",{href:"#how-it-works",className:"hover:text-primary-600 transition-colors",children:"How It Works"}),e.jsx("a",{href:"#features",className:"hover:text-primary-600 transition-colors",children:"Features"}),e.jsx("a",{href:"#roles",className:"hover:text-primary-600 transition-colors",children:"Who It's For"}),e.jsx("a",{href:"#demo",className:"hover:text-primary-600 transition-colors",children:"Demo"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s("/login"),children:"Sign In"}),e.jsx(L,{size:"sm",onClick:()=>s("/register"),children:"Get Started"})]})]})}),e.jsxs("header",{className:"relative overflow-hidden pt-16",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-600 via-primary-500 to-secondary-500"}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 25% 25%, white 1px, transparent 1px), radial-gradient(circle at 75% 75%, white 1px, transparent 1px)",backgroundSize:"50px 50px"}}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-28",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/15 backdrop-blur-sm rounded-full px-4 py-1.5 mb-6",children:[e.jsx(rj,{className:"w-4 h-4 text-accent-300"}),e.jsx("span",{className:"text-sm font-medium text-white/90",children:"The Future of Clinical Education"})]}),e.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-extrabold text-white mb-6 leading-tight",children:["From Placement to",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-accent-300 to-amber-300 bg-clip-text text-transparent",children:"Verified Credential"})]}),e.jsxs("p",{className:"text-base sm:text-xl text-white/80 max-w-3xl mx-auto mb-4",children:["The all-in-one platform that handles the ",e.jsx("strong",{className:"text-white",children:"entire clinical education lifecycle"}),"  from finding a rotation to earning digitally verified credentials."]}),e.jsx("div",{className:"flex items-center justify-center gap-1 sm:gap-2 my-8 flex-wrap",children:["Discover","Apply","Onboard","Track","Evaluate","Certify"].map((c,u)=>e.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("span",{className:"px-2 sm:px-3 py-1 rounded-full bg-white/20 text-white text-xs sm:text-sm font-medium backdrop-blur-sm",children:c}),u<5&&e.jsx(Os,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white/50"})]},c))}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 mt-8",children:[e.jsxs(L,{size:"lg",className:"bg-white text-primary-600 hover:bg-white/90 w-full sm:w-auto",onClick:()=>s("/register"),children:["Start Free Today ",e.jsx(ni,{className:"w-5 h-5"})]}),e.jsx(L,{size:"lg",variant:"outline",className:"border-white/50 text-white hover:bg-white/10 w-full sm:w-auto",onClick:()=>s("/rotations"),children:"Browse Open Rotations"})]})]})}),e.jsx("div",{className:"relative z-10 border-t border-white/10",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:[{label:"Role-Based Dashboards",value:"6",icon:Ee},{label:"Lifecycle Stages",value:"7",icon:it},{label:"Compliance Tracking",value:"",icon:Pt},{label:"Hour Logging & Approval",value:"",icon:Be}].map(c=>e.jsxs("div",{className:"text-center",children:[e.jsx(c.icon,{className:"w-5 h-5 text-white/60 mx-auto mb-1"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white",children:c.value}),e.jsx("p",{className:"text-xs text-white/60",children:c.label})]},c.label))})})})]}),e.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-14",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-red-50 text-red-600 text-sm font-medium mb-4",children:"The Problem"}),e.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Clinical Education is Broken"}),e.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto",children:"500,000+ healthcare students need placements every year. The process is manual, opaque, and stuck in the past."})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 max-w-5xl mx-auto",children:[{problem:"Coordinators cold-call sites & manage Excel spreadsheets",icon:""},{problem:"Students have zero visibility into available rotations",icon:""},{problem:"Compliance docs scattered across email, fax, and filing cabinets",icon:""},{problem:"Clinical hours logged on paper  easily lost or falsified",icon:""},{problem:"No way to verify a student actually completed 500 clinical hours",icon:""},{problem:"Universities pay $5K-$50K/year for clunky legacy tools",icon:""}].map(c=>e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-red-50/50 border border-red-100",children:[e.jsx("span",{className:"text-xl shrink-0",children:c.icon}),e.jsx("p",{className:"text-sm text-stone-700",children:c.problem})]},c.problem))})]})}),e.jsx("section",{id:"how-it-works",className:"py-12 sm:py-20 px-4 sm:px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary-50 text-primary-600 text-sm font-medium mb-4",children:"How It Works"}),e.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Three Steps to Your Next Rotation"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:e.jsx(qt,{className:"w-8 h-8"}),title:"Discover & Apply",desc:"Browse rotations by specialty, location, dates, and cost. Apply instantly with your profile and credentials. Filter across multiple criteria to find your perfect match.",step:"01"},{icon:e.jsx(bs,{className:"w-8 h-8"}),title:"Track & Complete",desc:"Log hours digitally with preceptor approval. Receive mid-rotation and final evaluations. Complete onboarding checklists. Everything your program needs.",step:"02"},{icon:e.jsx(Qt,{className:"w-8 h-8"}),title:"Certify & Advance",desc:"Earn digital certificates with unique verification links. Build a verified credential portfolio that employers and schools can confirm instantly.",step:"03"}].map(c=>e.jsxs(V,{hover:!0,className:"relative overflow-hidden",children:[e.jsx("span",{className:"absolute top-4 right-4 text-5xl font-black text-primary-50",children:c.step}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary-50 to-secondary-50 text-primary-600 flex items-center justify-center mb-4",children:c.icon}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-2",children:c.title}),e.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:c.desc})]})]},c.title))})]})}),l.length>0&&e.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-14",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-green-50 text-green-600 text-sm font-medium mb-4",children:"Open Now"}),e.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Available Rotations"}),e.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto",children:"Browse real rotation opportunities posted by clinical sites. Sign up to apply."})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:l.map(c=>{const u=Math.round((new Date(c.end_date).getTime()-new Date(c.start_date).getTime())/6048e5),f=c.capacity-c.filled;return e.jsxs(V,{hover:!0,onClick:()=>s("/rotations"),className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(dt,{className:"w-5 h-5"})}),e.jsxs(re,{variant:"success",size:"sm",children:[f," spot",f!==1?"s":""," left"]})]}),e.jsx("h3",{className:"font-semibold text-stone-900 mb-1 line-clamp-1",children:c.title}),e.jsx("p",{className:"text-sm text-stone-500 mb-2",children:c.site?.name}),e.jsx("p",{className:"text-xs text-stone-500 line-clamp-2 mb-3",children:c.description}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[e.jsx(re,{variant:"primary",size:"sm",children:c.specialty}),e.jsx(re,{variant:c.cost_type==="free"?"success":"warning",size:"sm",children:c.cost_type==="free"?"Free":`$${c.cost}`}),e.jsxs(re,{variant:"default",size:"sm",children:[u,"w"]})]}),e.jsxs("div",{className:"space-y-1 text-xs text-stone-500",children:[c.site&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ht,{className:"w-3 h-3"}),c.site.city,", ",c.site.state]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ot,{className:"w-3 h-3"}),new Date(c.start_date).toLocaleDateString()," - ",new Date(c.end_date).toLocaleDateString()]})]})]},c.id)})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs(L,{size:"lg",onClick:()=>s("/rotations"),children:["View All Rotations ",e.jsx(ni,{className:"w-5 h-5"})]})})]})}),e.jsx("section",{id:"features",className:"py-12 sm:py-20 px-4 sm:px-6 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-secondary-50 text-secondary-600 text-sm font-medium mb-4",children:"Platform Features"}),e.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Everything You Need, Nothing You Don't"}),e.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto",children:"From search to certification, every step is digitized, tracked, and verifiable."})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:e.jsx(qt,{className:"w-6 h-6"}),title:"Smart Rotation Search",desc:"Filter by specialty, location, dates, cost, and availability. Find your ideal placement across multiple criteria.",color:"primary"},{icon:e.jsx(Sd,{className:"w-6 h-6"}),title:"Credential Vault",desc:"Upload and track all credentials with expiry alerts. Monitor compliance status with traffic-light dashboards.",color:"green"},{icon:e.jsx(Be,{className:"w-6 h-6"}),title:"Digital Hour Logging",desc:"Log hours online with preceptor approval workflow. Track progress toward required hours with a complete audit trail.",color:"secondary"},{icon:e.jsx(bs,{className:"w-6 h-6"}),title:"Structured Evaluations",desc:"Mid-rotation and final evaluations with standardized rubrics (1-5 scale). Draft, submit, and review evaluations digitally.",color:"amber"},{icon:e.jsx(Jl,{className:"w-6 h-6"}),title:"Verified Credentials",desc:"Earn completion certificates with unique verification links. Employers and schools can verify credentials instantly.",color:"purple"},{icon:e.jsx(qt,{className:"w-6 h-6"}),title:"Multi-Criteria Search",desc:"Filter rotations by specialty, schedule, location, cost, and availability to find the right match for your program.",color:"rose"},{icon:e.jsx(wo,{className:"w-6 h-6"}),title:"Compliance Dashboard",desc:"Real-time placement tracking, hour summaries, credential status, and compliance overview for every stakeholder.",color:"indigo"},{icon:e.jsx(aE,{className:"w-6 h-6"}),title:"Compliance Tracking",desc:"Manage affiliation agreements, onboarding checklists, and credential requirements with status tracking dashboards.",color:"orange"},{icon:e.jsx(L4,{className:"w-6 h-6"}),title:"Responsive Design",desc:"Works on any device  desktop, tablet, or phone. Manage rotations, log hours, and review applications on the go.",color:"teal"}].map(c=>e.jsxs(V,{hover:!0,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-${c.color}-50 text-${c.color}-600 flex items-center justify-center mb-4`,children:c.icon}),e.jsx("h3",{className:"font-semibold text-stone-900 mb-2",children:c.title}),e.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:c.desc})]},c.title))})]})}),e.jsx("section",{id:"roles",className:"py-12 sm:py-20 px-4 sm:px-6 bg-gradient-to-br from-primary-50 via-white to-secondary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary-50 text-primary-600 text-sm font-medium mb-4",children:"For Everyone"}),e.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Built For Every Role in Clinical Education"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[{icon:e.jsx(it,{className:"w-6 h-6"}),role:"Students",tagline:"Find, apply, and complete rotations with ease",features:["Filter-based rotation search","One-click applications","Digital hour logging","Credential tracking with alerts","Verified completion certificates"],color:"primary"},{icon:e.jsx(Ee,{className:"w-6 h-6"}),role:"Clinical Sites",tagline:"Fill slots faster, manage students effortlessly",features:["Create rotation listings","Review applications in bulk","Track student compliance","Manage preceptor assignments","Onboarding checklists"],color:"secondary"},{icon:e.jsx(Pt,{className:"w-6 h-6"}),role:"Universities",tagline:"Monitor, comply, and report  automatically",features:["Real-time placement dashboards","Credential tracking with alerts","Manage affiliation agreements","Student compliance overview","Program and roster management"],color:"accent"},{icon:e.jsx(Ft,{className:"w-6 h-6"}),role:"Preceptors",tagline:"Teach, evaluate, and earn recognition",features:["Approve hours digitally","Structured evaluation rubrics","Earn CE credit hours","Grow your precepting experience","Track your precepting activity"],color:"primary"}].map(c=>e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-${c.color}-50 text-${c.color}-600 flex items-center justify-center shrink-0`,children:c.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:c.role}),e.jsx("p",{className:"text-sm text-stone-500 mb-3",children:c.tagline}),e.jsx("ul",{className:"space-y-1.5",children:c.features.map(u=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-stone-600",children:[e.jsx(Fe,{className:"w-4 h-4 text-green-500 shrink-0"}),u]},u))})]})]})},c.role))})]})}),e.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-stone-900 text-white",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[e.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-4",children:"Why ClinicLink Wins"}),e.jsx("p",{className:"text-lg text-stone-400 mb-10 max-w-2xl mx-auto",children:"Legacy platforms like Exxat and Core ELMS charge $5K-$50K/year and do half of what we offer."}),e.jsx("div",{className:"grid sm:grid-cols-3 gap-6",children:[{title:"All-in-One",desc:"Search, apply, track, evaluate, certify  no more stitching together 5 tools",icon:e.jsx(ta,{className:"w-6 h-6"})},{title:"Instantly Verifiable",desc:"Every certificate includes a unique verification link  employers can confirm credentials in seconds",icon:e.jsx(Jl,{className:"w-6 h-6"})},{title:"Purpose-Built",desc:"Designed specifically for clinical education with role-specific workflows for students, preceptors, sites, and universities",icon:e.jsx(dC,{className:"w-6 h-6"})}].map(c=>e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-500/20 text-primary-400 flex items-center justify-center mx-auto mb-4",children:c.icon}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:c.title}),e.jsx("p",{className:"text-sm text-stone-400",children:c.desc})]},c.title))})]})}),e.jsx("section",{className:"py-12 sm:py-16 px-4 sm:px-6 bg-white",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx("div",{className:"grid sm:grid-cols-3 gap-8",children:[{quote:"Imagine eliminating your placement scramble. Students browse and apply for rotations themselves.",author:"University Coordinator",title:"Example use case",icon:e.jsx(Pt,{className:"w-5 h-5"})},{quote:"Search available rotations, apply with one click, and track your hours  all in one place.",author:"Nursing Student",title:"Example use case",icon:e.jsx(it,{className:"w-5 h-5"})},{quote:"Manage all your rotation slots, review applications, and track student compliance from one dashboard.",author:"Site Manager",title:"Example use case",icon:e.jsx(Ee,{className:"w-5 h-5"})}].map(c=>e.jsxs(V,{children:[e.jsx("div",{className:"flex gap-1 mb-3",children:e.jsx(re,{variant:"default",size:"sm",children:"Demo Example"})}),e.jsxs("p",{className:"text-sm text-stone-700 mb-4 italic",children:['"',c.quote,'"']}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-primary-50 text-primary-600 flex items-center justify-center",children:c.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:c.author}),e.jsx("p",{className:"text-xs text-stone-500",children:c.title})]})]})]},c.author))})})}),e.jsx("section",{id:"demo",className:"py-12 sm:py-20 px-4 sm:px-6 bg-stone-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary-50 text-primary-600 text-sm font-medium mb-4",children:"Live Demo"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-stone-900 mb-4",children:"See It In Action  No Sign Up Required"}),e.jsx("p",{className:"text-base sm:text-lg text-stone-600 mb-8 sm:mb-10",children:"Explore ClinicLink instantly as any role"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{role:"student",label:"Student",icon:e.jsx(it,{className:"w-5 h-5"}),desc:"Search rotations, apply, track hours"},{role:"site_manager",label:"Site Manager",icon:e.jsx(Ee,{className:"w-5 h-5"}),desc:"Create slots, review applications"},{role:"preceptor",label:"Preceptor",icon:e.jsx(dt,{className:"w-5 h-5"}),desc:"Approve hours, write evaluations"},{role:"coordinator",label:"Coordinator",icon:e.jsx(Pt,{className:"w-5 h-5"}),desc:"Monitor placements, run reports"},{role:"professor",label:"Professor",icon:e.jsx(at,{className:"w-5 h-5"}),desc:"Track student progress"},{role:"admin",label:"Admin",icon:e.jsx(Ft,{className:"w-5 h-5"}),desc:"Platform management"}].map(c=>e.jsxs("button",{onClick:()=>r(c.role),className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-stone-200 hover:border-primary-300 hover:shadow-glow-primary transition-all duration-300 text-left group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center group-hover:bg-primary-100 transition-colors",children:c.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-stone-900 text-sm",children:c.label}),e.jsx("p",{className:"text-xs text-stone-500",children:c.desc})]}),e.jsx(ni,{className:"w-4 h-4 text-stone-300 group-hover:text-primary-500 ml-auto transition-colors"})]},c.role))})]})}),e.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-gradient-to-br from-primary-600 to-secondary-500 text-white text-center",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-4",children:"Ready to Transform Clinical Education?"}),e.jsx("p",{className:"text-lg text-white/80 mb-8",children:"Join students, clinical sites, and universities building the future of clinical education."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsxs(L,{size:"lg",className:"bg-white text-primary-600 hover:bg-white/90 w-full sm:w-auto",onClick:()=>s("/register"),children:["Create Free Account ",e.jsx(ni,{className:"w-5 h-5"})]}),e.jsx(L,{size:"lg",variant:"outline",className:"border-white/50 text-white hover:bg-white/10 w-full sm:w-auto",onClick:()=>s("/login"),children:"Sign In"})]})]})}),e.jsx("footer",{className:"bg-stone-900 text-stone-400 py-8 sm:py-12 px-4 sm:px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid sm:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(dt,{className:"w-5 h-5 text-primary-400"}),e.jsx("span",{className:"font-semibold text-white",children:"ClinicLink"})]}),e.jsx("p",{className:"text-sm text-stone-500",children:"The all-in-one clinical rotation platform."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white text-sm mb-3",children:"Platform"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>s("/rotations"),className:"hover:text-white transition-colors",children:"Search Rotations"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>s("/register"),className:"hover:text-white transition-colors",children:"Create Account"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>s("/login"),className:"hover:text-white transition-colors",children:"Sign In"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white text-sm mb-3",children:"For"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Students"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Clinical Sites"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Universities"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Preceptors"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white text-sm mb-3",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"About"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Contact"})})]})]})]}),e.jsxs("div",{className:"border-t border-stone-800 pt-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsx("p",{className:"text-xs",children:" 2026 ClinicLink. All rights reserved."}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"})," Miami, FL"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3 h-3"})," USA"]})]})]})]})})]})}function De({label:s,error:t,icon:a,className:l="",...r}){return e.jsxs("div",{className:"space-y-1.5",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:s}),e.jsxs("div",{className:"relative",children:[a&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:a}),e.jsx("input",{className:`w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200 ${a?"pl-10":""} ${t?"border-red-400 focus:border-red-500 focus:ring-red-500/20":""} ${l}`,...r})]}),t&&e.jsx("p",{className:"text-sm text-red-500",children:t})]})}function qA(){const[s,t]=_.useState(""),[a,l]=_.useState(""),[r,c]=_.useState(!1),{login:u,verifyMfa:f,cancelMfa:h,mfaPending:x,isLoading:m,isAuthenticated:g}=We(),y=yt(),[N]=Of(),j=N.get("redirect"),[S,b]=_.useState(""),[C,k]=_.useState(!1);_.useEffect(()=>{g&&y(j||"/dashboard")},[g,y,j]);const E=async Q=>{Q.preventDefault();try{await u(s,a)}catch(R){const q=R instanceof Error?R.message:"Login failed. Please check your credentials.";Y.error(q)}},M=async Q=>{if(Q.preventDefault(),!!S.trim())try{await f(S.trim())}catch(R){const q=R instanceof Error?R.message:"Invalid verification code.";Y.error(q)}},z=Q=>{b(C?Q:Q.replace(/\D/g,"").slice(0,6))};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center mx-auto mb-4",children:e.jsx(ys,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-stone-500 mt-1",children:C?"Enter one of your backup codes":"Enter the 6-digit code from your authenticator app"})]}),e.jsxs(V,{children:[e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[C?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Backup Code"}),e.jsx("input",{type:"text",value:S,onChange:Q=>z(Q.target.value),placeholder:"XXXX-XXXX",autoFocus:!0,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-3 text-base font-mono tracking-wider text-center focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Verification Code"}),e.jsx("input",{type:"text",inputMode:"numeric",value:S,onChange:Q=>z(Q.target.value),placeholder:"000000",maxLength:6,autoFocus:!0,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-3 text-2xl font-mono tracking-[0.5em] text-center focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs(L,{type:"submit",isLoading:m,className:"w-full",disabled:!S.trim(),children:[e.jsx(ys,{className:"w-4 h-4"})," Verify"]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>{h(),b(""),k(!1)},className:"text-sm text-stone-500 hover:text-stone-700 flex items-center gap-1",children:[e.jsx(Sn,{className:"w-3.5 h-3.5"})," Back to login"]}),e.jsx("button",{onClick:()=>{k(!C),b("")},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:C?"Use authenticator app":"Use a backup code"})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Welcome back"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Sign in to your account"})]}),e.jsxs(V,{children:[e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsx(De,{label:"Email, Username, or Phone",type:"text",placeholder:"you@university.edu, username, or phone",value:s,onChange:Q=>t(Q.target.value),icon:e.jsx(Xt,{className:"w-4 h-4"}),required:!0}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:e.jsx(Jl,{className:"w-4 h-4"})}),e.jsx("input",{type:r?"text":"password",placeholder:"Enter your password",value:a,onChange:Q=>l(Q.target.value),required:!0,className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-10 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>c(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-stone-400 hover:text-stone-600",children:r?e.jsx(If,{className:"w-4 h-4"}):e.jsx(ea,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Vt,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Forgot password?"})}),e.jsx(L,{type:"submit",isLoading:m,className:"w-full",children:"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-stone-500",children:["Don't have an account?"," ",e.jsx(Vt,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Register"})]})})]}),e.jsx("p",{className:"text-center text-xs text-stone-400 mt-6",children:"Demo: student@cliniclink.com / password (or any demo role email)"})]})})}const BA=[{value:"student",label:"Student",desc:"I need clinical rotation hours"},{value:"site_manager",label:"Site Manager",desc:"I manage a clinical facility"},{value:"preceptor",label:"Preceptor",desc:"I supervise students clinically"},{value:"coordinator",label:"University Coordinator",desc:"I manage student placements"},{value:"professor",label:"Professor / Faculty",desc:"I oversee students in my program"}];function IA(){const s="ABCDEFGHJKLMNPQRSTUVWXYZ",t="abcdefghjkmnpqrstuvwxyz",a="23456789",l="!@#$%&*?",r=s+t+a+l;let c="";c+=s[Math.floor(Math.random()*s.length)],c+=t[Math.floor(Math.random()*t.length)],c+=a[Math.floor(Math.random()*a.length)],c+=l[Math.floor(Math.random()*l.length)];for(let u=4;u<16;u++)c+=r[Math.floor(Math.random()*r.length)];return c.split("").sort(()=>Math.random()-.5).join("")}function FA(s){if(!s)return{score:0,label:"",color:""};let t=0;return s.length>=12&&t++,s.length>=16&&t++,/[a-z]/.test(s)&&/[A-Z]/.test(s)&&t++,/\d/.test(s)&&t++,/[^a-zA-Z0-9]/.test(s)&&t++,t<=1?{score:1,label:"Weak",color:"bg-red-500"}:t<=2?{score:2,label:"Fair",color:"bg-orange-500"}:t<=3?{score:3,label:"Good",color:"bg-amber-500"}:t<=4?{score:4,label:"Strong",color:"bg-green-500"}:{score:5,label:"Very Strong",color:"bg-emerald-500"}}function $A(){const[s]=Of(),t=s.get("email")||"",a=s.get("role")||"student",[l,r]=_.useState({firstName:"",lastName:"",email:t,username:"",password:"",role:a,universityId:"",programId:""}),[c,u]=_.useState(!1),[f,h]=_.useState(!1),{register:x,isLoading:m}=We(),[g,y]=_.useState(""),[N,j]=_.useState([]),[S,b]=_.useState(!1),[C,k]=_.useState(null),[E,M]=_.useState(!1),z=_.useRef(null),Q=_.useRef(null),[R,q]=_.useState([]),[ve,ye]=_.useState(!1),oe=["student","preceptor","coordinator","professor"].includes(l.role),F=l.role==="student"&&l.universityId;_.useEffect(()=>{if(!l.universityId||l.role!=="student"){q([]);return}ye(!0),le.get(`/universities/${l.universityId}/programs`).then(T=>q(Array.isArray(T)?T:[])).catch(()=>q([])).finally(()=>ye(!1))},[l.universityId,l.role]),_.useEffect(()=>{if(!g.trim()||g.length<2){j([]);return}b(!0),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(async()=>{try{const T=await di.list({search:g});j((T.data||[]).map(U=>({id:U.id,name:U.name,city:U.city,state:U.state})))}catch{j([])}finally{b(!1)}},300)},[g]),_.useEffect(()=>{const T=U=>{z.current&&!z.current.contains(U.target)&&M(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const xe=_.useMemo(()=>FA(l.password),[l.password]),X=_.useMemo(()=>[{label:"At least 12 characters",pass:l.password.length>=12},{label:"Uppercase letter",pass:/[A-Z]/.test(l.password)},{label:"Lowercase letter",pass:/[a-z]/.test(l.password)},{label:"Number",pass:/\d/.test(l.password)},{label:"Special character (!@#$%)",pass:/[^a-zA-Z0-9]/.test(l.password)}],[l.password]),be=()=>{const T=IA();r(U=>({...U,password:T})),u(!0),Y.success("Strong password generated! Make sure to save it.")},A=async T=>{if(T.preventDefault(),l.password.length<12){Y.error("Password must be at least 12 characters");return}try{await x({...l,universityId:l.universityId||void 0,programId:l.programId||void 0}),h(!0)}catch(U){const me=U instanceof Error?U.message:"Registration failed. Please try again.";Y.error(me)}};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-teal-50 px-4 py-12",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 text-green-500 flex items-center justify-center mx-auto mb-4",children:e.jsx(Fe,{className:"w-8 h-8"})}),e.jsx("h1",{className:"text-xl font-bold text-stone-900 mb-2",children:"Registration Submitted!"}),e.jsxs("p",{className:"text-stone-600 mb-4",children:["Thank you for registering, ",e.jsx("strong",{children:l.firstName}),". Your account is pending approval by an administrator."]}),e.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl px-4 py-3 text-sm mb-6",children:["You will receive an email at ",e.jsx("strong",{children:l.email})," once your account has been approved and activated."]}),e.jsx(Vt,{to:"/login",children:e.jsx(L,{variant:"outline",className:"w-full",children:"Go to Login"})})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Create your account"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Join the clinical placement network"})]}),e.jsxs(V,{children:[e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(De,{label:"First Name",placeholder:"Sarah",value:l.firstName,onChange:T=>r({...l,firstName:T.target.value}),icon:e.jsx(Xt,{className:"w-4 h-4"}),required:!0}),e.jsx(De,{label:"Last Name",placeholder:"Chen",value:l.lastName,onChange:T=>r({...l,lastName:T.target.value}),required:!0})]}),e.jsx(De,{label:"Username",placeholder:"sarahchen",value:l.username,onChange:T=>r({...l,username:T.target.value.toLowerCase().replace(/[^a-z0-9._-]/g,"")}),icon:e.jsx(nC,{className:"w-4 h-4"}),required:!0}),e.jsx(De,{label:"Email",type:"email",placeholder:"you@university.edu",value:l.email,onChange:T=>r({...l,email:T.target.value}),icon:e.jsx(Ln,{className:"w-4 h-4"}),required:!0}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Password"}),e.jsxs("button",{type:"button",onClick:be,className:"inline-flex items-center gap-1 text-xs font-medium text-primary-600 hover:text-primary-700 transition-colors",children:[e.jsx(tE,{className:"w-3 h-3"})," Suggest strong password"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:e.jsx(Jl,{className:"w-4 h-4"})}),e.jsx("input",{type:c?"text":"password",placeholder:"Create a password (min 12 chars)",value:l.password,onChange:T=>r({...l,password:T.target.value}),required:!0,className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-10 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-stone-400 hover:text-stone-600",children:c?e.jsx(If,{className:"w-4 h-4"}):e.jsx(ea,{className:"w-4 h-4"})})]}),l.password&&e.jsxs("div",{className:"space-y-2 pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-stone-200 rounded-full overflow-hidden flex gap-0.5",children:[1,2,3,4,5].map(T=>e.jsx("div",{className:`flex-1 rounded-full transition-colors ${T<=xe.score?xe.color:"bg-stone-200"}`},T))}),e.jsx("span",{className:`text-xs font-medium ${xe.score<=1?"text-red-600":xe.score<=2?"text-orange-600":xe.score<=3?"text-amber-600":"text-green-600"}`,children:xe.label})]}),e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:X.map(T=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[T.pass?e.jsx(zo,{className:"w-3 h-3 text-green-500"}):e.jsx(Ks,{className:"w-3 h-3 text-stone-300"}),e.jsx("span",{className:`text-xs ${T.pass?"text-green-600":"text-stone-400"}`,children:T.label})]},T.label))})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"I am a..."}),e.jsx("div",{className:"space-y-2",children:BA.map(T=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${l.role===T.value?"border-primary-500 bg-primary-50 ring-2 ring-primary-500/20":"border-stone-200 hover:border-stone-300"}`,children:[e.jsx("input",{type:"radio",name:"role",value:T.value,checked:l.role===T.value,onChange:()=>r({...l,role:T.value}),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l.role===T.value?"border-primary-500":"border-stone-300"}`,children:l.role===T.value&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:T.label}),e.jsx("p",{className:"text-xs text-stone-500",children:T.desc})]})]},T.value))})]}),oe&&e.jsxs("div",{className:"space-y-1.5",ref:z,children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:l.role==="student"?"Your School / University":"Affiliated Organization"}),C?e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border border-primary-300 bg-primary-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-stone-900",children:C.name})]}),e.jsx("button",{type:"button",onClick:()=>{k(null),r(T=>({...T,universityId:"",programId:""})),y(""),q([])},className:"text-stone-400 hover:text-red-500",children:e.jsx(Ks,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:S?e.jsx(Et,{className:"w-4 h-4 animate-spin"}):e.jsx(qt,{className:"w-4 h-4"})}),e.jsx("input",{type:"text",value:g,onChange:T=>{y(T.target.value),M(!0)},onFocus:()=>N.length>0&&M(!0),placeholder:"Search for your school or organization...",className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-4 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),E&&N.length>0&&e.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-stone-200 rounded-xl shadow-lg max-h-48 overflow-y-auto",children:N.map(T=>e.jsxs("button",{type:"button",onClick:()=>{k({id:T.id,name:T.name}),r(U=>({...U,universityId:T.id,programId:""})),M(!1),y("")},className:"w-full text-left px-4 py-2.5 hover:bg-primary-50 transition-colors border-b border-stone-100 last:border-0",children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:T.name}),(T.city||T.state)&&e.jsx("p",{className:"text-xs text-stone-500",children:[T.city,T.state].filter(Boolean).join(", ")})]},T.id))}),E&&g.length>=2&&!S&&N.length===0&&e.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white border border-stone-200 rounded-xl shadow-lg p-4 text-center",children:[e.jsxs("p",{className:"text-sm text-stone-500",children:['No organizations found for "',g,'"']}),e.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"You can add your organization after registration"})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:l.role==="student"?"Select the school you are enrolled in":"Select the school or organization you are affiliated with"})]}),F&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Your Program"}),ve?e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl border border-stone-200",children:[e.jsx(Et,{className:"w-4 h-4 animate-spin text-stone-400"}),e.jsx("span",{className:"text-sm text-stone-500",children:"Loading programs..."})]}):R.length===0?e.jsxs("div",{className:"p-3 rounded-xl border border-stone-200 bg-stone-50",children:[e.jsx("p",{className:"text-sm text-stone-500",children:"No programs found for this university."}),e.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Your coordinator can assign you to a program later."})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:e.jsx(Pt,{className:"w-4 h-4"})}),e.jsxs("select",{value:l.programId,onChange:T=>r(U=>({...U,programId:T.target.value})),className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-4 py-2.5 text-sm text-stone-900 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200 appearance-none",children:[e.jsx("option",{value:"",children:"-- Select your program --"}),R.map(T=>e.jsxs("option",{value:T.id,children:[T.name," (",T.degree_type,") - ",T.required_hours,"h"]},T.id))]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"Select the clinical program you are enrolled in"})]}),e.jsx(L,{type:"submit",isLoading:m,className:"w-full",children:"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-stone-500",children:["Already have an account?"," ",e.jsx(Vt,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]})]})})}function xr(){return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}function Dt({icon:s,label:t,value:a,color:l="primary"}){const r={primary:"bg-primary-50 text-primary-600",secondary:"bg-secondary-50 text-secondary-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",accent:"bg-accent-50 text-accent-600"};return e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${r[l]||r.primary}`,children:s}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:a}),e.jsx("p",{className:"text-xs text-stone-500",children:t})]})]})})}function As({title:s,actionLabel:t,onAction:a}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:s}),t&&a&&e.jsxs("button",{onClick:a,className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[t," ",e.jsx(Os,{className:"w-4 h-4"})]})]})}function pr({items:s}){const t=s.filter(a=>a.count>0);return t.length===0?null:e.jsx(V,{className:"border-2 border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0",children:e.jsx(js,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-amber-800 text-lg",children:"Action Required"}),e.jsx("div",{className:"mt-2 space-y-2",children:t.map((a,l)=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-amber-200 text-amber-800 text-xs font-bold flex-shrink-0",children:a.count}),e.jsx("span",{className:"text-sm text-amber-700",children:a.label})]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:a.onClick,className:"flex-shrink-0 border-amber-300 text-amber-800 hover:bg-amber-100",children:[a.buttonLabel," ",e.jsx(ni,{className:"w-3.5 h-3.5 ml-1"})]})]},l))})]})]})})}function ny(){const s=yt(),{user:t}=We(),{data:a,isLoading:l}=mr(),{data:r}=Zs(),{data:c}=Qf(),{data:u}=Xd(),{data:f}=hj(),h=r?.data||[],x=c?.data||[],m=u?.data||[],g=f?.credentials||[],y=x.reduce((q,ve)=>q+(Number(ve.hours_worked)||0),0),N=x.filter(q=>q.status==="approved").reduce((q,ve)=>q+(Number(ve.hours_worked)||0),0),j=a?.prior_hours||0,S=j+N,b=a?.hours_required||0,C=x.filter(q=>q.status==="pending").length,k=b>0?Math.min(Math.round(S/b*100),100):0,E=h.filter(q=>q.status==="accepted"),M=g.filter(q=>q.status==="expired"),z=g.filter(q=>q.status==="expiring_soon"),Q=M.length>0?"red":z.length>0?"yellow":"green",R=Q==="red"?"Action Required":Q==="yellow"?"Expiring Soon":"All Current";return l?e.jsx(xr,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Student","!"]}),e.jsx("p",{className:"text-stone-500",children:"Track your clinical rotation progress and manage your placements."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Dt,{icon:e.jsx(Be,{className:"w-5 h-5"}),label:"Hours Completed",value:b>0?`${S}/${b}`:"No program",color:"primary"}),e.jsx(Dt,{icon:e.jsx(St,{className:"w-5 h-5"}),label:"Applications",value:a?.applications_count||h.length,color:"secondary"}),e.jsx(Dt,{icon:e.jsx(Fe,{className:"w-5 h-5"}),label:"Active Rotations",value:a?.active_rotations||E.length,color:"green"}),e.jsx(Dt,{icon:e.jsx(zn,{className:"w-5 h-5"}),label:"Pending Review",value:C,color:"amber"})]}),e.jsx(pr,{items:[{label:"credential(s) expired or expiring",count:M.length+z.length,onClick:()=>s("/settings"),buttonLabel:"Update"},{label:"hour log(s) pending review",count:C,onClick:()=>s("/hours"),buttonLabel:"View"}]}),e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:"Clinical Hours Progress"}),e.jsx("span",{className:"text-sm font-medium text-primary-600",children:b>0?`${k}%`:"N/A"})]}),e.jsx("div",{className:"w-full h-4 bg-stone-100 rounded-full overflow-hidden",children:b>0?e.jsxs("div",{className:"h-full flex",children:[j>0&&e.jsx("div",{className:"h-full bg-stone-400 transition-all duration-500",style:{width:`${Math.min(j/b*100,100)}%`}}),e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-500",style:{width:`${Math.min(N/b*100,100-j/b*100)}%`}})]}):e.jsx("div",{className:"h-full bg-stone-200 rounded-full"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-2 text-xs text-stone-500 gap-1",children:[j>0&&e.jsxs("span",{children:[j," prior"]}),e.jsxs("span",{children:[N," approved",j>0?" on platform":""]}),e.jsx("span",{children:y-N>0?`${y-N} pending`:""}),e.jsx("span",{children:b>0?`${Math.max(b-S,0)} remaining`:"No program assigned"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx(As,{title:"Credential Compliance",actionLabel:"Manage",onAction:()=>s("/settings")}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl ${Q==="red"?"bg-red-50 border border-red-200":Q==="yellow"?"bg-amber-50 border border-amber-200":"bg-green-50 border border-green-200"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Q==="red"?"bg-red-100 text-red-600":Q==="yellow"?"bg-amber-100 text-amber-600":"bg-green-100 text-green-600"}`,children:e.jsx(Ft,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${Q==="red"?"text-red-800":Q==="yellow"?"text-amber-800":"text-green-800"}`,children:R}),e.jsx("p",{className:`text-sm ${Q==="red"?"text-red-600":Q==="yellow"?"text-amber-600":"text-green-600"}`,children:M.length>0?`${M.length} credential(s) expired`:z.length>0?`${z.length} credential(s) expiring soon`:`${g.length} credential(s) on file`})]})]}),(M.length>0||z.length>0)&&e.jsx("div",{className:"mt-3 space-y-2",children:[...M,...z].slice(0,3).map(q=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-stone-50 rounded-lg",children:[e.jsx("span",{className:"text-stone-700",children:q.name}),e.jsx(re,{variant:q.status==="expired"?"danger":"warning",children:q.status==="expired"?"Expired":"Expiring"})]},q.id))})]})]}),e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/rotations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(qt,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Search Rotations"})]}),e.jsxs("button",{onClick:()=>s("/hours"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(Be,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Log Hours"})]}),e.jsxs("button",{onClick:()=>s("/applications"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(St,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"My Applications"})]}),e.jsxs("button",{onClick:()=>s("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(bs,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Evaluations"})]})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx(As,{title:"Active Rotations",actionLabel:"All Applications",onAction:()=>s("/applications")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[E.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No active rotations. Search for rotations to get started!"}),E.slice(0,3).map(q=>e.jsxs("div",{className:"p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:q.slot?.title||"Rotation"}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"})," ",q.slot?.site?.name]})]}),e.jsx(re,{variant:"success",children:"Active"})]}),q.slot&&e.jsxs("div",{className:"flex items-center gap-3 text-xs text-stone-400 mt-1",children:[e.jsx("span",{children:q.slot.specialty}),e.jsxs("span",{children:[new Date(q.slot.start_date).toLocaleDateString()," - ",new Date(q.slot.end_date).toLocaleDateString()]})]})]},q.id))]})]}),e.jsxs(V,{children:[e.jsx(As,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>s("/evaluations")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[m.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No evaluations yet. They will appear here once your preceptor submits one."}),m.slice(0,3).map(q=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[q.type==="mid_rotation"?"Mid-Rotation":q.type==="final"?"Final":"Feedback"," Evaluation"]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[q.slot?.title||"Rotation"," ",q.preceptor?` ${q.preceptor.first_name} ${q.preceptor.last_name}`:""]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-primary-600",children:q.overall_score?`${q.overall_score}/5`:""}),e.jsx(re,{variant:q.is_submitted?"success":"warning",size:"sm",children:q.is_submitted?"Complete":"Pending"})]})]},q.id))]})]})]})]})}function VA(){const s=yt(),{user:t}=We(),{data:a,isLoading:l}=mr(),{data:r}=Zs(),{data:c}=hr(),{data:u}=Da(),{data:f}=Yf({status:"pending"}),h=f?.join_requests||[],x=r?.data||[],m=x.filter(S=>S.status==="pending"),g=x.filter(S=>S.status==="accepted"),y=c?.data||[],N=y.filter(S=>S.status==="open"),j=u?.sites||[];return l?e.jsx(xr,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Manager","!"]}),e.jsx("p",{className:"text-stone-500",children:"Manage your clinical sites, rotation slots, and student placements."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(Dt,{icon:e.jsx(Ee,{className:"w-5 h-5"}),label:"My Sites",value:a?.total_sites||j.length,color:"primary"}),e.jsx(Dt,{icon:e.jsx(ui,{className:"w-5 h-5"}),label:"Open Slots",value:a?.open_slots||N.length,color:"secondary"}),e.jsx(Dt,{icon:e.jsx(St,{className:"w-5 h-5"}),label:"Pending Apps",value:a?.pending_applications||m.length,color:"amber"}),e.jsx(Dt,{icon:e.jsx(at,{className:"w-5 h-5"}),label:"Active Students",value:a?.active_students||g.length,color:"green"}),e.jsx(Dt,{icon:e.jsx(hs,{className:"w-5 h-5"}),label:"Avg Rating",value:j.length>0?(j.reduce((S,b)=>S+(b.rating||0),0)/j.length).toFixed(1):"",color:"accent"})]}),e.jsx(pr,{items:[{label:"application(s) to review",count:m.length,onClick:()=>s("/site-applications"),buttonLabel:"Review"},{label:"join request(s) to approve",count:h.length,onClick:()=>s("/preceptors"),buttonLabel:"Review"}]}),y.length>0&&e.jsxs(V,{children:[e.jsx(As,{title:"Slot Occupancy",actionLabel:"Manage Slots",onAction:()=>s("/slots")}),e.jsx("div",{className:"mt-4 space-y-3",children:y.slice(0,5).map(S=>{const b=S.capacity>0?Math.round(S.filled/S.capacity*100):0;return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:S.title}),e.jsxs("span",{className:"text-xs text-stone-500 ml-2",children:[S.filled,"/",S.capacity]})]}),e.jsx("div",{className:"w-full h-2 bg-stone-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${b>=100?"bg-red-400":b>=75?"bg-amber-400":"bg-green-400"}`,style:{width:`${Math.min(b,100)}%`}})})]}),e.jsx(re,{variant:S.status==="open"?"success":S.status==="filled"?"warning":"default",children:S.status})]},S.id)})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/slots"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(Ct,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Create Slot"})]}),e.jsxs("button",{onClick:()=>s("/site-applications"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors relative",children:[e.jsx(St,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Review Apps"}),m.length>0&&e.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:m.length})]}),e.jsxs("button",{onClick:()=>s("/site"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(Ee,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Manage Sites"})]}),e.jsxs("button",{onClick:()=>s("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(Zd,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Settings"})]})]})]}),e.jsxs(V,{children:[e.jsx(As,{title:"Pending Applications",actionLabel:"View All",onAction:()=>s("/site-applications")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[m.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No pending applications at this time."}),m.slice(0,4).map(S=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[S.student?.first_name," ",S.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[S.slot?.title,"  ",S.slot?.specialty]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(re,{variant:"warning",children:"Pending"})})]},S.id))]})]})]}),g.length>0&&e.jsxs(V,{children:[e.jsx(As,{title:"Active Students"}),e.jsx("div",{className:"mt-4 space-y-3",children:g.slice(0,5).map(S=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-sm font-bold",children:(S.student?.first_name?.[0]||"")+(S.student?.last_name?.[0]||"")}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[S.student?.first_name," ",S.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[S.slot?.title,"  ",S.slot?.specialty]})]})]}),e.jsx(re,{variant:"success",children:"Active"})]},S.id))})]})]})}function QA(){const s=yt(),{user:t}=We(),{data:a,isLoading:l}=mr(),{data:r}=Qf(),{data:c}=Xd(),{data:u}=Da(),{data:f}=pA(),h=gA(),x=r?.data||[],m=c?.data||[],g=x.filter(b=>b.status==="pending"),y=m.filter(b=>!b.is_submitted),N=u?.sites||[],j=f?.invites||[],S=async(b,C)=>{try{await h.mutateAsync(b),Y.success(`You have joined ${C}!`)}catch{Y.error("Failed to accept invite")}};return l?e.jsx(xr,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Preceptor","!"]}),e.jsx("p",{className:"text-stone-500",children:"Manage your students, review hours, and complete evaluations."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Dt,{icon:e.jsx(at,{className:"w-5 h-5"}),label:"Current Students",value:a?.active_students||0,color:"primary"}),e.jsx(Dt,{icon:e.jsx(Be,{className:"w-5 h-5"}),label:"Hours to Review",value:a?.pending_hour_reviews||g.length,color:"amber"}),e.jsx(Dt,{icon:e.jsx(bs,{className:"w-5 h-5"}),label:"Evaluations Due",value:a?.pending_evaluations||y.length,color:"secondary"}),e.jsx(Dt,{icon:e.jsx(Qt,{className:"w-5 h-5"}),label:"Total Hours Supervised",value:x.filter(b=>b.status==="approved").reduce((b,C)=>b+(Number(C.hours_worked)||0),0),color:"green"})]}),e.jsx(pr,{items:[{label:"hour log(s) to review",count:g.length,onClick:()=>s("/hours"),buttonLabel:"Review"},{label:"evaluation(s) to complete",count:y.length,onClick:()=>s("/evaluations"),buttonLabel:"Complete"},{label:"site invite(s) pending",count:j.length,onClick:()=>{},buttonLabel:"View Below"}]}),j.length>0&&e.jsx("div",{className:"space-y-3",children:j.map(b=>e.jsx(V,{className:"border-2 border-violet-200 bg-gradient-to-r from-violet-50 to-purple-50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Ee,{className:"w-6 h-6 text-violet-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold text-violet-600 uppercase tracking-wider mb-0.5",children:"Site Invitation"}),e.jsx("p",{className:"font-semibold text-stone-900 text-lg",children:b.site.name}),e.jsxs("p",{className:"text-sm text-stone-500",children:[b.site.city,", ",b.site.state,b.invited_by&&e.jsxs("span",{children:["  Invited by ",b.invited_by]})]}),b.site.specialties?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:b.site.specialties.slice(0,4).map(C=>e.jsx(re,{variant:"secondary",children:C},C))})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(L,{onClick:()=>S(b.token,b.site.name),isLoading:h.isPending,children:[e.jsx(Fe,{className:"w-4 h-4"})," Accept & Join"]})})]})},b.id))}),N.length>0&&e.jsxs(V,{children:[e.jsx(As,{title:"My Site Affiliation",actionLabel:"View Site",onAction:()=>s("/site")}),e.jsx("div",{className:"mt-4 space-y-3",children:N.map(b=>{const C=b.slots?.filter(k=>k.status==="open")||[];return e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-stone-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Ee,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-stone-900",children:b.name}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-stone-500 mt-0.5",children:[e.jsx(ht,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[b.city,", ",b.state]})]}),b.specialties?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:b.specialties.slice(0,4).map(k=>e.jsx(re,{variant:"secondary",children:k},k))})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("p",{className:"text-lg font-bold text-primary-600",children:C.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Active Slots"})]})]},b.id)})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/hours"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors relative",children:[e.jsx(Be,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Review Hours"}),g.length>0&&e.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:g.length})]}),e.jsxs("button",{onClick:()=>s("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors relative",children:[e.jsx(bs,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Evaluations"}),y.length>0&&e.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:y.length})]}),e.jsxs("button",{onClick:()=>s("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(at,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),e.jsxs("button",{onClick:()=>s("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[e.jsx(Zd,{className:"w-6 h-6 text-stone-600"}),e.jsx("span",{className:"text-xs font-medium text-stone-700",children:"Settings"})]})]})]}),e.jsxs(V,{children:[e.jsx(As,{title:"Pending Hour Reviews",actionLabel:"Review All",onAction:()=>s("/hours")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[g.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"All caught up! No hours pending review."}),g.slice(0,5).map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[b.hours_worked,"h  ",b.category.replace("_"," ")]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[new Date(b.date).toLocaleDateString(),"  ",b.slot?.title]})]}),e.jsx(re,{variant:"warning",children:"Pending"})]},b.id))]})]})]}),m.length>0&&e.jsxs(V,{children:[e.jsx(As,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>s("/evaluations")}),e.jsx("div",{className:"mt-4 space-y-3",children:m.slice(0,4).map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[b.student?.first_name," ",b.student?.last_name,"  ",b.type==="mid_rotation"?"Mid-Rotation":b.type==="final"?"Final":"Feedback"]}),e.jsx("p",{className:"text-xs text-stone-500",children:b.slot?.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b.overall_score&&e.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[b.overall_score,"/5"]}),e.jsx(re,{variant:b.is_submitted?"success":"warning",children:b.is_submitted?"Submitted":"Draft"})]})]},b.id))})]})]})}function GA(){const s=yt(),{user:t}=We(),{data:a,isLoading:l}=mr(),{data:r}=Zs(),{data:c}=hr(),{data:u}=Jd(),f=r?.data||[],h=c?.data||[],m=(u?.ce_certificates||[]).filter(C=>C.status==="pending"),g=f.filter(C=>C.status==="pending"),y=f.filter(C=>C.status==="accepted"),N=a?.total_students||0,j=a?.active_placements||y.length,S=Math.max(N-j,0),b=N>0?Math.round(j/N*100):0;return l?e.jsx(xr,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Coordinator","!"]}),e.jsx("p",{className:"text-stone-500",children:"Monitor student placements, program compliance, and site partnerships."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(Dt,{icon:e.jsx(it,{className:"w-5 h-5"}),label:"Total Students",value:N,color:"primary"}),e.jsx(Dt,{icon:e.jsx(Fe,{className:"w-5 h-5"}),label:"Active Placements",value:j,color:"green"}),e.jsx(Dt,{icon:e.jsx(zn,{className:"w-5 h-5"}),label:"Unplaced",value:S,color:S>0?"amber":"green"}),e.jsx(Dt,{icon:e.jsx(St,{className:"w-5 h-5"}),label:"Pending Apps",value:a?.pending_applications||g.length,color:"secondary"}),e.jsx(Dt,{icon:e.jsx(ui,{className:"w-5 h-5"}),label:"Available Slots",value:a?.available_slots||h.filter(C=>C.status==="open").length,color:"accent"})]}),e.jsx(pr,{items:[{label:"unplaced student(s)",count:S,onClick:()=>s("/placements"),buttonLabel:"Place"},{label:"CE certificate(s) to review",count:m.length,onClick:()=>s("/ce-credits"),buttonLabel:"Review"}]}),e.jsxs(V,{children:[e.jsx(As,{title:"Placement Pipeline"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-stone-600",children:"Placement Rate"}),e.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[b,"%"]})]}),e.jsx("div",{className:"w-full h-4 bg-stone-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-green-500 rounded-full transition-all duration-500",style:{width:`${b}%`}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-green-700",children:j}),e.jsx("p",{className:"text-xs text-green-600",children:"Placed"})]}),e.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-amber-700",children:g.length}),e.jsx("p",{className:"text-xs text-amber-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-3 bg-stone-50 rounded-xl",children:[e.jsx("p",{className:"text-xl font-bold text-stone-700",children:S}),e.jsx("p",{className:"text-xs text-stone-600",children:"Unplaced"})]})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(at,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),e.jsxs("button",{onClick:()=>s("/placements"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(it,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Placements"})]}),e.jsxs("button",{onClick:()=>s("/programs"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(Pt,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Programs"})]}),e.jsxs("button",{onClick:()=>s("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(Ee,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Sites Directory"})]})]})]}),e.jsxs(V,{children:[e.jsx(As,{title:"Recent Applications",actionLabel:"View All",onAction:()=>s("/placements")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[f.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No applications to review."}),f.slice(0,5).map(C=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[C.student?.first_name," ",C.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[C.slot?.title,"  ",C.slot?.site?.name]})]}),e.jsx(re,{variant:C.status==="accepted"?"success":C.status==="pending"?"warning":C.status==="declined"?"danger":"default",children:C.status})]},C.id))]})]})]})]})}function YA(){const s=yt(),{user:t}=We(),{data:a,isLoading:l}=mr(),{data:r}=Zs(),{data:c}=Xd(),u=r?.data||[],f=c?.data||[],h=u.filter(y=>y.status==="accepted"),x=a?.total_students||0,m=a?.active_placements||h.length,g=Math.max(x-m,0);return l?e.jsx(xr,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Professor","!"]}),e.jsx("p",{className:"text-stone-500",children:"Monitor your students' clinical progress, evaluations, and placements."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Dt,{icon:e.jsx(it,{className:"w-5 h-5"}),label:"Total Students",value:a?.total_students||0,color:"primary"}),e.jsx(Dt,{icon:e.jsx(Fe,{className:"w-5 h-5"}),label:"Active Placements",value:a?.active_placements||h.length,color:"green"}),e.jsx(Dt,{icon:e.jsx(bs,{className:"w-5 h-5"}),label:"Evaluations",value:f.length,color:"secondary"}),e.jsx(Dt,{icon:e.jsx(_o,{className:"w-5 h-5"}),label:"Available Slots",value:a?.available_slots||0,color:"accent"})]}),e.jsx(pr,{items:[{label:"unplaced student(s)",count:g,onClick:()=>s("/students"),buttonLabel:"View"}]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(at,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),e.jsxs("button",{onClick:()=>s("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(bs,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Evaluations"})]}),e.jsxs("button",{onClick:()=>s("/placements"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(ea,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Placements"})]}),e.jsxs("button",{onClick:()=>s("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[e.jsx(Ee,{className:"w-6 h-6 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Sites Directory"})]})]})]}),e.jsxs(V,{children:[e.jsx(As,{title:"Student Placements",actionLabel:"View All",onAction:()=>s("/students")}),e.jsxs("div",{className:"mt-4 space-y-3",children:[h.length===0&&e.jsx("p",{className:"text-sm text-stone-400",children:"No active student placements to monitor."}),h.slice(0,5).map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-sm font-bold",children:(y.student?.first_name?.[0]||"")+(y.student?.last_name?.[0]||"")}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[y.student?.first_name," ",y.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[y.slot?.title,"  ",y.slot?.site?.name]})]})]}),e.jsx(re,{variant:"success",children:"Active"})]},y.id))]})]})]}),f.length>0&&e.jsxs(V,{children:[e.jsx(As,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>s("/evaluations")}),e.jsx("div",{className:"mt-4 space-y-3",children:f.slice(0,4).map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[y.student?.first_name," ",y.student?.last_name,"  ",y.type==="mid_rotation"?"Mid-Rotation":y.type==="final"?"Final":"Feedback"]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[y.slot?.title,"  by ",y.preceptor?.first_name," ",y.preceptor?.last_name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[y.overall_score&&e.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[y.overall_score,"/5"]}),e.jsx(re,{variant:y.is_submitted?"success":"warning",children:y.is_submitted?"Complete":"Pending"})]})]},y.id))})]})]})}function WA(){const s=yt(),{user:t}=We(),{data:a,isLoading:l}=mr(),{data:r}=hr(),{data:c}=Zs(),{data:u}=Da(),{data:f}=Yf({status:"pending"}),h=r?.data||[],x=c?.data||[],m=u?.sites||[],g=f?.join_requests||[],y=h.filter(j=>j.status==="open").length,N=x.filter(j=>j.status==="pending").length;return l?e.jsx(xr,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome, ",t?.firstName||"Admin","!"]}),e.jsx("p",{className:"text-stone-500",children:"Platform overview  manage users, sites, and monitor system health."})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Dt,{icon:e.jsx(at,{className:"w-5 h-5"}),label:"Total Users",value:a?.total_users||0,color:"primary"}),e.jsx(Dt,{icon:e.jsx(Ee,{className:"w-5 h-5"}),label:"Active Sites",value:a?.total_sites||m.length,color:"secondary"}),e.jsx(Dt,{icon:e.jsx(Pt,{className:"w-5 h-5"}),label:"Universities",value:a?.total_universities||0,color:"accent"}),e.jsx(Dt,{icon:e.jsx(ui,{className:"w-5 h-5"}),label:"Total Slots",value:a?.total_slots||h.length,color:"green"})]}),e.jsx(pr,{items:[{label:"application(s) pending review",count:N,onClick:()=>s("/site-applications"),buttonLabel:"Review"},{label:"join request(s) pending",count:g.length,onClick:()=>s("/preceptors"),buttonLabel:"Review"}]}),e.jsxs(V,{children:[e.jsx(As,{title:"Platform Activity"}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-primary-50 rounded-xl",children:[e.jsx(wd,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:a?.recent_applications||x.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Applications"})]}),e.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-xl",children:[e.jsx(St,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:N}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending Review"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[e.jsx(ui,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:y}),e.jsx("p",{className:"text-xs text-stone-500",children:"Open Slots"})]}),e.jsxs("div",{className:"text-center p-4 bg-secondary-50 rounded-xl",children:[e.jsx(dj,{className:"w-6 h-6 text-secondary-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:x.filter(j=>j.status==="accepted").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Active Placements"})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>s("/admin/users"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[e.jsx(at,{className:"w-6 h-6 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Manage Users"})]}),e.jsxs("button",{onClick:()=>s("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(Ee,{className:"w-6 h-6 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Sites Directory"})]}),e.jsxs("button",{onClick:()=>s("/slots"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(wo,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"All Slots"})]}),e.jsxs("button",{onClick:()=>s("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[e.jsx(Zd,{className:"w-6 h-6 text-stone-600"}),e.jsx("span",{className:"text-xs font-medium text-stone-700",children:"Platform Settings"})]})]})]}),e.jsxs(V,{children:[e.jsx(As,{title:"System Health"}),e.jsx("div",{className:"mt-4 space-y-3",children:[{label:"API Status",value:"Operational",color:"green"},{label:"Database",value:"Connected",color:"green"},{label:"Auth Service",value:"Active",color:"green"},{label:"Email Service",value:"Active",color:"green"}].map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsx("span",{className:"text-sm text-stone-700",children:j.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${j.color==="green"?"bg-green-500":j.color==="amber"?"bg-amber-500":"bg-red-500"}`}),e.jsx("span",{className:`text-sm font-medium ${j.color==="green"?"text-green-700":j.color==="amber"?"text-amber-700":"text-red-700"}`,children:j.value})]})]},j.label))})]})]}),m.length>0&&e.jsxs(V,{children:[e.jsx(As,{title:"Sites Overview",actionLabel:"View All",onAction:()=>s("/sites")}),e.jsx("div",{className:"mt-4 space-y-3",children:m.slice(0,4).map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-600 flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:j.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[j.city,", ",j.state,"  ",j.specialties?.slice(0,2).join(", ")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[j.is_verified&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"}),j.rating>0&&e.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3 fill-current"}),j.rating]})]})]},j.id))})]})]})}function KA(){const{user:s}=We();if(!s)return null;switch(s.role){case"student":return e.jsx(ny,{});case"site_manager":return e.jsx(VA,{});case"coordinator":return e.jsx(GA,{});case"professor":return e.jsx(YA,{});case"preceptor":return e.jsx(QA,{});case"admin":return e.jsx(WA,{});default:return e.jsx(ny,{})}}function He({isOpen:s,onClose:t,title:a,children:l,size:r="md"}){if(_.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),!s)return null;const c={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),e.jsxs("div",{className:`relative bg-white rounded-t-2xl sm:rounded-2xl shadow-2xl w-full ${c[r]} max-h-[92vh] sm:max-h-[90vh] flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-stone-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:a}),e.jsx("button",{onClick:t,className:"p-1.5 rounded-lg hover:bg-stone-100 transition-colors text-stone-500",children:e.jsx(Ks,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 overflow-y-auto flex-1",children:l})]})]})}function ZA(){const{isAuthenticated:s}=We(),t=yt(),[a,l]=_.useState(""),[r,c]=_.useState(""),[u,f]=_.useState("all"),[h,x]=_.useState("all"),[m,g]=_.useState(null),[y,N]=_.useState(!1),[j,S]=_.useState(!1),[b,C]=_.useState(""),[k,E]=_.useState("list"),{data:M,isLoading:z}=hr({search:a||void 0,specialty:r||void 0,status:h!=="all"?h:void 0,cost_type:u!=="all"?u:void 0}),Q=dE(),R=M?.data||[],q=_.useMemo(()=>{const X=new Set(R.map(be=>be.specialty));return Array.from(X).sort()},[R]),ve=async()=>{if(m)try{await Q.mutateAsync({slot_id:m.id,cover_letter:b||void 0}),Y.success("Application submitted successfully! You'll hear back within 5-7 business days."),S(!1),C(""),g(null),N(!1)}catch(X){const be=X instanceof Error?X.message:"Failed to submit application";Y.error(be)}},ye=X=>{g(X),N(!0)},oe=(X,be)=>{if(be?.stopPropagation(),!s){t("/login?redirect=/rotations");return}g(X),S(!0)},F=X=>{const be=new Date(X),A=new Date;return Math.ceil((be.getTime()-A.getTime())/(1e3*60*60*24))},xe=(X,be)=>{const A=new Date(X),T=new Date(be);return Math.round((T.getTime()-A.getTime())/(1e3*60*60*24*7))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Search Rotations"}),e.jsx("p",{className:"text-stone-500",children:"Find your perfect clinical placement"})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(De,{placeholder:"Search by specialty, site name, or city...",value:a,onChange:X=>l(X.target.value),icon:e.jsx(qt,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"grid grid-cols-2 sm:flex gap-3",children:[e.jsxs("select",{value:r,onChange:X=>c(X.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none col-span-2 sm:col-span-1",children:[e.jsx("option",{value:"",children:"All Specialties"}),q.map(X=>e.jsx("option",{value:X,children:X},X))]}),e.jsxs("select",{value:u,onChange:X=>f(X.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"all",children:"Any Cost"}),e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"paid",children:"Paid"})]}),e.jsxs("select",{value:h,onChange:X=>x(X.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"all",children:"Any Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"filled",children:"Filled"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("p",{className:"text-sm text-stone-500",children:z?"Searching...":`${R.length} rotation${R.length!==1?"s":""} found`}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E("list"),className:`p-1.5 rounded-lg transition-colors ${k==="list"?"bg-primary-50 text-primary-600":"text-stone-400 hover:text-stone-600"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx("button",{onClick:()=>E("grid"),className:`p-1.5 rounded-lg transition-colors ${k==="grid"?"bg-primary-50 text-primary-600":"text-stone-400 hover:text-stone-600"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})]})]}),z&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}),!z&&k==="list"&&e.jsx("div",{className:"space-y-4",children:R.map(X=>{const be=F(X.start_date),A=xe(X.start_date,X.end_date);return e.jsx(V,{hover:!0,onClick:()=>ye(X),children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:X.title}),e.jsx(Os,{className:"w-4 h-4 text-stone-400 hidden sm:block"})]}),e.jsx("p",{className:"text-sm text-stone-500",children:X.site?.name})]})]}),e.jsx("p",{className:"text-sm text-stone-600 mb-3 line-clamp-2",children:X.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx(re,{variant:"primary",children:X.specialty}),e.jsx(re,{variant:X.cost_type==="free"?"success":"warning",children:X.cost_type==="free"?"Free":`$${X.cost}`}),e.jsx(re,{variant:X.status==="open"?"success":"danger",children:X.status==="open"?"Open":"Filled"}),e.jsxs(re,{variant:"default",children:[A," weeks"]}),be>0&&be<=30&&e.jsxs(re,{variant:"warning",children:["Starts in ",be," days"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5"}),X.site?.city,", ",X.site?.state]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(X.start_date).toLocaleDateString()," - ",new Date(X.end_date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(at,{className:"w-3.5 h-3.5"}),X.filled,"/",X.capacity," spots filled"]}),X.shift_schedule&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3.5 h-3.5"}),X.shift_schedule]}),X.site&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3.5 h-3.5 text-amber-500"}),X.site.rating," (",X.site.review_count," reviews)"]})]})]}),e.jsxs("div",{className:"flex lg:flex-col gap-2 shrink-0",children:[e.jsx(L,{size:"sm",disabled:X.status!=="open",onClick:T=>oe(X,T),children:s?e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"w-4 h-4"})," Apply"]}):e.jsxs(e.Fragment,{children:[e.jsx(md,{className:"w-4 h-4"})," Sign In to Apply"]})}),e.jsx(L,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),ye(X)},children:"Details"})]})]})},X.id)})}),!z&&k==="grid"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:R.map(X=>{const be=xe(X.start_date,X.end_date),A=X.capacity-X.filled;return e.jsxs(V,{hover:!0,onClick:()=>ye(X),padding:"none",children:[e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(dt,{className:"w-5 h-5"})}),e.jsx(re,{variant:X.status==="open"?"success":"danger",size:"sm",children:X.status==="open"?`${A} spot${A!==1?"s":""} left`:"Filled"})]}),e.jsx("h3",{className:"font-semibold text-stone-900 mb-1 line-clamp-1",children:X.title}),e.jsx("p",{className:"text-sm text-stone-500 mb-2",children:X.site?.name}),e.jsx("p",{className:"text-xs text-stone-500 line-clamp-2 mb-3",children:X.description}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[e.jsx(re,{variant:"primary",size:"sm",children:X.specialty}),e.jsx(re,{variant:X.cost_type==="free"?"success":"warning",size:"sm",children:X.cost_type==="free"?"Free":`$${X.cost}`}),e.jsxs(re,{variant:"default",size:"sm",children:[be,"w"]})]}),e.jsxs("div",{className:"space-y-1.5 text-xs text-stone-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ht,{className:"w-3 h-3"}),X.site?.city,", ",X.site?.state]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ot,{className:"w-3 h-3"}),new Date(X.start_date).toLocaleDateString()," - ",new Date(X.end_date).toLocaleDateString()]}),X.site&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(hs,{className:"w-3 h-3 text-amber-500"}),e.jsxs("span",{children:[X.site.rating,"/5 (",X.site.review_count," reviews)"]})]})]})]}),e.jsx("div",{className:"border-t border-stone-100 px-5 py-3",children:e.jsx(L,{size:"sm",className:"w-full",disabled:X.status!=="open",onClick:T=>oe(X,T),children:s?e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"w-4 h-4"})," Apply Now"]}):e.jsxs(e.Fragment,{children:[e.jsx(md,{className:"w-4 h-4"})," Sign In to Apply"]})})})]},X.id)})}),R.length===0&&!z&&e.jsxs(V,{className:"text-center py-12",children:[e.jsx(qt,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No rotations found"}),e.jsx("p",{className:"text-stone-500",children:"Try adjusting your search filters"})]}),e.jsx(He,{isOpen:y,onClose:()=>{N(!1),g(null)},title:"Rotation Details",size:"xl",children:m&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-white shadow-sm text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-stone-900",children:m.title}),e.jsx("p",{className:"text-stone-600",children:m.site?.name}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsx(re,{variant:"primary",size:"md",children:m.specialty}),e.jsx(re,{variant:m.status==="open"?"success":"danger",size:"md",children:m.status==="open"?"Open for Applications":"Filled"}),e.jsx(re,{variant:m.cost_type==="free"?"success":"warning",size:"md",children:m.cost_type==="free"?"No Cost":`$${m.cost}`})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[e.jsx(Ot,{className:"w-5 h-5 text-primary-500 mx-auto mb-1"}),e.jsx("p",{className:"text-xs text-stone-500",children:"Duration"}),e.jsxs("p",{className:"font-semibold text-stone-900 text-sm",children:[xe(m.start_date,m.end_date)," weeks"]})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[e.jsx(at,{className:"w-5 h-5 text-primary-500 mx-auto mb-1"}),e.jsx("p",{className:"text-xs text-stone-500",children:"Capacity"}),e.jsxs("p",{className:"font-semibold text-stone-900 text-sm",children:[m.filled,"/",m.capacity," filled"]})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[e.jsx(hs,{className:"w-5 h-5 text-amber-500 mx-auto mb-1"}),e.jsx("p",{className:"text-xs text-stone-500",children:"Site Rating"}),e.jsxs("p",{className:"font-semibold text-stone-900 text-sm",children:[m.site?.rating||"N/A","/5"]})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[e.jsx(sj,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),e.jsx("p",{className:"text-xs text-stone-500",children:"Cost"}),e.jsx("p",{className:"font-semibold text-stone-900 text-sm",children:m.cost_type==="free"?"Free":`$${m.cost}`})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-primary-500"})," Description"]}),e.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:m.description})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-primary-500"})," Schedule"]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Start Date"}),e.jsx("span",{className:"font-medium text-stone-900",children:new Date(m.start_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"End Date"}),e.jsx("span",{className:"font-medium text-stone-900",children:new Date(m.end_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),m.shift_schedule&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Shift Schedule"}),e.jsx("span",{className:"font-medium text-stone-900",children:m.shift_schedule})]})]})]}),m.requirements.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4 text-primary-500"})," Requirements"]}),e.jsx("div",{className:"space-y-2",children:m.requirements.map(X=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Es,{className:"w-4 h-4 text-green-500 shrink-0"}),e.jsx("span",{className:"text-stone-700",children:X})]},X))})]}),m.site&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-primary-500"})," Site Information"]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-stone-200 flex items-center justify-center text-primary-600 shrink-0",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-stone-900",children:m.site.name}),m.site.is_verified&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[e.jsx(Es,{className:"w-3 h-3"})," Verified Site"]})]})]}),m.site.description&&e.jsx("p",{className:"text-sm text-stone-600",children:m.site.description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(ht,{className:"w-4 h-4 text-stone-400"}),m.site.address,", ",m.site.city,", ",m.site.state," ",m.site.zip]}),m.site.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(_n,{className:"w-4 h-4 text-stone-400"}),m.site.phone]}),m.site.website&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(ta,{className:"w-4 h-4 text-stone-400"}),e.jsx("span",{className:"text-primary-600 truncate",children:m.site.website})]}),m.site.ehr_system&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(dt,{className:"w-4 h-4 text-stone-400"}),"EHR: ",m.site.ehr_system]})]}),m.site.specialties&&m.site.specialties.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1.5",children:"Site Specialties"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:m.site.specialties.map(X=>e.jsx(re,{variant:"default",size:"sm",children:X},X))})]}),e.jsx("div",{className:"flex items-center gap-4 pt-1",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),e.jsx("span",{className:"font-semibold text-stone-900",children:m.site.rating}),e.jsxs("span",{className:"text-sm text-stone-500",children:["(",m.site.review_count," reviews)"]})]})})]})]}),m.preceptor&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4 text-primary-500"})," Your Preceptor"]}),e.jsxs("div",{className:"flex items-center gap-3 bg-stone-50 rounded-xl p-4",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-sm",children:[m.preceptor.first_name[0],m.preceptor.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-stone-900",children:[m.preceptor.first_name," ",m.preceptor.last_name]}),e.jsx("p",{className:"text-sm text-stone-500",children:m.preceptor.email})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1.5",children:[e.jsx("span",{className:"text-stone-500",children:"Spots Available"}),e.jsxs("span",{className:"font-medium text-stone-900",children:[m.capacity-m.filled," of ",m.capacity," remaining"]})]}),e.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${m.filled>=m.capacity?"bg-red-500":m.filled>=m.capacity*.8?"bg-amber-500":"bg-green-500"}`,style:{width:`${m.filled/m.capacity*100}%`}})})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2 border-t border-stone-200",children:[e.jsxs(L,{variant:"ghost",onClick:()=>{N(!1),g(null)},children:[e.jsx(Sn,{className:"w-4 h-4"})," Back to Search"]}),e.jsx(L,{disabled:m.status!=="open",onClick:()=>{if(!s){t("/login?redirect=/rotations");return}N(!1),S(!0)},children:s?e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"w-4 h-4"})," Apply for This Rotation"]}):e.jsxs(e.Fragment,{children:[e.jsx(md,{className:"w-4 h-4"})," Sign In to Apply"]})})]})]})}),e.jsx(He,{isOpen:j,onClose:()=>S(!1),title:"Apply for Rotation",size:"lg",children:m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-primary-50 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-primary-900",children:m.title}),e.jsxs("p",{className:"text-sm text-primary-700",children:[m.site?.name," - ",m.site?.city,", ",m.site?.state]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsx(re,{variant:"primary",size:"sm",children:m.specialty}),e.jsxs(re,{variant:"default",size:"sm",children:[xe(m.start_date,m.end_date)," weeks"]}),e.jsxs(re,{variant:"default",size:"sm",children:[new Date(m.start_date).toLocaleDateString()," - ",new Date(m.end_date).toLocaleDateString()]})]})]}),m.requirements.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-stone-700 mb-2",children:"Requirements (ensure you meet these before applying)"}),e.jsx("div",{className:"space-y-1.5",children:m.requirements.map(X=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-600",children:[e.jsx(Es,{className:"w-4 h-4 text-green-500 shrink-0"}),X]},X))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Cover Letter / Statement of Interest *"}),e.jsx("textarea",{value:b,onChange:X=>C(X.target.value),rows:6,placeholder:"Tell the site why you're interested in this rotation and what you hope to learn. Include relevant experience and clinical goals...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"}),e.jsxs("p",{className:"text-xs text-stone-400",children:[b.length,"/2000 characters"]})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Before you apply:"}),e.jsxs("ul",{className:"text-xs space-y-0.5 text-amber-700",children:[e.jsx("li",{children:"- Ensure all your credentials are current in Settings"}),e.jsx("li",{children:"- Review the site requirements above"}),e.jsx("li",{children:"- You'll receive a response within 5-7 business days"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[e.jsx(L,{variant:"ghost",onClick:()=>S(!1),children:"Cancel"}),e.jsxs(L,{onClick:ve,isLoading:Q.isPending,children:[e.jsx(Mn,{className:"w-4 h-4"})," Submit Application"]})]})]})})]})}function XA(){const s=yt(),{data:t,isLoading:a}=Zs(),l=mE(),[r,c]=_.useState(null),[u,f]=_.useState(!1),[h,x]=_.useState(!1),[m,g]=_.useState("all"),y=t?.data||[],N={pending:0,waitlisted:1,accepted:2,declined:3,withdrawn:4},j=[...y].sort((R,q)=>(N[R.status]||5)-(N[q.status]||5)),S=m==="all"?j:j.filter(R=>R.status===m),b={all:y.length,pending:y.filter(R=>R.status==="pending").length,accepted:y.filter(R=>R.status==="accepted").length,waitlisted:y.filter(R=>R.status==="waitlisted").length,declined:y.filter(R=>R.status==="declined").length,withdrawn:y.filter(R=>R.status==="withdrawn").length},C=async R=>{try{await l.mutateAsync(R),Y.success("Application withdrawn"),x(!1),f(!1),c(null)}catch{Y.error("Failed to withdraw application")}},k=R=>{c(R),f(!0)},E=R=>{switch(R){case"accepted":return e.jsx(Es,{className:"w-5 h-5 text-green-500"});case"pending":return e.jsx(Be,{className:"w-5 h-5 text-amber-500"});case"waitlisted":return e.jsx(zn,{className:"w-5 h-5 text-primary-500"});case"declined":return e.jsx(Ht,{className:"w-5 h-5 text-red-500"});case"withdrawn":return e.jsx(Ks,{className:"w-5 h-5 text-stone-400"});default:return e.jsx(Be,{className:"w-5 h-5 text-stone-400"})}},M=R=>{switch(R){case"accepted":return"success";case"pending":return"warning";case"waitlisted":return"primary";case"declined":return"danger";default:return"default"}},z=R=>{switch(R){case"accepted":return"Congratulations! Your application has been accepted.";case"pending":return"Your application is being reviewed by the site.";case"waitlisted":return"You have been placed on the waitlist. You will be notified if a spot opens.";case"declined":return"Unfortunately, this application was not accepted.";case"withdrawn":return"You withdrew this application.";default:return""}},Q=R=>{switch(R){case"accepted":return["Review the site requirements and complete any outstanding items","Check your credentials are up to date in Settings","Prepare for your rotation start date","You can now log hours for this rotation under Hour Log"];case"pending":return["Ensure your profile and credentials are complete","The site typically responds within 5-7 business days","You can withdraw your application if needed"];case"waitlisted":return["You will be automatically notified if a spot opens","Continue applying to other rotations as backup","Keep your credentials up to date"];case"declined":return["Don't be discouraged  explore other available rotations","Review the site requirements to improve future applications","Consider applying to similar rotations at other sites"];default:return[]}};return a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Applications"}),e.jsxs("p",{className:"text-stone-500",children:[y.length," application",y.length!==1?"s":""," submitted"]})]}),e.jsxs(L,{onClick:()=>s("/rotations"),children:[e.jsx(Mn,{className:"w-4 h-4"})," Find Rotations"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Pending",count:b.pending,icon:e.jsx(Be,{className:"w-5 h-5"}),color:"amber"},{label:"Accepted",count:b.accepted,icon:e.jsx(Es,{className:"w-5 h-5"}),color:"green"},{label:"Waitlisted",count:b.waitlisted,icon:e.jsx(zn,{className:"w-5 h-5"}),color:"primary"},{label:"Declined",count:b.declined,icon:e.jsx(Ht,{className:"w-5 h-5"}),color:"red"}].map(R=>e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-${R.color}-50 text-${R.color}-600 flex items-center justify-center`,children:R.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:R.count}),e.jsx("p",{className:"text-xs text-stone-500",children:R.label})]})]})},R.label))}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:["all","pending","accepted","waitlisted","declined","withdrawn"].map(R=>e.jsxs("button",{onClick:()=>g(R),className:`px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${m===R?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[R.charAt(0).toUpperCase()+R.slice(1),b[R]>0&&e.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-xs ${m===R?"bg-white/20":"bg-stone-200"}`,children:b[R]})]},R))}),e.jsxs("div",{className:"space-y-3",children:[S.length===0&&e.jsxs(V,{className:"text-center py-12",children:[e.jsx(St,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:m==="all"?"No applications yet":`No ${m} applications`}),e.jsx("p",{className:"text-stone-500",children:m==="all"?"Search for rotations and submit your first application":"Try a different filter"})]}),S.map(R=>e.jsx(V,{hover:!0,onClick:()=>k(R),children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:R.slot?.title||"Rotation"}),e.jsx(Os,{className:"w-4 h-4 text-stone-400 hidden sm:block"})]}),e.jsx("p",{className:"text-sm text-stone-500 mb-2",children:R.slot?.site?.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-stone-500",children:[R.slot?.site&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5"}),R.slot.site.city,", ",R.slot.site.state]}),R.slot&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(R.slot.start_date).toLocaleDateString()," - ",new Date(R.slot.end_date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(St,{className:"w-3.5 h-3.5"}),"Applied ",new Date(R.submitted_at).toLocaleDateString()]}),R.slot?.specialty&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dt,{className:"w-3.5 h-3.5"}),R.slot.specialty]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{variant:M(R.status),size:"md",children:R.status.charAt(0).toUpperCase()+R.status.slice(1)}),e.jsx(L,{size:"sm",variant:"ghost",onClick:q=>{q.stopPropagation(),k(R)},children:e.jsx(ea,{className:"w-4 h-4"})})]})]})},R.id))]}),e.jsx(He,{isOpen:u,onClose:()=>{f(!1),c(null)},title:"Application Details",size:"xl",children:r&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-xl p-4 ${r.status==="accepted"?"bg-green-50 border border-green-200":r.status==="pending"?"bg-amber-50 border border-amber-200":r.status==="waitlisted"?"bg-primary-50 border border-primary-200":r.status==="declined"?"bg-red-50 border border-red-200":"bg-stone-50 border border-stone-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[E(r.status),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${r.status==="accepted"?"text-green-900":r.status==="pending"?"text-amber-900":r.status==="waitlisted"?"text-primary-900":r.status==="declined"?"text-red-900":"text-stone-900"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),e.jsx("p",{className:"text-sm text-stone-600 mt-0.5",children:z(r.status)})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-stone-900 mb-3",children:"Application Timeline"}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-2 top-1 bottom-1 w-0.5 bg-stone-200"}),e.jsxs("div",{className:"relative pb-4",children:[e.jsx("div",{className:"absolute left-[-18px] w-4 h-4 rounded-full bg-green-500 border-2 border-white"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Application Submitted"}),e.jsx("p",{className:"text-xs text-stone-500",children:new Date(r.submitted_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"relative pb-4",children:[e.jsx("div",{className:`absolute left-[-18px] w-4 h-4 rounded-full border-2 border-white ${r.status!=="pending"?"bg-green-500":"bg-amber-500 animate-pulse"}`}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Under Review"}),e.jsx("p",{className:"text-xs text-stone-500",children:r.status==="pending"?"Currently being reviewed by the site":"Review completed"})]}),r.status!=="pending"&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute left-[-18px] w-4 h-4 rounded-full border-2 border-white ${r.status==="accepted"?"bg-green-500":r.status==="waitlisted"?"bg-primary-500":r.status==="declined"?"bg-red-500":"bg-stone-400"}`}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:r.status==="accepted"?"Accepted":r.status==="waitlisted"?"Waitlisted":r.status==="declined"?"Declined":"Withdrawn"}),e.jsx("p",{className:"text-xs text-stone-500",children:r.reviewed_at?new Date(r.reviewed_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Date unavailable"})]})]})]}),r.slot&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4 text-primary-500"})," Rotation Details"]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-stone-200 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-stone-900",children:r.slot.title}),e.jsx("p",{className:"text-sm text-stone-500",children:r.slot.site?.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(dt,{className:"w-4 h-4 text-stone-400"}),r.slot.specialty]}),r.slot.site&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(ht,{className:"w-4 h-4 text-stone-400"}),r.slot.site.city,", ",r.slot.site.state]}),e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(Ot,{className:"w-4 h-4 text-stone-400"}),new Date(r.slot.start_date).toLocaleDateString()," - ",new Date(r.slot.end_date).toLocaleDateString()]}),r.slot.shift_schedule&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(Be,{className:"w-4 h-4 text-stone-400"}),r.slot.shift_schedule]}),e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(at,{className:"w-4 h-4 text-stone-400"}),r.slot.filled,"/",r.slot.capacity," spots filled"]}),r.slot.site&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(hs,{className:"w-4 h-4 text-amber-500"}),r.slot.site.rating,"/5 (",r.slot.site.review_count," reviews)"]})]}),r.slot.description&&e.jsx("p",{className:"text-sm text-stone-600 pt-1 border-t border-stone-200",children:r.slot.description})]})]}),r.cover_letter&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-primary-500"})," Your Cover Letter"]}),e.jsx("div",{className:"bg-stone-50 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-wrap leading-relaxed",children:r.cover_letter})})]}),r.notes&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(St,{className:"w-4 h-4 text-primary-500"})," Site Response"]}),e.jsx("div",{className:`rounded-xl p-4 ${r.status==="accepted"?"bg-green-50 border border-green-200":r.status==="declined"?"bg-red-50 border border-red-200":"bg-stone-50 border border-stone-200"}`,children:e.jsx("p",{className:"text-sm text-stone-700 italic",children:r.notes})})]}),r.slot?.requirements&&r.slot.requirements.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4 text-primary-500"})," Site Requirements"]}),e.jsx("div",{className:"space-y-2",children:r.slot.requirements.map(R=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Es,{className:"w-4 h-4 text-green-500 shrink-0"}),e.jsx("span",{className:"text-stone-700",children:R})]},R))})]}),r.status!=="withdrawn"&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(ni,{className:"w-4 h-4 text-primary-500"})," Next Steps"]}),e.jsx("div",{className:"space-y-2",children:Q(r.status).map((R,q)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-xs font-medium shrink-0",children:q+1}),e.jsx("span",{className:"text-stone-700",children:R})]},q))})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2 border-t border-stone-200",children:[e.jsx(L,{variant:"ghost",onClick:()=>{f(!1),c(null)},children:"Close"}),r.status==="accepted"&&e.jsxs(L,{onClick:()=>s("/hours"),children:[e.jsx(Be,{className:"w-4 h-4"})," Go to Hour Log"]}),r.status==="pending"&&e.jsxs(L,{variant:"danger",onClick:()=>x(!0),children:[e.jsx(Ks,{className:"w-4 h-4"})," Withdraw Application"]}),(r.status==="declined"||r.status==="withdrawn")&&e.jsxs(L,{onClick:()=>{f(!1),s("/rotations")},children:[e.jsx(Mn,{className:"w-4 h-4"})," Find More Rotations"]})]})]})}),e.jsx(He,{isOpen:h,onClose:()=>x(!1),title:"Withdraw Application",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zn,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Are you sure you want to withdraw?"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. You would need to submit a new application if you change your mind."})]})]})}),r&&e.jsxs("div",{className:"text-sm text-stone-600",children:[e.jsx("p",{className:"font-medium",children:r.slot?.title}),e.jsx("p",{className:"text-stone-500",children:r.slot?.site?.name})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(L,{variant:"ghost",onClick:()=>x(!1),children:"Keep Application"}),e.jsxs(L,{variant:"danger",onClick:()=>r&&C(r.id),isLoading:l.isPending,children:[e.jsx(Ks,{className:"w-4 h-4"})," Withdraw"]})]})]})})]})}function JA(){const{user:s}=We(),t=s?.role==="preceptor"||s?.role==="site_manager",[a,l]=_.useState(!1),[r,c]=_.useState(!1),[u,f]=_.useState(null),[h,x]=_.useState(!1),[m,g]=_.useState(!1),[y,N]=_.useState("approved"),[j,S]=_.useState(""),[b,C]=_.useState("all"),[k,E]=_.useState(t?"pending":"all"),[M,z]=_.useState(null),[Q,R]=_.useState(!1),[q,ve]=_.useState({slot_id:"",date:new Date().toISOString().split("T")[0],hours_worked:"8",category:"direct_care",description:""}),{data:ye,isLoading:oe}=Qf(),{data:F}=hE(),{data:xe}=Zs(),X=fE(),be=pE(),A=xE(),T=ye?.data||[],U=(xe?.data||[]).filter(W=>W.status==="accepted"),me=F?.platform_hours||T.reduce((W,he)=>W+Number(he.hours_worked),0),je=F?.approved_hours||T.filter(W=>W.status==="approved").reduce((W,he)=>W+Number(he.hours_worked),0),H=F?.pending_hours||T.filter(W=>W.status==="pending").reduce((W,he)=>W+Number(he.hours_worked),0),$=T.filter(W=>W.status==="rejected").reduce((W,he)=>W+Number(he.hours_worked),0),te=F?.prior_hours||0,B=F?.total_hours||te+je,de=F?.hours_required||0,ke=F?.progress_percent||(de>0?Math.min(100,Math.round(B/de*100)):0),Re={direct_care:"Direct Patient Care",indirect_care:"Indirect Care",simulation:"Simulation",observation:"Observation",other:"Other"},ze={direct_care:"bg-primary-500",indirect_care:"bg-secondary-500",simulation:"bg-amber-500",observation:"bg-green-500",other:"bg-stone-400"},Ye=k==="all"?T:T.filter(W=>W.status===k),At=_.useMemo(()=>{const W=new Map;for(const he of T){const Ve=he.slot_id;W.has(Ve)||W.set(Ve,{slotTitle:he.slot?.title||"Unknown Rotation",siteName:he.slot?.site?.name||"",hours:[],total:0,approved:0,pending:0});const Ne=W.get(Ve);Ne.hours.push(he),Ne.total+=Number(he.hours_worked),he.status==="approved"&&(Ne.approved+=Number(he.hours_worked)),he.status==="pending"&&(Ne.pending+=Number(he.hours_worked))}return Array.from(W.entries())},[T]),zt=_.useMemo(()=>{if(!t)return[];const W=new Map;for(const he of T){const Ve=he.student_id;W.has(Ve)||W.set(Ve,{studentName:he.student?`${he.student.first_name} ${he.student.last_name}`:"Unknown Student",hours:[],total:0,approved:0,pending:0});const Ne=W.get(Ve);Ne.hours.push(he),Ne.total+=Number(he.hours_worked),he.status==="approved"&&(Ne.approved+=Number(he.hours_worked)),he.status==="pending"&&(Ne.pending+=Number(he.hours_worked))}return Array.from(W.entries())},[T,t]),Jt=_.useMemo(()=>{const W={};for(const he of T)W[he.category]=(W[he.category]||0)+Number(he.hours_worked);return Object.entries(W).sort((he,Ve)=>Ve[1]-he[1])},[T]),Ns=_.useMemo(()=>{const W=new Map;for(const he of T){const Ve=new Date(he.date),Ne=new Date(Ve);Ne.setDate(Ve.getDate()-Ve.getDay());const ne=Ne.toISOString().split("T")[0];W.set(ne,(W.get(ne)||0)+Number(he.hours_worked))}return Array.from(W.entries()).sort((he,Ve)=>Ve[0].localeCompare(he[0])).slice(0,8)},[T]),ie=async()=>{if(!q.slot_id){Y.error("Please select a rotation");return}if(parseFloat(q.hours_worked)<=0||parseFloat(q.hours_worked)>24){Y.error("Hours must be between 0.5 and 24");return}try{await X.mutateAsync({slot_id:q.slot_id,date:q.date,hours_worked:parseFloat(q.hours_worked),category:q.category,description:q.description}),Y.success("Hours logged successfully! Awaiting preceptor approval."),l(!1),ve({slot_id:"",date:new Date().toISOString().split("T")[0],hours_worked:"8",category:"direct_care",description:""})}catch(W){const he=W instanceof Error?W.message:"Failed to log hours";Y.error(he)}},Ue=async W=>{try{await be.mutateAsync(W),Y.success("Hour entry deleted"),x(!1),c(!1),f(null)}catch{Y.error("Failed to delete entry")}},ft=async()=>{if(u){if(y==="rejected"&&!j.trim()){Y.error("Please provide a reason for rejection");return}try{await A.mutateAsync({id:u.id,data:{status:y,rejection_reason:y==="rejected"?j:void 0}}),Y.success(y==="approved"?"Hours approved successfully":"Hours rejected"),g(!1),c(!1),f(null),S("")}catch(W){const he=W instanceof Error?W.message:"Failed to review hours";Y.error(he)}}},bt=(W,he)=>{f(W),N(he),S(""),g(!0)},ws=W=>{f(W),c(!0)};return oe?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:t?"Hour Log Review":"Clinical Hour Log"}),e.jsx("p",{className:"text-stone-500",children:t?"Review and approve student clinical hours":"Track and manage your clinical hours"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(L,{variant:"secondary",onClick:()=>R(!Q),children:[e.jsx(dn,{className:"w-4 h-4"})," Export"]}),Q&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>R(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white rounded-xl shadow-lg border border-stone-200 py-1 z-20",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Xl.hourLogsCsvUrl()),R(!1)},children:"Download CSV"}),e.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Xl.hourLogsPdfUrl()),R(!1)},children:"Download PDF"})]})]})]}),!t&&e.jsxs(L,{onClick:()=>l(!0),children:[e.jsx(Ct,{className:"w-4 h-4"})," Log Hours"]})]})]}),!t&&e.jsx(V,{className:"bg-gradient-to-r from-primary-50 to-secondary-50 border-primary-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(B4,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"font-semibold text-stone-900",children:"Hours Progress"})]}),e.jsx("p",{className:"text-sm text-stone-600 mb-3",children:de>0?`${B} of ${de} required hours completed`:"No program assigned"}),e.jsx("div",{className:"w-full bg-white/60 rounded-full h-3 mb-2",children:e.jsxs("div",{className:"h-3 flex rounded-full overflow-hidden",children:[te>0&&e.jsx("div",{className:"h-full bg-stone-400 transition-all duration-500",style:{width:`${de>0?Math.min(te/de*100,100):0}%`}}),e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-500",style:{width:`${de>0?Math.min(je/de*100,100-te/de*100):0}%`}})]})}),e.jsxs("div",{className:"flex justify-between text-xs text-stone-500",children:[e.jsxs("span",{children:[ke,"% complete"]}),e.jsx("span",{children:de-B>0?`${de-B} hours remaining`:de>0?"Requirement met!":""})]})]}),e.jsxs("div",{className:"flex gap-4 sm:gap-6",children:[te>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-500",children:te}),e.jsx("p",{className:"text-xs text-stone-500",children:"Prior"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:me}),e.jsx("p",{className:"text-xs text-stone-500",children:"Platform"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:je}),e.jsx("p",{className:"text-xs text-stone-500",children:"Approved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:H}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]})]})]})}),t&&e.jsx(V,{className:"bg-gradient-to-r from-primary-50 to-secondary-50 border-primary-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(bs,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"font-semibold text-stone-900",children:"Review Summary"})]}),e.jsxs("p",{className:"text-sm text-stone-600",children:["You have ",T.filter(W=>W.status==="pending").length," hour entries pending review"]})]}),e.jsxs("div",{className:"flex gap-4 sm:gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:T.filter(W=>W.status==="pending").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.filter(W=>W.status==="approved").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Approved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.filter(W=>W.status==="rejected").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Rejected"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:B}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:t?e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center",children:e.jsx(Xt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:zt.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Students"})]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-600 flex items-center justify-center",children:e.jsx(zn,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:H}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending Hours"})]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-600 flex items-center justify-center",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:je}),e.jsx("p",{className:"text-xs text-stone-500",children:"Approved Hours"})]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-600 flex items-center justify-center",children:e.jsx(_o,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:T.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Entries"})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:B}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-600 flex items-center justify-center",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:je}),e.jsx("p",{className:"text-xs text-stone-500",children:"Approved"})]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-600 flex items-center justify-center",children:e.jsx(zn,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:H}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]})]})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-600 flex items-center justify-center",children:e.jsx(_o,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:T.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Entries"})]})]})})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[{key:"all",label:t?"All Submissions":"All Entries",icon:e.jsx(Be,{className:"w-4 h-4"})},{key:"by-rotation",label:t?"By Student":"By Rotation",icon:t?e.jsx(Xt,{className:"w-4 h-4"}):e.jsx(Ee,{className:"w-4 h-4"})},{key:"summary",label:"Summary",icon:e.jsx(wo,{className:"w-4 h-4"})}].map(W=>e.jsxs("button",{onClick:()=>C(W.key),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${b===W.key?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[W.icon," ",W.label]},W.key))}),b==="all"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ff,{className:"w-4 h-4 text-stone-400"}),["all","pending","approved","rejected"].map(W=>e.jsxs("button",{onClick:()=>E(W),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${k===W?"bg-primary-100 text-primary-700":"bg-stone-50 text-stone-500 hover:bg-stone-100"}`,children:[W.charAt(0).toUpperCase()+W.slice(1),W!=="all"&&` (${T.filter(he=>he.status===W).length})`]},W))]}),e.jsx(V,{padding:"none",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-stone-200 bg-stone-50",children:[t&&e.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Student"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Date"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Hours"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase hidden sm:table-cell",children:"Category"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase hidden md:table-cell",children:"Rotation"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase hidden lg:table-cell",children:"Description"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Status"}),e.jsx("th",{className:"text-right px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-stone-100",children:[Ye.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:t?8:7,className:"px-6 py-8 text-center text-stone-400",children:t?k==="all"?"No hour submissions from students yet.":`No ${k} entries found.`:k==="all"?'No hours logged yet. Click "Log Hours" to get started.':`No ${k} entries found.`})}),Ye.map(W=>e.jsxs("tr",{className:"hover:bg-stone-50 transition-colors cursor-pointer",onClick:()=>ws(W),children:[t&&e.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-900 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-xs font-semibold shrink-0",children:[W.student?.first_name?.[0],W.student?.last_name?.[0]]}),e.jsxs("span",{className:"font-medium",children:[W.student?.first_name," ",W.student?.last_name]})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-900 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-stone-400 hidden sm:block"}),new Date(W.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})}),e.jsxs("td",{className:"px-4 sm:px-6 py-4 text-sm font-semibold text-stone-900",children:[W.hours_worked,"h"]}),e.jsx("td",{className:"px-4 sm:px-6 py-4 hidden sm:table-cell",children:e.jsx(re,{variant:"default",children:Re[W.category]||W.category})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-600 hidden md:table-cell",children:e.jsx("span",{className:"truncate max-w-[150px] block",children:W.slot?.title||"-"})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-600 max-w-xs truncate hidden lg:table-cell",children:W.description||"-"}),e.jsx("td",{className:"px-4 sm:px-6 py-4",children:e.jsx(re,{variant:W.status==="approved"?"success":W.status==="pending"?"warning":"danger",children:W.status})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx("button",{onClick:he=>{he.stopPropagation(),ws(W)},className:"p-1.5 rounded-lg hover:bg-stone-100 text-stone-400 hover:text-stone-600 transition-colors",children:e.jsx(ea,{className:"w-4 h-4"})}),t&&W.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:he=>{he.stopPropagation(),bt(W,"approved")},className:"p-1.5 rounded-lg hover:bg-green-50 text-stone-400 hover:text-green-600 transition-colors",title:"Approve",children:e.jsx(Fe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:he=>{he.stopPropagation(),bt(W,"rejected")},className:"p-1.5 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",title:"Reject",children:e.jsx(Ht,{className:"w-4 h-4"})})]}),!t&&W.status==="pending"&&e.jsx("button",{onClick:he=>{he.stopPropagation(),f(W),x(!0)},className:"p-1.5 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",children:e.jsx(os,{className:"w-4 h-4"})})]})})]},W.id))]})]})})})]}),b==="by-rotation"&&e.jsx("div",{className:"space-y-4",children:t?e.jsxs(e.Fragment,{children:[zt.length===0&&e.jsxs(V,{className:"text-center py-12",children:[e.jsx(Xt,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No student hours yet"}),e.jsx("p",{className:"text-stone-500",children:"Student hour submissions will appear here for review"})]}),zt.map(([W,he])=>{const Ve=M===W;return e.jsxs(V,{padding:"none",children:[e.jsx("div",{className:"p-4 sm:p-5 cursor-pointer hover:bg-stone-50/50 transition-colors",onClick:()=>z(Ve?null:W),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-sm shrink-0",children:he.studentName.split(" ").map(Ne=>Ne[0]).join("")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:he.studentName}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-stone-900",children:[he.total,"h total"]}),e.jsxs("span",{className:"text-sm text-green-600",children:[he.approved,"h approved"]}),he.pending>0&&e.jsxs("span",{className:"text-sm text-amber-600",children:[he.pending,"h pending"]})]}),e.jsx("div",{className:"w-full bg-stone-200 rounded-full h-1.5 mt-2",children:e.jsx("div",{className:"h-1.5 rounded-full bg-green-500",style:{width:`${he.total>0?he.approved/he.total*100:0}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[he.pending>0&&e.jsxs(re,{variant:"warning",children:[he.pending,"h pending"]}),e.jsxs(re,{variant:"default",children:[he.hours.length," entries"]}),Ve?e.jsx(Wi,{className:"w-5 h-5 text-stone-400"}):e.jsx(on,{className:"w-5 h-5 text-stone-400"})]})]})}),Ve&&e.jsx("div",{className:"border-t border-stone-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-stone-50",children:[e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Date"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Hours"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden sm:table-cell",children:"Category"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden md:table-cell",children:"Rotation"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Status"}),e.jsx("th",{className:"text-right px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-stone-100",children:he.hours.sort((Ne,ne)=>new Date(ne.date).getTime()-new Date(Ne.date).getTime()).map(Ne=>e.jsxs("tr",{className:"hover:bg-stone-50/50 cursor-pointer",onClick:()=>ws(Ne),children:[e.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-900",children:new Date(Ne.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsxs("td",{className:"px-4 sm:px-6 py-3 text-sm font-semibold text-stone-900",children:[Ne.hours_worked,"h"]}),e.jsx("td",{className:"px-4 sm:px-6 py-3 hidden sm:table-cell",children:e.jsx(re,{variant:"default",size:"sm",children:Re[Ne.category]||Ne.category})}),e.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-600 hidden md:table-cell",children:Ne.slot?.title||"-"}),e.jsx("td",{className:"px-4 sm:px-6 py-3",children:e.jsx(re,{variant:Ne.status==="approved"?"success":Ne.status==="pending"?"warning":"danger",size:"sm",children:Ne.status})}),e.jsx("td",{className:"px-4 sm:px-6 py-3 text-right",children:Ne.status==="pending"&&e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx("button",{onClick:ne=>{ne.stopPropagation(),bt(Ne,"approved")},className:"p-1 rounded-lg hover:bg-green-50 text-stone-400 hover:text-green-600 transition-colors",children:e.jsx(Fe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ne=>{ne.stopPropagation(),bt(Ne,"rejected")},className:"p-1 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",children:e.jsx(Ht,{className:"w-4 h-4"})})]})})]},Ne.id))})]})})})]},W)})]}):e.jsxs(e.Fragment,{children:[At.length===0&&e.jsxs(V,{className:"text-center py-12",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No rotation hours yet"}),e.jsx("p",{className:"text-stone-500",children:"Start logging hours for your accepted rotations"})]}),At.map(([W,he])=>{const Ve=M===W;return e.jsxs(V,{padding:"none",children:[e.jsx("div",{className:"p-4 sm:p-5 cursor-pointer hover:bg-stone-50/50 transition-colors",onClick:()=>z(Ve?null:W),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:he.slotTitle}),e.jsx("p",{className:"text-sm text-stone-500",children:he.siteName}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-stone-900",children:[he.total,"h total"]}),e.jsxs("span",{className:"text-sm text-green-600",children:[he.approved,"h approved"]}),he.pending>0&&e.jsxs("span",{className:"text-sm text-amber-600",children:[he.pending,"h pending"]})]}),e.jsx("div",{className:"w-full bg-stone-200 rounded-full h-1.5 mt-2",children:e.jsx("div",{className:"h-1.5 rounded-full bg-green-500",style:{width:`${he.total>0?he.approved/he.total*100:0}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(re,{variant:"default",children:[he.hours.length," entries"]}),Ve?e.jsx(Wi,{className:"w-5 h-5 text-stone-400"}):e.jsx(on,{className:"w-5 h-5 text-stone-400"})]})]})}),Ve&&e.jsx("div",{className:"border-t border-stone-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-stone-50",children:[e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Date"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Hours"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden sm:table-cell",children:"Category"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden md:table-cell",children:"Description"}),e.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-stone-100",children:he.hours.sort((Ne,ne)=>new Date(ne.date).getTime()-new Date(Ne.date).getTime()).map(Ne=>e.jsxs("tr",{className:"hover:bg-stone-50/50 cursor-pointer",onClick:()=>ws(Ne),children:[e.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-900",children:new Date(Ne.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsxs("td",{className:"px-4 sm:px-6 py-3 text-sm font-semibold text-stone-900",children:[Ne.hours_worked,"h"]}),e.jsx("td",{className:"px-4 sm:px-6 py-3 hidden sm:table-cell",children:e.jsx(re,{variant:"default",size:"sm",children:Re[Ne.category]||Ne.category})}),e.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-600 truncate max-w-xs hidden md:table-cell",children:Ne.description||"-"}),e.jsx("td",{className:"px-4 sm:px-6 py-3",children:e.jsx(re,{variant:Ne.status==="approved"?"success":Ne.status==="pending"?"warning":"danger",size:"sm",children:Ne.status})})]},Ne.id))})]})})})]},W)})]})}),b==="summary"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Hours by Category"}),Jt.length===0?e.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):e.jsx("div",{className:"space-y-3",children:Jt.map(([W,he])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-stone-700",children:Re[W]||W}),e.jsxs("span",{className:"font-medium text-stone-900",children:[he,"h (",B>0?Math.round(he/B*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-stone-100 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${ze[W]||"bg-stone-400"}`,style:{width:`${B>0?he/B*100:0}%`}})})]},W))})]}),e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Weekly Hours"}),Ns.length===0?e.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):e.jsx("div",{className:"space-y-2",children:Ns.map(([W,he])=>{const Ve=Math.max(...Ns.map(ne=>ne[1])),Ne=new Date(W);return Ne.setDate(Ne.getDate()+6),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-stone-500 w-28 shrink-0",children:[new Date(W).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",Ne.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),e.jsx("div",{className:"flex-1 bg-stone-100 rounded-full h-5 relative",children:e.jsx("div",{className:"h-5 rounded-full bg-gradient-to-r from-primary-400 to-primary-500 flex items-center justify-end pr-2",style:{width:`${Ve>0?Math.max(20,he/Ve*100):0}%`},children:e.jsxs("span",{className:"text-xs font-medium text-white",children:[he,"h"]})})})]},W)})})]}),e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Status Overview"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[je,"h"]}),e.jsx("p",{className:"text-xs text-green-700",children:"Approved"}),e.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[T.filter(W=>W.status==="approved").length," entries"]})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-4",children:[e.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[H,"h"]}),e.jsx("p",{className:"text-xs text-amber-700",children:"Pending"}),e.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[T.filter(W=>W.status==="pending").length," entries"]})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[$,"h"]}),e.jsx("p",{className:"text-xs text-red-700",children:"Rejected"}),e.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[T.filter(W=>W.status==="rejected").length," entries"]})]})]})]}),e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:t?"Hours by Student":"Hours by Rotation"}),t?zt.length===0?e.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):e.jsx("div",{className:"space-y-3",children:zt.map(([W,he])=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-stone-200",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-xs shrink-0",children:he.studentName.split(" ").map(Ve=>Ve[0]).join("")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:he.studentName}),he.pending>0&&e.jsxs("p",{className:"text-xs text-amber-600",children:[he.pending,"h pending review"]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("p",{className:"text-sm font-bold text-stone-900",children:[he.total,"h"]}),e.jsxs("p",{className:"text-xs text-green-600",children:[he.approved,"h approved"]})]})]},W))}):At.length===0?e.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):e.jsx("div",{className:"space-y-3",children:At.map(([W,he])=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-stone-200",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:he.slotTitle}),e.jsx("p",{className:"text-xs text-stone-500",children:he.siteName})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("p",{className:"text-sm font-bold text-stone-900",children:[he.total,"h"]}),e.jsxs("p",{className:"text-xs text-green-600",children:[he.approved,"h approved"]})]})]},W))})]})]}),e.jsx(He,{isOpen:r,onClose:()=>{c(!1),f(null)},title:"Hour Entry Details",size:"md",children:u&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-xl p-4 ${u.status==="approved"?"bg-green-50 border border-green-200":u.status==="pending"?"bg-amber-50 border border-amber-200":"bg-red-50 border border-red-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(re,{variant:u.status==="approved"?"success":u.status==="pending"?"warning":"danger",size:"md",children:u.status.charAt(0).toUpperCase()+u.status.slice(1)}),e.jsxs("span",{className:"text-2xl font-bold text-stone-900",children:[u.hours_worked,"h"]})]})}),e.jsxs("div",{className:"space-y-3",children:[t&&u.student&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Student"}),e.jsxs("span",{className:"font-medium text-stone-900",children:[u.student.first_name," ",u.student.last_name]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Date"}),e.jsx("span",{className:"font-medium text-stone-900",children:new Date(u.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Category"}),e.jsx(re,{variant:"default",children:Re[u.category]||u.category})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Rotation"}),e.jsx("span",{className:"font-medium text-stone-900",children:u.slot?.title||"-"})]}),u.slot?.site&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Site"}),e.jsx("span",{className:"font-medium text-stone-900",children:u.slot.site.name})]}),u.approver&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Reviewed By"}),e.jsxs("span",{className:"font-medium text-stone-900",children:[u.approver.first_name," ",u.approver.last_name]})]}),u.approved_at&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-500",children:"Reviewed On"}),e.jsx("span",{className:"font-medium text-stone-900",children:new Date(u.approved_at).toLocaleDateString()})]})]}),u.description&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-700 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-stone-600 bg-stone-50 rounded-xl p-3",children:u.description})]}),u.rejection_reason&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:"Rejection Reason"}),e.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-xl p-3 border border-red-200",children:u.rejection_reason})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2 border-t border-stone-200",children:[e.jsx(L,{variant:"ghost",onClick:()=>{c(!1),f(null)},children:"Close"}),t&&u.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(L,{variant:"danger",size:"sm",onClick:()=>{c(!1),bt(u,"rejected")},children:[e.jsx(Ht,{className:"w-4 h-4"})," Reject"]}),e.jsxs(L,{size:"sm",onClick:()=>{c(!1),bt(u,"approved")},children:[e.jsx(Fe,{className:"w-4 h-4"})," Approve"]})]}),!t&&u.status==="pending"&&e.jsxs(L,{variant:"danger",size:"sm",onClick:()=>x(!0),children:[e.jsx(os,{className:"w-4 h-4"})," Delete Entry"]})]})]})}),e.jsx(He,{isOpen:m,onClose:()=>{g(!1),S("")},title:y==="approved"?"Approve Hours":"Reject Hours",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-xl p-4 ${y==="approved"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[y==="approved"?e.jsx(Fe,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}):e.jsx(Ht,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${y==="approved"?"text-green-900":"text-red-900"}`,children:y==="approved"?"Approve this hour entry?":"Reject this hour entry?"}),e.jsx("p",{className:`text-sm mt-1 ${y==="approved"?"text-green-700":"text-red-700"}`,children:y==="approved"?"These hours will count toward the student's requirement.":"The student will be notified and can re-submit corrected hours."})]})]})}),u&&e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Student"}),e.jsxs("span",{className:"font-medium text-stone-900",children:[u.student?.first_name," ",u.student?.last_name]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Date"}),e.jsx("span",{className:"text-stone-900",children:new Date(u.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Hours"}),e.jsxs("span",{className:"font-semibold text-stone-900",children:[u.hours_worked,"h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Category"}),e.jsx("span",{className:"text-stone-900",children:Re[u.category]})]}),u.description&&e.jsxs("div",{className:"pt-1 border-t border-stone-200 mt-1",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Description:"}),e.jsx("p",{className:"text-stone-700",children:u.description})]})]}),y==="rejected"&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-red-700",children:"Reason for Rejection *"}),e.jsx("textarea",{value:j,onChange:W=>S(W.target.value),rows:3,placeholder:"Explain why these hours are being rejected...",className:"w-full rounded-xl border border-red-200 px-4 py-3 text-sm focus:border-red-500 focus:ring-2 focus:ring-red-500/20 focus:outline-none resize-none bg-red-50/50"})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(L,{variant:"ghost",onClick:()=>{g(!1),S("")},children:"Cancel"}),e.jsx(L,{variant:y==="approved"?"primary":"danger",onClick:ft,isLoading:A.isPending,children:y==="approved"?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"w-4 h-4"})," Approve"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"w-4 h-4"})," Reject"]})})]})]})}),!t&&e.jsx(He,{isOpen:h,onClose:()=>x(!1),title:"Delete Hour Entry",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zn,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Delete this hour entry?"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone."})]})]})}),u&&e.jsx("div",{className:"text-sm text-stone-600",children:e.jsxs("p",{children:[new Date(u.date).toLocaleDateString()," - ",u.hours_worked,"h (",Re[u.category],")"]})}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(L,{variant:"ghost",onClick:()=>x(!1),children:"Cancel"}),e.jsxs(L,{variant:"danger",onClick:()=>u&&Ue(u.id),isLoading:be.isPending,children:[e.jsx(os,{className:"w-4 h-4"})," Delete"]})]})]})}),!t&&e.jsx(He,{isOpen:a,onClose:()=>l(!1),title:"Log Clinical Hours",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Rotation *"}),e.jsxs("select",{value:q.slot_id,onChange:W=>ve({...q,slot_id:W.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select a rotation..."}),U.map(W=>e.jsxs("option",{value:W.slot_id,children:[W.slot?.title||"Rotation"," - ",W.slot?.site?.name]},W.slot_id))]}),U.length===0&&e.jsx("p",{className:"text-xs text-amber-600",children:"No accepted applications yet. Apply for rotations first."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(De,{label:"Date *",type:"date",value:q.date,onChange:W=>ve({...q,date:W.target.value})}),e.jsx(De,{label:"Hours Worked *",type:"number",placeholder:"8",min:"0.5",max:"24",step:"0.5",value:q.hours_worked,onChange:W=>ve({...q,hours_worked:W.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Category *"}),e.jsxs("select",{value:q.category,onChange:W=>ve({...q,category:W.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"direct_care",children:"Direct Patient Care"}),e.jsx("option",{value:"indirect_care",children:"Indirect Care"}),e.jsx("option",{value:"simulation",children:"Simulation"}),e.jsx("option",{value:"observation",children:"Observation"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description *"}),e.jsx("textarea",{value:q.description,onChange:W=>ve({...q,description:W.target.value}),rows:3,placeholder:"Describe what you did during this clinical time...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-xs text-stone-500",children:[e.jsx("p",{className:"font-medium text-stone-700 mb-1",children:"Tips for logging hours:"}),e.jsxs("ul",{className:"space-y-0.5",children:[e.jsx("li",{children:"- Log hours daily for the most accurate records"}),e.jsx("li",{children:"- Include specific activities in your description"}),e.jsx("li",{children:"- Hours will be sent to your preceptor for approval"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[e.jsx(L,{variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),e.jsxs(L,{onClick:ie,isLoading:X.isPending,children:[e.jsx(Ct,{className:"w-4 h-4"})," Submit Hours"]})]})]})})]})}const e3=s=>{const t=[{id:"welcome",title:"Welcome to ClinicLink",subtitle:"Let's set up your profile",icon:e.jsx(rj,{className:"w-7 h-7"}),gradient:"from-amber-400 via-orange-300 to-rose-300",iconBg:"from-amber-500 to-orange-500"},{id:"personal",title:"Personal Information",subtitle:"Tell us about yourself",icon:e.jsx(Xt,{className:"w-7 h-7"}),gradient:"from-orange-300 via-rose-300 to-pink-300",iconBg:"from-rose-500 to-pink-500"}];return s==="student"?t.push({id:"academic",title:"Academic Details",subtitle:"Your university and program",icon:e.jsx(it,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"},{id:"interests",title:"Clinical Interests",subtitle:"What specialties excite you?",icon:e.jsx(ud,{className:"w-7 h-7"}),gradient:"from-purple-300 via-indigo-300 to-blue-300",iconBg:"from-indigo-500 to-blue-500"},{id:"credentials",title:"Credentials",subtitle:"Upload your certifications",icon:e.jsx(ys,{className:"w-7 h-7"}),gradient:"from-indigo-300 via-blue-300 to-cyan-300",iconBg:"from-blue-500 to-cyan-500"}):s==="preceptor"?t.push({id:"site",title:"Clinical Site",subtitle:"Select your affiliated site",icon:e.jsx(Ee,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"},{id:"clinical",title:"Clinical Specialties",subtitle:"Your areas of expertise",icon:e.jsx(dt,{className:"w-7 h-7"}),gradient:"from-purple-300 via-indigo-300 to-blue-300",iconBg:"from-indigo-500 to-blue-500"}):s==="site_manager"?t.push({id:"facility",title:"Facility Setup",subtitle:"About your clinical site",icon:e.jsx(Ee,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"},{id:"specialties",title:"Specialties & EHR",subtitle:"What your facility offers",icon:e.jsx(wd,{className:"w-7 h-7"}),gradient:"from-purple-300 via-indigo-300 to-blue-300",iconBg:"from-indigo-500 to-blue-500"}):(s==="coordinator"||s==="professor")&&t.push({id:"university",title:"University Details",subtitle:"Your institution and department",icon:e.jsx(Pt,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"}),t.push({id:"complete",title:"You're All Set!",subtitle:"Welcome to ClinicLink",icon:e.jsx(Fe,{className:"w-7 h-7"}),gradient:"from-emerald-300 via-teal-300 to-cyan-300",iconBg:"from-emerald-500 to-teal-500"}),t},ay=["Emergency Medicine","ICU/Critical Care","Medical-Surgical","Pediatrics","Family Practice","Behavioral Health","OB/GYN","Oncology","Geriatrics","Physical Therapy","Occupational Therapy","Clinical Social Work","Urgent Care","Surgery","Internal Medicine","Community Health","Psychiatry","Cardiology","Neurology","Orthopedics"],t3=["Epic","Cerner","Athenahealth","eClinicalWorks","NextGen","Allscripts","Meditech","Other"];function s3(){const s=["#f59e0b","#0ea5e9","#22c55e","#f97316","#a855f7","#ec4899","#14b8a6"],t=Array.from({length:50},(a,l)=>({id:l,left:Math.random()*100,delay:Math.random()*.8,duration:1.5+Math.random()*1.5,color:s[l%s.length],rotation:Math.random()*360,size:4+Math.random()*6}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:t.map(a=>e.jsx("div",{className:"absolute animate-confetti",style:{left:`${a.left}%`,top:"-10px",width:`${a.size}px`,height:`${a.size*1.5}px`,backgroundColor:a.color,borderRadius:a.id%3===0?"50%":"2px",animationDelay:`${a.delay}s`,animationDuration:`${a.duration}s`,transform:`rotate(${a.rotation}deg)`}},a.id))})}function n3(){return e.jsxs("div",{className:"relative w-28 h-28 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-emerald-400 to-teal-500 animate-scale-in shadow-2xl shadow-emerald-500/30"}),e.jsx("svg",{className:"absolute inset-0 w-full h-full p-6",viewBox:"0 0 50 50",children:e.jsx("path",{className:"animate-draw-check",d:"M14 27 L22 35 L37 16",fill:"none",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"absolute inset-0 rounded-full animate-ping-slow opacity-20 bg-emerald-400"})]})}const iy="onboarding-styles";function a3(){if(document.getElementById(iy))return;const s=document.createElement("style");s.id=iy,s.textContent=`
    @keyframes confetti-fall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    .animate-confetti {
      animation: confetti-fall linear forwards;
    }

    @keyframes scale-in {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); opacity: 1; }
    }
    .animate-scale-in {
      animation: scale-in 0.6s ease-out forwards;
    }

    @keyframes draw-check {
      0% { stroke-dashoffset: 50; }
      100% { stroke-dashoffset: 0; }
    }
    .animate-draw-check {
      stroke-dasharray: 50;
      stroke-dashoffset: 50;
      animation: draw-check 0.6s ease-out 0.3s forwards;
    }

    @keyframes ping-slow {
      0% { transform: scale(1); opacity: 0.25; }
      100% { transform: scale(1.8); opacity: 0; }
    }
    .animate-ping-slow {
      animation: ping-slow 1.5s ease-out infinite;
    }

    @keyframes slide-up-fade {
      0% { transform: translateY(24px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }
    .animate-slide-up {
      animation: slide-up-fade 0.4s ease-out forwards;
    }

    @keyframes float-slow {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
    }
    .animate-float {
      animation: float-slow 4s ease-in-out infinite;
    }

    @keyframes float-slow-2 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-8px) rotate(3deg); }
    }
    .animate-float-2 {
      animation: float-slow-2 5s ease-in-out infinite;
    }

    @keyframes progress-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    .animate-progress-pulse {
      animation: progress-pulse 2s ease-in-out infinite;
    }

    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .animate-gradient {
      background-size: 200% 200%;
      animation: gradient-shift 8s ease infinite;
    }
  `,document.head.appendChild(s)}function i3(){const{user:s,completeOnboarding:t}=We(),a=yt(),[l,r]=_.useState(0),[c,u]=_.useState("forward"),[f,h]=_.useState(!1),[x,m]=_.useState(!1),[g,y]=_.useState(""),[N,j]=_.useState(""),[S,b]=_.useState([]),[C,k]=_.useState([]),[E,M]=_.useState(""),[z,Q]=_.useState(""),[R,q]=_.useState(""),[ve,ye]=_.useState(""),[oe,F]=_.useState(""),[xe,X]=_.useState([]),[be,A]=_.useState([]),[T,U]=_.useState(""),[me,je]=_.useState(""),[H,$]=_.useState(""),[te,B]=_.useState(""),[de,ke]=_.useState(""),[Re,ze]=_.useState(""),[Ye,At]=_.useState(""),[zt,Jt]=_.useState(""),[Ns,ie]=_.useState(""),[Ue,ft]=_.useState([]),[bt,ws]=_.useState(""),[W,he]=_.useState(""),[Ve,Ne]=_.useState(""),[ne,we]=_.useState("");_.useEffect(()=>{a3()},[]),_.useEffect(()=>{di.list({page:1}).then(J=>{b(J.data||[])}).catch(()=>{})},[]),_.useEffect(()=>{if(!E){k([]);return}di.programs(E).then(J=>{k(Array.isArray(J)?J:[])}).catch(()=>{})},[E]),_.useEffect(()=>{s?.role==="preceptor"&&Ji.list().then(J=>{A(J.data||[])}).catch(()=>{})},[s?.role]);const Qe=s?.role||"student",zs=e3(Qe),jt=zs[l],In=l===0,Fn=l===zs.length-1,En=l===zs.length-2,il=l/(zs.length-1)*100,$n=_.useCallback(J=>{X(kt=>kt.includes(J)?kt.filter(An=>An!==J):[...kt,J])},[]),ia=_.useCallback(J=>{ft(kt=>kt.includes(J)?kt.filter(An=>An!==J):[...kt,J])},[]),es=S.filter(J=>J.name.toLowerCase().includes((Qe==="student"?R:Ve).toLowerCase())),Ls=be.filter(J=>J.name.toLowerCase().includes(T.toLowerCase())||J.city?.toLowerCase().includes(T.toLowerCase())||J.state?.toLowerCase().includes(T.toLowerCase())),cs=()=>jt.id==="personal"?!!g.trim():jt.id==="academic"?!!E:jt.id==="facility"?!!H.trim():jt.id==="university"?!!W:!0,vr=async()=>{h(!0);try{const J={phone:g};Qe==="student"?(J.bio=N||void 0,J.university_id=E||void 0,J.program_id=z||void 0,J.graduation_date=ve||void 0,J.gpa=oe?parseFloat(oe):void 0,J.clinical_interests=xe):Qe==="preceptor"?(J.clinical_interests=xe,J.site_id=me||void 0):Qe==="site_manager"?(J.facility_name=H,J.facility_address=te,J.facility_city=de,J.facility_state=Re,J.facility_zip=Ye,J.facility_phone=zt,J.facility_description=Ns,J.facility_specialties=Ue,J.ehr_system=bt||void 0):(Qe==="coordinator"||Qe==="professor")&&(J.university_id=W||void 0,J.department=ne||void 0),await t(J),Y.success("Profile saved successfully!")}catch{return Y.error("Failed to save  please try again"),h(!1),!1}return h(!1),!0},bi=async()=>{if(Fn){a("/dashboard");return}if(En){if(!await vr())return;m(!0),setTimeout(()=>m(!1),4e3)}u("forward"),r(J=>J+1)},un=()=>{l>0&&(u("back"),r(J=>J-1))};return s?e.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${jt.gradient} animate-gradient transition-all duration-700 relative overflow-hidden`,children:[x&&e.jsx(s3,{}),e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 rounded-full bg-white/10 blur-3xl animate-float pointer-events-none"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 rounded-full bg-white/10 blur-3xl animate-float-2 pointer-events-none"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-white/5 blur-3xl pointer-events-none"}),e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-1.5 bg-white/20 backdrop-blur-sm",children:e.jsx("div",{className:"h-full bg-white/90 shadow-lg shadow-white/20 transition-all duration-700 ease-out animate-progress-pulse rounded-r-full",style:{width:`${il}%`}})}),e.jsx("div",{className:"pt-10 pb-4 px-4",children:e.jsx("div",{className:"max-w-xl mx-auto flex items-center justify-center gap-1.5 sm:gap-3",children:zs.map((J,kt)=>e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[e.jsxs("div",{className:`relative flex items-center justify-center transition-all duration-500 ${kt===l?"w-10 h-10 sm:w-11 sm:h-11":"w-8 h-8 sm:w-9 sm:h-9"}`,children:[kt===l&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-white/30 animate-ping-slow"}),e.jsx("div",{className:`relative w-full h-full rounded-full flex items-center justify-center text-xs font-bold transition-all duration-500 ${kt<l?"bg-white text-emerald-600 shadow-lg shadow-white/30 scale-90":kt===l?"bg-white text-stone-800 shadow-xl shadow-white/40 ring-4 ring-white/30":"bg-white/20 text-white/60 backdrop-blur-sm"}`,children:kt<l?e.jsx(Fe,{className:"w-4 h-4"}):kt+1})]}),kt<zs.length-1&&e.jsx("div",{className:`hidden sm:block w-8 md:w-12 h-0.5 rounded-full transition-all duration-500 ${kt<l?"bg-white/80":"bg-white/20"}`})]},J.id))})}),e.jsx("div",{className:"px-4 pb-8",children:e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-6 animate-slide-up",children:[e.jsx("div",{className:`w-18 h-18 sm:w-20 sm:h-20 rounded-2xl mx-auto mb-4 flex items-center justify-center text-white shadow-2xl shadow-black/10 bg-gradient-to-br ${jt.iconBg} transition-all duration-500`,children:jt.icon}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-white drop-shadow-sm",children:jt.title}),e.jsx("p",{className:"text-white/70 mt-1 text-sm sm:text-base",children:jt.subtitle})]},`header-${jt.id}`),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl shadow-black/10 border border-white/50 p-6 sm:p-8 mb-6 animate-slide-up",style:{animationDelay:"0.05s"},children:[jt.id==="welcome"&&e.jsxs("div",{className:"text-center space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center shadow-lg shadow-amber-500/30 animate-float",children:e.jsx(dt,{className:"w-8 h-8 text-white"})}),e.jsx("span",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-amber-600 via-orange-500 to-rose-500 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsxs("p",{className:"text-stone-600 leading-relaxed max-w-md mx-auto text-base",children:["Welcome, ",e.jsx("strong",{className:"text-stone-900",children:s.firstName}),"!"," ",Qe==="student"&&"We'll help you find the perfect clinical rotations, track your hours, and build your professional portfolio.",Qe==="preceptor"&&"We'll connect you with motivated students and make clinical supervision seamless.",Qe==="site_manager"&&"We'll help you manage rotation opportunities, review applications, and track students at your facility.",(Qe==="coordinator"||Qe==="professor")&&"We'll give you full visibility into student placements, compliance, and clinical progress.",Qe==="admin"&&"Welcome to the ClinicLink admin panel. Let's complete your profile."]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-sm mx-auto",children:[Qe==="student"&&[{icon:e.jsx(qt,{className:"w-4 h-4"}),label:"Search Rotations"},{icon:e.jsx(St,{className:"w-4 h-4"}),label:"Apply Instantly"},{icon:e.jsx(Be,{className:"w-4 h-4"}),label:"Track Hours"},{icon:e.jsx(Qt,{className:"w-4 h-4"}),label:"Earn Certificates"}].map(J=>e.jsxs("div",{className:"flex items-center gap-2 bg-amber-50 rounded-xl px-3 py-2.5 text-sm font-medium text-amber-800 border border-amber-200/50",children:[e.jsx("span",{className:"text-amber-500",children:J.icon})," ",J.label]},J.label)),Qe==="preceptor"&&[{icon:e.jsx(at,{className:"w-4 h-4"}),label:"Review Students"},{icon:e.jsx(Be,{className:"w-4 h-4"}),label:"Approve Hours"},{icon:e.jsx(hs,{className:"w-4 h-4"}),label:"Write Evaluations"},{icon:e.jsx(Qt,{className:"w-4 h-4"}),label:"Track Progress"}].map(J=>e.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 rounded-xl px-3 py-2.5 text-sm font-medium text-blue-800 border border-blue-200/50",children:[e.jsx("span",{className:"text-blue-500",children:J.icon})," ",J.label]},J.label)),Qe==="site_manager"&&[{icon:e.jsx(mC,{className:"w-4 h-4"}),label:"List Slots"},{icon:e.jsx(St,{className:"w-4 h-4"}),label:"Review Apps"},{icon:e.jsx(at,{className:"w-4 h-4"}),label:"Track Students"},{icon:e.jsx(wd,{className:"w-4 h-4"}),label:"Analytics"}].map(J=>e.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 rounded-xl px-3 py-2.5 text-sm font-medium text-purple-800 border border-purple-200/50",children:[e.jsx("span",{className:"text-purple-500",children:J.icon})," ",J.label]},J.label)),(Qe==="coordinator"||Qe==="professor")&&[{icon:e.jsx(ta,{className:"w-4 h-4"}),label:"Track Placements"},{icon:e.jsx(Ft,{className:"w-4 h-4"}),label:"Compliance"},{icon:e.jsx(St,{className:"w-4 h-4"}),label:"Reports"},{icon:e.jsx(Ee,{className:"w-4 h-4"}),label:"Agreements"}].map(J=>e.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 rounded-xl px-3 py-2.5 text-sm font-medium text-indigo-800 border border-indigo-200/50",children:[e.jsx("span",{className:"text-indigo-500",children:J.icon})," ",J.label]},J.label))]})]}),jt.id==="personal"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gradient-to-r from-stone-50 to-stone-100 rounded-2xl p-5 flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 text-white flex items-center justify-center font-bold text-lg shadow-lg shadow-amber-500/20 flex-shrink-0",children:[s.firstName[0],s.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-stone-900 text-lg",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-stone-500",children:s.email}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 rounded-full bg-amber-100 text-amber-700 text-xs font-semibold capitalize",children:Qe.replace("_"," ")})]})]}),e.jsx(De,{label:"Phone Number *",type:"tel",placeholder:"(305) 555-0100",value:g,onChange:J=>y(J.target.value),icon:e.jsx(_n,{className:"w-4 h-4"})}),Qe==="student"&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"About You"}),e.jsx("textarea",{value:N,onChange:J=>j(J.target.value),rows:3,placeholder:"Tell clinical sites about yourself, your experience, and what makes you a great candidate...",className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-rose-400 focus:ring-2 focus:ring-rose-400/20 focus:outline-none resize-none transition-all duration-200"})]})]}),jt.id==="academic"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"University *"}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search universities...",value:R,onChange:J=>{q(J.target.value),M(""),Q("")},className:"w-full rounded-2xl border border-stone-200 pl-10 pr-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200"})]}),R&&!E&&es.length>0&&e.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-lg max-h-48 overflow-y-auto",children:es.map(J=>e.jsxs("button",{onClick:()=>{M(J.id),q(J.name),Q("")},className:"w-full text-left px-4 py-3 text-sm hover:bg-purple-50 transition-colors flex items-center gap-3 border-b border-stone-100 last:border-0",children:[e.jsx(it,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}),e.jsx("span",{children:J.name})]},J.id))}),E&&e.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 text-purple-700 rounded-xl px-3 py-2 text-sm font-medium border border-purple-200/50",children:[e.jsx(it,{className:"w-4 h-4"}),R,e.jsx("button",{onClick:()=>{M(""),q(""),Q("")},className:"ml-auto text-purple-400 hover:text-purple-600",children:""})]})]}),E&&C.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"Program"}),e.jsxs("select",{value:z,onChange:J=>Q(J.target.value),className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select a program..."}),C.map(J=>e.jsxs("option",{value:J.id,children:[J.name," (",J.degree_type,")"]},J.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"Expected Graduation"}),e.jsx("input",{type:"date",value:ve,onChange:J=>ye(J.target.value),className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200"})]}),e.jsx(De,{label:"Current GPA",type:"number",placeholder:"3.85",min:"0",max:"4.0",step:"0.01",value:oe,onChange:J=>F(J.target.value)})]})]}),(jt.id==="interests"||jt.id==="clinical")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-stone-500",children:Qe==="student"?"Select specialties you're interested in. We'll use these to recommend rotations.":"Select your areas of clinical expertise. Students will find you based on these."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ay.map(J=>e.jsx("button",{onClick:()=>$n(J),className:`px-4 py-2 rounded-2xl text-sm font-medium transition-all duration-300 ${xe.includes(J)?"bg-gradient-to-r from-indigo-500 to-blue-500 text-white shadow-lg shadow-indigo-500/20 scale-105":"bg-stone-100 text-stone-600 hover:bg-stone-200 hover:scale-102"}`,children:J},J))}),xe.length>0&&e.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 rounded-xl px-3 py-2 text-sm font-semibold border border-indigo-200/50",children:[e.jsx(ud,{className:"w-4 h-4"}),xe.length," ",xe.length===1?"specialty":"specialties"," selected"]})]}),jt.id==="credentials"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-stone-500",children:"Most rotation sites require these credentials. You can upload them now or later from your profile."}),[{name:"BLS/CPR Certification",icon:e.jsx(ud,{className:"w-4 h-4"})},{name:"Background Check",icon:e.jsx(Ft,{className:"w-4 h-4"})},{name:"Drug Screen",icon:e.jsx(wd,{className:"w-4 h-4"})},{name:"Immunization Records",icon:e.jsx(ys,{className:"w-4 h-4"})},{name:"Liability Insurance",icon:e.jsx(St,{className:"w-4 h-4"})},{name:"HIPAA Training",icon:e.jsx(Qt,{className:"w-4 h-4"})}].map(J=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-stone-50 to-stone-100 rounded-2xl border border-stone-200/50 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center",children:J.icon}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:J.name})]}),e.jsxs(L,{size:"sm",variant:"outline",className:"!rounded-xl",children:[e.jsx(Hn,{className:"w-3.5 h-3.5"})," Upload"]})]},J.name)),e.jsxs("p",{className:"text-xs text-stone-400 text-center bg-stone-50 rounded-xl p-3",children:["You can always upload or update these later from ",e.jsx("strong",{children:"Settings  Credentials"})]})]}),jt.id==="site"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-stone-500",children:"Select the clinical site you're affiliated with. If your site isn't listed, your site manager can invite you."}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search sites by name or location...",value:T,onChange:J=>U(J.target.value),className:"w-full rounded-2xl border border-stone-200 pl-10 pr-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:[Ls.length===0&&e.jsx("p",{className:"text-center text-sm text-stone-400 py-6",children:T?"No sites match your search":"No sites available  ask your site manager for an invite link"}),Ls.map(J=>e.jsx("button",{onClick:()=>je(J.id===me?"":J.id),className:`w-full text-left p-4 rounded-2xl border transition-all duration-300 ${me===J.id?"bg-gradient-to-r from-purple-50 to-indigo-50 border-purple-300 shadow-md shadow-purple-500/10 scale-[1.01]":"bg-white/50 border-stone-200 hover:border-stone-300 hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-300 ${me===J.id?"bg-gradient-to-br from-purple-500 to-indigo-500 text-white":"bg-stone-100 text-stone-500"}`,children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold text-stone-900 text-sm",children:J.name}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1 mt-0.5",children:[e.jsx(ht,{className:"w-3 h-3"})," ",J.city,", ",J.state]}),J.specialties?.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[J.specialties.slice(0,3).map(kt=>e.jsx("span",{className:"text-xs bg-stone-100 text-stone-600 rounded-full px-2 py-0.5",children:kt},kt)),J.specialties.length>3&&e.jsxs("span",{className:"text-xs text-stone-400",children:["+",J.specialties.length-3]})]})]}),me===J.id&&e.jsx(Fe,{className:"w-5 h-5 text-purple-500 flex-shrink-0 ml-auto"})]})},J.id))]})]}),jt.id==="facility"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(De,{label:"Facility Name *",placeholder:"Mercy General Hospital",value:H,onChange:J=>$(J.target.value),icon:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx(De,{label:"Address",placeholder:"2175 Rosaline Ave",value:te,onChange:J=>B(J.target.value),icon:e.jsx(ht,{className:"w-4 h-4"})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(De,{label:"City",placeholder:"Miami",value:de,onChange:J=>ke(J.target.value)}),e.jsx(De,{label:"State",placeholder:"FL",maxLength:2,value:Re,onChange:J=>ze(J.target.value)}),e.jsx(De,{label:"ZIP",placeholder:"33136",value:Ye,onChange:J=>At(J.target.value)})]}),e.jsx(De,{label:"Facility Phone",type:"tel",placeholder:"(305) 555-0100",value:zt,onChange:J=>Jt(J.target.value)}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"Description"}),e.jsx("textarea",{value:Ns,onChange:J=>ie(J.target.value),rows:3,placeholder:"Describe your facility and what makes it a great clinical learning environment...",className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none resize-none transition-all duration-200"})]})]}),jt.id==="specialties"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"EHR System"}),e.jsxs("select",{value:bt,onChange:J=>ws(J.target.value),className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select EHR system..."}),t3.map(J=>e.jsx("option",{value:J,children:J},J))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700 mb-2",children:"Specialties Offered"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ay.map(J=>e.jsx("button",{onClick:()=>ia(J),className:`px-4 py-2 rounded-2xl text-sm font-medium transition-all duration-300 ${Ue.includes(J)?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg shadow-purple-500/20 scale-105":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:J},J))}),Ue.length>0&&e.jsxs("p",{className:"mt-2 text-sm text-purple-600 font-semibold",children:[Ue.length," specialties selected"]})]}),H&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-4 border border-purple-200/50",children:[e.jsx("p",{className:"text-xs text-purple-500 font-semibold mb-2 uppercase tracking-wider",children:"Preview  How students will see your site"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-500 text-white flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-stone-900",children:H}),(de||Re)&&e.jsx("p",{className:"text-xs text-stone-500",children:[de,Re].filter(Boolean).join(", ")}),Ue.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Ue.slice(0,4).map(J=>e.jsx("span",{className:"text-xs bg-white rounded-full px-2 py-0.5 text-purple-600",children:J},J))})]})]})]})]}),jt.id==="university"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"University *"}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search universities...",value:Ve,onChange:J=>{Ne(J.target.value),he("")},className:"w-full rounded-2xl border border-stone-200 pl-10 pr-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-indigo-400 focus:ring-2 focus:ring-indigo-400/20 focus:outline-none transition-all duration-200"})]}),Ve&&!W&&es.length>0&&e.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-lg max-h-48 overflow-y-auto",children:es.map(J=>e.jsxs("button",{onClick:()=>{he(J.id),Ne(J.name)},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 transition-colors flex items-center gap-3 border-b border-stone-100 last:border-0",children:[e.jsx(Pt,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),e.jsx("span",{children:J.name})]},J.id))}),W&&e.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 rounded-xl px-3 py-2 text-sm font-medium border border-indigo-200/50",children:[e.jsx(Pt,{className:"w-4 h-4"}),Ve,e.jsx("button",{onClick:()=>{he(""),Ne("")},className:"ml-auto text-indigo-400 hover:text-indigo-600",children:""})]})]}),e.jsx(De,{label:"Department / Program",placeholder:"School of Nursing and Health Studies",value:ne,onChange:J=>we(J.target.value),icon:e.jsx(it,{className:"w-4 h-4"})})]}),jt.id==="complete"&&e.jsxs("div",{className:"text-center space-y-6 py-6",children:[e.jsx(n3,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h2",{className:"text-2xl font-extrabold bg-gradient-to-r from-emerald-600 to-teal-500 bg-clip-text text-transparent",children:["You're all set, ",s.firstName,"!"]}),e.jsxs("p",{className:"text-stone-500 max-w-sm mx-auto",children:[Qe==="student"&&"Your profile is ready. Start exploring clinical rotations and building your portfolio!",Qe==="preceptor"&&"Your profile is ready. Students will be able to find and connect with you!",Qe==="site_manager"&&"Your facility is set up. Start listing rotation slots for students!",(Qe==="coordinator"||Qe==="professor")&&"Your profile is ready. Start managing student placements and compliance!",Qe==="admin"&&"Your admin account is configured. Head to the dashboard!"]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-emerald-50 text-emerald-700 rounded-full px-3 py-1.5 text-sm font-medium border border-emerald-200/50",children:[e.jsx(Fe,{className:"w-3.5 h-3.5"})," Profile Complete"]}),Qe==="student"&&R&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-purple-50 text-purple-700 rounded-full px-3 py-1.5 text-sm font-medium border border-purple-200/50",children:[e.jsx(it,{className:"w-3.5 h-3.5"})," ",R]}),Qe==="student"&&xe.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 text-sm font-medium border border-blue-200/50",children:[e.jsx(ud,{className:"w-3.5 h-3.5"})," ",xe.length," Interests"]}),Qe==="site_manager"&&H&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-purple-50 text-purple-700 rounded-full px-3 py-1.5 text-sm font-medium border border-purple-200/50",children:[e.jsx(Ee,{className:"w-3.5 h-3.5"})," ",H]}),Qe==="preceptor"&&xe.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 text-sm font-medium border border-blue-200/50",children:[e.jsx(dt,{className:"w-3.5 h-3.5"})," ",xe.length," Specialties"]})]})]})]},`card-${jt.id}-${c}`),e.jsxs("div",{className:"flex items-center justify-between",style:{animationDelay:"0.1s"},children:[In?e.jsx("div",{}):e.jsxs("button",{onClick:un,className:"flex items-center gap-2 px-5 py-3 text-sm font-medium text-white/80 hover:text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-2xl transition-all duration-200",children:[e.jsx(Yd,{className:"w-4 h-4"})," Back"]}),e.jsx("button",{onClick:bi,disabled:f||!In&&!Fn&&!cs(),className:`flex items-center gap-2 px-6 py-3 text-sm font-bold rounded-2xl shadow-xl transition-all duration-300 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 ${Fn?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-emerald-500/30 hover:shadow-emerald-500/40":"bg-white text-stone-800 shadow-white/30 hover:shadow-white/50"}`,children:f?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):Fn?e.jsxs(e.Fragment,{children:["Go to Dashboard ",e.jsx(ni,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:["Continue ",e.jsx(Os,{className:"w-4 h-4"})]})})]})]})})]}):null}var l3=Object.defineProperty,Ad=Object.getOwnPropertySymbols,Sj=Object.prototype.hasOwnProperty,_j=Object.prototype.propertyIsEnumerable,ly=(s,t,a)=>t in s?l3(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,of=(s,t)=>{for(var a in t||(t={}))Sj.call(t,a)&&ly(s,a,t[a]);if(Ad)for(var a of Ad(t))_j.call(t,a)&&ly(s,a,t[a]);return s},cf=(s,t)=>{var a={};for(var l in s)Sj.call(s,l)&&t.indexOf(l)<0&&(a[l]=s[l]);if(s!=null&&Ad)for(var l of Ad(s))t.indexOf(l)<0&&_j.call(s,l)&&(a[l]=s[l]);return a};var Ki;(s=>{const t=class Je{constructor(h,x,m,g){if(this.version=h,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],h<Je.MIN_VERSION||h>Je.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let y=[];for(let j=0;j<this.size;j++)y.push(!1);for(let j=0;j<this.size;j++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const N=this.addEccAndInterleave(m);if(this.drawCodewords(N),g==-1){let j=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const b=this.getPenaltyScore();b<j&&(g=S,j=b),this.applyMask(S)}}r(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(h,x){const m=s.QrSegment.makeSegments(h);return Je.encodeSegments(m,x)}static encodeBinary(h,x){const m=s.QrSegment.makeBytes(h);return Je.encodeSegments([m],x)}static encodeSegments(h,x,m=1,g=40,y=-1,N=!0){if(!(Je.MIN_VERSION<=m&&m<=g&&g<=Je.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let j,S;for(j=m;;j++){const E=Je.getNumDataCodewords(j,x)*8,M=u.getTotalBits(h,j);if(M<=E){S=M;break}if(j>=g)throw new RangeError("Data too long")}for(const E of[Je.Ecc.MEDIUM,Je.Ecc.QUARTILE,Je.Ecc.HIGH])N&&S<=Je.getNumDataCodewords(j,E)*8&&(x=E);let b=[];for(const E of h){a(E.mode.modeBits,4,b),a(E.numChars,E.mode.numCharCountBits(j),b);for(const M of E.getData())b.push(M)}r(b.length==S);const C=Je.getNumDataCodewords(j,x)*8;r(b.length<=C),a(0,Math.min(4,C-b.length),b),a(0,(8-b.length%8)%8,b),r(b.length%8==0);for(let E=236;b.length<C;E^=253)a(E,8,b);let k=[];for(;k.length*8<b.length;)k.push(0);return b.forEach((E,M)=>k[M>>>3]|=E<<7-(M&7)),new Je(j,x,k,y)}getModule(h,x){return 0<=h&&h<this.size&&0<=x&&x<this.size&&this.modules[x][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),x=h.length;for(let m=0;m<x;m++)for(let g=0;g<x;g++)m==0&&g==0||m==0&&g==x-1||m==x-1&&g==0||this.drawAlignmentPattern(h[m],h[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const x=this.errorCorrectionLevel.formatBits<<3|h;let m=x;for(let y=0;y<10;y++)m=m<<1^(m>>>9)*1335;const g=(x<<10|m)^21522;r(g>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,l(g,y));this.setFunctionModule(8,7,l(g,6)),this.setFunctionModule(8,8,l(g,7)),this.setFunctionModule(7,8,l(g,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,l(g,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,l(g,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,l(g,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let m=0;m<12;m++)h=h<<1^(h>>>11)*7973;const x=this.version<<12|h;r(x>>>18==0);for(let m=0;m<18;m++){const g=l(x,m),y=this.size-11+m%3,N=Math.floor(m/3);this.setFunctionModule(y,N,g),this.setFunctionModule(N,y,g)}}drawFinderPattern(h,x){for(let m=-4;m<=4;m++)for(let g=-4;g<=4;g++){const y=Math.max(Math.abs(g),Math.abs(m)),N=h+g,j=x+m;0<=N&&N<this.size&&0<=j&&j<this.size&&this.setFunctionModule(N,j,y!=2&&y!=4)}}drawAlignmentPattern(h,x){for(let m=-2;m<=2;m++)for(let g=-2;g<=2;g++)this.setFunctionModule(h+g,x+m,Math.max(Math.abs(g),Math.abs(m))!=1)}setFunctionModule(h,x,m){this.modules[x][h]=m,this.isFunction[x][h]=!0}addEccAndInterleave(h){const x=this.version,m=this.errorCorrectionLevel;if(h.length!=Je.getNumDataCodewords(x,m))throw new RangeError("Invalid argument");const g=Je.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][x],y=Je.ECC_CODEWORDS_PER_BLOCK[m.ordinal][x],N=Math.floor(Je.getNumRawDataModules(x)/8),j=g-N%g,S=Math.floor(N/g);let b=[];const C=Je.reedSolomonComputeDivisor(y);for(let E=0,M=0;E<g;E++){let z=h.slice(M,M+S-y+(E<j?0:1));M+=z.length;const Q=Je.reedSolomonComputeRemainder(z,C);E<j&&z.push(0),b.push(z.concat(Q))}let k=[];for(let E=0;E<b[0].length;E++)b.forEach((M,z)=>{(E!=S-y||z>=j)&&k.push(M[E])});return r(k.length==N),k}drawCodewords(h){if(h.length!=Math.floor(Je.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let x=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let g=0;g<this.size;g++)for(let y=0;y<2;y++){const N=m-y,S=(m+1&2)==0?this.size-1-g:g;!this.isFunction[S][N]&&x<h.length*8&&(this.modules[S][N]=l(h[x>>>3],7-(x&7)),x++)}}r(x==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let x=0;x<this.size;x++)for(let m=0;m<this.size;m++){let g;switch(h){case 0:g=(m+x)%2==0;break;case 1:g=x%2==0;break;case 2:g=m%3==0;break;case 3:g=(m+x)%3==0;break;case 4:g=(Math.floor(m/3)+Math.floor(x/2))%2==0;break;case 5:g=m*x%2+m*x%3==0;break;case 6:g=(m*x%2+m*x%3)%2==0;break;case 7:g=((m+x)%2+m*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][m]&&g&&(this.modules[x][m]=!this.modules[x][m])}}getPenaltyScore(){let h=0;for(let y=0;y<this.size;y++){let N=!1,j=0,S=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[y][b]==N?(j++,j==5?h+=Je.PENALTY_N1:j>5&&h++):(this.finderPenaltyAddHistory(j,S),N||(h+=this.finderPenaltyCountPatterns(S)*Je.PENALTY_N3),N=this.modules[y][b],j=1);h+=this.finderPenaltyTerminateAndCount(N,j,S)*Je.PENALTY_N3}for(let y=0;y<this.size;y++){let N=!1,j=0,S=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][y]==N?(j++,j==5?h+=Je.PENALTY_N1:j>5&&h++):(this.finderPenaltyAddHistory(j,S),N||(h+=this.finderPenaltyCountPatterns(S)*Je.PENALTY_N3),N=this.modules[b][y],j=1);h+=this.finderPenaltyTerminateAndCount(N,j,S)*Je.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let N=0;N<this.size-1;N++){const j=this.modules[y][N];j==this.modules[y][N+1]&&j==this.modules[y+1][N]&&j==this.modules[y+1][N+1]&&(h+=Je.PENALTY_N2)}let x=0;for(const y of this.modules)x=y.reduce((N,j)=>N+(j?1:0),x);const m=this.size*this.size,g=Math.ceil(Math.abs(x*20-m*10)/m)-1;return r(0<=g&&g<=9),h+=g*Je.PENALTY_N4,r(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,x=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let m=[6];for(let g=this.size-7;m.length<h;g-=x)m.splice(1,0,g);return m}}static getNumRawDataModules(h){if(h<Je.MIN_VERSION||h>Je.MAX_VERSION)throw new RangeError("Version number out of range");let x=(16*h+128)*h+64;if(h>=2){const m=Math.floor(h/7)+2;x-=(25*m-10)*m-55,h>=7&&(x-=36)}return r(208<=x&&x<=29648),x}static getNumDataCodewords(h,x){return Math.floor(Je.getNumRawDataModules(h)/8)-Je.ECC_CODEWORDS_PER_BLOCK[x.ordinal][h]*Je.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let x=[];for(let g=0;g<h-1;g++)x.push(0);x.push(1);let m=1;for(let g=0;g<h;g++){for(let y=0;y<x.length;y++)x[y]=Je.reedSolomonMultiply(x[y],m),y+1<x.length&&(x[y]^=x[y+1]);m=Je.reedSolomonMultiply(m,2)}return x}static reedSolomonComputeRemainder(h,x){let m=x.map(g=>0);for(const g of h){const y=g^m.shift();m.push(0),x.forEach((N,j)=>m[j]^=Je.reedSolomonMultiply(N,y))}return m}static reedSolomonMultiply(h,x){if(h>>>8||x>>>8)throw new RangeError("Byte out of range");let m=0;for(let g=7;g>=0;g--)m=m<<1^(m>>>7)*285,m^=(x>>>g&1)*h;return r(m>>>8==0),m}finderPenaltyCountPatterns(h){const x=h[1];r(x<=this.size*3);const m=x>0&&h[2]==x&&h[3]==x*3&&h[4]==x&&h[5]==x;return(m&&h[0]>=x*4&&h[6]>=x?1:0)+(m&&h[6]>=x*4&&h[0]>=x?1:0)}finderPenaltyTerminateAndCount(h,x,m){return h&&(this.finderPenaltyAddHistory(x,m),x=0),x+=this.size,this.finderPenaltyAddHistory(x,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(h,x){x[0]==0&&(h+=this.size),x.pop(),x.unshift(h)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=t;function a(f,h,x){if(h<0||h>31||f>>>h)throw new RangeError("Value out of range");for(let m=h-1;m>=0;m--)x.push(f>>>m&1)}function l(f,h){return(f>>>h&1)!=0}function r(f){if(!f)throw new Error("Assertion error")}const c=class Wt{constructor(h,x,m){if(this.mode=h,this.numChars=x,this.bitData=m,x<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(h){let x=[];for(const m of h)a(m,8,x);return new Wt(Wt.Mode.BYTE,h.length,x)}static makeNumeric(h){if(!Wt.isNumeric(h))throw new RangeError("String contains non-numeric characters");let x=[];for(let m=0;m<h.length;){const g=Math.min(h.length-m,3);a(parseInt(h.substring(m,m+g),10),g*3+1,x),m+=g}return new Wt(Wt.Mode.NUMERIC,h.length,x)}static makeAlphanumeric(h){if(!Wt.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let x=[],m;for(m=0;m+2<=h.length;m+=2){let g=Wt.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m))*45;g+=Wt.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m+1)),a(g,11,x)}return m<h.length&&a(Wt.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m)),6,x),new Wt(Wt.Mode.ALPHANUMERIC,h.length,x)}static makeSegments(h){return h==""?[]:Wt.isNumeric(h)?[Wt.makeNumeric(h)]:Wt.isAlphanumeric(h)?[Wt.makeAlphanumeric(h)]:[Wt.makeBytes(Wt.toUtf8ByteArray(h))]}static makeEci(h){let x=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)a(h,8,x);else if(h<16384)a(2,2,x),a(h,14,x);else if(h<1e6)a(6,3,x),a(h,21,x);else throw new RangeError("ECI assignment value out of range");return new Wt(Wt.Mode.ECI,0,x)}static isNumeric(h){return Wt.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return Wt.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,x){let m=0;for(const g of h){const y=g.mode.numCharCountBits(x);if(g.numChars>=1<<y)return 1/0;m+=4+y+g.bitData.length}return m}static toUtf8ByteArray(h){h=encodeURI(h);let x=[];for(let m=0;m<h.length;m++)h.charAt(m)!="%"?x.push(h.charCodeAt(m)):(x.push(parseInt(h.substring(m+1,m+3),16)),m+=2);return x}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=c;s.QrSegment=c})(Ki||(Ki={}));(s=>{(t=>{const a=class{constructor(r,c){this.ordinal=r,this.formatBits=c}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),t.Ecc=a})(s.QrCode||(s.QrCode={}))})(Ki||(Ki={}));(s=>{(t=>{const a=class{constructor(r,c){this.modeBits=r,this.numBitsCharCount=c}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),t.Mode=a})(s.QrSegment||(s.QrSegment={}))})(Ki||(Ki={}));var Gl=Ki;var r3={L:Gl.QrCode.Ecc.LOW,M:Gl.QrCode.Ecc.MEDIUM,Q:Gl.QrCode.Ecc.QUARTILE,H:Gl.QrCode.Ecc.HIGH},Cj=128,Ej="L",Aj="#FFFFFF",kj="#000000",Dj=!1,Rj=1,o3=4,c3=0,d3=.1;function Tj(s,t=0){const a=[];return s.forEach(function(l,r){let c=null;l.forEach(function(u,f){if(!u&&c!==null){a.push(`M${c+t} ${r+t}h${f-c}v1H${c+t}z`),c=null;return}if(f===l.length-1){if(!u)return;c===null?a.push(`M${f+t},${r+t} h1v1H${f+t}z`):a.push(`M${c+t},${r+t} h${f+1-c}v1H${c+t}z`);return}u&&c===null&&(c=f)})}),a.join("")}function Mj(s,t){return s.slice().map((a,l)=>l<t.y||l>=t.y+t.h?a:a.map((r,c)=>c<t.x||c>=t.x+t.w?r:!1))}function u3(s,t,a,l){if(l==null)return null;const r=s.length+a*2,c=Math.floor(t*d3),u=r/t,f=(l.width||c)*u,h=(l.height||c)*u,x=l.x==null?s.length/2-f/2:l.x*u,m=l.y==null?s.length/2-h/2:l.y*u,g=l.opacity==null?1:l.opacity;let y=null;if(l.excavate){let j=Math.floor(x),S=Math.floor(m),b=Math.ceil(f+x-j),C=Math.ceil(h+m-S);y={x:j,y:S,w:b,h:C}}const N=l.crossOrigin;return{x,y:m,h,w:f,excavation:y,opacity:g,crossOrigin:N}}function m3(s,t){return t!=null?Math.max(Math.floor(t),0):s?o3:c3}function Oj({value:s,level:t,minVersion:a,includeMargin:l,marginSize:r,imageSettings:c,size:u,boostLevel:f}){let h=pe.useMemo(()=>{const j=(Array.isArray(s)?s:[s]).reduce((S,b)=>(S.push(...Gl.QrSegment.makeSegments(b)),S),[]);return Gl.QrCode.encodeSegments(j,r3[t],a,void 0,void 0,f)},[s,t,a,f]);const{cells:x,margin:m,numCells:g,calculatedImageSettings:y}=pe.useMemo(()=>{let N=h.getModules();const j=m3(l,r),S=N.length+j*2,b=u3(N,u,j,c);return{cells:N,margin:j,numCells:S,calculatedImageSettings:b}},[h,u,c,l,r]);return{qrcode:h,margin:m,cells:x,numCells:g,calculatedImageSettings:y}}var h3=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),f3=pe.forwardRef(function(t,a){const l=t,{value:r,size:c=Cj,level:u=Ej,bgColor:f=Aj,fgColor:h=kj,includeMargin:x=Dj,minVersion:m=Rj,boostLevel:g,marginSize:y,imageSettings:N}=l,S=cf(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=S,C=cf(S,["style"]),k=N?.src,E=pe.useRef(null),M=pe.useRef(null),z=pe.useCallback(X=>{E.current=X,typeof a=="function"?a(X):a&&(a.current=X)},[a]),[Q,R]=pe.useState(!1),{margin:q,cells:ve,numCells:ye,calculatedImageSettings:oe}=Oj({value:r,level:u,minVersion:m,boostLevel:g,includeMargin:x,marginSize:y,imageSettings:N,size:c});pe.useEffect(()=>{if(E.current!=null){const X=E.current,be=X.getContext("2d");if(!be)return;let A=ve;const T=M.current,U=oe!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;U&&oe.excavation!=null&&(A=Mj(ve,oe.excavation));const me=window.devicePixelRatio||1;X.height=X.width=c*me;const je=c/ye*me;be.scale(je,je),be.fillStyle=f,be.fillRect(0,0,ye,ye),be.fillStyle=h,h3?be.fill(new Path2D(Tj(A,q))):ve.forEach(function(H,$){H.forEach(function(te,B){te&&be.fillRect(B+q,$+q,1,1)})}),oe&&(be.globalAlpha=oe.opacity),U&&be.drawImage(T,oe.x+q,oe.y+q,oe.w,oe.h)}}),pe.useEffect(()=>{R(!1)},[k]);const F=of({height:c,width:c},b);let xe=null;return k!=null&&(xe=pe.createElement("img",{src:k,key:k,style:{display:"none"},onLoad:()=>{R(!0)},ref:M,crossOrigin:oe?.crossOrigin})),pe.createElement(pe.Fragment,null,pe.createElement("canvas",of({style:F,height:c,width:c,ref:z,role:"img"},C)),xe)});f3.displayName="QRCodeCanvas";var zj=pe.forwardRef(function(t,a){const l=t,{value:r,size:c=Cj,level:u=Ej,bgColor:f=Aj,fgColor:h=kj,includeMargin:x=Dj,minVersion:m=Rj,boostLevel:g,title:y,marginSize:N,imageSettings:j}=l,S=cf(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:C,numCells:k,calculatedImageSettings:E}=Oj({value:r,level:u,minVersion:m,boostLevel:g,includeMargin:x,marginSize:N,imageSettings:j,size:c});let M=C,z=null;j!=null&&E!=null&&(E.excavation!=null&&(M=Mj(C,E.excavation)),z=pe.createElement("image",{href:j.src,height:E.h,width:E.w,x:E.x+b,y:E.y+b,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const Q=Tj(M,b);return pe.createElement("svg",of({height:c,width:c,viewBox:`0 0 ${k} ${k}`,ref:a,role:"img"},S),!!y&&pe.createElement("title",null,y),pe.createElement("path",{fill:f,d:`M0,0 h${k}v${k}H0z`,shapeRendering:"crispEdges"}),pe.createElement("path",{fill:h,d:Q,shapeRendering:"crispEdges"}),z)});zj.displayName="QRCodeSVG";const x3=[{key:"profile",label:"Profile",icon:Xt},{key:"academic",label:"Academic",icon:it,roles:["student"]},{key:"credentials",label:"Credentials",icon:Sd,roles:["student"]},{key:"security",label:"Security",icon:Ft},{key:"notifications",label:"Notifications",icon:Jb}],p3=["Emergency Medicine","Family Practice","Internal Medicine","Pediatrics","OB/GYN","Surgery","Orthopedics","Cardiology","Neurology","Psychiatry","Dermatology","Oncology","ICU/Critical Care","Geriatrics","Physical Therapy","Social Work","Urgent Care","Rehabilitation","Community Health","Telehealth"];function g3(){const{user:s}=We(),[t,a]=_.useState("profile"),l=x3.filter(r=>!r.roles||r.roles.includes(s?.role||""));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Settings"}),e.jsx("p",{className:"text-stone-500",children:"Manage your account and preferences"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"lg:w-56 shrink-0",children:e.jsx(V,{padding:"sm",children:e.jsx("nav",{className:"flex lg:flex-col gap-1 overflow-x-auto",children:l.map(r=>{const c=r.icon;return e.jsxs("button",{onClick:()=>a(r.key),className:`flex items-center gap-2.5 px-3 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ${t===r.key?"bg-primary-50 text-primary-700":"text-stone-600 hover:bg-stone-50"}`,children:[e.jsx(c,{className:"w-4 h-4 shrink-0"}),r.label]},r.key)})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[t==="profile"&&e.jsx(v3,{}),t==="academic"&&e.jsx(y3,{}),t==="credentials"&&e.jsx(b3,{}),t==="security"&&e.jsx(j3,{}),t==="notifications"&&e.jsx(w3,{})]})]})]})}function v3(){const{user:s}=We(),[t,a]=_.useState({first_name:s?.firstName||"",last_name:s?.lastName||"",phone:s?.phone||""}),[l,r]=_.useState(!1),c=async()=>{r(!0);try{await Ts.updateProfile(t),Y.success("Profile updated successfully")}catch(f){const h=f instanceof Error?f.message:"Failed to update profile";Y.error(h)}finally{r(!1)}},u=`${s?.firstName?.charAt(0)||""}${s?.lastName?.charAt(0)||""}`.toUpperCase();return e.jsxs(V,{children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Personal Information"}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-400 to-secondary-500 flex items-center justify-center text-white text-xl font-bold",children:u}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-stone-900",children:[s?.firstName," ",s?.lastName]}),e.jsx(re,{variant:"primary",children:s?.role?.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(De,{label:"First Name",value:t.first_name,onChange:f=>a({...t,first_name:f.target.value}),icon:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx(De,{label:"Last Name",value:t.last_name,onChange:f=>a({...t,last_name:f.target.value})})]}),e.jsx(De,{label:"Email",type:"email",value:s?.email||"",disabled:!0,icon:e.jsx(Ln,{className:"w-4 h-4"})}),e.jsx(De,{label:"Phone",type:"tel",placeholder:"(555) 123-4567",value:t.phone,onChange:f=>a({...t,phone:f.target.value}),icon:e.jsx(_n,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs(L,{onClick:c,isLoading:l,children:[e.jsx(Kd,{className:"w-4 h-4"})," Save Changes"]})})]})]})}function y3(){const{data:s,isLoading:t}=NE(),a=wE(),{data:l}=fr(),r=l?.data||[],c=s?.profile,[u,f]=_.useState({university_id:"",program_id:"",bio:"",graduation_date:"",gpa:"",clinical_interests:[]}),[h,x]=_.useState([]),[m,g]=_.useState(!1);c&&!m&&(f({university_id:c.university_id||"",program_id:c.program_id||"",bio:c.bio||"",graduation_date:c.graduation_date||"",gpa:c.gpa?String(c.gpa):"",clinical_interests:c.clinical_interests||[]}),c.university_id&&di.programs(c.university_id).then(x),g(!0));const y=async S=>{if(f(b=>({...b,university_id:S,program_id:""})),x([]),S){const b=await di.programs(S);x(b)}},N=S=>{f(b=>({...b,clinical_interests:b.clinical_interests.includes(S)?b.clinical_interests.filter(C=>C!==S):[...b.clinical_interests,S]}))},j=async()=>{try{await a.mutateAsync({university_id:u.university_id||null,program_id:u.program_id||null,bio:u.bio||null,graduation_date:u.graduation_date||null,gpa:u.gpa?parseFloat(u.gpa):null,clinical_interests:u.clinical_interests}),Y.success("Academic info updated")}catch(S){const b=S instanceof Error?S.message:"Failed to update";Y.error(b)}};return t?e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(V,{children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Academic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"University"}),e.jsxs("select",{value:u.university_id,onChange:S=>y(S.target.value),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select university..."}),r.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Program"}),e.jsxs("select",{value:u.program_id,onChange:S=>f(b=>({...b,program_id:S.target.value})),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",disabled:!u.university_id,children:[e.jsx("option",{value:"",children:u.university_id?"Select program...":"Select university first"}),h.map(S=>e.jsxs("option",{value:S.id,children:[S.name," (",S.degree_type,") - ",S.required_hours,"h required"]},S.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(De,{label:"Expected Graduation",type:"date",value:u.graduation_date,onChange:S=>f({...u,graduation_date:S.target.value})}),e.jsx(De,{label:"GPA",type:"number",step:"0.01",min:"0",max:"4.0",placeholder:"3.50",value:u.gpa,onChange:S=>f({...u,gpa:S.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Bio"}),e.jsx("textarea",{value:u.bio,onChange:S=>f({...u,bio:S.target.value}),rows:3,placeholder:"Tell preceptors about yourself...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]})]})]}),e.jsxs(V,{children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Clinical Interests"}),e.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Select the specialties you're interested in"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p3.map(S=>e.jsx("button",{onClick:()=>N(S),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${u.clinical_interests.includes(S)?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:S},S))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(L,{onClick:j,isLoading:a.isPending,children:[e.jsx(Kd,{className:"w-4 h-4"})," Save Academic Info"]})})]})}function b3(){const{data:s,isLoading:t}=hj(),a=SE(),l=_E(),r=CE(),[c,u]=_.useState(!1),[f,h]=_.useState({type:"cpr",name:"",expiration_date:""}),x=new Map,m=s?.credentials||[],g=async()=>{if(!f.name){Y.error("Please enter a credential name");return}try{await a.mutateAsync({type:f.type,name:f.name,expiration_date:f.expiration_date||null,status:"pending"}),Y.success("Credential added"),u(!1),h({type:"cpr",name:"",expiration_date:""})}catch(b){const C=b instanceof Error?b.message:"Failed to add";Y.error(C)}},y=async b=>{try{await l.mutateAsync(b),Y.success("Credential removed")}catch(C){const k=C instanceof Error?C.message:"Failed to remove";Y.error(k)}},N=async(b,C)=>{if(C.size>20971520){Y.error("File too large. Maximum size is 20MB.");return}try{await r.mutateAsync({id:b,file:C}),Y.success("Document uploaded successfully")}catch(E){const M=E instanceof Error?E.message:"Failed to upload";Y.error(M)}},j=b=>{switch(b){case"valid":return"success";case"expiring_soon":return"warning";case"expired":return"danger";default:return"default"}},S=b=>b<1024?b+" B":b<1024*1024?(b/1024).toFixed(1)+" KB":(b/(1024*1024)).toFixed(1)+" MB";return t?e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"Credentials & Documents"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Manage your clinical credentials and upload supporting documents"})]}),e.jsxs(L,{size:"sm",onClick:()=>u(!c),children:[e.jsx(Ct,{className:"w-4 h-4"})," Add"]})]}),c&&e.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 mb-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Type"}),e.jsxs("select",{value:f.type,onChange:b=>h({...f,type:b.target.value}),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"cpr",children:"CPR/BLS"}),e.jsx("option",{value:"background_check",children:"Background Check"}),e.jsx("option",{value:"immunization",children:"Immunization Records"}),e.jsx("option",{value:"liability_insurance",children:"Liability Insurance"}),e.jsx("option",{value:"drug_screen",children:"Drug Screen"}),e.jsx("option",{value:"license",children:"License/Certification"}),e.jsx("option",{value:"hipaa",children:"HIPAA Training"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsx(De,{label:"Name",placeholder:"e.g. BLS Certification",value:f.name,onChange:b=>h({...f,name:b.target.value})}),e.jsx(De,{label:"Expiration Date",type:"date",value:f.expiration_date,onChange:b=>h({...f,expiration_date:b.target.value})})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:"Cancel"}),e.jsx(L,{size:"sm",onClick:g,isLoading:a.isPending,children:"Add Credential"})]})]}),e.jsxs("div",{className:"space-y-3",children:[m.length===0&&e.jsxs("div",{className:"text-center py-8 text-stone-400",children:[e.jsx(Sd,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No credentials added yet"})]}),m.map(b=>e.jsxs("div",{className:"p-4 rounded-xl border border-stone-200 hover:border-stone-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Sd,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-stone-900 text-sm",children:b.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-stone-500 capitalize",children:b.type.replace("_"," ")}),b.expiration_date&&e.jsxs("span",{className:"text-xs text-stone-400 flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3 h-3"}),"Exp: ",new Date(b.expiration_date).toLocaleDateString()]})]})]}),e.jsx(re,{variant:j(b.status),children:b.status.replace("_"," ")}),e.jsx("button",{onClick:()=>y(b.id),className:"p-1.5 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",children:e.jsx(os,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-3 ml-14",children:[b.file_name?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(er,{className:"w-3.5 h-3.5 text-stone-400"}),e.jsx("span",{className:"text-stone-600 truncate",children:b.file_name}),b.file_size&&e.jsxs("span",{className:"text-xs text-stone-400",children:["(",S(b.file_size),")"]}),e.jsxs("a",{href:el.downloadCredentialUrl(b.id),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 font-medium ml-1",children:[e.jsx(dn,{className:"w-3 h-3"})," Download"]}),e.jsxs("button",{onClick:()=>x.get(b.id)?.click(),className:"inline-flex items-center gap-1 text-xs text-stone-500 hover:text-stone-700 font-medium ml-1",children:[e.jsx(Hn,{className:"w-3 h-3"})," Replace"]})]}):e.jsxs("button",{onClick:()=>x.get(b.id)?.click(),disabled:r.isPending,className:"inline-flex items-center gap-1.5 text-xs text-primary-600 hover:text-primary-700 font-medium py-1 px-2 rounded-lg hover:bg-primary-50 transition-colors disabled:opacity-50",children:[r.isPending?e.jsx(Et,{className:"w-3 h-3 animate-spin"}):e.jsx(Hn,{className:"w-3 h-3"}),"Upload Document"]}),e.jsx("input",{ref:C=>{C&&x.set(b.id,C)},type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden",onChange:C=>{C.target.files?.[0]&&(N(b.id,C.target.files[0]),C.target.value="")}})]})]},b.id))]})]})})}function j3(){const[s,t]=_.useState({current:"",newPass:"",confirm:""}),[a,l]=_.useState(!1),r=async()=>{if(s.newPass!==s.confirm){Y.error("Passwords do not match");return}if(s.newPass.length<8){Y.error("Password must be at least 8 characters");return}l(!0);try{await new Promise(c=>setTimeout(c,1e3)),Y.success("Password updated successfully"),t({current:"",newPass:"",confirm:""})}catch{Y.error("Failed to update password")}finally{l(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(V,{children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Change Password"}),e.jsxs("div",{className:"space-y-4 max-w-md",children:[e.jsx(De,{label:"Current Password",type:"password",value:s.current,onChange:c=>t({...s,current:c.target.value}),placeholder:"Enter current password"}),e.jsx(De,{label:"New Password",type:"password",value:s.newPass,onChange:c=>t({...s,newPass:c.target.value}),placeholder:"Enter new password (min 8 chars)"}),e.jsx(De,{label:"Confirm New Password",type:"password",value:s.confirm,onChange:c=>t({...s,confirm:c.target.value}),placeholder:"Confirm new password"}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs(L,{onClick:r,isLoading:a,children:[e.jsx(Ft,{className:"w-4 h-4"})," Update Password"]})})]})]}),e.jsx(N3,{})]})}function N3(){const{data:s,isLoading:t}=HE(),a=PE(),l=qE(),r=BE(),c=IE(),[u,f]=_.useState(null),[h,x]=_.useState(""),[m,g]=_.useState(null),[y,N]=_.useState(""),[j,S]=_.useState(!1),[b,C]=_.useState(!1),[k,E]=_.useState(""),[M,z]=_.useState(!1),Q=s?.mfa_enabled??!1,R=async()=>{try{const xe=await a.mutateAsync();f(xe),x(""),g(null)}catch(xe){Y.error(xe.message||"Failed to initiate MFA setup.")}},q=async()=>{if(h.length!==6){Y.error("Please enter a 6-digit code");return}try{const xe=await l.mutateAsync(h);Y.success(xe.message),g(xe.backup_codes),f(null),x("")}catch(xe){Y.error(xe.message||"Invalid code.")}},ve=async()=>{try{const xe=await r.mutateAsync(y);Y.success(xe.message),S(!1),N(""),g(null)}catch(xe){Y.error(xe.message||"Failed to disable MFA.")}},ye=async()=>{try{const xe=await c.mutateAsync(k);Y.success(xe.message),g(xe.backup_codes),C(!1),E("")}catch(xe){Y.error(xe.message||"Failed to regenerate backup codes.")}},oe=()=>{m&&(navigator.clipboard.writeText(m.join(`
`)),z(!0),setTimeout(()=>z(!1),2e3))},F=()=>{if(!m)return;const xe=`ClinicLink Backup Codes
${"=".repeat(30)}

${m.join(`
`)}

Keep these codes in a safe place.
Each code can only be used once.`,X=new Blob([xe],{type:"text/plain"}),be=URL.createObjectURL(X),A=document.createElement("a");A.href=be,A.download="cliniclink-backup-codes.txt",A.click(),URL.revokeObjectURL(be)};return t?e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})})}):m?e.jsxs(V,{children:[e.jsxs("h2",{className:"text-lg font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Dh,{className:"w-5 h-5 text-primary-500"})," Backup Codes"]}),e.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Save these codes in a safe place. Each code can only be used once to sign in if you lose access to your authenticator app."}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-w-sm mb-4",children:m.map((xe,X)=>e.jsx("code",{className:"px-3 py-2 bg-stone-100 rounded-lg text-sm font-mono text-stone-900 text-center",children:xe},X))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:oe,children:[M?e.jsx(zo,{className:"w-4 h-4"}):e.jsx(Bf,{className:"w-4 h-4"}),M?"Copied":"Copy All"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:F,children:[e.jsx(dn,{className:"w-4 h-4"})," Download"]}),e.jsx(L,{size:"sm",onClick:()=>g(null),children:"Done"})]})]}):u?e.jsxs(V,{children:[e.jsxs("h2",{className:"text-lg font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(ys,{className:"w-5 h-5 text-primary-500"})," Set Up Two-Factor Authentication"]}),e.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Scan the QR code below with your authenticator app (Google Authenticator, Authy, etc.), then enter the 6-digit code to verify."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-start",children:[e.jsx("div",{className:"bg-white p-4 rounded-xl border border-stone-200 shrink-0",children:e.jsx(zj,{value:u.qr_code_url,size:180})}),e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Manual entry key"}),e.jsx("code",{className:"block px-3 py-2 bg-stone-100 rounded-lg text-sm font-mono text-stone-900 break-all select-all",children:u.secret})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Verification Code"}),e.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:h,onChange:xe=>x(xe.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full max-w-[200px] rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-lg font-mono tracking-widest text-center focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{onClick:q,isLoading:l.isPending,disabled:h.length!==6,children:[e.jsx(ys,{className:"w-4 h-4"})," Verify & Enable"]}),e.jsx(L,{variant:"outline",onClick:()=>f(null),children:"Cancel"})]})]})]})]}):Q?e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-stone-900 flex items-center gap-2",children:[e.jsx(ys,{className:"w-5 h-5 text-green-500"})," Two-Factor Authentication"]}),e.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Your account is protected with 2FA."})]}),e.jsx(re,{variant:"success",children:"Enabled"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Authenticator App"}),e.jsxs("p",{className:"text-xs text-stone-500",children:["Enabled ",s?.mfa_confirmed_at?new Date(s.mfa_confirmed_at).toLocaleDateString():""]})]}),e.jsx(re,{variant:"success",size:"sm",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Backup Codes"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[s?.backup_codes_remaining??0," codes remaining"]})]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>C(!0),children:[e.jsx(Dh,{className:"w-4 h-4"})," Regenerate"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-stone-200",children:e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>S(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(T4,{className:"w-4 h-4"})," Disable 2FA"]})}),j&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 rounded-xl space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Confirm your password to disable 2FA"}),e.jsx(De,{type:"password",value:y,onChange:xe=>N(xe.target.value),placeholder:"Enter your password"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"danger",size:"sm",onClick:ve,isLoading:r.isPending,children:"Disable 2FA"}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>{S(!1),N("")},children:"Cancel"})]})]}),b&&e.jsxs("div",{className:"mt-4 p-4 bg-amber-50 rounded-xl space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Confirm your password to regenerate backup codes"}),e.jsx("p",{className:"text-xs text-amber-700",children:"This will invalidate all existing backup codes."}),e.jsx(De,{type:"password",value:k,onChange:xe=>E(xe.target.value),placeholder:"Enter your password"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{size:"sm",onClick:ye,isLoading:c.isPending,children:[e.jsx(Dh,{className:"w-4 h-4"})," Regenerate Codes"]}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>{C(!1),E("")},children:"Cancel"})]})]})]}):e.jsxs(V,{children:[e.jsxs("h2",{className:"text-lg font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 text-stone-400"})," Two-Factor Authentication"]}),e.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Add an extra layer of security to your account by requiring a verification code from your authenticator app when signing in."}),e.jsx("div",{className:"bg-stone-50 rounded-xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(ys,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Authenticator App"}),e.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:"Use an app like Google Authenticator, Authy, or 1Password to generate verification codes."})]})]})}),e.jsxs(L,{onClick:R,isLoading:a.isPending,children:[e.jsx(ys,{className:"w-4 h-4"})," Enable Two-Factor Authentication"]})]})}function w3(){const{user:s}=We(),{data:t,isLoading:a}=GE(),l=YE(),[r,c]=_.useState(null),u=r??t?.preferences??{application_updates:!0,hour_log_reviews:!0,evaluations:!0,site_join_requests:!0,reminders:!0,product_updates:!1};t?.preferences&&!r&&c({...t.preferences});const f=y=>{c(N=>({...N,[y]:!N[y]}))},h=async()=>{if(r)try{await l.mutateAsync(r),Y.success("Notification preferences saved")}catch(y){const N=y instanceof Error?y.message:"Failed to save preferences";Y.error(N)}},x=s?.role||"student",g=[{key:"application_updates",label:"Application Updates",desc:"New applications, status changes, and review notifications"},{key:"hour_log_reviews",label:"Hour Log Reviews",desc:"Notifications when hour logs are submitted or reviewed"},{key:"evaluations",label:"Evaluations",desc:"Notifications about new evaluations"},{key:"site_join_requests",label:"Site Join Requests",desc:"Requests to join sites, approvals, and assignments"},{key:"reminders",label:"Reminders",desc:"Reminders for upcoming deadlines and tasks"},{key:"product_updates",label:"Product Updates",desc:"Hear about new features and improvements"}].filter(y=>!y.roles||y.roles.includes(x));return a?e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}):e.jsxs(V,{children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:g.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-stone-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-stone-900 text-sm",children:y.label}),e.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:y.desc})]}),e.jsx("button",{onClick:()=>f(y.key),className:`relative w-11 h-6 rounded-full transition-colors ${u[y.key]?"bg-primary-500":"bg-stone-300"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${u[y.key]?"translate-x-5.5 left-0.5":"left-0.5"}`})})]},y.key))}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(L,{onClick:h,isLoading:l.isPending,children:[e.jsx(Kd,{className:"w-4 h-4"})," Save Preferences"]})})]})}const S3=["Emergency Medicine","Family Practice","Internal Medicine","Pediatrics","OB/GYN","Surgery","Orthopedics","Cardiology","Neurology","Psychiatry","ICU/Critical Care","Geriatrics","Physical Therapy","Social Work","Urgent Care","Rehabilitation"],ry={site_id:"",title:"",specialty:"",description:"",start_date:"",end_date:"",capacity:"2",cost:"0",cost_type:"free",shift_schedule:"",requirements:"",preceptor_id:""};function _3(){const[s,t]=_.useState(""),[a,l]=_.useState("all"),[r,c]=_.useState(!1),[u,f]=_.useState(null),[h,x]=_.useState({...ry}),[m,g]=_.useState(null),{data:y}=Da(),N=y?.sites||[],{data:j}=oE(),S=j?.preceptors||[],{data:b,isLoading:C}=hr({search:s||void 0,status:a!=="all"?a:void 0}),k=iE(),E=lE(),M=rE(),z=new Set(N.map(F=>F.id)),R=(b?.data||[]).filter(F=>z.has(F.site_id)),q=()=>{f(null),x({...ry,site_id:N[0]?.id||""}),c(!0)},ve=F=>{f(F),x({site_id:F.site_id,title:F.title,specialty:F.specialty,description:F.description,start_date:F.start_date,end_date:F.end_date,capacity:String(F.capacity),cost:String(F.cost),cost_type:F.cost_type,shift_schedule:F.shift_schedule||"",requirements:F.requirements.join(", "),preceptor_id:F.preceptor_id||""}),c(!0)},ye=async()=>{if(!h.site_id||!h.title||!h.specialty||!h.start_date||!h.end_date){Y.error("Please fill in all required fields");return}const F={site_id:h.site_id,title:h.title,specialty:h.specialty,description:h.description,start_date:h.start_date,end_date:h.end_date,capacity:parseInt(h.capacity),cost:parseFloat(h.cost),cost_type:h.cost_type,shift_schedule:h.shift_schedule||null,requirements:h.requirements?h.requirements.split(",").map(xe=>xe.trim()).filter(Boolean):[],preceptor_id:h.preceptor_id||null,status:"open"};try{u?(await E.mutateAsync({id:u.id,data:F}),Y.success("Rotation slot updated")):(await k.mutateAsync(F),Y.success("Rotation slot created")),c(!1)}catch(xe){const X=xe instanceof Error?xe.message:"Failed to save";Y.error(X)}},oe=async F=>{try{await M.mutateAsync(F),Y.success("Rotation slot deleted"),g(null)}catch(xe){const X=xe instanceof Error?xe.message:"Failed to delete";Y.error(X)}};return C?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Rotation Slots"}),e.jsx("p",{className:"text-stone-500",children:"Create and manage rotation opportunities"})]}),e.jsxs(L,{onClick:q,children:[e.jsx(Ct,{className:"w-4 h-4"})," Create Slot"]})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(De,{placeholder:"Search slots...",value:s,onChange:F=>t(F.target.value),icon:e.jsx(qt,{className:"w-4 h-4"})})}),e.jsxs("select",{value:a,onChange:F=>l(F.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"filled",children:"Filled"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("p",{className:"text-sm text-stone-500 mt-3",children:[R.length," slot",R.length!==1?"s":""]})]}),e.jsxs("div",{className:"space-y-4",children:[R.length===0&&e.jsxs(V,{className:"text-center py-12",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No rotation slots yet"}),e.jsx("p",{className:"text-stone-500 mb-4",children:"Create your first rotation slot to start receiving applications"}),e.jsxs(L,{onClick:q,children:[e.jsx(Ct,{className:"w-4 h-4"})," Create Slot"]})]}),R.map(F=>e.jsx(V,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:F.title}),e.jsx("p",{className:"text-sm text-stone-500",children:F.site?.name})]})]}),F.description&&e.jsx("p",{className:"text-sm text-stone-600 mb-3",children:F.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx(re,{variant:"primary",children:F.specialty}),e.jsx(re,{variant:F.status==="open"?"success":F.status==="filled"?"warning":"danger",children:F.status}),e.jsx(re,{variant:F.cost_type==="free"?"success":"warning",children:F.cost_type==="free"?"Free":`$${F.cost}`})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(F.start_date).toLocaleDateString()," - ",new Date(F.end_date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(at,{className:"w-3.5 h-3.5"}),F.filled,"/",F.capacity," filled"]}),F.shift_schedule&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3.5 h-3.5"}),F.shift_schedule]}),F.preceptor&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"w-3.5 h-3.5"}),F.preceptor.first_name," ",F.preceptor.last_name]})]})]}),e.jsxs("div",{className:"flex gap-2 shrink-0",children:[e.jsxs(L,{size:"sm",variant:"outline",onClick:()=>ve(F),children:[e.jsx(Xn,{className:"w-4 h-4"})," Edit"]}),e.jsx(L,{size:"sm",variant:"danger",onClick:()=>g(F.id),children:e.jsx(os,{className:"w-4 h-4"})})]})]})},F.id))]}),e.jsx(He,{isOpen:r,onClose:()=>c(!1),title:u?"Edit Rotation Slot":"Create Rotation Slot",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site *"}),e.jsxs("select",{value:h.site_id,onChange:F=>x({...h,site_id:F.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select a site..."}),N.map(F=>e.jsx("option",{value:F.id,children:F.name},F.id))]})]}),e.jsx(De,{label:"Title *",placeholder:"e.g. Emergency Medicine Rotation - Spring 2025",value:h.title,onChange:F=>x({...h,title:F.target.value}),required:!0}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Specialty *"}),e.jsxs("select",{value:h.specialty,onChange:F=>x({...h,specialty:F.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select specialty..."}),S3.map(F=>e.jsx("option",{value:F,children:F},F))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description"}),e.jsx("textarea",{value:h.description,onChange:F=>x({...h,description:F.target.value}),rows:3,placeholder:"Describe the rotation experience, learning objectives, etc.",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(De,{label:"Start Date *",type:"date",value:h.start_date,onChange:F=>x({...h,start_date:F.target.value})}),e.jsx(De,{label:"End Date *",type:"date",value:h.end_date,onChange:F=>x({...h,end_date:F.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[e.jsx(De,{label:"Capacity",type:"number",min:"1",max:"50",value:h.capacity,onChange:F=>x({...h,capacity:F.target.value}),icon:e.jsx(at,{className:"w-4 h-4"})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Cost Type"}),e.jsxs("select",{value:h.cost_type,onChange:F=>x({...h,cost_type:F.target.value}),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"paid",children:"Paid"})]})]}),h.cost_type==="paid"&&e.jsx(De,{label:"Cost ($)",type:"number",min:"0",step:"50",value:h.cost,onChange:F=>x({...h,cost:F.target.value}),icon:e.jsx(sj,{className:"w-4 h-4"})})]}),e.jsx(De,{label:"Shift Schedule",placeholder:"e.g. Mon-Fri 7am-3pm",value:h.shift_schedule,onChange:F=>x({...h,shift_schedule:F.target.value}),icon:e.jsx(Be,{className:"w-4 h-4"})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Preceptor"}),e.jsxs("select",{value:h.preceptor_id,onChange:F=>x({...h,preceptor_id:F.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"No preceptor assigned"}),S.map(F=>e.jsxs("option",{value:F.id,children:[F.first_name," ",F.last_name," (",F.email,")"]},F.id))]})]}),e.jsx(De,{label:"Requirements (comma separated)",placeholder:"e.g. BLS, Background Check, Immunizations",value:h.requirements,onChange:F=>x({...h,requirements:F.target.value})}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[e.jsx(L,{variant:"ghost",onClick:()=>c(!1),children:"Cancel"}),e.jsx(L,{onClick:ye,isLoading:k.isPending||E.isPending,children:u?"Update Slot":"Create Slot"})]})]})}),e.jsx(He,{isOpen:!!m,onClose:()=>g(null),title:"Delete Rotation Slot",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-stone-600",children:"Are you sure you want to delete this rotation slot? This action cannot be undone."}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(L,{variant:"ghost",onClick:()=>g(null),children:"Cancel"}),e.jsxs(L,{variant:"danger",onClick:()=>m&&oe(m),isLoading:M.isPending,children:[e.jsx(os,{className:"w-4 h-4"})," Delete"]})]})]})})]})}function C3(){const[s,t]=_.useState("all"),[a,l]=_.useState(null),[r,c]=_.useState("accepted"),[u,f]=_.useState(""),[h,x]=_.useState(null),{data:m,isLoading:g}=Zs(),y=uE(),N=Nj(),j=m?.data||[],S=s==="all"?j:j.filter(M=>M.status===s),b={all:j.length,pending:j.filter(M=>M.status==="pending").length,accepted:j.filter(M=>M.status==="accepted").length,completed:j.filter(M=>M.status==="completed").length,declined:j.filter(M=>M.status==="declined").length,waitlisted:j.filter(M=>M.status==="waitlisted").length},C=(M,z)=>{l(M),c(z),f("")},k=async()=>{if(a)try{await y.mutateAsync({id:a.id,data:{status:r,notes:u||void 0}}),Y.success(r==="accepted"?"Application accepted!":r==="declined"?"Application declined":"Application waitlisted"),l(null)}catch(M){const z=M instanceof Error?M.message:"Failed to review application";Y.error(z)}},E=M=>{const z={pending:"warning",accepted:"success",completed:"primary",declined:"danger",waitlisted:"secondary",withdrawn:"default"};return e.jsx(re,{variant:z[M]||"default",children:M})};return g?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Applications"}),e.jsx("p",{className:"text-stone-500",children:"Review and manage student applications"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","accepted","completed","declined","waitlisted"].map(M=>e.jsxs("button",{onClick:()=>t(M),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${s===M?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[M.charAt(0).toUpperCase()+M.slice(1),e.jsxs("span",{className:"ml-1.5 opacity-80",children:["(",b[M],")"]})]},M))}),S.length===0&&e.jsxs(V,{className:"text-center py-12",children:[e.jsx(Wd,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No applications"}),e.jsx("p",{className:"text-stone-500",children:s==="all"?"No applications have been received yet":`No ${s} applications`})]}),e.jsx("div",{className:"space-y-3",children:S.map(M=>{const z=h===M.id;return e.jsxs(V,{padding:"none",children:[e.jsx("div",{className:"p-4 sm:p-6 cursor-pointer",onClick:()=>x(z?null:M.id),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Xt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("h3",{className:"font-semibold text-stone-900",children:[M.student?.first_name," ",M.student?.last_name]}),E(M.status)]}),M.student?.student_profile?.university&&e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(it,{className:"w-3 h-3"}),M.student.student_profile.university.name,M.student.student_profile.program&&e.jsxs("span",{className:"text-stone-400",children:["(",M.student.student_profile.program.degree_type,")"]})]}),e.jsxs("p",{className:"text-sm text-stone-500 mt-0.5",children:["Applied for: ",e.jsx("span",{className:"text-stone-700 font-medium",children:M.slot?.title})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(M.submitted_at||M.created_at).toLocaleDateString()]}),M.slot?.site&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5"}),M.slot.site.city,", ",M.slot.site.state]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3.5 h-3.5"}),M.slot?.specialty]})]})]}),e.jsx("div",{className:"shrink-0 text-stone-400",children:z?e.jsx(Wi,{className:"w-5 h-5"}):e.jsx(on,{className:"w-5 h-5"})})]})}),z&&e.jsxs("div",{className:"border-t border-stone-200 p-4 sm:p-6 bg-stone-50/50",children:[M.cover_letter&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(St,{className:"w-4 h-4 text-stone-500"}),e.jsx("h4",{className:"text-sm font-medium text-stone-700",children:"Cover Letter"})]}),e.jsx("p",{className:"text-sm text-stone-600 bg-white rounded-xl p-4 border border-stone-200",children:M.cover_letter})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:M.student?.email})]}),M.student?.student_profile?.university&&e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"University"}),e.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:M.student.student_profile.university.name}),M.student.student_profile.program&&e.jsxs("p",{className:"text-xs text-stone-500",children:[M.student.student_profile.program.name," (",M.student.student_profile.program.degree_type,")"]})]}),M.slot?.preceptor&&e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"Preceptor"}),e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[M.slot.preceptor.first_name," ",M.slot.preceptor.last_name]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"Rotation Dates"}),e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[M.slot?.start_date?new Date(M.slot.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""," - ",M.slot?.end_date?new Date(M.slot.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"Spots Available"}),e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[(M.slot?.capacity||0)-(M.slot?.filled||0)," remaining"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"Submitted"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:new Date(M.submitted_at||M.created_at).toLocaleDateString()})]})]}),M.notes&&e.jsxs("div",{className:"mb-4 bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Review Notes"}),e.jsx("p",{className:"text-sm text-stone-700",children:M.notes})]}),M.status==="pending"&&e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[e.jsxs(L,{size:"sm",onClick:()=>C(M,"accepted"),children:[e.jsx(Fe,{className:"w-4 h-4"})," Accept"]}),e.jsxs(L,{size:"sm",variant:"outline",onClick:()=>C(M,"waitlisted"),children:[e.jsx(Be,{className:"w-4 h-4"})," Waitlist"]}),e.jsxs(L,{size:"sm",variant:"danger",onClick:()=>C(M,"declined"),children:[e.jsx(Ht,{className:"w-4 h-4"})," Decline"]})]}),M.status==="accepted"&&e.jsx(E3,{app:M,completeMutation:N})]})]},M.id)})}),e.jsx(He,{isOpen:!!a,onClose:()=>l(null),title:r==="accepted"?"Accept Application":r==="declined"?"Decline Application":"Waitlist Application",size:"sm",children:a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-stone-50 rounded-xl p-4",children:[e.jsxs("p",{className:"text-sm text-stone-900 font-medium",children:[a.student?.first_name," ",a.student?.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:a.slot?.title})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Notes (optional)"}),e.jsx("textarea",{value:u,onChange:M=>f(M.target.value),rows:3,placeholder:r==="accepted"?"Welcome message or next steps...":r==="declined"?"Reason for declining...":"Waitlist position or notes...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(L,{variant:"ghost",onClick:()=>l(null),children:"Cancel"}),e.jsx(L,{variant:r==="declined"?"danger":"primary",onClick:k,isLoading:y.isPending,children:r==="accepted"?"Accept":r==="declined"?"Decline":"Waitlist"})]})]})})]})}function E3({app:s,completeMutation:t}){const{data:a}=jj(s.id),[l,r]=_.useState(!1);return e.jsxs("div",{className:"pt-2 space-y-2",children:[a&&e.jsx("div",{className:`flex items-center gap-1.5 text-xs px-2.5 py-1.5 rounded-lg ${a.eligible?"bg-green-50 text-green-700":a.reason?.includes("does not offer")?"bg-stone-50 text-stone-500":"bg-amber-50 text-amber-700"}`,children:a.eligible?e.jsxs(e.Fragment,{children:[e.jsx(Es,{className:"w-3.5 h-3.5 shrink-0"})," CE: ",a.contact_hours,"h will be awarded to preceptor"]}):a.reason?.includes("does not offer")?e.jsxs(e.Fragment,{children:[e.jsx(nj,{className:"w-3.5 h-3.5 shrink-0"})," CE not configured for university"]}):e.jsxs(e.Fragment,{children:[e.jsx(js,{className:"w-3.5 h-3.5 shrink-0"})," CE: ",a.reason]})}),l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{size:"sm",isLoading:t.isPending,onClick:()=>{t.mutate(s.id,{onSuccess:c=>{Y.success("Placement marked as completed!"),c.ce?.ce_certificate_created&&Y.success(`CE certificate created (${c.ce.contact_hours} hrs)  Status: ${c.ce.ce_status}`),r(!1)},onError:c=>Y.error(c.message)})},children:[e.jsx(Es,{className:"w-4 h-4"})," Confirm"]}),e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>r(!1),children:"Cancel"})]}):e.jsxs(L,{size:"sm",variant:"outline",onClick:()=>r(!0),children:[e.jsx(Un,{className:"w-4 h-4"})," Mark Complete"]})]})}const A3=[{key:"clinical_knowledge",label:"Clinical Knowledge"},{key:"clinical_skills",label:"Clinical Skills"},{key:"professionalism",label:"Professionalism"},{key:"communication",label:"Communication"},{key:"critical_thinking",label:"Critical Thinking"},{key:"teamwork",label:"Teamwork"},{key:"time_management",label:"Time Management"},{key:"documentation",label:"Documentation"}];function k3(){const{user:s}=We(),[t,a]=_.useState(!1),[l,r]=_.useState(null),[c,u]=_.useState("list"),[f,h]=_.useState("all"),[x,m]=_.useState(!1),[g,y]=_.useState({type:s?.role==="preceptor"?"mid_rotation":"student_feedback",student_id:"",slot_id:"",ratings:{},comments:"",strengths:"",areas_for_improvement:""}),{data:N,isLoading:j}=Xd(),{data:S}=Zs(),b=gE(),C=N?.data||[],k=(S?.data||[]).filter(A=>A.status==="accepted"),E=s?.role==="preceptor",M=s?.role==="student",z=f==="all"?C:C.filter(A=>A.type===f),Q=_.useMemo(()=>{const A=C.filter(T=>T.overall_score!=null&&!isNaN(Number(T.overall_score)));return A.length===0?0:Math.round(A.reduce((T,U)=>T+Number(U.overall_score),0)/A.length*10)/10},[C]),R=_.useMemo(()=>{const A={};for(const T of C)for(const[U,me]of Object.entries(T.ratings))A[U]||(A[U]={sum:0,count:0}),A[U].sum+=me,A[U].count+=1;return Object.entries(A).map(([T,U])=>({key:T,label:T.replace(/_/g," "),avg:Math.round(U.sum/U.count*10)/10})).sort((T,U)=>U.avg-T.avg)},[C]),q=_.useMemo(()=>C.filter(A=>A.overall_score!=null).sort((A,T)=>new Date(A.created_at).getTime()-new Date(T.created_at).getTime()).map(A=>({date:new Date(A.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Number(A.overall_score),type:A.type})),[C]),ve=(A,T)=>{y(U=>({...U,ratings:{...U.ratings,[A]:T}}))},ye=()=>{const A=Object.values(g.ratings);return A.length===0?0:Math.round(A.reduce((T,U)=>T+U,0)/A.length*10)/10},oe=async()=>{if(!g.slot_id){Y.error("Please select a rotation");return}if(E&&!g.student_id){Y.error("Please select a student");return}if(Object.keys(g.ratings).length<3){Y.error("Please rate at least 3 categories");return}if(!g.comments){Y.error("Please add comments");return}try{await b.mutateAsync({type:g.type,student_id:g.student_id||void 0,slot_id:g.slot_id,ratings:g.ratings,comments:g.comments,overall_score:ye(),strengths:g.strengths||null,areas_for_improvement:g.areas_for_improvement||null,is_submitted:!0}),Y.success("Evaluation submitted successfully"),a(!1),y({type:E?"mid_rotation":"student_feedback",student_id:"",slot_id:"",ratings:{},comments:"",strengths:"",areas_for_improvement:""})}catch(A){const T=A instanceof Error?A.message:"Failed to submit evaluation";Y.error(T)}},F=(A,T="sm")=>{const U=T==="sm"?"w-4 h-4":"w-5 h-5";return e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(me=>e.jsx(hs,{className:`${U} ${me<=Math.round(A)?"text-amber-400 fill-amber-400":"text-stone-300"}`},me))})},xe=A=>{const T=g.ratings[A]||0;return e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(U=>e.jsx("button",{onClick:()=>ve(A,U),className:"focus:outline-none",children:e.jsx(hs,{className:`w-6 h-6 transition-colors ${U<=T?"text-amber-400 fill-amber-400":"text-stone-300 hover:text-amber-300"}`})},U))})},X=A=>{switch(A){case"mid_rotation":return"Mid-Rotation";case"final":return"Final";case"student_feedback":return"Site Feedback";default:return A}},be=A=>{switch(A){case"mid_rotation":return"primary";case"final":return"success";case"student_feedback":return"secondary";default:return"default"}};return j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Evaluations"}),e.jsx("p",{className:"text-stone-500",children:E?"Evaluate your students' performance":M?"View your evaluations and provide site feedback":"Clinical evaluations overview"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(L,{variant:"secondary",onClick:()=>m(!x),children:[e.jsx(dn,{className:"w-4 h-4"})," Export"]}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white rounded-xl shadow-lg border border-stone-200 py-1 z-20",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Xl.evaluationsCsvUrl()),m(!1)},children:"Download CSV"}),e.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Xl.evaluationsPdfUrl()),m(!1)},children:"Download PDF"})]})]})]}),(E||M||s?.role==="coordinator")&&e.jsxs(L,{onClick:()=>a(!0),children:[e.jsx(Ct,{className:"w-4 h-4"})," ",M?"Give Site Feedback":"New Evaluation"]})]})]}),C.length>0&&e.jsx(V,{className:"bg-gradient-to-r from-amber-50 to-primary-50 border-amber-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Qt,{className:"w-5 h-5 text-amber-600"}),e.jsx("h3",{className:"font-semibold text-stone-900",children:"Overall Performance"})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("span",{className:"text-3xl font-bold text-amber-600",children:Q}),e.jsxs("div",{children:[F(Q,"md"),e.jsxs("p",{className:"text-xs text-stone-500 mt-0.5",children:[C.length," evaluation",C.length!==1?"s":""]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.filter(A=>A.type==="mid_rotation").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Mid-Rotation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.filter(A=>A.type==="final").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Final"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.filter(A=>A.type==="student_feedback").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Feedback"})]})]})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[{key:"list",label:"Evaluations",icon:e.jsx(bs,{className:"w-4 h-4"})},{key:"summary",label:"Performance Summary",icon:e.jsx(wo,{className:"w-4 h-4"})}].map(A=>e.jsxs("button",{onClick:()=>u(A.key),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${c===A.key?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[A.icon," ",A.label]},A.key))}),c==="list"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ff,{className:"w-4 h-4 text-stone-400"}),["all","mid_rotation","final","student_feedback"].map(A=>e.jsx("button",{onClick:()=>h(A),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${f===A?"bg-primary-100 text-primary-700":"bg-stone-50 text-stone-500 hover:bg-stone-100"}`,children:A==="all"?"All":X(A)},A))]}),z.length===0&&e.jsxs(V,{className:"text-center py-12",children:[e.jsx(bs,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:f==="all"?"No evaluations yet":`No ${X(f).toLowerCase()} evaluations`}),e.jsx("p",{className:"text-stone-500",children:E?"Create your first evaluation for a student":M?"Evaluations from your preceptors will appear here. You can also submit site feedback.":"No evaluations have been submitted"})]}),e.jsx("div",{className:"space-y-3",children:z.map(A=>{const T=l===A.id;return e.jsxs(V,{padding:"none",children:[e.jsx("div",{className:"p-4 sm:p-6 cursor-pointer hover:bg-stone-50/30 transition-colors",onClick:()=>r(T?null:A.id),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${Number(A.overall_score)>=4?"bg-green-50 text-green-600":Number(A.overall_score)>=3?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:e.jsx(bs,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("h3",{className:"font-semibold text-stone-900",children:[X(A.type)," Evaluation"]}),e.jsx(re,{variant:be(A.type),size:"sm",children:X(A.type)}),e.jsxs(re,{variant:Number(A.overall_score)>=4?"success":Number(A.overall_score)>=3?"warning":"danger",children:[Number(A.overall_score)||0,"/5"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-1.5 text-xs text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"w-3.5 h-3.5"}),M?`By ${A.preceptor?.first_name||""} ${A.preceptor?.last_name||""}`:`${A.student?.first_name||""} ${A.student?.last_name||""}`]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3.5 h-3.5"}),A.slot?.title||A.slot?.specialty||"Rotation"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(A.created_at).toLocaleDateString()]})]}),e.jsx("div",{className:"mt-2",children:F(A.overall_score)})]}),e.jsx("div",{className:"shrink-0 text-stone-400",children:T?e.jsx(Wi,{className:"w-5 h-5"}):e.jsx(on,{className:"w-5 h-5"})})]})}),T&&e.jsxs("div",{className:"border-t border-stone-200 p-4 sm:p-6 bg-stone-50/50 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-stone-700 mb-3",children:"Rating Breakdown"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(A.ratings).map(([U,me])=>e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-3 border border-stone-200",children:[e.jsx("span",{className:"text-sm text-stone-700 capitalize",children:U.replace(/_/g," ")}),e.jsxs("div",{className:"flex items-center gap-2",children:[F(me),e.jsx("span",{className:"text-sm font-medium text-stone-900 w-6 text-right",children:me})]})]},U))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Cd,{className:"w-4 h-4 text-stone-500"}),e.jsx("h4",{className:"text-sm font-medium text-stone-700",children:"Comments"})]}),e.jsx("p",{className:"text-sm text-stone-600 bg-white rounded-xl p-4 border border-stone-200 leading-relaxed",children:A.comments})]}),A.strengths&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-green-700 mb-1",children:"Strengths"}),e.jsx("p",{className:"text-sm text-stone-600 bg-green-50 rounded-xl p-3 border border-green-200",children:A.strengths})]}),A.areas_for_improvement&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-amber-700 mb-1",children:"Areas for Improvement"}),e.jsx("p",{className:"text-sm text-stone-600 bg-amber-50 rounded-xl p-3 border border-amber-200",children:A.areas_for_improvement})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-stone-200",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-xs",children:M?`${A.preceptor?.first_name?.[0]||""}${A.preceptor?.last_name?.[0]||""}`:`${A.student?.first_name?.[0]||""}${A.student?.last_name?.[0]||""}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:M?`${A.preceptor?.first_name||""} ${A.preceptor?.last_name||""}`:`${A.student?.first_name||""} ${A.student?.last_name||""}`}),e.jsxs("p",{className:"text-xs text-stone-500",children:[M?"Preceptor":"Student"," - ",A.slot?.site?.name||A.slot?.title]})]})]})]})]},A.id)})})]}),c==="summary"&&e.jsx("div",{className:"space-y-6",children:C.length===0?e.jsxs(V,{className:"text-center py-12",children:[e.jsx(wo,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No data yet"}),e.jsx("p",{className:"text-stone-500",children:"Performance summary will appear after you receive evaluations"})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Skill Ratings"}),e.jsx("div",{className:"space-y-3",children:R.map(A=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-stone-700 capitalize",children:A.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[F(A.avg),e.jsx("span",{className:"font-medium text-stone-900 w-8 text-right",children:A.avg})]})]}),e.jsx("div",{className:"w-full bg-stone-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${A.avg>=4?"bg-green-500":A.avg>=3?"bg-amber-500":"bg-red-500"}`,style:{width:`${A.avg/5*100}%`}})})]},A.key))})]}),e.jsxs(V,{children:[e.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Score History"}),e.jsx("div",{className:"space-y-3",children:q.map((A,T)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-stone-200",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${A.score>=4?"bg-green-50 text-green-600":A.score>=3?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:e.jsx("span",{className:"text-lg font-bold",children:A.score})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[X(A.type)," Evaluation"]}),e.jsx(re,{variant:be(A.type),size:"sm",children:X(A.type)})]}),e.jsx("p",{className:"text-xs text-stone-500",children:A.date})]}),F(A.score)]},T))})]}),e.jsxs(V,{children:[e.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center gap-2",children:[e.jsx(_o,{className:"w-5 h-5"})," Top Strengths"]}),R.slice(0,3).map(A=>e.jsxs("div",{className:"flex items-center justify-between p-2 mb-1",children:[e.jsx("span",{className:"text-sm text-stone-700 capitalize",children:A.label}),e.jsxs("div",{className:"flex items-center gap-1",children:[F(A.avg),e.jsx("span",{className:"text-sm font-semibold text-green-600 ml-1",children:A.avg})]})]},A.key))]}),e.jsxs(V,{children:[e.jsxs("h3",{className:"font-semibold text-amber-800 mb-3 flex items-center gap-2",children:[e.jsx(_o,{className:"w-5 h-5 rotate-180"})," Areas to Develop"]}),R.slice(-3).reverse().map(A=>e.jsxs("div",{className:"flex items-center justify-between p-2 mb-1",children:[e.jsx("span",{className:"text-sm text-stone-700 capitalize",children:A.label}),e.jsxs("div",{className:"flex items-center gap-1",children:[F(A.avg),e.jsx("span",{className:"text-sm font-semibold text-amber-600 ml-1",children:A.avg})]})]},A.key))]})]})}),e.jsx(He,{isOpen:t,onClose:()=>a(!1),title:M?"Site & Preceptor Feedback":"New Evaluation",size:"lg",children:e.jsxs("div",{className:"space-y-5",children:[M&&e.jsxs("div",{className:"bg-secondary-50 rounded-xl p-4 text-sm text-secondary-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Help improve clinical education!"}),e.jsx("p",{className:"text-xs text-secondary-700",children:"Your feedback helps other students find great rotations and helps sites improve their programs. All feedback is confidential."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[!M&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Evaluation Type"}),e.jsxs("select",{value:g.type,onChange:A=>y({...g,type:A.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"mid_rotation",children:"Mid-Rotation"}),e.jsx("option",{value:"final",children:"Final"})]})]}),E?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Rotation *"}),e.jsxs("select",{value:g.slot_id,onChange:A=>y({...g,slot_id:A.target.value,student_id:""}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select rotation..."}),[...new Map(k.map(A=>[A.slot_id,A])).values()].map(A=>e.jsxs("option",{value:A.slot_id,children:[A.slot?.title||"Rotation"," - ",A.slot?.site?.name]},A.slot_id))]})]}),e.jsxs("div",{className:"space-y-1.5 sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Student *"}),e.jsxs("select",{value:g.student_id,onChange:A=>y({...g,student_id:A.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",disabled:!g.slot_id,children:[e.jsx("option",{value:"",children:g.slot_id?"Select student...":"Select a rotation first"}),k.filter(A=>A.slot_id===g.slot_id).map(A=>e.jsxs("option",{value:A.student_id,children:[A.student?.first_name," ",A.student?.last_name]},A.student_id))]}),g.slot_id&&k.filter(A=>A.slot_id===g.slot_id).length===0&&e.jsx("p",{className:"text-xs text-amber-600",children:"No accepted students for this rotation."})]})]}):e.jsxs("div",{className:`space-y-1.5 ${M?"sm:col-span-2":""}`,children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Rotation *"}),e.jsxs("select",{value:g.slot_id,onChange:A=>{const T=k.find(U=>U.slot_id===A.target.value);y({...g,slot_id:A.target.value,student_id:T?.student_id||""})},className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select rotation..."}),k.map(A=>e.jsxs("option",{value:A.slot_id,children:[A.slot?.title||"Rotation"," - ",A.slot?.site?.name]},A.id))]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-stone-700",children:M?"Rate Your Experience":"Performance Ratings"}),ye()>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-stone-500",children:"Overall:"}),e.jsx("span",{className:"text-lg font-bold text-amber-500",children:ye()}),F(ye(),"md")]})]}),e.jsx("div",{className:"space-y-3",children:(M?[{key:"clinical_environment",label:"Clinical Environment"},{key:"preceptor_teaching",label:"Preceptor Teaching Quality"},{key:"learning_opportunities",label:"Learning Opportunities"},{key:"support_mentorship",label:"Support & Mentorship"},{key:"organization",label:"Site Organization"},{key:"communication",label:"Communication"},{key:"work_life_balance",label:"Work-Life Balance"},{key:"overall_experience",label:"Overall Experience"}]:A3).map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border border-stone-200 bg-white",children:[e.jsx("span",{className:"text-sm text-stone-700",children:A.label}),xe(A.key)]},A.key))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:M?"Your Feedback *":"Comments *"}),e.jsx("textarea",{value:g.comments,onChange:A=>y({...g,comments:A.target.value}),rows:4,placeholder:M?"Share your overall experience with this rotation. What did you learn? How was the preceptor?":"Provide detailed feedback on the student's clinical performance...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-green-700",children:M?"What was great?":"Strengths"}),e.jsx("textarea",{value:g.strengths,onChange:A=>y({...g,strengths:A.target.value}),rows:3,placeholder:M?"What aspects of the rotation were excellent?":"Areas where the student excels...",className:"w-full rounded-xl border border-green-200 px-4 py-3 text-sm focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none resize-none bg-green-50/50"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-amber-700",children:M?"What could improve?":"Areas for Improvement"}),e.jsx("textarea",{value:g.areas_for_improvement,onChange:A=>y({...g,areas_for_improvement:A.target.value}),rows:3,placeholder:M?"Suggestions for improving the rotation experience...":"Areas where the student can grow...",className:"w-full rounded-xl border border-amber-200 px-4 py-3 text-sm focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 focus:outline-none resize-none bg-amber-50/50"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[e.jsx(L,{variant:"ghost",onClick:()=>a(!1),children:"Cancel"}),e.jsxs(L,{onClick:oe,isLoading:b.isPending,children:[e.jsx(bs,{className:"w-4 h-4"})," ",M?"Submit Feedback":"Submit Evaluation"]})]})]})})]})}function D3(){const{user:s}=We(),t=s?.role==="student",a=s?.role==="preceptor"||s?.role==="site_manager",l=s?.role==="admin"||s?.role==="coordinator",{data:r,isLoading:c}=vE(),u=r?.certificates||[],[f,h]=_.useState(""),[x,m]=_.useState("all"),[g,y]=_.useState(null),[N,j]=_.useState(!1),[S,b]=_.useState(null),C=_.useMemo(()=>u.filter(E=>{if(x!=="all"&&E.status!==x)return!1;if(f){const M=f.toLowerCase();return E.title.toLowerCase().includes(M)||E.certificate_number.toLowerCase().includes(M)||(E.student?.first_name+" "+E.student?.last_name).toLowerCase().includes(M)||E.slot?.site?.name?.toLowerCase().includes(M)}return!0}),[u,f,x]),k=_.useMemo(()=>({total:u.length,issued:u.filter(E=>E.status==="issued").length,revoked:u.filter(E=>E.status==="revoked").length,totalHours:u.filter(E=>E.status==="issued").reduce((E,M)=>E+(parseFloat(String(M.total_hours))||0),0)}),[u]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:t?"My Certificates":a?"Issued Certificates":"All Certificates"}),e.jsx("p",{className:"text-stone-500 mt-1",children:t?"Certificates earned from completed rotations":a?"Issue and manage rotation completion certificates":"View all certificates across the platform"})]}),a&&e.jsxs(L,{onClick:()=>j(!0),children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Issue Certificate"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-500 flex items-center justify-center",children:e.jsx(Qt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:k.total}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total"})]})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-500 flex items-center justify-center",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:k.issued}),e.jsx("p",{className:"text-xs text-stone-500",children:"Active"})]})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-500 flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:Math.round(k.totalHours*10)/10}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})]})}),k.revoked>0&&e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-50 text-red-500 flex items-center justify-center",children:e.jsx(Ht,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:k.revoked}),e.jsx("p",{className:"text-xs text-stone-500",children:"Revoked"})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search certificates...",value:f,onChange:E=>h(E.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("select",{value:x,onChange:E=>m(E.target.value),className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"issued",children:"Active"}),e.jsx("option",{value:"revoked",children:"Revoked"})]})]}),c?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):C.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qt,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:u.length===0?"No certificates yet":"No matching certificates"}),e.jsx("p",{className:"text-stone-500 text-sm",children:t?"Complete rotations and evaluations to earn certificates.":a?"Issue certificates to students who have completed their rotations.":"No certificates have been issued yet."})]})}):e.jsx("div",{className:"grid gap-4",children:C.map(E=>e.jsx(R3,{certificate:E,isPreceptor:a,isAdmin:l,onView:()=>y(E),onRevoke:()=>b(E)},E.id))}),g&&e.jsx(T3,{certificate:g,onClose:()=>y(null)}),N&&e.jsx(M3,{onClose:()=>j(!1)}),S&&e.jsx(O3,{certificate:S,onClose:()=>b(null)})]})}function R3({certificate:s,isPreceptor:t,isAdmin:a,onView:l,onRevoke:r}){return e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Qt,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:s.title}),e.jsx(re,{variant:s.status==="issued"?"success":"danger",size:"sm",children:s.status==="issued"?"Active":"Revoked"})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($f,{className:"w-3.5 h-3.5"}),s.certificate_number]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"w-3.5 h-3.5"}),s.student?.first_name," ",s.student?.last_name]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5"}),s.slot?.site?.name||"Unknown Site"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(s.issued_date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3.5 h-3.5"}),s.total_hours,"h"]}),s.overall_score&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3.5 h-3.5"}),s.overall_score,"/5.0"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:l,children:[e.jsx(ea,{className:"w-4 h-4 mr-1"})," View"]}),(t||a)&&s.status==="issued"&&e.jsxs(L,{variant:"outline",size:"sm",onClick:r,className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(Ht,{className:"w-4 h-4 mr-1"})," Revoke"]})]})]})})}function T3({certificate:s,onClose:t}){return e.jsx(He,{isOpen:!0,onClose:t,title:"Certificate Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-6 bg-gradient-to-br from-primary-50 via-white to-secondary-50 rounded-xl border border-stone-200",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center mx-auto mb-4",children:e.jsx(Qt,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-stone-500",children:"Certificate of Completion"}),e.jsx("div",{className:"mt-3",children:e.jsx(re,{variant:s.status==="issued"?"success":"danger",children:s.status==="issued"?"Active":"Revoked"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Certificate Number"}),e.jsx("p",{className:"text-sm font-mono font-semibold text-stone-900",children:s.certificate_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Issued Date"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:new Date(s.issued_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Student"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[s.student?.first_name," ",s.student?.last_name]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Issued By"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[s.issuer?.first_name," ",s.issuer?.last_name]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Rotation Site"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:s.slot?.site?.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Rotation"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:s.slot?.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Total Approved Hours"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[s.total_hours," hours"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Overall Score"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:s.overall_score?`${s.overall_score} / 5.0`:"N/A"})]})]}),s.status==="revoked"&&e.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-1",children:[e.jsx(js,{className:"w-4 h-4"}),e.jsx("p",{className:"text-sm font-semibold",children:"Certificate Revoked"})]}),e.jsxs("p",{className:"text-sm text-red-600",children:["Revoked on ",s.revoked_date?new Date(s.revoked_date).toLocaleDateString():"N/A",s.revocation_reason?`  ${s.revocation_reason}`:""]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[s.status==="issued"&&e.jsxs(L,{onClick:()=>window.open(cr.getPdfUrl(s.id),"_blank"),children:[e.jsx(dn,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),e.jsx(L,{variant:"outline",onClick:t,children:"Close"})]})]})})}function M3({onClose:s}){const{data:t,isLoading:a}=Zs(),l=_.useMemo(()=>(t?.data||[]).filter(N=>N.status==="accepted"),[t]),[r,c]=_.useState(null),[u,f]=_.useState(""),h=yE(),x=_.useMemo(()=>l.map(N=>({app:N,label:`${N.student?.first_name} ${N.student?.last_name}  ${N.slot?.title||"Rotation"}`})),[l]),{data:m,isLoading:g}=bE(r?.slot_id||"",r?.student_id||""),y=async()=>{if(!(!r||!u.trim()))try{await h.mutateAsync({student_id:r.student_id,slot_id:r.slot_id,title:u.trim()}),s()}catch{}};return e.jsx(He,{isOpen:!0,onClose:s,title:"Issue Certificate",size:"lg",children:e.jsx("div",{className:"space-y-4",children:a?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qt,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("p",{className:"text-stone-500",children:"No accepted students to issue certificates for."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Student & Rotation *"}),e.jsxs("select",{value:r?`${r.student_id}|${r.slot_id}`:"",onChange:N=>{const[j,S]=N.target.value.split("|"),b=l.find(C=>C.student_id===j&&C.slot_id===S);c(b||null),b?.slot?.title&&f(`${b.slot.title} - Completion Certificate`)},className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select student & rotation..."}),x.map(({app:N,label:j})=>e.jsx("option",{value:`${N.student_id}|${N.slot_id}`,children:j},`${N.student_id}|${N.slot_id}`))]})]}),r&&e.jsxs("div",{className:"space-y-3",children:[g?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-500",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),"Checking eligibility..."]}):m?e.jsxs("div",{className:`p-4 rounded-xl border ${m.eligible?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200"}`,children:[e.jsx("h4",{className:`text-sm font-semibold mb-2 ${m.eligible?"text-green-700":"text-amber-700"}`,children:m.eligible?"Eligible for Certificate":"Not Yet Eligible"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[m.has_application?e.jsx(Fe,{className:"w-4 h-4 text-green-500"}):e.jsx(Ht,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-stone-600",children:"Accepted application"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[m.total_approved_hours>0?e.jsx(Fe,{className:"w-4 h-4 text-green-500"}):e.jsx(Ht,{className:"w-4 h-4 text-red-400"}),e.jsxs("span",{className:"text-stone-600",children:[m.total_approved_hours,"h approved"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[m.has_evaluation?e.jsx(Fe,{className:"w-4 h-4 text-green-500"}):e.jsx(Ht,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-stone-600",children:"Evaluation submitted"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[m.has_certificate?e.jsx(Ht,{className:"w-4 h-4 text-red-400"}):e.jsx(Fe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-stone-600",children:m.has_certificate?"Already issued":"No existing cert"})]})]}),m.pending_hours>0&&e.jsxs("p",{className:"mt-2 text-xs text-amber-600",children:["Note: ",m.pending_hours,"h pending review"]})]}):null,e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Certificate Title *"}),e.jsx("input",{type:"text",value:u,onChange:N=>f(N.target.value),placeholder:"e.g. Emergency Department NP Clinical - Completion Certificate",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:s,children:"Cancel"}),e.jsxs(L,{onClick:y,disabled:!r||!u.trim()||!m?.eligible,isLoading:h.isPending,children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Issue Certificate"]})]})]})})})}function O3({certificate:s,onClose:t}){const[a,l]=_.useState(""),r=jE(),c=async()=>{if(a.trim())try{await r.mutateAsync({id:s.id,data:{reason:a.trim()}}),t()}catch{}};return e.jsx(He,{isOpen:!0,onClose:t,title:"Revoke Certificate",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-2",children:[e.jsx(js,{className:"w-5 h-5"}),e.jsx("p",{className:"font-semibold",children:"This action cannot be undone"})]}),e.jsxs("p",{className:"text-sm text-red-600",children:["Revoking certificate ",e.jsx("strong",{children:s.certificate_number})," for"," ",e.jsxs("strong",{children:[s.student?.first_name," ",s.student?.last_name]}),"."]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Reason for Revocation *"}),e.jsx("textarea",{value:a,onChange:u=>l(u.target.value),rows:3,placeholder:"Provide the reason for revoking this certificate...",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),e.jsxs(L,{variant:"danger",onClick:c,disabled:!a.trim(),isLoading:r.isPending,children:[e.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Revoke Certificate"]})]})]})})}function z3({open:s,onClose:t,programId:a,onSuccess:l}){const[r,c]=_.useState(null),[u,f]=_.useState(!1),[h,x]=_.useState(null),m=_.useRef(null),g=async()=>{if(r){f(!0),x(null);try{const j=new FormData;j.append("file",r),a&&j.append("program_id",a);const S=localStorage.getItem("cliniclink_token"),b=await fetch(`${Ys}/students/bulk-import`,{method:"POST",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},body:j});if(!b.ok){const k=await b.json().catch(()=>({}));throw new Error(k.message||`Upload failed (${b.status})`)}const C=await b.json();x(C),C.summary.created>0&&l?.()}catch(j){x({summary:{created:0,skipped:0,errors:1},created:[],skipped:[],errors:[{row:0,email:"",error:j.message}]})}finally{f(!1)}}},y=()=>{c(null),x(null),t()},N=`${Ys}/students/import-template`;return e.jsx(He,{isOpen:s,onClose:y,title:"Import Students from CSV",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-xl border border-primary-200",children:[e.jsx(Jv,{className:"w-5 h-5 text-primary-600 shrink-0"}),e.jsx("div",{className:"flex-1 text-sm text-stone-700",children:"Download the CSV template, fill in student details, then upload it here."}),e.jsxs("a",{href:N,download:!0,className:"text-sm font-medium text-primary-600 hover:text-primary-700 whitespace-nowrap",children:[e.jsx(dn,{className:"w-4 h-4 inline mr-1"}),"Template"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"CSV File"}),e.jsxs("div",{className:"border-2 border-dashed border-stone-300 rounded-xl p-6 text-center hover:border-primary-400 transition-colors cursor-pointer",onClick:()=>m.current?.click(),children:[e.jsx("input",{ref:m,type:"file",accept:".csv",className:"hidden",onChange:j=>{c(j.target.files?.[0]||null),x(null)}}),r?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-stone-700",children:[e.jsx(Jv,{className:"w-5 h-5 text-primary-500"}),e.jsx("span",{className:"font-medium",children:r.name}),e.jsxs("span",{className:"text-stone-400",children:["(",(r.size/1024).toFixed(1)," KB)"]})]}):e.jsxs("div",{className:"text-stone-400",children:[e.jsx(Hn,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Click to select a CSV file"}),e.jsx("p",{className:"text-xs mt-1",children:"Max 2MB, .csv format"})]})]})]}),h&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[h.summary.created>0&&e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm font-medium",children:[e.jsx(Fe,{className:"w-4 h-4"})," ",h.summary.created," created"]}),h.summary.skipped>0&&e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm font-medium",children:[e.jsx(js,{className:"w-4 h-4"})," ",h.summary.skipped," skipped"]}),h.summary.errors>0&&e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-700 rounded-lg text-sm font-medium",children:[e.jsx(Ht,{className:"w-4 h-4"})," ",h.summary.errors," errors"]})]}),(h.created.length>0||h.skipped.length>0||h.errors.length>0)&&e.jsx("div",{className:"max-h-48 overflow-y-auto border border-stone-200 rounded-xl",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-stone-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Row"}),e.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Email"}),e.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Status"}),e.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Detail"})]})}),e.jsxs("tbody",{children:[h.created.map(j=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"p-2",children:j.row}),e.jsx("td",{className:"p-2",children:j.email}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-green-600 font-medium",children:"Created"})}),e.jsx("td",{className:"p-2 text-stone-500",children:j.name})]},`c-${j.row}`)),h.skipped.map(j=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"p-2",children:j.row}),e.jsx("td",{className:"p-2",children:j.email}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-amber-600 font-medium",children:"Skipped"})}),e.jsx("td",{className:"p-2 text-stone-500",children:j.reason})]},`s-${j.row}`)),h.errors.map((j,S)=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"p-2",children:j.row||"-"}),e.jsx("td",{className:"p-2",children:j.email||"-"}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-red-600 font-medium",children:"Error"})}),e.jsx("td",{className:"p-2 text-stone-500",children:j.error})]},`e-${S}`))]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(L,{variant:"secondary",onClick:y,children:h?"Close":"Cancel"}),!h&&e.jsx(L,{onClick:g,disabled:!r||u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-4 h-4 animate-spin"})," Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hn,{className:"w-4 h-4"})," Import Students"]})})]})]})})}function L3(){const{user:s}=We(),t=yt(),a=s?.role==="preceptor"||s?.role==="site_manager",{data:l,isLoading:r}=Gf(),c=l?.students||[],[u,f]=_.useState(""),[h,x]=_.useState("all"),[m,g]=_.useState(!1),y=s?.role==="coordinator"||s?.role==="admin",N=_.useMemo(()=>{const b=new Set(c.map(C=>C.program).filter(Boolean));return Array.from(b)},[c]),j=_.useMemo(()=>c.filter(b=>{if(h!=="all"&&b.program!==h)return!1;if(u){const C=u.toLowerCase();return(b.first_name+" "+b.last_name).toLowerCase().includes(C)||b.email.toLowerCase().includes(C)||b.university?.toLowerCase().includes(C)||b.program?.toLowerCase().includes(C)}return!0}),[c,u,h]),S=_.useMemo(()=>({total:c.length,avgHours:c.length>0?Math.round(c.reduce((b,C)=>b+(C.total_hours??C.prior_hours+C.hours_completed),0)/c.length):0,pendingReviews:c.reduce((b,C)=>b+C.pending_hours,0)}),[c]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Students"}),e.jsx("p",{className:"text-stone-500 mt-1",children:a?"Students assigned to your rotations":"All students in the system"})]}),y&&e.jsxs(L,{onClick:()=>g(!0),children:[e.jsx(Hn,{className:"w-4 h-4 mr-1.5"}),"Import Students"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-500 flex items-center justify-center",children:e.jsx(at,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:S.total}),e.jsx("p",{className:"text-xs text-stone-500",children:"Students"})]})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-500 flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:S.avgHours}),e.jsx("p",{className:"text-xs text-stone-500",children:"Avg Hours"})]})]})}),a&&S.pendingReviews>0&&e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-500 flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:S.pendingReviews}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending Hrs"})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search students...",value:u,onChange:b=>f(b.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),N.length>1&&e.jsxs("select",{value:h,onChange:b=>x(b.target.value),className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"all",children:"All Programs"}),N.map(b=>e.jsx("option",{value:b,children:b},b))]})]}),r?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):j.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(at,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:c.length===0?"No students yet":"No matching students"}),e.jsx("p",{className:"text-stone-500 text-sm",children:a?"Students will appear here once they are accepted into your rotations.":"No students found matching your criteria."})]})}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:j.map(b=>e.jsx(U3,{student:b,isPreceptor:a,onView:()=>t(`/students/${b.id}`),onReviewHours:()=>t("/hours"),onWriteEval:()=>t("/evaluations")},b.id))}),m&&e.jsx(z3,{open:m,onClose:()=>g(!1)})]})}function U3({student:s,isPreceptor:t,onView:a,onReviewHours:l,onWriteEval:r}){const c=s.total_hours??s.prior_hours+s.hours_completed,u=s.hours_required>0?Math.min(100,Math.round(c/s.hours_required*100)):0;return e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-11 h-11 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[s.first_name[0],s.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-stone-900",children:[s.first_name," ",s.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:s.email})]})]}),e.jsx("button",{onClick:a,className:"p-1.5 rounded-lg hover:bg-stone-100 text-stone-400 transition-colors",children:e.jsx(Os,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.degree_type&&e.jsx(re,{variant:"primary",size:"sm",children:s.degree_type}),s.university&&e.jsx(re,{variant:"default",size:"sm",children:s.university})]}),s.program&&e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(Pt,{className:"w-3.5 h-3.5"}),s.program]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-stone-500",children:"Clinical Hours"}),e.jsxs("span",{className:"font-semibold text-stone-700",children:[c," / ",s.hours_required,"h"]})]}),e.jsx("div",{className:"w-full h-2 bg-stone-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-500",style:{width:`${u}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[e.jsxs("span",{className:"text-stone-400",children:[u,"%"]}),s.pending_hours>0&&e.jsxs("span",{className:"text-amber-500 font-medium",children:[s.pending_hours,"h pending"]})]})]}),t&&e.jsxs("div",{className:"flex gap-2 pt-1",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:l,className:"flex-1",children:[e.jsx(Be,{className:"w-3.5 h-3.5 mr-1"})," Review Hours"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:r,className:"flex-1",children:[e.jsx(it,{className:"w-3.5 h-3.5 mr-1"})," Evaluate"]})]})]})})}function H3(){const{user:s}=We(),t=s?.role==="preceptor",{data:a,isLoading:l}=Da(),r=a?.sites||[],c=uj(),u=mj(),{data:f}=vj(),h=KE(),x=f?.join_requests||[],[m,g]=_.useState(!1),[y,N]=_.useState(null),[j,S]=_.useState({name:"",address:"",city:"",state:"FL",zip:"",phone:"",website:"",description:"",specialties:"",ehr_system:""}),b=()=>{N(null),S({name:"",address:"",city:"",state:"FL",zip:"",phone:"",website:"",description:"",specialties:"",ehr_system:""}),g(!0)},C=E=>{N(E),S({name:E.name,address:E.address,city:E.city,state:E.state,zip:E.zip,phone:E.phone,website:E.website||"",description:E.description,specialties:E.specialties.join(", "),ehr_system:E.ehr_system||""}),g(!0)},k=async()=>{const E={...j,specialties:j.specialties.split(",").map(M=>M.trim()).filter(Boolean)};try{y?await u.mutateAsync({id:y.id,data:E}):await c.mutateAsync(E),g(!1)}catch{}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Sites"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Manage your rotation sites and their details"})]}),e.jsxs(L,{onClick:b,children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Add Site"]})]}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No sites yet"}),e.jsx("p",{className:"text-stone-500 text-sm mb-4",children:"Create your first rotation site to start accepting students."}),e.jsxs(L,{onClick:b,children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"})," Add Site"]})]})}):e.jsx("div",{className:"grid gap-4",children:r.map(E=>e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:E.name}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5"})," ",E.city,", ",E.state," ",E.zip]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_n,{className:"w-3.5 h-3.5"})," ",E.phone]}),E.website&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"w-3.5 h-3.5"})," ",E.website]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3.5 h-3.5 text-amber-400"})," ",E.rating," (",E.review_count," reviews)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{variant:E.is_verified?"success":"warning",size:"sm",children:E.is_verified?"Verified":"Pending"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>C(E),children:e.jsx(Xn,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-stone-600 line-clamp-2 mb-3",children:E.description}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:E.specialties.map(M=>e.jsx(re,{variant:"default",size:"sm",children:M},M))}),e.jsxs("div",{className:"flex gap-4 text-sm text-stone-500",children:[E.ehr_system&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dt,{className:"w-3.5 h-3.5"})," ",E.ehr_system]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ui,{className:"w-3.5 h-3.5"})," ",E.slots?.length||0," slots"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(at,{className:"w-3.5 h-3.5"})," ",E.slots?.reduce((M,z)=>M+z.filled,0)||0," students"]})]})]})]})},E.id))}),t&&x.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"My Join Requests"}),x.map(E=>e.jsx(V,{className:"!py-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${E.status==="pending"?"bg-amber-100 text-amber-600":E.status==="approved"?"bg-green-100 text-green-600":E.status==="denied"?"bg-red-100 text-red-600":"bg-stone-100 text-stone-500"}`,children:E.status==="pending"?e.jsx(Be,{className:"w-5 h-5"}):E.status==="approved"?e.jsx(Fe,{className:"w-5 h-5"}):e.jsx(Ht,{className:"w-5 h-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:E.site?.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[E.site?.city,", ",E.site?.state,e.jsx("span",{className:"mx-1",children:""}),"Submitted ",new Date(E.created_at).toLocaleDateString()]}),E.review_notes&&e.jsxs("p",{className:"text-xs text-stone-600 mt-0.5 italic",children:["Note: ",E.review_notes]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(re,{variant:E.status==="pending"?"warning":E.status==="approved"?"success":E.status==="denied"?"danger":"default",children:E.status}),E.status==="pending"&&e.jsx(L,{variant:"outline",size:"sm",onClick:async()=>{try{await h.mutateAsync(E.id),Y.success("Request withdrawn")}catch{Y.error("Failed to withdraw")}},isLoading:h.isPending,children:"Withdraw"})]})]})},E.id))]}),e.jsx(He,{isOpen:m,onClose:()=>g(!1),title:y?"Edit Site":"Add New Site",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"sm:col-span-2 space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site Name *"}),e.jsx("input",{value:j.name,onChange:E=>S({...j,name:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",placeholder:"e.g. Mercy General Hospital"})]}),e.jsxs("div",{className:"sm:col-span-2 space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Address *"}),e.jsx("input",{value:j.address,onChange:E=>S({...j,address:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"City *"}),e.jsx("input",{value:j.city,onChange:E=>S({...j,city:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"State"}),e.jsx("input",{value:j.state,onChange:E=>S({...j,state:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"ZIP"}),e.jsx("input",{value:j.zip,onChange:E=>S({...j,zip:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Phone *"}),e.jsx("input",{value:j.phone,onChange:E=>S({...j,phone:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Website"}),e.jsx("input",{value:j.website,onChange:E=>S({...j,website:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"EHR System"}),e.jsx("input",{value:j.ehr_system,onChange:E=>S({...j,ehr_system:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",placeholder:"e.g. Epic, Cerner"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Specialties (comma-separated)"}),e.jsx("input",{value:j.specialties,onChange:E=>S({...j,specialties:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",placeholder:"e.g. Emergency Medicine, ICU"})]}),e.jsxs("div",{className:"sm:col-span-2 space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description *"}),e.jsx("textarea",{value:j.description,onChange:E=>S({...j,description:E.target.value}),rows:3,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsx(L,{onClick:k,disabled:!j.name||!j.phone,isLoading:c.isPending||u.isPending,children:y?"Save Changes":"Create Site"})]})]})})]})}const oy={name:"",address:"",city:"",state:"",zip:"",phone:"",website:"",description:"",specialties:[],ehr_system:""};function P3(){const{user:s}=We(),t=s?.role==="admin",a=s?.role==="site_manager",l=s?.role==="preceptor",r=t||a,c=yt(),[u,f]=_.useState(""),[h,x]=_.useState(""),[m,g]=_.useState(""),[y,N]=_.useState(1),[j,S]=_.useState(null),[b,C]=_.useState("grid"),[k,E]=_.useState(!1),[M,z]=_.useState(null),[Q,R]=_.useState(null),[q,ve]=_.useState(!1),[ye,oe]=_.useState(oy),[F,xe]=_.useState(""),[X,be]=_.useState(null),[A,T]=_.useState(""),{data:U}=vj(),me=WE(),je=U?.join_requests||[],[H,$]=_.useState(new Set);_.useEffect(()=>{l&&Jn.myPending().then(ne=>{}).catch(()=>{})},[l]);const te=ne=>{if(H.has(ne))return"linked";const we=je.find(Qe=>Qe.site_id===ne);return we?.status==="pending"?"pending":we?.status==="approved"?"approved":"none"},B=async()=>{if(X)try{await me.mutateAsync({site_id:X,message:A||void 0}),Y.success("Join request submitted!"),be(null),T("")}catch(ne){Y.error(ne instanceof Error?ne.message:"Failed to submit request")}},{data:de,isLoading:ke,refetch:Re}=Lo({search:u,specialty:h||void 0,state:m||void 0,page:y}),ze=uj(),Ye=mj(),At=de?.data||[],zt=de?.last_page||1,Jt=de?.total||0,Ns=_.useMemo(()=>{const ne=new Set;return At.forEach(we=>we.specialties.forEach(Qe=>ne.add(Qe))),Array.from(ne).sort()},[At]),ie=()=>{oe(oy),xe(""),E(!0)},Ue=ne=>{oe({name:ne.name,address:ne.address,city:ne.city,state:ne.state,zip:ne.zip,phone:ne.phone,website:ne.website||"",description:ne.description,specialties:[...ne.specialties],ehr_system:ne.ehr_system||""}),xe(""),z(ne)},ft=ne=>t||ne.manager_id===s?.id,bt=async ne=>{ne.preventDefault();try{await ze.mutateAsync(ye),Y.success("Site created successfully"),E(!1)}catch(we){Y.error(we instanceof Error?we.message:"Failed to create site")}},ws=async ne=>{if(ne.preventDefault(),!!M)try{await Ye.mutateAsync({id:M.id,data:ye}),Y.success("Site updated successfully"),z(null)}catch(we){Y.error(we instanceof Error?we.message:"Failed to update site")}},W=async()=>{if(Q){ve(!0);try{await Ji.delete(Q.id),Y.success("Site deleted successfully"),R(null),j?.id===Q.id&&S(null),Re()}catch(ne){Y.error(ne instanceof Error?ne.message:"Failed to delete site")}finally{ve(!1)}}},he=()=>{const ne=F.trim();ne&&!ye.specialties.includes(ne)&&(oe(we=>({...we,specialties:[...we.specialties,ne]})),xe(""))},Ve=ne=>{oe(we=>({...we,specialties:we.specialties.filter(Qe=>Qe!==ne)}))},Ne=e.jsxs("div",{className:"space-y-4",children:[e.jsx(De,{label:"Name",required:!0,value:ye.name,onChange:ne=>oe(we=>({...we,name:ne.target.value})),placeholder:"Site name"}),e.jsx(De,{label:"Address",required:!0,value:ye.address,onChange:ne=>oe(we=>({...we,address:ne.target.value})),placeholder:"Street address"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(De,{label:"City",required:!0,value:ye.city,onChange:ne=>oe(we=>({...we,city:ne.target.value})),placeholder:"City"}),e.jsx(De,{label:"State",required:!0,value:ye.state,onChange:ne=>oe(we=>({...we,state:ne.target.value.toUpperCase().slice(0,2)})),placeholder:"FL"}),e.jsx(De,{label:"ZIP",required:!0,value:ye.zip,onChange:ne=>oe(we=>({...we,zip:ne.target.value})),placeholder:"33101"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(De,{label:"Phone",required:!0,value:ye.phone,onChange:ne=>oe(we=>({...we,phone:ne.target.value})),placeholder:"(555) 555-5555"}),e.jsx(De,{label:"EHR System",value:ye.ehr_system,onChange:ne=>oe(we=>({...we,ehr_system:ne.target.value})),placeholder:"Epic, Cerner..."})]}),e.jsx(De,{label:"Website",type:"url",value:ye.website,onChange:ne=>oe(we=>({...we,website:ne.target.value})),placeholder:"https://..."}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description"}),e.jsx("textarea",{value:ye.description,onChange:ne=>oe(we=>({...we,description:ne.target.value})),rows:3,placeholder:"Describe this clinical site...",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Specialties"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:F,onChange:ne=>xe(ne.target.value),onKeyDown:ne=>{ne.key==="Enter"&&(ne.preventDefault(),he())},placeholder:"Type and press Enter",className:"flex-1 rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"}),e.jsx(L,{type:"button",variant:"outline",size:"sm",onClick:he,children:"Add"})]}),ye.specialties.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:ye.specialties.map(ne=>e.jsxs(re,{variant:"primary",size:"sm",children:[ne,e.jsx("button",{type:"button",onClick:()=>Ve(ne),className:"ml-1 hover:text-red-300",children:""})]},ne))})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Sites Directory"}),e.jsxs("p",{className:"text-stone-500 mt-1",children:["Browse ",Jt>0?`${Jt} `:"","clinical rotation sites"]})]}),r&&e.jsxs(L,{onClick:ie,children:[e.jsx(Ct,{className:"w-4 h-4 mr-1.5"})," Add Site"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search sites by name, city...",value:u,onChange:ne=>{f(ne.target.value),N(1)},className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),Ns.length>0&&e.jsxs("select",{value:h,onChange:ne=>{x(ne.target.value),N(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"All Specialties"}),Ns.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]}),e.jsxs("select",{value:m,onChange:ne=>{g(ne.target.value),N(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"All States"}),e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"GA",children:"Georgia"}),e.jsx("option",{value:"TX",children:"Texas"}),e.jsx("option",{value:"NY",children:"New York"}),e.jsx("option",{value:"CA",children:"California"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>C("grid"),className:`p-2.5 rounded-xl border transition-colors ${b==="grid"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:e.jsx(aj,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("table"),className:`p-2.5 rounded-xl border transition-colors ${b==="table"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:e.jsx(ij,{className:"w-4 h-4"})})]})]}),ke?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):At.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No sites found"}),e.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search or filters."})]})}):b==="grid"?e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:At.map(ne=>e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:ne.name}),ne.is_verified&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"})]}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1 mt-0.5",children:[e.jsx(ht,{className:"w-3 h-3"})," ",ne.city,", ",ne.state]})]})]}),e.jsx("p",{className:"text-sm text-stone-600 line-clamp-2",children:ne.description}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[ne.specialties.slice(0,3).map(we=>e.jsx(re,{variant:"default",size:"sm",children:we},we)),ne.specialties.length>3&&e.jsxs(re,{variant:"default",size:"sm",children:["+",ne.specialties.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("div",{className:"flex gap-3 text-xs text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3.5 h-3.5 text-amber-400"})," ",ne.rating]}),e.jsxs("span",{children:[ne.review_count," reviews"]}),ne.ehr_system&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dt,{className:"w-3 h-3"})," ",ne.ehr_system]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[l&&(()=>{const we=te(ne.id);return we==="linked"||we==="approved"?e.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600 font-medium px-2 py-1",children:[e.jsx(Fe,{className:"w-3.5 h-3.5"})," Joined"]}):we==="pending"?e.jsxs("span",{className:"flex items-center gap-1 text-xs text-amber-600 font-medium px-2 py-1",children:[e.jsx(Be,{className:"w-3.5 h-3.5"})," Requested"]}):e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>be(ne.id),children:[e.jsx(oi,{className:"w-3.5 h-3.5"})," Request to Join"]})})(),ft(ne)&&e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>Ue(ne),children:e.jsx(Xn,{className:"w-3.5 h-3.5"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>R(ne),children:e.jsx(os,{className:"w-3.5 h-3.5 text-red-500"})})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>c(`/sites/${ne.id}`),children:"Details"})]})]})]})},ne.id))}):e.jsx("div",{className:"overflow-x-auto rounded-xl border border-stone-200",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-stone-50 border-b border-stone-200",children:[e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Name"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Location"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Specialties"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Rating"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"EHR"}),e.jsx("th",{className:"text-right px-4 py-3 font-medium text-stone-600",children:"Actions"})]})}),e.jsx("tbody",{children:At.map(ne=>e.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-stone-900",children:ne.name}),ne.is_verified&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"})]})}),e.jsxs("td",{className:"px-4 py-3 text-stone-600",children:[ne.city,", ",ne.state]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[ne.specialties.slice(0,2).map(we=>e.jsx(re,{variant:"default",size:"sm",children:we},we)),ne.specialties.length>2&&e.jsxs(re,{variant:"default",size:"sm",children:["+",ne.specialties.length-2]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:"flex items-center gap-1 text-stone-600",children:[e.jsx(hs,{className:"w-3.5 h-3.5 text-amber-400"})," ",ne.rating]})}),e.jsx("td",{className:"px-4 py-3 text-stone-600",children:ne.ehr_system||""}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l&&(()=>{const we=te(ne.id);return we==="linked"||we==="approved"?e.jsx("span",{className:"text-xs text-green-600 font-medium px-2",children:"Joined"}):we==="pending"?e.jsx("span",{className:"text-xs text-amber-600 font-medium px-2",children:"Requested"}):e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>be(ne.id),children:[e.jsx(oi,{className:"w-3.5 h-3.5"})," Join"]})})(),ft(ne)&&e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>Ue(ne),children:e.jsx(Xn,{className:"w-3.5 h-3.5"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>R(ne),children:e.jsx(os,{className:"w-3.5 h-3.5 text-red-500"})})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>c(`/sites/${ne.id}`),children:"Details"})]})})]},ne.id))})]})}),zt>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",disabled:y<=1,onClick:()=>N(ne=>ne-1),children:e.jsx(Yd,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-stone-600",children:["Page ",y," of ",zt]}),e.jsx(L,{variant:"outline",size:"sm",disabled:y>=zt,onClick:()=>N(ne=>ne+1),children:e.jsx(Os,{className:"w-4 h-4"})})]}),j&&e.jsx(He,{isOpen:!0,onClose:()=>S(null),title:j.name,size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Address"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[j.address,", ",j.city,", ",j.state," ",j.zip]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Phone"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900 flex items-center gap-1",children:[e.jsx(_n,{className:"w-3.5 h-3.5"})," ",j.phone]})]}),j.website&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Website"}),e.jsxs("a",{href:j.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-primary-600 flex items-center gap-1 hover:underline",children:[e.jsx(ta,{className:"w-3.5 h-3.5"})," ",j.website.replace(/^https?:\/\//,"")]})]}),j.ehr_system&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"EHR System"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:j.ehr_system})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Rating"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900 flex items-center gap-1",children:[e.jsx(hs,{className:"w-3.5 h-3.5 text-amber-400"})," ",j.rating," (",j.review_count," reviews)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Status"}),e.jsx(re,{variant:j.is_verified?"success":"warning",children:j.is_verified?"Verified":"Pending Verification"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-stone-700",children:j.description})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"Specialties"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:j.specialties.map(ne=>e.jsx(re,{variant:"primary",size:"sm",children:ne},ne))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[ft(j)&&e.jsxs(e.Fragment,{children:[e.jsxs(L,{variant:"outline",onClick:()=>{S(null),Ue(j)},children:[e.jsx(Xn,{className:"w-3.5 h-3.5 mr-1.5"})," Edit"]}),e.jsxs(L,{variant:"outline",onClick:()=>{S(null),R(j)},className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(os,{className:"w-3.5 h-3.5 mr-1.5"})," Delete"]})]}),e.jsx(L,{variant:"outline",onClick:()=>S(null),children:"Close"})]})]})}),k&&e.jsx(He,{isOpen:!0,onClose:()=>E(!1),title:"Add Site",size:"lg",children:e.jsxs("form",{onSubmit:bt,className:"space-y-6",children:[Ne,e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{variant:"outline",type:"button",onClick:()=>E(!1),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:ze.isPending,children:"Create Site"})]})]})}),M&&e.jsx(He,{isOpen:!0,onClose:()=>z(null),title:"Edit Site",size:"lg",children:e.jsxs("form",{onSubmit:ws,className:"space-y-6",children:[Ne,e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{variant:"outline",type:"button",onClick:()=>z(null),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:Ye.isPending,children:"Save Changes"})]})]})}),Q&&e.jsx(He,{isOpen:!0,onClose:()=>R(null),title:"Delete Site",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:Q.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{variant:"outline",onClick:()=>R(null),children:"Cancel"}),e.jsx(L,{onClick:W,isLoading:q,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),X&&e.jsx(He,{isOpen:!0,onClose:()=>{be(null),T("")},title:"Request to Join Site",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Submit a request to join ",e.jsx("strong",{children:At.find(ne=>ne.id===X)?.name})," as a preceptor. The site manager will review your request."]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Message (optional)"}),e.jsx("textarea",{value:A,onChange:ne=>T(ne.target.value),placeholder:"Introduce yourself or explain why you'd like to join...",rows:3,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{variant:"outline",onClick:()=>{be(null),T("")},children:"Cancel"}),e.jsxs(L,{onClick:B,isLoading:me.isPending,children:[e.jsx(oi,{className:"w-4 h-4"})," Submit Request"]})]})]})})]})}const q3=["BSN","MSN","DNP","PA","NP","DPT","OTD","MSW","PharmD","other"],Lj={BSN:"primary",MSN:"secondary",DNP:"success",PA:"warning",NP:"primary",DPT:"default",OTD:"default",MSW:"secondary",PharmD:"danger",other:"default"};function Uj(s){return Pe({queryKey:["universities",s],queryFn:()=>le.get(`/universities${s?.search?`?search=${s.search}`:""}`)})}function Hj(s){return Pe({queryKey:["university-programs",s],queryFn:()=>le.get(`/universities/${s}/programs`),enabled:!!s})}function B3(){const{user:s}=We(),t=s?.role==="coordinator",a=s?.universityId||null;return t&&a?e.jsx(I3,{universityId:a}):e.jsx(V3,{})}function I3({universityId:s}){const{data:t,isLoading:a}=Uj(),{data:l,isLoading:r}=Hj(s),{data:c,isLoading:u}=Gf(),[f,h]=_.useState(!1),[x,m]=_.useState(null),[g,y]=_.useState(!1),[N,j]=_.useState(null),b=(t?.data||[]).find(z=>z.id===s),C=Array.isArray(l)?l:[],k=c?.students||[],E=_.useMemo(()=>{const z={},Q=[];for(const R of k)R.program_id?(z[R.program_id]||(z[R.program_id]=[]),z[R.program_id].push(R)):Q.push(R);return{map:z,unassigned:Q}},[k]);return a||r||u?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):b?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My University"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Manage programs and student assignments"})]}),e.jsxs(L,{onClick:()=>h(!0),children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," Add Program"]})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(it,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-lg font-bold text-stone-900",children:b.name}),b.is_verified&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5"})," ",b.city,", ",b.state]}),b.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_n,{className:"w-3.5 h-3.5"})," ",b.phone]}),b.website&&e.jsxs("a",{href:b.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary-600 hover:underline",children:[e.jsx(ta,{className:"w-3.5 h-3.5"})," Website"]})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:C.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Programs"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-stone-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-stone-900",children:k.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Students"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-stone-900",children:k.length-E.unassigned.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Assigned"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-amber-600",children:E.unassigned.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Unassigned"})]})]})]}),E.unassigned.length>0&&e.jsxs(V,{children:[e.jsxs("button",{onClick:()=>y(!g),className:"w-full flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 text-amber-600 flex items-center justify-center shrink-0",children:e.jsx(oi,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-semibold text-stone-900",children:[E.unassigned.length," Unassigned Student",E.unassigned.length!==1?"s":""]}),e.jsx("p",{className:"text-sm text-stone-500",children:"These students need to be assigned to a program"})]}),g?e.jsx(on,{className:"w-5 h-5 text-stone-400"}):e.jsx(Os,{className:"w-5 h-5 text-stone-400"})]}),g&&e.jsx("div",{className:"mt-4 pt-4 border-t border-stone-100 space-y-2",children:E.unassigned.map(z=>e.jsx(Pj,{student:z,programs:C,onAssign:()=>j(z)},z.id))})]}),C.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Pt,{className:"w-10 h-10 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No programs yet"}),e.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Create your first program to start assigning students."}),e.jsxs(L,{onClick:()=>h(!0),variant:"outline",children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," Add Program"]})]})}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-lg font-bold text-stone-900",children:"Programs"}),C.map(z=>{const Q=E.map[z.id]||[],R=x===z.id;return e.jsx(F3,{program:z,students:Q,allPrograms:C,isExpanded:R,onToggle:()=>m(R?null:z.id),onAssignStudent:j},z.id)})]}),f&&e.jsx(G3,{universityId:s,onClose:()=>h(!1)}),N&&e.jsx($3,{student:N,programs:C,onClose:()=>j(null)})]}):e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No university found"}),e.jsx("p",{className:"text-stone-500 text-sm",children:"You are not associated with any university. Contact an admin to link your account."})]})})}function F3({program:s,students:t,allPrograms:a,isExpanded:l,onToggle:r,onAssignStudent:c}){return e.jsxs(V,{children:[e.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-50 to-secondary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Pt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:s.name}),e.jsx(re,{variant:Lj[s.degree_type]||"default",size:"sm",children:s.degree_type})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-0.5 text-xs text-stone-500 mt-0.5",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"})," ",s.required_hours,"h required"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(at,{className:"w-3 h-3"})," ",t.length," student",t.length!==1?"s":""]}),s.specialties&&s.specialties.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Es,{className:"w-3 h-3"})," ",s.specialties.join(", ")]})]})]}),l?e.jsx(on,{className:"w-5 h-5 text-stone-400 shrink-0"}):e.jsx(Os,{className:"w-5 h-5 text-stone-400 shrink-0"})]}),l&&e.jsx("div",{className:"mt-4 pt-4 border-t border-stone-100",children:t.length===0?e.jsx("p",{className:"text-sm text-stone-500 text-center py-4",children:"No students assigned to this program yet."}):e.jsx("div",{className:"space-y-2",children:t.map(u=>e.jsx(Pj,{student:u,programs:a,onAssign:()=>c(u),showReassign:!0},u.id))})})]})}function Pj({student:s,programs:t,onAssign:a,showReassign:l}){const r=s.hours_required>0?Math.min(100,Math.round(s.total_hours/s.hours_required*100)):0;return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[s.first_name[0],s.last_name[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900 truncate",children:[s.first_name," ",s.last_name]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-stone-500 mt-0.5",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"})," ",s.total_hours,"/",s.hours_required,"h"]}),r>0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-16 h-1.5 bg-stone-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${r>=100?"bg-green-500":r>=50?"bg-primary-500":"bg-amber-500"}`,style:{width:`${r}%`}})}),e.jsxs("span",{className:"text-[10px]",children:[r,"%"]})]})]})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:a,children:l?"Reassign":"Assign"})]})}function $3({student:s,programs:t,onClose:a}){const l=gj(),[r,c]=_.useState(s.program_id||""),u=()=>{if(!r){Y.error("Please select a program.");return}l.mutate({studentId:s.id,programId:r},{onSuccess:()=>{Y.success(`${s.first_name} ${s.last_name} assigned successfully.`),a()},onError:f=>Y.error(f.message||"Failed to assign student.")})};return e.jsx(He,{isOpen:!0,onClose:a,title:`Assign ${s.first_name} ${s.last_name}`,size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[s.first_name[0],s.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[s.first_name," ",s.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:s.email})]})]}),s.program&&e.jsxs("p",{className:"text-sm text-stone-500",children:["Currently in: ",e.jsx("span",{className:"font-medium text-stone-700",children:s.program})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Select Program"}),e.jsxs("select",{value:r,onChange:f=>c(f.target.value),className:"w-full border border-stone-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"-- Choose a program --"}),t.map(f=>e.jsxs("option",{value:f.id,children:[f.name," (",f.degree_type,") - ",f.required_hours,"h"]},f.id))]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:a,children:"Cancel"}),e.jsxs(L,{onClick:u,isLoading:l.isPending,children:[e.jsx(oi,{className:"w-4 h-4 mr-1"})," Assign"]})]})]})})}function V3(){const[s,t]=_.useState(""),{data:a,isLoading:l}=Uj({search:s||void 0}),r=a?.data||[],[c,u]=_.useState(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Programs"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Universities and their clinical programs"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search universities...",value:s,onChange:f=>t(f.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No universities found"}),e.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search criteria."})]})}):e.jsx("div",{className:"space-y-3",children:r.map(f=>e.jsx(Q3,{university:f,isExpanded:c===f.id,onToggle:()=>u(c===f.id?null:f.id)},f.id))})]})}function Q3({university:s,isExpanded:t,onToggle:a}){const{data:l,isLoading:r}=Hj(t?s.id:""),c=Array.isArray(l)?l:[];return e.jsxs(V,{children:[e.jsxs("button",{onClick:a,className:"w-full flex items-center gap-4 text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:s.name}),e.jsxs("p",{className:"text-sm text-stone-500",children:[s.city,", ",s.state]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.is_verified&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"}),t?e.jsx(on,{className:"w-5 h-5 text-stone-400"}):e.jsx(Os,{className:"w-5 h-5 text-stone-400"})]})]}),t&&e.jsx("div",{className:"mt-4 pt-4 border-t border-stone-100",children:r?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):c.length===0?e.jsx("p",{className:"text-sm text-stone-500 text-center py-4",children:"No programs listed for this university."}):e.jsx("div",{className:"space-y-3",children:c.map(u=>e.jsxs("div",{className:"p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-primary-500 shrink-0"}),e.jsx("h4",{className:"text-sm font-semibold text-stone-900",children:u.name})]}),e.jsx(re,{variant:Lj[u.degree_type]||"default",size:"sm",children:u.degree_type})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-stone-500 ml-6",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"})," ",u.required_hours,"h required"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(it,{className:"w-3 h-3"})," ",u.degree_type]})]}),u.specialties&&u.specialties.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2 ml-6",children:u.specialties.map(f=>e.jsx(re,{variant:"default",size:"sm",children:f},f))})]},u.id))})})]})}function G3({universityId:s,onClose:t}){const a=pj(),[l,r]=_.useState({name:"",degree_type:"MSN",required_hours:500,specialties:""}),c=()=>{if(!l.name.trim()){Y.error("Program name is required.");return}const u=l.specialties.split(",").map(f=>f.trim()).filter(Boolean);a.mutate({universityId:s,data:{name:l.name.trim(),degree_type:l.degree_type,required_hours:l.required_hours,specialties:u.length>0?u:void 0}},{onSuccess:()=>{Y.success("Program created successfully."),t()},onError:f=>Y.error(f.message||"Failed to create program.")})};return e.jsx(He,{isOpen:!0,onClose:t,title:"Add New Program",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program Name"}),e.jsx("input",{type:"text",value:l.name,onChange:u=>r({...l,name:u.target.value}),placeholder:"e.g. Family Nurse Practitioner",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Degree Type"}),e.jsx("select",{value:l.degree_type,onChange:u=>r({...l,degree_type:u.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:q3.map(u=>e.jsx("option",{value:u,children:u},u))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Required Clinical Hours"}),e.jsx("input",{type:"number",min:"0",value:l.required_hours,onChange:u=>r({...l,required_hours:Number(u.target.value)}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Specialties (comma-separated)"}),e.jsx("input",{type:"text",value:l.specialties,onChange:u=>r({...l,specialties:u.target.value}),placeholder:"e.g. Family Practice, Pediatrics, Women's Health",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),e.jsxs(L,{onClick:c,isLoading:a.isPending,children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," Create Program"]})]})]})})}function Y3(){const{data:s,isLoading:t}=Zs(),a=s?.data||[],[l,r]=_.useState("active"),[c,u]=_.useState(""),f=_.useMemo(()=>({active:a.filter(m=>m.status==="accepted"),pending:a.filter(m=>m.status==="pending"||m.status==="waitlisted"),completed:a.filter(m=>m.status==="declined"||m.status==="withdrawn")}),[a]),h=_.useMemo(()=>{const m=f[l];if(!c)return m;const g=c.toLowerCase();return m.filter(y=>(y.student?.first_name+" "+y.student?.last_name).toLowerCase().includes(g)||y.slot?.title?.toLowerCase().includes(g)||y.slot?.site?.name?.toLowerCase().includes(g))},[f,l,c]),x=[{key:"active",label:"Active",count:f.active.length,icon:e.jsx(Fe,{className:"w-4 h-4"})},{key:"pending",label:"Pending",count:f.pending.length,icon:e.jsx(XC,{className:"w-4 h-4"})},{key:"completed",label:"Closed",count:f.completed.length,icon:e.jsx(zn,{className:"w-4 h-4"})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Placements"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Track student rotation placements across all sites"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.active.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Active"})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:f.pending.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-500",children:f.completed.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Closed"})]})})]}),e.jsx("div",{className:"flex gap-1 p-1 bg-stone-100 rounded-xl",children:x.map(m=>e.jsxs("button",{onClick:()=>r(m.key),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${l===m.key?"bg-white text-stone-900 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.icon,m.label,e.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${l===m.key?"bg-primary-100 text-primary-700":"bg-stone-200 text-stone-500"}`,children:m.count})]},m.key))}),e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search placements...",value:c,onChange:m=>u(m.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),t?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):h.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(it,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsxs("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:["No ",l," placements"]}),e.jsx("p",{className:"text-stone-500 text-sm",children:l==="active"?"No students are currently placed in rotations.":l==="pending"?"No pending placement requests.":"No closed placements."})]})}):e.jsx("div",{className:"space-y-3",children:h.map(m=>e.jsx(W3,{application:m},m.id))})]})}function W3({application:s}){const a={accepted:{variant:"success",label:"Active"},pending:{variant:"warning",label:"Pending"},waitlisted:{variant:"secondary",label:"Waitlisted"},declined:{variant:"danger",label:"Declined"},withdrawn:{variant:"default",label:"Withdrawn"}}[s.status]||{variant:"default",label:s.status};return e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[s.student?.first_name?.[0],s.student?.last_name?.[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("h3",{className:"font-semibold text-stone-900 truncate",children:[s.student?.first_name," ",s.student?.last_name]}),e.jsx(re,{variant:a.variant,size:"sm",children:a.label})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(it,{className:"w-3.5 h-3.5"}),s.slot?.title||"Unknown Rotation"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5"}),s.slot?.site?.name||"Unknown Site"]}),s.slot?.start_date&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ui,{className:"w-3.5 h-3.5"}),new Date(s.slot.start_date).toLocaleDateString()," - ",s.slot.end_date?new Date(s.slot.end_date).toLocaleDateString():""]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3.5 h-3.5"}),"Applied ",new Date(s.submitted_at).toLocaleDateString()]}),s.slot?.preceptor&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"w-3.5 h-3.5"}),s.slot.preceptor.first_name," ",s.slot.preceptor.last_name]})]})]})]})})}const kd=["student","preceptor","site_manager","coordinator","professor","admin"],po={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"},K3={student:"primary",preceptor:"secondary",site_manager:"warning",coordinator:"success",professor:"default",admin:"danger"};function Z3(){const s=yt(),[t,a]=_.useState(""),[l,r]=_.useState(""),[c,u]=_.useState(1),[f,h]=_.useState(null),[x,m]=_.useState(null),[g,y]=_.useState(""),[N,j]=_.useState(!1),[S,b]=_.useState(!1),{data:C,isLoading:k}=EE({search:t||void 0,role:l||void 0,page:c}),E=C?.data||[],M=C?.last_page||1,z=C?.total||0,Q=fj(),R=xj(),q=async(oe,F)=>{F.stopPropagation(),await Q.mutateAsync({id:oe.id,data:{is_active:!oe.is_active}})},ve=async()=>{!x||!g||(await Q.mutateAsync({id:x.id,data:{role:g}}),m(null))},ye=async()=>{f&&(await R.mutateAsync(f.id),h(null))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"User Management"}),e.jsxs("p",{className:"text-stone-500 mt-1",children:["Manage all platform users (",z," total)"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:()=>b(!0),children:[e.jsx(Hn,{className:"w-4 h-4 mr-2"})," Bulk Invite"]}),e.jsxs(L,{onClick:()=>j(!0),children:[e.jsx(oi,{className:"w-4 h-4 mr-2"})," Add User"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, username...",value:t,onChange:oe=>{a(oe.target.value),u(1)},className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("select",{value:l,onChange:oe=>{r(oe.target.value),u(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"All Roles"}),kd.map(oe=>e.jsx("option",{value:oe,children:po[oe]},oe))]})]}),k?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):E.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(at,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No users found"}),e.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search or filters."})]})}):e.jsx(V,{padding:"none",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-stone-200 bg-stone-50",children:[e.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"User"}),e.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Role"}),e.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Status"}),e.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Joined"}),e.jsx("th",{className:"text-right text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-stone-100",children:E.map(oe=>e.jsxs("tr",{className:"hover:bg-stone-50 transition-colors cursor-pointer",onClick:()=>s(`/admin/users/${oe.id}`),children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[oe.first_name[0],oe.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[oe.first_name," ",oe.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:oe.email})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:F=>{F.stopPropagation(),m(oe),y(oe.role)},children:e.jsx(re,{variant:K3[oe.role]||"default",size:"sm",children:po[oe.role]||oe.role})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:F=>q(oe,F),className:"flex items-center gap-1.5 text-sm",title:oe.is_active?"Click to deactivate":"Click to activate",children:oe.is_active?e.jsxs(e.Fragment,{children:[e.jsx(cj,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-green-600",children:"Active"})]}):e.jsxs(e.Fragment,{children:[e.jsx(oj,{className:"w-5 h-5 text-stone-400"}),e.jsx("span",{className:"text-stone-400",children:"Inactive"})]})})}),e.jsx("td",{className:"px-4 py-3 text-sm text-stone-500",children:new Date(oe.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx("button",{onClick:F=>{F.stopPropagation(),s(`/admin/users/${oe.id}`)},className:"p-1.5 rounded-lg text-stone-400 hover:text-primary-500 hover:bg-primary-50 transition-colors",title:"View details",children:e.jsx(ea,{className:"w-4 h-4"})}),e.jsx("button",{onClick:F=>{F.stopPropagation(),h(oe)},className:"p-1.5 rounded-lg text-stone-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:"Delete user",children:e.jsx(os,{className:"w-4 h-4"})})]})})]},oe.id))})]})})}),M>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",disabled:c<=1,onClick:()=>u(oe=>oe-1),children:e.jsx(Yd,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-stone-600",children:["Page ",c," of ",M]}),e.jsx(L,{variant:"outline",size:"sm",disabled:c>=M,onClick:()=>u(oe=>oe+1),children:e.jsx(Os,{className:"w-4 h-4"})})]}),x&&e.jsx(He,{isOpen:!0,onClose:()=>m(null),title:"Change User Role",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Changing role for ",e.jsxs("strong",{children:[x.first_name," ",x.last_name]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"New Role"}),e.jsx("select",{value:g,onChange:oe=>y(oe.target.value),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:kd.map(oe=>e.jsx("option",{value:oe,children:po[oe]},oe))})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(L,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),e.jsxs(L,{onClick:ve,isLoading:Q.isPending,children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"})," Update Role"]})]})]})}),f&&e.jsx(He,{isOpen:!0,onClose:()=>h(null),title:"Delete User",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",e.jsxs("strong",{children:[f.first_name," ",f.last_name]}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(L,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),e.jsxs(L,{variant:"danger",onClick:ye,isLoading:R.isPending,children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})}),N&&e.jsx(X3,{onClose:()=>j(!1)}),S&&e.jsx(J3,{onClose:()=>b(!1)})]})}function X3({onClose:s}){const[t,a]=_.useState({first_name:"",last_name:"",email:"",username:"",phone:"",role:"student",university_id:"",program_id:"",site_ids:[]}),[l,r]=_.useState(""),c=kE(),{data:u}=fr(),{data:f}=Lo(),h=u?.data||[],x=f?.data||[],g=h.find(k=>k.id===t.university_id)?.programs||[],y=["student","coordinator","professor","preceptor"].includes(t.role),N=t.role==="student"&&t.university_id,j=["site_manager","preceptor"].includes(t.role),S=async()=>{if(r(""),!t.first_name||!t.last_name||!t.email||!t.role){r("First name, last name, email, and role are required.");return}try{await c.mutateAsync({first_name:t.first_name,last_name:t.last_name,email:t.email,role:t.role,username:t.username||void 0,phone:t.phone||void 0,university_id:y&&t.university_id?t.university_id:void 0,program_id:N&&t.program_id?t.program_id:void 0,site_ids:j&&t.site_ids.length>0?t.site_ids:void 0}),s()}catch(k){const E=k instanceof Error?k.message:"Failed to create user.";r(E)}},b=k=>{a(E=>({...E,site_ids:E.site_ids.includes(k)?E.site_ids.filter(M=>M!==k):[...E.site_ids,k]}))},C="w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none";return e.jsx(He,{isOpen:!0,onClose:s,title:"Add New User",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[l&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl px-4 py-3 text-sm text-red-700",children:l}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"First Name *"}),e.jsx("input",{className:C,value:t.first_name,onChange:k=>a(E=>({...E,first_name:k.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Last Name *"}),e.jsx("input",{className:C,value:t.last_name,onChange:k=>a(E=>({...E,last_name:k.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",className:C,value:t.email,onChange:k=>a(E=>({...E,email:k.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Username"}),e.jsx("input",{className:C,placeholder:"lowercase, no spaces",value:t.username,onChange:k=>a(E=>({...E,username:k.target.value.toLowerCase().replace(/[^a-z0-9._-]/g,"")}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),e.jsx("input",{className:C,value:t.phone,onChange:k=>a(E=>({...E,phone:k.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Role *"}),e.jsx("select",{className:C,value:t.role,onChange:k=>a(E=>({...E,role:k.target.value,university_id:"",program_id:"",site_ids:[]})),children:kd.map(k=>e.jsx("option",{value:k,children:po[k]},k))})]}),y&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[e.jsx(Ee,{className:"w-3.5 h-3.5 inline mr-1"}),"University"]}),e.jsxs("select",{className:C,value:t.university_id,onChange:k=>a(E=>({...E,university_id:k.target.value,program_id:""})),children:[e.jsx("option",{value:"",children:"Select university..."}),h.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),N&&g.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[e.jsx(it,{className:"w-3.5 h-3.5 inline mr-1"}),"Program"]}),e.jsxs("select",{className:C,value:t.program_id,onChange:k=>a(E=>({...E,program_id:k.target.value})),children:[e.jsx("option",{value:"",children:"Select program..."}),g.map(k=>e.jsxs("option",{value:k.id,children:[k.name," (",k.degree_type,")"]},k.id))]})]}),j&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5 inline mr-1"}),t.role==="site_manager"?"Sites to Manage":"Associated Sites"]}),e.jsxs("div",{className:"max-h-40 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:[x.map(k=>e.jsxs("label",{className:"flex items-center gap-3 px-4 py-2.5 hover:bg-stone-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.site_ids.includes(k.id),onChange:()=>b(k.id),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:k.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[k.city,", ",k.state]})]})]},k.id)),x.length===0&&e.jsx("p",{className:"px-4 py-3 text-sm text-stone-400",children:"No sites available"})]})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-xs text-stone-500",children:[e.jsx(Ln,{className:"w-3.5 h-3.5 inline mr-1"}),"A welcome email with a password setup link will be sent to the user."]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:s,children:"Cancel"}),e.jsxs(L,{onClick:S,isLoading:c.isPending,children:[e.jsx(oi,{className:"w-4 h-4 mr-2"})," Create User"]})]})]})})}function J3({onClose:s}){const[t,a]=_.useState("student"),[l,r]=_.useState(""),[c,u]=_.useState(""),[f,h]=_.useState([]),[x,m]=_.useState(""),[g,y]=_.useState([]),[N,j]=_.useState(""),[S,b]=_.useState(null),[C,k]=_.useState(null),E=_.useRef(null),M=RE(),{data:z}=fr(),{data:Q}=Lo(),R=z?.data||[],q=Q?.data||[],ye=R.find($=>$.id===l)?.programs||[],oe=["student","coordinator","professor","preceptor"].includes(t),F=t==="student"&&l,xe=["site_manager","preceptor"].includes(t),X="w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",be=/[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}/g,A=$=>{const te=$.match(be)||[];return[...new Set(te.map(B=>B.toLowerCase()))]},T=()=>{const $=A(x);y(te=>[...new Set([...te,...$])]),m("")},U=$=>{const te=$.target.files?.[0];if(!te)return;const B=new FileReader;B.onload=de=>{const ke=de.target?.result,Re=A(ke);y(ze=>[...new Set([...ze,...Re])])},B.readAsText(te),E.current&&(E.current.value="")},me=$=>{y(te=>te.filter(B=>B!==$))},je=async()=>{if(j(""),g.length===0){j("Add at least one email address.");return}if(g.length>200){j("Maximum 200 emails per batch.");return}try{const $=await M.mutateAsync({emails:g,role:t,university_id:oe&&l?l:void 0,program_id:F&&c?c:void 0,site_ids:xe&&f.length>0?f:void 0});b($.results),k($.summary),Y.success($.message)}catch($){const te=$ instanceof Error?$.message:"Bulk invite failed.";j(te)}},H=$=>{h(te=>te.includes($)?te.filter(B=>B!==$):[...te,$])};return S&&C?e.jsx(He,{isOpen:!0,onClose:s,title:"Bulk Invite Results",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-green-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-700",children:C.sent}),e.jsx("p",{className:"text-xs text-green-600",children:"Sent"})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:C.skipped}),e.jsx("p",{className:"text-xs text-amber-600",children:"Skipped"})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-700",children:C.failed}),e.jsx("p",{className:"text-xs text-red-600",children:"Failed"})]})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:S.map(($,te)=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[e.jsx("span",{className:"text-sm text-stone-700",children:$.email}),e.jsxs("div",{className:"flex items-center gap-2",children:[$.status==="sent"&&e.jsx(zo,{className:"w-4 h-4 text-green-500"}),$.status==="skipped"&&e.jsx(js,{className:"w-4 h-4 text-amber-500"}),$.status==="failed"&&e.jsx(Ks,{className:"w-4 h-4 text-red-500"}),e.jsxs("span",{className:`text-xs font-medium ${$.status==="sent"?"text-green-600":$.status==="skipped"?"text-amber-600":"text-red-600"}`,children:[$.status,$.reason?`  ${$.reason}`:""]})]})]},te))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:s,children:"Done"})})]})}):e.jsx(He,{isOpen:!0,onClose:s,title:"Bulk Invite Users",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[N&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl px-4 py-3 text-sm text-red-700",children:N}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Role *"}),e.jsx("select",{className:X,value:t,onChange:$=>{a($.target.value),r(""),u(""),h([])},children:kd.map($=>e.jsx("option",{value:$,children:po[$]},$))})]}),oe&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[e.jsx(Ee,{className:"w-3.5 h-3.5 inline mr-1"})," University"]}),e.jsxs("select",{className:X,value:l,onChange:$=>{r($.target.value),u("")},children:[e.jsx("option",{value:"",children:"Select university..."}),R.map($=>e.jsx("option",{value:$.id,children:$.name},$.id))]})]}),F&&ye.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[e.jsx(it,{className:"w-3.5 h-3.5 inline mr-1"})," Program"]}),e.jsxs("select",{className:X,value:c,onChange:$=>u($.target.value),children:[e.jsx("option",{value:"",children:"Select program..."}),ye.map($=>e.jsxs("option",{value:$.id,children:[$.name," (",$.degree_type,")"]},$.id))]})]}),xe&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[e.jsx(ht,{className:"w-3.5 h-3.5 inline mr-1"}),t==="site_manager"?"Sites to Manage":"Associated Sites"]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:q.map($=>e.jsxs("label",{className:"flex items-center gap-3 px-4 py-2 hover:bg-stone-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.includes($.id),onChange:()=>H($.id),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:$.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[$.city,", ",$.state]})]})]},$.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email Addresses"}),e.jsx("textarea",{className:X+" min-h-[80px]",placeholder:"Enter emails separated by commas, spaces, or new lines...",value:x,onChange:$=>m($.target.value),onBlur:T}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(L,{variant:"outline",size:"sm",onClick:T,disabled:!x.trim(),children:"Add Emails"}),e.jsx("span",{className:"text-xs text-stone-400",children:"or"}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>E.current?.click(),children:[e.jsx(Hn,{className:"w-3.5 h-3.5 mr-1"})," Upload CSV"]}),e.jsx("input",{ref:E,type:"file",accept:".csv,.txt",className:"hidden",onChange:U})]})]}),g.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-stone-700",children:[g.length," email",g.length!==1?"s":""," ready"]}),e.jsx("button",{onClick:()=>y([]),className:"text-xs text-red-500 hover:text-red-700",children:"Clear all"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-stone-200 rounded-xl p-2 flex flex-wrap gap-1.5",children:g.map($=>e.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary-50 text-primary-700 rounded-lg px-2.5 py-1 text-xs",children:[$,e.jsx("button",{onClick:()=>me($),className:"hover:text-red-500",children:e.jsx(Ks,{className:"w-3 h-3"})})]},$))})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-xs text-stone-500",children:[e.jsx(Ln,{className:"w-3.5 h-3.5 inline mr-1"}),"Each user will receive a welcome email with a password setup link. Existing users will be skipped."]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:s,children:"Cancel"}),e.jsxs(L,{onClick:je,isLoading:M.isPending,disabled:g.length===0,children:[e.jsx(Ln,{className:"w-4 h-4 mr-2"})," Send ",g.length," Invite",g.length!==1?"s":""]})]})]})})}const cy=[{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"TX",label:"Texas"},{value:"NY",label:"New York"},{value:"CA",label:"California"},{value:"IL",label:"Illinois"},{value:"PA",label:"Pennsylvania"},{value:"NC",label:"North Carolina"},{value:"OH",label:"Ohio"},{value:"MA",label:"Massachusetts"},{value:"MD",label:"Maryland"},{value:"MI",label:"Michigan"},{value:"TN",label:"Tennessee"},{value:"WA",label:"Washington"},{value:"MN",label:"Minnesota"},{value:"CO",label:"Colorado"},{value:"VA",label:"Virginia"},{value:"AZ",label:"Arizona"},{value:"IN",label:"Indiana"},{value:"SC",label:"South Carolina"},{value:"OR",label:"Oregon"},{value:"WI",label:"Wisconsin"},{value:"CT",label:"Connecticut"},{value:"MO",label:"Missouri"},{value:"NE",label:"Nebraska"},{value:"LA",label:"Louisiana"}],Rh={BSN:"primary",MSN:"secondary",DNP:"success",PA:"warning",NP:"primary",DPT:"default",OTD:"default",MSW:"secondary",PharmD:"danger",other:"default"},dy={name:"",address:"",city:"",state:"",zip:"",phone:"",website:"",is_verified:!1},ek=["BSN","MSN","DNP","PA","NP","DPT","OTD","MSW","PharmD","other"];function tk(){const{user:s}=We(),t=s?.role==="admin",a=s?.role==="coordinator",l=yt(),r=a&&s?.universityId||null,[c,u]=_.useState(""),[f,h]=_.useState(""),[x,m]=_.useState(1),[g,y]=_.useState(null),[N,j]=_.useState("grid"),[S,b]=_.useState(!1),[C,k]=_.useState(!1),[E,M]=_.useState(null),[z,Q]=_.useState(null),[R,q]=_.useState(dy),{data:ve,isLoading:ye}=fr({search:c||void 0,state:f||void 0,page:x}),oe=OE(),F=zE(),xe=LE(),X=ve?.data||[],be=a&&r?X.filter(B=>B.id===r):X,A=ve?.last_page||1,T=ve?.total||0,U=()=>{q(dy),k(!0)},me=B=>{q({name:B.name,address:B.address||"",city:B.city||"",state:B.state||"",zip:B.zip||"",phone:B.phone||"",website:B.website||"",is_verified:B.is_verified}),M(B)},je=async B=>{B.preventDefault();try{await oe.mutateAsync(R),Y.success("University created successfully"),k(!1)}catch(de){Y.error(de instanceof Error?de.message:"Failed to create university")}},H=async B=>{if(B.preventDefault(),!!E)try{await F.mutateAsync({id:E.id,data:R}),Y.success("University updated successfully"),M(null)}catch(de){Y.error(de instanceof Error?de.message:"Failed to update university")}},$=async()=>{if(z)try{await xe.mutateAsync(z.id),Y.success("University deleted successfully"),Q(null),g?.id===z.id&&y(null)}catch(B){Y.error(B instanceof Error?B.message:"Failed to delete university")}},te=e.jsxs("div",{className:"space-y-4",children:[e.jsx(De,{label:"Name",required:!0,value:R.name,onChange:B=>q(de=>({...de,name:B.target.value})),placeholder:"University name"}),e.jsx(De,{label:"Address",value:R.address,onChange:B=>q(de=>({...de,address:B.target.value})),placeholder:"Street address"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(De,{label:"City",value:R.city,onChange:B=>q(de=>({...de,city:B.target.value})),placeholder:"City"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"State"}),e.jsxs("select",{value:R.state,onChange:B=>q(de=>({...de,state:B.target.value})),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select state"}),cy.map(B=>e.jsx("option",{value:B.value,children:B.label},B.value))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(De,{label:"ZIP",value:R.zip,onChange:B=>q(de=>({...de,zip:B.target.value})),placeholder:"ZIP code"}),e.jsx(De,{label:"Phone",value:R.phone,onChange:B=>q(de=>({...de,phone:B.target.value})),placeholder:"(555) 555-5555"})]}),e.jsx(De,{label:"Website",type:"url",value:R.website,onChange:B=>q(de=>({...de,website:B.target.value})),placeholder:"https://..."}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R.is_verified,onChange:B=>q(de=>({...de,is_verified:B.target.checked})),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Verified university"})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:a?"My University":"University Directory"}),e.jsx("p",{className:"text-stone-500 mt-1",children:a?"Your university and healthcare programs":`Browse ${T>0?`${T} `:""}universities and their healthcare programs`})]}),e.jsxs("div",{className:"flex gap-2",children:[a&&r&&e.jsxs(L,{onClick:()=>b(!0),children:[e.jsx(Ct,{className:"w-4 h-4 mr-1.5"})," Add Program"]}),t&&e.jsxs(L,{onClick:U,children:[e.jsx(Ct,{className:"w-4 h-4 mr-1.5"})," Add University"]})]})]}),S&&r&&e.jsx(sk,{universityId:r,onClose:()=>b(!1)}),!a&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search by university name...",value:c,onChange:B=>{u(B.target.value),m(1)},className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("select",{value:f,onChange:B=>{h(B.target.value),m(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"All States"}),cy.map(B=>e.jsx("option",{value:B.value,children:B.label},B.value))]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>j("grid"),className:`p-2.5 rounded-xl border transition-colors ${N==="grid"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:e.jsx(aj,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j("table"),className:`p-2.5 rounded-xl border transition-colors ${N==="table"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:e.jsx(ij,{className:"w-4 h-4"})})]})]}),ye?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):be.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pt,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No universities found"}),e.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search or filters."})]})}):N==="grid"?e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:be.map(B=>e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(it,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:B.name}),B.is_verified&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"})]}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1 mt-0.5",children:[e.jsx(ht,{className:"w-3 h-3"})," ",B.city,", ",B.state]})]})]}),B.programs&&B.programs.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.programs.slice(0,4).map(de=>e.jsx(re,{variant:Rh[de.degree_type]||"default",size:"sm",children:de.degree_type},de.id)),B.programs.length>4&&e.jsxs(re,{variant:"default",size:"sm",children:["+",B.programs.length-4]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("div",{className:"flex gap-3 text-xs text-stone-500",children:[B.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_n,{className:"w-3.5 h-3.5"})," ",B.phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pt,{className:"w-3.5 h-3.5"})," ",B.programs?.length||0," programs"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>me(B),children:e.jsx(Xn,{className:"w-3.5 h-3.5"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>Q(B),children:e.jsx(os,{className:"w-3.5 h-3.5 text-red-500"})})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>l(`/universities/${B.id}`),children:"Details"})]})]})]})},B.id))}):e.jsx("div",{className:"overflow-x-auto rounded-xl border border-stone-200",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-stone-50 border-b border-stone-200",children:[e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Name"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Location"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Programs"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Phone"}),e.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Website"}),e.jsx("th",{className:"text-right px-4 py-3 font-medium text-stone-600",children:"Actions"})]})}),e.jsx("tbody",{children:be.map(B=>e.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-stone-900",children:B.name}),B.is_verified&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"})]})}),e.jsxs("td",{className:"px-4 py-3 text-stone-600",children:[B.city,", ",B.state]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.programs?.slice(0,3).map(de=>e.jsx(re,{variant:Rh[de.degree_type]||"default",size:"sm",children:de.degree_type},de.id)),(B.programs?.length||0)>3&&e.jsxs(re,{variant:"default",size:"sm",children:["+",(B.programs?.length||0)-3]})]})}),e.jsx("td",{className:"px-4 py-3 text-stone-600",children:B.phone||""}),e.jsx("td",{className:"px-4 py-3",children:B.website?e.jsx("a",{href:B.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline text-xs",children:B.website.replace(/^https?:\/\//,"").slice(0,30)}):""}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>me(B),children:e.jsx(Xn,{className:"w-3.5 h-3.5"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>Q(B),children:e.jsx(os,{className:"w-3.5 h-3.5 text-red-500"})})]}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>l(`/universities/${B.id}`),children:"Details"})]})})]},B.id))})]})}),!a&&A>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",disabled:x<=1,onClick:()=>m(B=>B-1),children:e.jsx(Yd,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-stone-600",children:["Page ",x," of ",A]}),e.jsx(L,{variant:"outline",size:"sm",disabled:x>=A,onClick:()=>m(B=>B+1),children:e.jsx(Os,{className:"w-4 h-4"})})]}),g&&e.jsx(He,{isOpen:!0,onClose:()=>y(null),title:g.name,size:"lg",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Address"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[g.address,", ",g.city,", ",g.state," ",g.zip]})]}),g.phone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Phone"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900 flex items-center gap-1",children:[e.jsx(_n,{className:"w-3.5 h-3.5"})," ",g.phone]})]}),g.website&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Website"}),e.jsxs("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-primary-600 flex items-center gap-1 hover:underline",children:[e.jsx(ta,{className:"w-3.5 h-3.5"})," ",g.website.replace(/^https?:\/\//,"")]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Status"}),e.jsx(re,{variant:g.is_verified?"success":"warning",children:g.is_verified?"Verified":"Pending Verification"})]})]}),g.programs&&g.programs.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-primary-500"}),"Programs (",g.programs.length,")"]}),e.jsx("div",{className:"space-y-2",children:g.programs.map(B=>e.jsx("div",{className:"bg-stone-50 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center gap-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-stone-900 text-sm truncate",children:B.name}),e.jsx(re,{variant:Rh[B.degree_type]||"default",size:"sm",children:B.degree_type}),!B.is_active&&e.jsx(re,{variant:"danger",size:"sm",children:"Inactive"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"})," ",B.required_hours," hours required"]}),B.specialties&&B.specialties.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Es,{className:"w-3 h-3"})," ",B.specialties.join(", ")]})]})]})},B.id))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs(L,{variant:"outline",onClick:()=>{y(null),me(g)},children:[e.jsx(Xn,{className:"w-3.5 h-3.5 mr-1.5"})," Edit"]}),e.jsxs(L,{variant:"outline",onClick:()=>{y(null),Q(g)},className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(os,{className:"w-3.5 h-3.5 mr-1.5"})," Delete"]})]}),e.jsx(L,{variant:"outline",onClick:()=>y(null),children:"Close"})]})]})}),C&&e.jsx(He,{isOpen:!0,onClose:()=>k(!1),title:"Add University",children:e.jsxs("form",{onSubmit:je,className:"space-y-6",children:[te,e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{variant:"outline",type:"button",onClick:()=>k(!1),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:oe.isPending,children:"Create University"})]})]})}),E&&e.jsx(He,{isOpen:!0,onClose:()=>M(null),title:"Edit University",children:e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[te,e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{variant:"outline",type:"button",onClick:()=>M(null),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:F.isPending,children:"Save Changes"})]})]})}),z&&e.jsx(He,{isOpen:!0,onClose:()=>Q(null),title:"Delete University",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:z.name}),"? This will also remove all associated programs. This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{variant:"outline",onClick:()=>Q(null),children:"Cancel"}),e.jsx(L,{onClick:$,isLoading:xe.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function sk({universityId:s,onClose:t}){const a=pj(),[l,r]=_.useState({name:"",degree_type:"MSN",required_hours:500,specialties:""}),c=()=>{if(!l.name.trim()){Y.error("Program name is required.");return}const u=l.specialties.split(",").map(f=>f.trim()).filter(Boolean);a.mutate({universityId:s,data:{name:l.name.trim(),degree_type:l.degree_type,required_hours:l.required_hours,specialties:u.length>0?u:void 0}},{onSuccess:()=>{Y.success("Program created successfully."),t()},onError:f=>Y.error(f.message||"Failed to create program.")})};return e.jsx(He,{isOpen:!0,onClose:t,title:"Add New Program",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program Name"}),e.jsx("input",{type:"text",value:l.name,onChange:u=>r({...l,name:u.target.value}),placeholder:"e.g. Family Nurse Practitioner",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Degree Type"}),e.jsx("select",{value:l.degree_type,onChange:u=>r({...l,degree_type:u.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:ek.map(u=>e.jsx("option",{value:u,children:u},u))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Required Clinical Hours"}),e.jsx("input",{type:"number",min:"0",value:l.required_hours,onChange:u=>r({...l,required_hours:Number(u.target.value)}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Specialties (comma-separated)"}),e.jsx("input",{type:"text",value:l.specialties,onChange:u=>r({...l,specialties:u.target.value}),placeholder:"e.g. Family Practice, Pediatrics, Women's Health",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),e.jsxs(L,{onClick:c,isLoading:a.isPending,children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," Create Program"]})]})]})})}const Th={open:"success",filled:"warning",closed:"default",active:"success",draft:"default",pending_review:"warning",expired:"danger",terminated:"danger",accepted:"success",pending:"warning",declined:"danger",completed:"success",withdrawn:"default"};function nk(){const{id:s}=xi(),t=yt(),{data:a,isLoading:l}=cE(s);if(l)return e.jsx("div",{className:"flex justify-center py-24",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!a)return e.jsxs("div",{className:"text-center py-24",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"Site not found"}),e.jsxs(L,{variant:"outline",className:"mt-4",onClick:()=>t("/sites"),children:[e.jsx(Sn,{className:"w-4 h-4 mr-2"})," Back to Sites"]})]});const r=a.slots||[],c=a.affiliation_agreements||[],u=a.onboarding_templates||[];a.invites;const f=[];for(const m of r)for(const g of m.applications||[])g.student&&f.push({id:g.student.id,first_name:g.student.first_name,last_name:g.student.last_name,email:g.student.email,status:g.status,slot_title:m.title,specialty:m.specialty});const h=new Map;for(const m of r)if(m.preceptor){const g=h.get(m.preceptor.id);g?g.slots.push(m.title):h.set(m.preceptor.id,{id:m.preceptor.id,first_name:m.preceptor.first_name,last_name:m.preceptor.last_name,email:m.preceptor.email,slots:[m.title]})}const x=Array.from(h.values());return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>t("/sites"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700 mb-4",children:[e.jsx(Sn,{className:"w-4 h-4"})," Back to Sites Directory"]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:a.name}),a.is_verified&&e.jsxs(re,{variant:"success",children:[e.jsx(Es,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-stone-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-4 h-4 text-stone-400"})," ",a.address,", ",a.city,", ",a.state," ",a.zip]}),a.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_n,{className:"w-4 h-4 text-stone-400"})," ",a.phone]}),a.website&&e.jsxs("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary-600 hover:underline",children:[e.jsx(ta,{className:"w-4 h-4"})," Website"]})]}),a.description&&e.jsx("p",{className:"mt-3 text-sm text-stone-600 max-w-2xl",children:a.description})]}),e.jsxs("div",{className:"text-right shrink-0",children:[a.rating>0&&e.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[e.jsx(hs,{className:"w-5 h-5 fill-current"}),e.jsx("span",{className:"text-xl font-bold",children:a.rating}),e.jsxs("span",{className:"text-sm text-stone-400",children:["(",a.review_count,")"]})]}),a.ehr_system&&e.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:["EHR: ",a.ehr_system]})]})]}),a.specialties?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:a.specialties.map(m=>e.jsx(re,{variant:"default",children:m},m))})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[{icon:e.jsx(dt,{className:"w-5 h-5"}),label:"Rotation Slots",value:r.length,color:"bg-primary-50 text-primary-600"},{icon:e.jsx(at,{className:"w-5 h-5"}),label:"Preceptors",value:x.length,color:"bg-secondary-50 text-secondary-600"},{icon:e.jsx(at,{className:"w-5 h-5"}),label:"Students",value:f.length,color:"bg-green-50 text-green-600"},{icon:e.jsx(So,{className:"w-5 h-5"}),label:"Agreements",value:c.length,color:"bg-amber-50 text-amber-600"},{icon:e.jsx(St,{className:"w-5 h-5"}),label:"Templates",value:u.length,color:"bg-stone-100 text-stone-600"}].map(m=>e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4 text-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${m.color} flex items-center justify-center mx-auto mb-2`,children:m.icon}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:m.value}),e.jsx("p",{className:"text-xs text-stone-500",children:m.label})]},m.label))}),a.manager&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4 text-primary-500"})," Site Manager"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[a.manager.first_name?.[0],a.manager.last_name?.[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[a.manager.first_name," ",a.manager.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:a.manager.email})]})]})]}),e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4 text-primary-500"})," Rotation Slots (",r.length,")"]}),r.length===0?e.jsx("p",{className:"text-sm text-stone-400 py-4 text-center",children:"No rotation slots yet"}):e.jsx("div",{className:"space-y-2",children:r.map(m=>e.jsx("div",{className:"p-4 bg-stone-50 rounded-xl",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:m.title}),e.jsxs("p",{className:"text-xs text-stone-500",children:[m.specialty," - ",m.shift_schedule||""]}),m.preceptor&&e.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:["Preceptor: ",m.preceptor.first_name," ",m.preceptor.last_name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(re,{variant:Th[m.status]||"default",size:"sm",children:[m.status," (",m.filled,"/",m.capacity,")"]}),e.jsxs("div",{className:"text-xs text-stone-400 mt-1",children:[e.jsx(Ot,{className:"w-3 h-3 inline mr-0.5"}),new Date(m.start_date).toLocaleDateString()," - ",new Date(m.end_date).toLocaleDateString()]})]})]})},m.id))})]}),x.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(at,{className:"w-4 h-4 text-primary-500"})," Preceptors (",x.length,")"]}),e.jsx("div",{className:"space-y-2",children:x.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-secondary-100 flex items-center justify-center text-secondary-700 font-semibold text-sm",children:[m.first_name[0],m.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[m.first_name," ",m.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:m.email})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:m.slots.map(g=>e.jsx(re,{variant:"default",size:"sm",children:g},g))})]},m.id))})]}),f.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(at,{className:"w-4 h-4 text-primary-500"})," Students (",f.length,")"]}),e.jsx("div",{className:"space-y-2",children:f.map((m,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-semibold text-sm",children:[m.first_name[0],m.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[m.first_name," ",m.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[m.slot_title," - ",m.specialty]})]})]}),e.jsx(re,{variant:Th[m.status]||"default",size:"sm",children:m.status})]},`${m.id}-${g}`))})]}),c.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(So,{className:"w-4 h-4 text-primary-500"})," Affiliation Agreements (",c.length,")"]}),e.jsx("div",{className:"space-y-2",children:c.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:m.university?.name||"Unknown University"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[m.start_date?new Date(m.start_date).toLocaleDateString():"?"," - ",m.end_date?new Date(m.end_date).toLocaleDateString():"?"]})]}),e.jsx(re,{variant:Th[m.status]||"default",size:"sm",children:m.status})]},m.id))})]}),u.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(St,{className:"w-4 h-4 text-primary-500"})," Onboarding Templates (",u.length,")"]}),e.jsx("div",{className:"space-y-2",children:u.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:m.name}),m.description&&e.jsx("p",{className:"text-xs text-stone-500",children:m.description})]}),e.jsx(re,{variant:m.is_active?"success":"default",size:"sm",children:m.is_active?"Active":"Inactive"})]},m.id))})]})]})}const uy={active:"success",draft:"default",pending_review:"warning",expired:"danger",terminated:"danger",issued:"success",pending:"warning",approved:"success",rejected:"danger"},ak={BSN:"bg-blue-100 text-blue-700",MSN:"bg-purple-100 text-purple-700",DNP:"bg-emerald-100 text-emerald-700",PhD:"bg-rose-100 text-rose-700","PA-C":"bg-amber-100 text-amber-700",MD:"bg-teal-100 text-teal-700"};function ik(){const{id:s}=xi(),t=yt(),{data:a,isLoading:l}=UE(s);if(l)return e.jsx("div",{className:"flex justify-center py-24",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!a)return e.jsxs("div",{className:"text-center py-24",children:[e.jsx(Ee,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"University not found"}),e.jsxs(L,{variant:"outline",className:"mt-4",onClick:()=>t("/universities"),children:[e.jsx(Sn,{className:"w-4 h-4 mr-2"})," Back to Universities"]})]});const r=a.programs||[],c=a.affiliation_agreements||[],u=a.student_profiles||[],f=a.ce_policy,h=a.ce_certificates||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>t("/universities"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700 mb-4",children:[e.jsx(Sn,{className:"w-4 h-4"})," Back to Universities"]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:a.name}),a.is_verified&&e.jsxs(re,{variant:"success",children:[e.jsx(Es,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-stone-600",children:[a.city&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"w-4 h-4 text-stone-400"}),a.address?`${a.address}, `:"",a.city,", ",a.state," ",a.zip]}),a.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_n,{className:"w-4 h-4 text-stone-400"})," ",a.phone]}),a.website&&e.jsxs("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary-600 hover:underline",children:[e.jsx(ta,{className:"w-4 h-4"})," Website"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[{icon:e.jsx(Pt,{className:"w-5 h-5"}),label:"Programs",value:r.length,color:"bg-primary-50 text-primary-600"},{icon:e.jsx(at,{className:"w-5 h-5"}),label:"Students",value:a.student_profiles_count??u.length,color:"bg-green-50 text-green-600"},{icon:e.jsx(So,{className:"w-5 h-5"}),label:"Agreements",value:c.length,color:"bg-amber-50 text-amber-600"},{icon:e.jsx(Qt,{className:"w-5 h-5"}),label:"CE Certificates",value:h.length,color:"bg-secondary-50 text-secondary-600"},{icon:e.jsx(it,{className:"w-5 h-5"}),label:"CE Policy",value:f?"Active":"None",color:"bg-stone-100 text-stone-600"}].map(x=>e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4 text-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${x.color} flex items-center justify-center mx-auto mb-2`,children:x.icon}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:x.value}),e.jsx("p",{className:"text-xs text-stone-500",children:x.label})]},x.label))}),e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-primary-500"})," Programs (",r.length,")"]}),r.length===0?e.jsx("p",{className:"text-sm text-stone-400 py-4 text-center",children:"No programs added yet"}):e.jsx("div",{className:"space-y-2",children:r.map(x=>e.jsx("div",{className:"p-4 bg-stone-50 rounded-xl",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:x.name}),e.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${ak[x.degree_type]||"bg-stone-100 text-stone-700"}`,children:x.degree_type}),!x.is_active&&e.jsx(re,{variant:"default",size:"sm",children:"Inactive"})]}),x.specialties?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:x.specialties.map(m=>e.jsx(re,{variant:"default",size:"sm",children:m},m))})]}),e.jsxs("div",{className:"text-right text-xs text-stone-500",children:[e.jsx(Be,{className:"w-3 h-3 inline mr-0.5"}),x.required_hours,"h required"]})]})},x.id))})]}),u.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(at,{className:"w-4 h-4 text-primary-500"})," Students (",u.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[u.slice(0,20).map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-semibold text-sm",children:[x.user?.first_name?.[0]||"?",x.user?.last_name?.[0]||"?"]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:x.user?`${x.user.first_name} ${x.user.last_name}`:"Unknown"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[x.program?.name||"No program"," ",x.program?.degree_type?`(${x.program.degree_type})`:""]})]})]}),e.jsx("div",{className:"text-right text-xs text-stone-500",children:x.hours_completed?`${x.hours_completed}/${x.hours_required||"?"}h`:""})]},x.id)),u.length>20&&e.jsxs("p",{className:"text-xs text-stone-400 text-center py-2",children:["Showing 20 of ",u.length," students"]})]})]}),c.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(So,{className:"w-4 h-4 text-primary-500"})," Affiliation Agreements (",c.length,")"]}),e.jsx("div",{className:"space-y-2",children:c.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:x.site?.name||"Unknown Site"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[x.start_date?new Date(x.start_date).toLocaleDateString():"?"," - ",x.end_date?new Date(x.end_date).toLocaleDateString():"?"]})]}),e.jsx(re,{variant:uy[x.status]||"default",size:"sm",children:x.status})]},x.id))})]}),f&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4 text-primary-500"})," CE Policy"]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Offers CE"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:f.offers_ce?"Yes":"No"})]}),f.accrediting_body&&e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Accrediting Body"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:f.accrediting_body})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Hours Per Rotation"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:f.contact_hours_per_rotation})]}),f.signer_name&&e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Signer"}),e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[f.signer_name,f.signer_credentials?`, ${f.signer_credentials}`:""]})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Approval Required"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:f.approval_required?"Yes":"No"})]})]})]}),h.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4 text-primary-500"})," CE Certificates (",h.length,")"]}),e.jsx("div",{className:"space-y-2",children:h.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:x.preceptor?`${x.preceptor.first_name} ${x.preceptor.last_name}`:"Unknown Preceptor"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[x.contact_hours," contact hours"]})]}),e.jsx(re,{variant:uy[x.status]||"default",size:"sm",children:x.status})]},x.id))})]})]})}const lk=["student","preceptor","site_manager","coordinator","professor","admin"],my={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"},rk={student:"primary",preceptor:"secondary",site_manager:"warning",coordinator:"success",professor:"default",admin:"danger"};function ok(){const{id:s}=xi(),t=yt(),{data:a,isLoading:l}=AE(s),r=fj(),c=xj(),u=DE(),[f,h]=_.useState(!1),[x,m]=_.useState(""),[g,y]=_.useState(!1),[N,j]=_.useState(!1),[S,b]=_.useState(null),[C,k]=_.useState(!1),[E,M]=_.useState(!1),[z,Q]=_.useState({first_name:"",last_name:"",email:"",phone:"",username:""}),R=a?.user,q=a?.stats;if(l)return e.jsx("div",{className:"flex justify-center py-24",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!R)return e.jsxs("div",{className:"text-center py-24",children:[e.jsx(at,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"User not found"}),e.jsxs(L,{variant:"outline",className:"mt-4",onClick:()=>t("/admin/users"),children:[e.jsx(Sn,{className:"w-4 h-4 mr-2"})," Back to Users"]})]});const ve=async()=>{!x||x===R.role||(await r.mutateAsync({id:R.id,data:{role:x}}),h(!1))},ye=async()=>{await r.mutateAsync({id:R.id,data:{is_active:!R.is_active}})},oe=async()=>{await c.mutateAsync(R.id),t("/admin/users")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>t("/admin/users"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700 mb-4",children:[e.jsx(Sn,{className:"w-4 h-4"})," Back to Users"]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-xl shrink-0",children:[R.first_name[0],R.last_name[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:[R.first_name," ",R.last_name]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.jsx(re,{variant:rk[R.role]||"default",children:my[R.role]||R.role}),e.jsx(re,{variant:R.is_active?"success":"default",children:R.is_active?"Active":"Inactive"}),R.email_verified&&e.jsxs(re,{variant:"success",size:"sm",children:[e.jsx(Es,{className:"w-3 h-3 mr-1"}),"Email Verified"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-stone-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"w-4 h-4 text-stone-400"})," ",R.email]}),R.username&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ft,{className:"w-4 h-4 text-stone-400"})," @",R.username]}),R.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_n,{className:"w-4 h-4 text-stone-400"})," ",R.phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-4 h-4 text-stone-400"})," Joined ",new Date(R.created_at).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-primary-100",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{Q({first_name:R.first_name,last_name:R.last_name,email:R.email,phone:R.phone||"",username:R.username||""}),M(!0)},children:[e.jsx(Xn,{className:"w-4 h-4 mr-1"})," Edit Profile"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{h(!0),m(R.role)},children:[e.jsx(Ft,{className:"w-4 h-4 mr-1"})," Change Role"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:ye,children:[R.is_active?e.jsx(cj,{className:"w-4 h-4 mr-1"}):e.jsx(oj,{className:"w-4 h-4 mr-1"}),R.is_active?"Deactivate":"Activate"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>j(!0),children:[e.jsx(ey,{className:"w-4 h-4 mr-1"})," Reset Password"]}),e.jsxs(L,{variant:"danger",size:"sm",onClick:()=>y(!0),children:[e.jsx(os,{className:"w-4 h-4 mr-1"})," Delete User"]})]})]})]}),q&&e.jsx(ck,{user:R,stats:q}),R.role==="student"&&e.jsx(dk,{user:R}),R.role==="preceptor"&&e.jsx(mk,{user:R}),R.role==="site_manager"&&e.jsx(fk,{user:R}),f&&e.jsx(He,{isOpen:!0,onClose:()=>h(!1),title:"Change User Role",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Changing role for ",e.jsxs("strong",{children:[R.first_name," ",R.last_name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"New Role"}),e.jsx("select",{value:x,onChange:F=>m(F.target.value),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:lk.map(F=>e.jsx("option",{value:F,children:my[F]},F))})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(L,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsxs(L,{onClick:ve,isLoading:r.isPending,children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"})," Update Role"]})]})]})}),g&&e.jsx(He,{isOpen:!0,onClose:()=>y(!1),title:"Delete User",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",e.jsxs("strong",{children:[R.first_name," ",R.last_name]}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(L,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsxs(L,{variant:"danger",onClick:oe,isLoading:c.isPending,children:[e.jsx(os,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})}),N&&e.jsx(He,{isOpen:!0,onClose:()=>{j(!1),b(null),k(!1)},title:"Reset User Password",size:"sm",children:S?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Password has been reset for ",e.jsxs("strong",{children:[R.first_name," ",R.last_name]}),".",!S.email_sent&&e.jsx("span",{className:"block mt-1 text-amber-600 font-medium",children:"Email could not be sent. Please share the password with the user directly."}),S.email_sent&&e.jsxs("span",{className:"block mt-1 text-green-600",children:["Email sent to ",R.email,"."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Temporary Password"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 px-4 py-3 bg-stone-100 rounded-xl text-lg font-mono font-bold text-stone-900 tracking-wider text-center select-all",children:S.temporary_password}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(S.temporary_password),k(!0),setTimeout(()=>k(!1),2e3)},children:C?e.jsx(zo,{className:"w-4 h-4 text-green-600"}):e.jsx(Bf,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"The user should change this password after logging in."}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{variant:"outline",onClick:()=>{j(!1),b(null),k(!1)},children:"Done"})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["This will generate a new temporary password for ",e.jsxs("strong",{children:[R.first_name," ",R.last_name]})," and attempt to email it to ",e.jsx("strong",{children:R.email}),". The password will also be shown here."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(L,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsxs(L,{onClick:async()=>{try{const F=await u.mutateAsync(R.id);b({temporary_password:F.temporary_password,email_sent:F.email_sent}),Y.success(F.message)}catch(F){Y.error(F.message||"Failed to reset password.")}},isLoading:u.isPending,children:[e.jsx(ey,{className:"w-4 h-4 mr-2"})," Reset Password"]})]})]})}),E&&e.jsx(He,{isOpen:!0,onClose:()=>M(!1),title:"Edit User Profile",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"First Name"}),e.jsx("input",{type:"text",value:z.first_name,onChange:F=>Q({...z,first_name:F.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",value:z.last_name,onChange:F=>Q({...z,last_name:F.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:z.email,onChange:F=>Q({...z,email:F.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),e.jsx("input",{type:"text",value:z.phone,onChange:F=>Q({...z,phone:F.target.value}),placeholder:"Optional",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Username"}),e.jsx("input",{type:"text",value:z.username,onChange:F=>Q({...z,username:F.target.value}),placeholder:"Optional",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),e.jsxs(L,{onClick:async()=>{try{await r.mutateAsync({id:R.id,data:z}),M(!1),Y.success("User profile updated.")}catch(F){Y.error(F.message||"Failed to update profile.")}},isLoading:r.isPending,children:[e.jsx(Xn,{className:"w-4 h-4 mr-2"})," Save Changes"]})]})]})})]})}function ck({user:s,stats:t}){const a=[];return s.role==="student"?a.push({icon:e.jsx(St,{className:"w-5 h-5"}),label:"Applications",value:t.applications_count,color:"bg-primary-50 text-primary-600"},{icon:e.jsx(Be,{className:"w-5 h-5"}),label:"Total Hours",value:`${t.total_hours}h`,color:"bg-secondary-50 text-secondary-600"},{icon:e.jsx(bs,{className:"w-5 h-5"}),label:"Evaluations",value:t.evaluations_as_student,color:"bg-green-50 text-green-600"},{icon:e.jsx(Qt,{className:"w-5 h-5"}),label:"Hour Logs",value:t.hour_logs_count,color:"bg-amber-50 text-amber-600"}):s.role==="preceptor"?a.push({icon:e.jsx(it,{className:"w-5 h-5"}),label:"Rotation Slots",value:t.preceptor_slots_count,color:"bg-primary-50 text-primary-600"},{icon:e.jsx(bs,{className:"w-5 h-5"}),label:"Evaluations Written",value:t.evaluations_as_preceptor,color:"bg-secondary-50 text-secondary-600"}):s.role==="site_manager"?a.push({icon:e.jsx(Ee,{className:"w-5 h-5"}),label:"Managed Sites",value:t.managed_sites_count,color:"bg-primary-50 text-primary-600"}):(s.role==="coordinator"||s.role==="professor")&&a.push({icon:e.jsx(at,{className:"w-5 h-5"}),label:"Students",value:t.applications_count,color:"bg-primary-50 text-primary-600"}),a.length===0?null:e.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-${Math.min(a.length,4)} gap-3`,children:a.map(l=>e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4 text-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${l.color} flex items-center justify-center mx-auto mb-2`,children:l.icon}),e.jsx("p",{className:"text-xl font-bold text-stone-900",children:l.value}),e.jsx("p",{className:"text-xs text-stone-500",children:l.label})]},l.label))})}function dk({user:s}){const t=s.student_profile,[a,l]=_.useState(!1);return e.jsxs(e.Fragment,{children:[t&&e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 flex items-center gap-2",children:[e.jsx(it,{className:"w-4 h-4 text-primary-500"})," Student Profile"]}),e.jsxs(L,{size:"sm",onClick:()=>l(!0),children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," Assign Program"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"University"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.university?e.jsx(Vt,{to:`/universities/${t.university.id}`,className:"text-primary-600 hover:underline",children:t.university.name}):"N/A"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Program"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.program?.name||"N/A"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Degree"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.program?.degree_type||"N/A"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"GPA"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.gpa?.toFixed(2)||"N/A"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Graduation"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.graduation_date?new Date(t.graduation_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Hours Progress"}),e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[(t.prior_hours||0)+(t.hours_completed||0)," / ",t.program?.required_hours||"?","h"]})]})]}),t.clinical_interests?.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1.5",children:"Clinical Interests"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.clinical_interests.map(r=>e.jsx(re,{variant:"default",size:"sm",children:r},r))})]})]}),s.credentials&&s.credentials.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4 text-primary-500"})," Credentials (",s.credentials.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.credentials.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:r.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[r.type?.replace("_"," "),r.expiration_date?` - Expires ${new Date(r.expiration_date).toLocaleDateString()}`:""]})]}),e.jsx(re,{variant:r.status==="valid"?"success":r.status==="expired"?"danger":"warning",size:"sm",children:r.status})]},r.id))})]}),s.applications&&s.applications.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(St,{className:"w-4 h-4 text-primary-500"})," Applications (",s.applications.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.applications.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:r.slot?.title||"Unknown Rotation"}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[r.slot?.site&&e.jsxs(Vt,{to:`/sites/${r.slot.site.id}`,className:"text-primary-600 hover:underline flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"})," ",r.slot.site.name]}),r.submitted_at&&e.jsxs(e.Fragment,{children:[" - ",new Date(r.submitted_at).toLocaleDateString()]})]})]}),e.jsx(re,{variant:r.status==="accepted"?"success":r.status==="pending"?"warning":r.status==="declined"?"danger":"default",size:"sm",children:r.status})]},r.id))})]}),s.hour_logs&&s.hour_logs.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-primary-500"})," Hour Logs (",s.hour_logs.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.hour_logs.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[Number(r.hours_worked),"h - ",r.category?.replace("_"," ")]}),e.jsx("p",{className:"text-xs text-stone-500",children:new Date(r.date).toLocaleDateString()})]}),e.jsx(re,{variant:r.status==="approved"?"success":r.status==="pending"?"warning":"danger",size:"sm",children:r.status})]},r.id))})]}),s.evaluations_as_student&&s.evaluations_as_student.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-primary-500"})," Evaluations (",s.evaluations_as_student.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.evaluations_as_student.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:r.type==="mid_rotation"?"Mid-Rotation":r.type==="final"?"Final":"Feedback"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[r.slot?.title||""," ",r.preceptor?`by ${r.preceptor.first_name} ${r.preceptor.last_name}`:""]})]}),e.jsxs("div",{className:"text-right",children:[r.overall_score>0&&e.jsxs("p",{className:"text-sm font-bold text-primary-600",children:[r.overall_score,"/5"]}),e.jsx(re,{variant:r.is_submitted?"success":"warning",size:"sm",children:r.is_submitted?"Complete":"Pending"})]})]},r.id))})]}),a&&e.jsx(uk,{studentId:s.id,currentProgramId:t?.program?.id,onClose:()=>l(!1)})]})}function uk({studentId:s,currentProgramId:t,onClose:a}){const[l,r]=_.useState(""),[c,u]=_.useState(""),[f,h]=_.useState([]),[x,m]=_.useState(!1),{data:g}=fr(),y=gj(),N=g?.data||[],j=async b=>{if(r(b),u(""),h([]),!!b){m(!0);try{const C=await di.programs(b);h(C)}catch{Y.error("Failed to load programs.")}finally{m(!1)}}},S=async()=>{if(c)try{const b=await y.mutateAsync({studentId:s,programId:c});Y.success(b.message||"Program assigned successfully."),a()}catch(b){Y.error(b.message||"Failed to assign program.")}};return e.jsx(He,{isOpen:!0,onClose:a,title:"Assign Student to Program",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"University"}),e.jsxs("select",{value:l,onChange:b=>j(b.target.value),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select a university..."}),N.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program"}),e.jsxs("select",{value:c,onChange:b=>u(b.target.value),disabled:!l||x,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:x?"Loading programs...":"Select a program..."}),f.map(b=>e.jsxs("option",{value:b.id,disabled:b.id===t,children:[b.name," (",b.degree_type,") ",b.id===t?"(current)":""]},b.id))]})]}),c&&e.jsx("div",{className:"bg-primary-50 rounded-xl p-3",children:(()=>{const b=f.find(C=>C.id===c);return b?e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-stone-900",children:b.name}),e.jsxs("p",{className:"text-stone-600",children:[b.degree_type,"  ",b.required_hours,"h required"]}),b.specialties?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:b.specialties.map(C=>e.jsx(re,{variant:"default",size:"sm",children:C},C))})]}):null})()}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:a,children:"Cancel"}),e.jsxs(L,{onClick:S,isLoading:y.isPending,disabled:!c||c===t,children:[e.jsx(it,{className:"w-4 h-4 mr-2"})," Assign Program"]})]})]})})}function mk({user:s}){const[t,a]=_.useState(!1),[l,r]=_.useState(null),c=ME(),u=s.assigned_sites||[],f=async()=>{if(l)try{const h=await c.mutateAsync({userId:s.id,siteId:l.id});Y.success(h.message),r(null)}catch(h){Y.error(h.message||"Failed to remove from site.")}};return e.jsxs(e.Fragment,{children:[e.jsxs(V,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-primary-500"})," Assigned Sites (",u.length,")"]}),e.jsxs(L,{size:"sm",onClick:()=>a(!0),children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," Assign to Site"]})]}),u.length>0?e.jsx("div",{className:"space-y-2",children:u.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx(Vt,{to:`/sites/${h.id}`,className:"text-sm font-medium text-primary-600 hover:underline",children:h.name}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"})," ",h.city,", ",h.state]}),h.specialties?.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[h.specialties.slice(0,3).map(x=>e.jsx(re,{variant:"default",size:"sm",children:x},x)),h.specialties.length>3&&e.jsxs(re,{variant:"default",size:"sm",children:["+",h.specialties.length-3]})]})]}),e.jsx("button",{onClick:()=>r({id:h.id,name:h.name}),className:"p-1.5 rounded-lg text-stone-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:"Remove from site",children:e.jsx(Ks,{className:"w-4 h-4"})})]},h.id))}):e.jsx("p",{className:"text-sm text-stone-400 text-center py-4",children:"No sites assigned yet."})]}),s.preceptor_slots&&s.preceptor_slots.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4 text-primary-500"})," Assigned Rotation Slots (",s.preceptor_slots.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.preceptor_slots.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:h.title}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[h.site&&e.jsxs(Vt,{to:`/sites/${h.site.id}`,className:"text-primary-600 hover:underline flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"})," ",h.site.name]}),h.specialty&&e.jsxs(e.Fragment,{children:[" - ",h.specialty]})]})]}),e.jsxs(re,{variant:h.status==="open"?"success":h.status==="filled"?"warning":"default",size:"sm",children:[h.status," (",h.filled,"/",h.capacity,")"]})]},h.id))})]}),s.evaluations_as_preceptor&&s.evaluations_as_preceptor.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-primary-500"})," Evaluations Written (",s.evaluations_as_preceptor.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.evaluations_as_preceptor.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:h.student?`${h.student.first_name} ${h.student.last_name}`:"Unknown Student"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[h.type==="mid_rotation"?"Mid-Rotation":h.type==="final"?"Final":"Feedback",h.slot?` - ${h.slot.title}`:""]})]}),e.jsxs("div",{className:"text-right",children:[h.overall_score>0&&e.jsxs("p",{className:"text-sm font-bold text-primary-600",children:[h.overall_score,"/5"]}),e.jsx(re,{variant:h.is_submitted?"success":"warning",size:"sm",children:h.is_submitted?"Submitted":"Draft"})]})]},h.id))})]}),t&&e.jsx(hk,{userId:s.id,assignedSiteIds:u.map(h=>h.id),onClose:()=>a(!1)}),l&&e.jsx(He,{isOpen:!0,onClose:()=>r(null),title:"Remove from Site",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Remove ",e.jsxs("strong",{children:[s.first_name," ",s.last_name]})," from ",e.jsx("strong",{children:l.name}),"?"]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(L,{variant:"outline",onClick:()=>r(null),children:"Cancel"}),e.jsxs(L,{variant:"danger",onClick:f,isLoading:c.isPending,children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"})," Remove"]})]})]})})]})}function hk({userId:s,assignedSiteIds:t,onClose:a}){const[l,r]=_.useState([]),{data:c}=Lo(),u=TE(),f=(c?.data||[]).filter(m=>!t.includes(m.id)),h=m=>{r(g=>g.includes(m)?g.filter(y=>y!==m):[...g,m])},x=async()=>{if(l.length!==0)try{const m=await u.mutateAsync({userId:s,siteIds:l});Y.success(m.message),a()}catch(m){Y.error(m.message||"Failed to assign sites.")}};return e.jsx(He,{isOpen:!0,onClose:a,title:"Assign Preceptor to Sites",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[f.length>0?e.jsx("div",{className:"max-h-64 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:f.map(m=>e.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 hover:bg-stone-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.includes(m.id),onChange:()=>h(m.id),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:m.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[m.city,", ",m.state]})]})]},m.id))}):e.jsx("p",{className:"text-sm text-stone-400 text-center py-4",children:"All sites are already assigned."}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(L,{variant:"outline",onClick:a,children:"Cancel"}),e.jsxs(L,{onClick:x,isLoading:u.isPending,disabled:l.length===0,children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"})," Assign ",l.length>0?`(${l.length})`:""]})]})]})})}function fk({user:s}){return e.jsx(e.Fragment,{children:s.managed_sites&&s.managed_sites.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-primary-500"})," Managed Sites (",s.managed_sites.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.managed_sites.map(t=>e.jsxs(Vt,{to:`/sites/${t.id}`,className:"block p-4 bg-stone-50 rounded-xl hover:bg-stone-100 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:t.name}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"})," ",t.city,", ",t.state]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.is_verified&&e.jsxs(re,{variant:"success",size:"sm",children:[e.jsx(Es,{className:"w-3 h-3 mr-0.5"}),"Verified"]}),t.rating>0&&e.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3 fill-current"}),t.rating]})]})]}),t.specialties?.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[t.specialties.slice(0,5).map(a=>e.jsx(re,{variant:"default",size:"sm",children:a},a)),t.specialties.length>5&&e.jsxs(re,{variant:"default",size:"sm",children:["+",t.specialties.length-5]})]})]},t.id))})]})})}function xk(){const{data:s,isLoading:t}=JE(),{data:a}=Da(),l=eA(),r=tA(),c=sA(),[u,f]=_.useState(!1),[h,x]=_.useState(null),[m,g]=_.useState(null),y=s?.templates??[],N=a?.sites??[],[j,S]=_.useState(""),[b,C]=_.useState(""),[k,E]=_.useState(""),[M,z]=_.useState(!0),[Q,R]=_.useState([{title:"",description:"",is_required:!0}]);function q(){S(N[0]?.id||""),C(""),E(""),z(!0),R([{title:"",description:"",is_required:!0}])}function ve(){q(),N.length>0&&S(N[0].id),f(!0)}function ye(T){S(T.site_id),C(T.name),E(T.description||""),z(T.is_active),R(T.items?.map(U=>({title:U.title,description:U.description||"",is_required:U.is_required}))||[{title:"",description:"",is_required:!0}]),x(T)}function oe(){R([...Q,{title:"",description:"",is_required:!0}])}function F(T){Q.length<=1||R(Q.filter((U,me)=>me!==T))}function xe(T,U,me){R(Q.map((je,H)=>H===T?{...je,[U]:me}:je))}async function X(){const T=Q.filter(U=>U.title.trim());if(!b.trim()||T.length===0){Y.error("Please provide a template name and at least one item");return}try{h?(await r.mutateAsync({id:h.id,data:{name:b,description:k||void 0,is_active:M,items:T}}),Y.success("Template updated"),x(null)):(await l.mutateAsync({site_id:j,name:b,description:k||void 0,is_active:M,items:T}),Y.success("Template created"),f(!1))}catch{Y.error("Failed to save template")}}async function be(){if(m)try{await c.mutateAsync(m.id),Y.success("Template deleted"),g(null)}catch{Y.error("Failed to delete template")}}const A=e.jsxs("div",{className:"space-y-4",children:[!h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Site"}),e.jsx("select",{value:j,onChange:T=>S(T.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500",children:N.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))})]}),e.jsx(De,{label:"Template Name",value:b,onChange:T=>C(T.target.value),placeholder:"e.g., Main Campus Onboarding"}),e.jsx(De,{label:"Description (optional)",value:k,onChange:T=>E(T.target.value),placeholder:"Brief description of this checklist"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:T=>z(T.target.checked),className:"rounded border-stone-300"}),e.jsx("span",{className:"font-medium text-stone-700",children:"Active"}),e.jsx("span",{className:"text-stone-500",children:"(will be used for new accepted applications)"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Checklist Items"}),e.jsxs("button",{onClick:oe,className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[e.jsx(Ct,{className:"w-3.5 h-3.5"})," Add Item"]})]}),e.jsx("div",{className:"space-y-3",children:Q.map((T,U)=>e.jsxs("div",{className:"flex gap-2 items-start bg-stone-50 rounded-xl p-3 border border-stone-200",children:[e.jsx(QC,{className:"w-4 h-4 text-stone-400 mt-2.5 shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("input",{value:T.title,onChange:me=>xe(U,"title",me.target.value),placeholder:`Item ${U+1} title (e.g., Complete HIPAA Training)`,className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500"}),e.jsx("input",{value:T.description,onChange:me=>xe(U,"description",me.target.value),placeholder:"Optional description or instructions",className:"w-full rounded-lg border border-stone-300 px-3 py-1.5 text-xs text-stone-600 focus:border-primary-500 focus:ring-1 focus:ring-primary-500"}),e.jsxs("label",{className:"flex items-center gap-1.5 text-xs",children:[e.jsx("input",{type:"checkbox",checked:T.is_required,onChange:me=>xe(U,"is_required",me.target.checked),className:"rounded border-stone-300"}),e.jsx("span",{className:"text-stone-600",children:"Required"})]})]}),e.jsx("button",{onClick:()=>F(U),className:"p-1 text-stone-400 hover:text-red-500 mt-2",disabled:Q.length<=1,children:e.jsx(os,{className:"w-4 h-4"})})]},U))})]})]});return t?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-stone-500",children:[y.length," template",y.length!==1?"s":""]}),e.jsxs(L,{onClick:ve,size:"sm",children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," New Template"]})]}),y.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Wd,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No onboarding templates"}),e.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Create a checklist template for your site"}),e.jsxs(L,{onClick:ve,size:"sm",children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"})," Create Template"]})]})}):y.map(T=>e.jsx(V,{hover:!0,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:T.name}),T.is_active?e.jsx(re,{variant:"success",size:"sm",children:"Active"}):e.jsx(re,{size:"sm",children:"Inactive"})]}),T.site&&e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3 h-3"})," ",T.site.name]}),T.description&&e.jsx("p",{className:"text-sm text-stone-600 mt-1",children:T.description}),e.jsxs("p",{className:"text-xs text-stone-400 mt-2",children:[T.items?.length||0," items (",T.items?.filter(U=>U.is_required).length||0," required)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(T),className:"p-2 text-stone-400 hover:text-primary-600 rounded-lg hover:bg-primary-50",children:e.jsx(j4,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(T),className:"p-2 text-stone-400 hover:text-red-500 rounded-lg hover:bg-red-50",children:e.jsx(os,{className:"w-4 h-4"})})]})]})},T.id)),e.jsxs(He,{isOpen:u,onClose:()=>f(!1),title:"Create Onboarding Template",size:"lg",children:[A,e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(L,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(L,{onClick:X,isLoading:l.isPending,children:"Create Template"})]})]}),e.jsxs(He,{isOpen:!!h,onClose:()=>x(null),title:"Edit Onboarding Template",size:"lg",children:[A,e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(L,{variant:"outline",onClick:()=>x(null),children:"Cancel"}),e.jsx(L,{onClick:X,isLoading:r.isPending,children:"Save Changes"})]})]}),e.jsxs(He,{isOpen:!!m,onClose:()=>g(null),title:"Delete Template",size:"sm",children:[e.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:m?.name}),"? This will not affect existing student onboarding tasks."]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(L,{variant:"outline",onClick:()=>g(null),children:"Cancel"}),e.jsx(L,{variant:"danger",onClick:be,isLoading:c.isPending,children:"Delete"})]})]})]})}function pk(){const{data:s,isLoading:t}=yj(),a=iA(),l=lA(),[r,c]=_.useState(null),u=s?.tasks??[],f=_.useMemo(()=>{const m={};for(const g of u){const y=g.application_id;m[y]||(m[y]={application:g.application,tasks:[]}),m[y].tasks.push(g)}return Object.entries(m)},[u]);async function h(m){try{await a.mutateAsync({id:m,data:{}}),Y.success("Task verified")}catch{Y.error("Failed to verify task")}}async function x(m){try{await l.mutateAsync(m),Y.success("Verification removed")}catch{Y.error("Failed to unverify task")}}return t?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})}):f.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Wd,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No student onboarding tasks"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Tasks will appear here when students are accepted to rotations with an active template"})]})}):e.jsx("div",{className:"space-y-3",children:f.map(([m,g])=>{const y=g.application,N=g.tasks.filter(k=>k.is_required),j=N.filter(k=>k.completed_at),S=N.filter(k=>k.verified_at),b=N.length>0?Math.round(j.length/N.length*100):100,C=r===m;return e.jsxs(V,{children:[e.jsxs("button",{onClick:()=>c(C?null:m),className:"w-full text-left",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[y?.student?.first_name?.[0],y?.student?.last_name?.[0]]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-stone-900 text-sm",children:[y?.student?.first_name," ",y?.student?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[y?.slot?.site?.name,"  ",y?.slot?.title||y?.slot?.specialty]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-semibold text-stone-900",children:[b,"%"]}),e.jsxs("div",{className:"text-xs text-stone-500",children:[S.length,"/",N.length," verified"]})]}),C?e.jsx(Wi,{className:"w-4 h-4 text-stone-400"}):e.jsx(on,{className:"w-4 h-4 text-stone-400"})]})]}),e.jsx("div",{className:"mt-2 w-full bg-stone-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-primary-500 h-1.5 rounded-full transition-all",style:{width:`${b}%`}})})]}),C&&e.jsx("div",{className:"mt-4 space-y-2 border-t border-stone-100 pt-4",children:g.tasks.map(k=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${k.verified_at?"bg-green-50 border-green-200":k.completed_at?"bg-amber-50 border-amber-200":"bg-stone-50 border-stone-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[k.verified_at?e.jsx(Ft,{className:"w-5 h-5 text-green-500"}):k.completed_at?e.jsx(Fe,{className:"w-5 h-5 text-amber-500"}):e.jsx(ej,{className:"w-5 h-5 text-stone-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:k.title}),k.description&&e.jsx("p",{className:"text-xs text-stone-500",children:k.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[k.is_required&&e.jsx(re,{variant:"warning",size:"sm",children:"Required"}),k.verified_at&&e.jsx(re,{variant:"success",size:"sm",children:"Verified"}),k.completed_at&&!k.verified_at&&e.jsx(re,{variant:"primary",size:"sm",children:"Completed"})]}),k.file_name&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx(er,{className:"w-3 h-3 text-stone-400"}),e.jsxs("a",{href:pi.downloadFileUrl(k.id),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[e.jsx(dn,{className:"w-3 h-3"})," ",k.file_name]})]})]})]}),e.jsxs("div",{children:[k.completed_at&&!k.verified_at&&e.jsxs(L,{size:"sm",onClick:()=>h(k.id),isLoading:a.isPending,children:[e.jsx(Ft,{className:"w-3.5 h-3.5 mr-1"})," Verify"]}),k.verified_at&&e.jsx("button",{onClick:()=>x(k.id),className:"text-xs text-stone-500 hover:text-red-500",children:"Undo"})]})]},k.id))})]},m)})})}function gk(){const{data:s,isLoading:t}=yj(),{data:a}=Zs(),l=nA(),r=aA(),c=rA(),[u,f]=_.useState(null),h=new Map,x=s?.tasks??[],m=(a?.data??[]).filter(j=>j.status==="accepted"),g=_.useMemo(()=>{const j={};for(const S of x)j[S.application_id]||(j[S.application_id]=[]),j[S.application_id].push(S);return j},[x]);async function y(j){try{j.completed_at?await r.mutateAsync(j.id):await l.mutateAsync(j.id)}catch(S){const b=S instanceof Error?S.message:"Failed to update task";Y.error(b)}}async function N(j,S){if(S.size>20*1024*1024){Y.error("File too large. Maximum size is 20MB.");return}try{await c.mutateAsync({taskId:j,file:S}),Y.success("File uploaded")}catch(b){const C=b instanceof Error?b.message:"Failed to upload";Y.error(C)}}return t?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})}):m.length===0?e.jsx(V,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Wd,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No onboarding checklists"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Checklists will appear here after your rotation application is accepted"})]})}):e.jsx("div",{className:"space-y-4",children:m.map(j=>{const S=g[j.id]||[],b=S.filter(z=>z.is_required),C=b.filter(z=>z.completed_at),k=b.length>0?Math.round(C.length/b.length*100):100,E=u===j.id,M=b.length>0&&C.length===b.length;return e.jsxs(V,{children:[e.jsxs("button",{onClick:()=>f(E?null:j.id),className:"w-full text-left",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:j.slot?.title||j.slot?.specialty}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3 h-3"})," ",j.slot?.site?.name]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[S.length===0?e.jsx(re,{size:"sm",children:"No checklist"}):M?e.jsx(re,{variant:"success",size:"sm",children:"Complete"}):e.jsxs("span",{className:"text-sm font-semibold text-primary-600",children:[k,"%"]}),E?e.jsx(Wi,{className:"w-4 h-4 text-stone-400"}):e.jsx(on,{className:"w-4 h-4 text-stone-400"})]})]}),S.length>0&&e.jsx("div",{className:"mt-2 w-full bg-stone-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all ${M?"bg-green-500":"bg-primary-500"}`,style:{width:`${k}%`}})})]}),E&&S.length>0&&e.jsx("div",{className:"mt-4 space-y-2 border-t border-stone-100 pt-4",children:S.map(z=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border transition-colors ${z.verified_at?"bg-green-50 border-green-200":z.completed_at?"bg-primary-50 border-primary-200":"bg-white border-stone-200 hover:border-stone-300"}`,children:[e.jsx("button",{onClick:()=>y(z),disabled:!!z.verified_at||l.isPending||r.isPending,className:"shrink-0",children:z.verified_at?e.jsx(Ft,{className:"w-5 h-5 text-green-500"}):z.completed_at?e.jsx(Fe,{className:"w-5 h-5 text-primary-500"}):e.jsx(ej,{className:"w-5 h-5 text-stone-300 hover:text-primary-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${z.completed_at?"text-stone-500 line-through":"text-stone-900"}`,children:z.title}),z.description&&e.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:z.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[z.is_required&&e.jsx(re,{variant:"warning",size:"sm",children:"Required"}),z.verified_at&&e.jsx("span",{className:"text-[11px] text-green-600",children:"Verified by site"}),z.completed_at&&!z.verified_at&&e.jsxs("span",{className:"text-[11px] text-stone-400",children:["Completed ",new Date(z.completed_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"mt-1.5",children:[z.file_name?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(er,{className:"w-3 h-3 text-stone-400"}),e.jsxs("a",{href:pi.downloadFileUrl(z.id),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[e.jsx(dn,{className:"w-3 h-3"})," ",z.file_name]}),!z.verified_at&&e.jsx("button",{onClick:Q=>{Q.stopPropagation(),h.get(z.id)?.click()},className:"text-xs text-stone-500 hover:text-stone-700 ml-1",children:"Replace"})]}):z.verified_at?null:e.jsxs("button",{onClick:Q=>{Q.stopPropagation(),h.get(z.id)?.click()},disabled:c.isPending,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 font-medium py-0.5 px-1.5 rounded hover:bg-primary-50 transition-colors disabled:opacity-50",children:[c.isPending?e.jsx(Et,{className:"w-3 h-3 animate-spin"}):e.jsx(Hn,{className:"w-3 h-3"}),"Attach file"]}),e.jsx("input",{ref:Q=>{Q&&h.set(z.id,Q)},type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden",onChange:Q=>{Q.target.files?.[0]&&(N(z.id,Q.target.files[0]),Q.target.value="")}})]})]})]},z.id))}),E&&S.length===0&&e.jsx("div",{className:"mt-4 border-t border-stone-100 pt-4 text-center text-sm text-stone-400",children:"No onboarding checklist for this rotation"})]},j.id)})})}function vk(){const{user:s}=We(),t=s?.role==="site_manager"||s?.role==="admin",[a,l]=_.useState("templates");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Onboarding"}),e.jsx("p",{className:"text-sm text-stone-500 mt-1",children:t?"Manage onboarding checklists and verify student completion":"Complete your onboarding requirements before starting rotations"})]}),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-1 bg-stone-100 rounded-xl p-1 w-fit",children:[e.jsxs("button",{onClick:()=>l("templates"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="templates"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[e.jsx(tj,{className:"w-4 h-4 inline mr-1.5 -mt-0.5"}),"Templates"]}),e.jsxs("button",{onClick:()=>l("progress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="progress"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[e.jsx(Xt,{className:"w-4 h-4 inline mr-1.5 -mt-0.5"}),"Student Progress"]})]}),a==="templates"?e.jsx(xk,{}):e.jsx(pk,{})]}):e.jsx(gk,{})]})}function yk(){const{certificateNumber:s}=xi(),{data:t,isLoading:a,isError:l}=Pe({queryKey:["verify-certificate",s],queryFn:()=>cr.publicVerify(s),enabled:!!s}),r=t;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-white to-stone-100",children:[e.jsx("div",{className:"bg-white border-b border-stone-200",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs(Vt,{to:"/",className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsx("span",{className:"text-sm text-stone-500",children:"Certificate Verification"})]})}),e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-12",children:a?e.jsxs("div",{className:"flex flex-col items-center py-16",children:[e.jsx("div",{className:"w-10 h-10 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-stone-500",children:"Verifying certificate..."})]}):l||!r?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-stone-100 flex items-center justify-center mx-auto mb-6",children:e.jsx(js,{className:"w-10 h-10 text-stone-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-stone-900 mb-2",children:"Certificate Not Found"}),e.jsxs("p",{className:"text-stone-500 mb-6",children:["No certificate was found with number ",e.jsx("span",{className:"font-mono font-semibold",children:s}),". Please check the certificate number and try again."]}),e.jsx(Vt,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-primary-500 text-white rounded-xl text-sm font-medium hover:bg-primary-600 transition-colors",children:"Go to ClinicLink"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-2xl p-6 text-center ${r.valid?"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200":"bg-gradient-to-br from-red-50 to-orange-50 border border-red-200"}`,children:[e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${r.valid?"bg-green-100":"bg-red-100"}`,children:r.valid?e.jsx(Fe,{className:"w-8 h-8 text-green-600"}):e.jsx(Ht,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:`text-2xl font-bold mb-1 ${r.valid?"text-green-800":"text-red-800"}`,children:r.valid?"Valid Certificate":"Certificate Revoked"}),e.jsx("p",{className:`text-sm ${r.valid?"text-green-600":"text-red-600"}`,children:r.valid?"This certificate has been verified as authentic and active.":`This certificate was revoked on ${r.revoked_date?new Date(r.revoked_date).toLocaleDateString():"N/A"}.`})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-stone-100 text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center mx-auto mb-3",children:e.jsx(Qt,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-lg font-bold text-stone-900",children:r.title}),e.jsx("p",{className:"text-sm font-mono text-stone-500 mt-1",children:r.certificate_number})]}),e.jsxs("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary-50 text-primary-500 flex items-center justify-center shrink-0",children:e.jsx(Xt,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Student"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:r.student_name})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary-50 text-secondary-500 flex items-center justify-center shrink-0",children:e.jsx(dt,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Specialty"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:r.specialty})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-amber-50 text-amber-500 flex items-center justify-center shrink-0",children:e.jsx(ht,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Clinical Site"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:r.site_name})]})]}),r.preceptor_name&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-green-50 text-green-500 flex items-center justify-center shrink-0",children:e.jsx(Xt,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Preceptor"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:r.preceptor_name})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-blue-50 text-blue-500 flex items-center justify-center shrink-0",children:e.jsx(Be,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Total Hours"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[r.total_hours," hours"]})]})]}),r.overall_score&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-purple-50 text-purple-500 flex items-center justify-center shrink-0",children:e.jsx(hs,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Evaluation Score"}),e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[r.overall_score," / 5.0"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-stone-100 text-stone-500 flex items-center justify-center shrink-0",children:e.jsx(Ot,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Issued Date"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:new Date(r.issued_date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-stone-100 text-stone-500 flex items-center justify-center shrink-0",children:e.jsx(Xt,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Issued By"}),e.jsx("p",{className:"text-sm font-semibold text-stone-900",children:r.issued_by})]})]})]}),!r.valid&&r.revocation_reason&&e.jsxs("div",{className:"mx-6 mb-6 p-4 bg-red-50 rounded-xl border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-1",children:[e.jsx(js,{className:"w-4 h-4"}),e.jsx("p",{className:"text-sm font-semibold",children:"Revocation Reason"})]}),e.jsx("p",{className:"text-sm text-red-600",children:r.revocation_reason})]})]}),e.jsxs("p",{className:"text-center text-xs text-stone-400",children:["Verified by ClinicLink  ",new Date().toLocaleDateString()]})]})})]})}const hy=[{label:"Preceptor Welcome",message:`We'd like to invite you to join our clinical rotation site on ClinicLink  a platform that simplifies rotation management, student matching, hour tracking, and evaluations.

Click the link below to create your account and get started. We look forward to working with you!`},{label:"School / Coordinator Outreach",message:`We're excited to introduce you to ClinicLink  a clinical rotation matching platform that connects nursing schools, clinical sites, and preceptors.

As a coordinator, you can manage student placements, track compliance, and streamline the rotation process. Click below to join and explore the platform!`},{label:"Site Manager Invitation",message:`You're invited to manage your clinical site on ClinicLink. Our platform helps you coordinate rotation slots, manage preceptors, track student hours, and ensure compliance  all in one place.

Click the link below to set up your account and start managing your site.`},{label:"General Platform Invite",message:`You're invited to try ClinicLink  a modern platform for managing clinical rotations, connecting students with preceptors, and streamlining the entire placement process.

Join us and see how ClinicLink can simplify your workflow. Click the link below to get started!`}];function bk(){const{data:s,isLoading:t}=mA(),{data:a}=hA(),{data:l}=Da(),{data:r}=Yf({status:"pending"}),c=fA(),u=xA(),f=vA(),h=yA(),x=ZE(),m=XE(),g=s?.preceptors||[],y=a?.invites||[],N=l?.sites||[],j=r?.join_requests||[],[S,b]=_.useState(!1),[C,k]=_.useState(""),[E,M]=_.useState(""),[z,Q]=_.useState(""),[R,q]=_.useState(null),[ve,ye]=_.useState(!1),[oe,F]=_.useState([]),[xe,X]=_.useState(""),[be,A]=_.useState(""),[T,U]=_.useState(""),[me,je]=_.useState(null),H=_.useRef(null),$=y.filter(ie=>ie.status==="pending"),te=y.filter(ie=>ie.status==="accepted"),B=async()=>{const ie=E||N[0]?.id;if(!ie){Y.error("No site available  create a site first");return}try{const ft=(await c.mutateAsync({site_id:ie,email:C||void 0,message:z||void 0,expires_in_days:30})).invite.url;await navigator.clipboard.writeText(ft).catch(()=>{}),Y.success("Invite link created and copied to clipboard!"),k(""),Q(""),b(!1)}catch{Y.error("Failed to create invite")}},de=async ie=>{const ft=`${window.location.origin+"/ClinicLink/"}invite/${ie}`;try{await navigator.clipboard.writeText(ft),q(ie),Y.success("Link copied!"),setTimeout(()=>q(null),2e3)}catch{Y.error("Failed to copy")}},ke=async ie=>{try{const Ue=await f.mutateAsync(ie);Y.success(Ue.message||"Invite resent")}catch{Y.error("Failed to resend invite")}},Re=async ie=>{try{await h.mutateAsync(ie),Y.success("Invite revoked")}catch{Y.error("Failed to revoke invite")}},ze=()=>{const ie=`email
john.doe@hospital.com
jane.smith@university.edu
dr.preceptor@clinic.org
`,Ue=new Blob([ie],{type:"text/csv"}),ft=URL.createObjectURL(Ue),bt=document.createElement("a");bt.href=ft,bt.download="invite_template.csv",bt.click(),URL.revokeObjectURL(ft)},Ye=ie=>{const Ue=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,ft=ie.match(Ue)||[];return[...new Set(ft.map(bt=>bt.toLowerCase()))]},At=ie=>{const Ue=ie.target.files?.[0];if(!Ue)return;const ft=new FileReader;ft.onload=bt=>{const ws=bt.target?.result,W=Ye(ws);if(W.length===0){Y.error("No valid email addresses found in file");return}F(he=>[...new Set([...he,...W])]),Y.success(`Found ${W.length} email address${W.length!==1?"es":""}`)},ft.readAsText(Ue),H.current&&(H.current.value="")},zt=()=>{const ie=Ye(xe);if(ie.length===0){Y.error("No valid email addresses found");return}F(Ue=>[...new Set([...Ue,...ie])]),X(""),Y.success(`Added ${ie.length} email${ie.length!==1?"s":""}`)},Jt=ie=>{F(Ue=>Ue.filter(ft=>ft!==ie))},Ns=async()=>{const ie=be||N[0]?.id;if(!ie){Y.error("No site available  create a site first");return}if(oe.length===0){Y.error("Add at least one email address");return}try{const Ue=await u.mutateAsync({site_id:ie,emails:oe,message:T||void 0,expires_in_days:30});je(Ue.results),Y.success(Ue.message),F([])}catch{Y.error("Failed to send bulk invites")}};return t?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Preceptors"}),e.jsx("p",{className:"text-stone-500",children:"Manage preceptors affiliated with your sites"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"secondary",onClick:()=>{ye(!ve),b(!1)},children:[e.jsx(at,{className:"w-4 h-4"})," Bulk Invite"]}),e.jsxs(L,{onClick:()=>{b(!S),ye(!1)},children:[e.jsx(Ct,{className:"w-4 h-4"})," Invite Preceptor"]})]})]}),j.length>0&&e.jsxs(V,{className:"border-2 border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0",children:e.jsx(js,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-amber-800 text-lg",children:[j.length," Pending Join Request",j.length!==1?"s":""]}),e.jsx("p",{className:"text-sm text-amber-700",children:"Preceptors are requesting to join your site. Review and respond below."})]})]}),e.jsx("div",{className:"space-y-3",children:j.map(ie=>e.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 bg-white/70 rounded-xl border border-amber-200",children:[e.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center shrink-0",children:e.jsx(Xt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[ie.preceptor?.first_name," ",ie.preceptor?.last_name]}),e.jsxs("p",{className:"text-xs text-stone-500",children:[ie.preceptor?.email,e.jsx("span",{className:"mx-1",children:""}),e.jsx(Ee,{className:"w-3 h-3 inline"})," ",ie.site?.name,e.jsx("span",{className:"mx-1",children:""}),new Date(ie.created_at).toLocaleDateString()]}),ie.message&&e.jsxs("p",{className:"text-xs text-stone-600 mt-1 italic",children:['"',ie.message,'"']})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(L,{size:"sm",onClick:async()=>{try{await x.mutateAsync({id:ie.id}),Y.success(`Approved ${ie.preceptor?.first_name}'s request`)}catch{Y.error("Failed to approve")}},isLoading:x.isPending,children:[e.jsx(Fe,{className:"w-3.5 h-3.5"})," Approve"]}),e.jsx(L,{variant:"outline",size:"sm",onClick:async()=>{try{await m.mutateAsync({id:ie.id}),Y.success("Request denied")}catch{Y.error("Failed to deny")}},isLoading:m.isPending,children:"Deny"})]})]},ie.id))})]}),S&&e.jsx(V,{className:"border-2 border-primary-200 bg-primary-50/30",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary-700",children:[e.jsx(Mn,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold",children:"Create Invite Link"})]}),e.jsx("p",{className:"text-sm text-stone-600",children:"Generate a unique link to share with a preceptor. They'll click the link to join your site."}),N.length>1&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site"}),e.jsx("select",{value:E||N[0]?.id||"",onChange:ie=>M(ie.target.value),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:N.map(ie=>e.jsx("option",{value:ie.id,children:ie.name},ie.id))})]}),e.jsx(De,{label:"Preceptor Email (optional)",type:"email",placeholder:"preceptor@hospital.com",value:C,onChange:ie=>k(ie.target.value),icon:e.jsx(Ln,{className:"w-4 h-4"})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Personal Message (optional)"}),e.jsxs("select",{onChange:ie=>{ie.target.value&&Q(ie.target.value),ie.target.value=""},className:"text-xs border border-stone-200 rounded-lg px-2 py-1 text-stone-500 bg-white",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Use template..."}),hy.map(ie=>e.jsx("option",{value:ie.message,children:ie.label},ie.label))]})]}),e.jsx("textarea",{value:z,onChange:ie=>Q(ie.target.value),placeholder:"Add a personal message to include in the invite email...",rows:4,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"Leave email blank to create an open link anyone can use, or enter an email to restrict it."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(L,{onClick:B,isLoading:c.isPending,children:[e.jsx(ty,{className:"w-4 h-4"})," Generate & Copy Link"]}),e.jsx(L,{variant:"ghost",onClick:()=>b(!1),children:"Cancel"})]})]})}),ve&&e.jsx(V,{className:"border-2 border-violet-200 bg-violet-50/30",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-700",children:[e.jsx(at,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold",children:"Bulk Invite"})]}),e.jsx("button",{onClick:()=>{ye(!1),je(null)},className:"text-stone-400 hover:text-stone-600",children:e.jsx(Ks,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-sm text-stone-600",children:"Import a list of email addresses via CSV file or paste them directly. Each person will receive a unique invite link."}),N.length>1&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site"}),e.jsx("select",{value:be||N[0]?.id||"",onChange:ie=>A(ie.target.value),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:N.map(ie=>e.jsx("option",{value:ie.id,children:ie.name},ie.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Upload CSV File"}),e.jsx("input",{ref:H,type:"file",accept:".csv,.txt",onChange:At,className:"hidden"}),e.jsxs("button",{onClick:()=>H.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-stone-300 rounded-xl text-sm text-stone-500 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/50 transition-colors",children:[e.jsx(Hn,{className:"w-5 h-5"}),e.jsx("span",{children:"Click to upload CSV or text file"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("p",{className:"text-xs text-stone-400",children:"Emails will be extracted automatically from any column"}),e.jsxs("button",{onClick:ze,className:"flex items-center gap-1 text-xs text-violet-600 hover:text-violet-800 font-medium",children:[e.jsx(dn,{className:"w-3 h-3"})," Template"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Or paste emails"}),e.jsx("textarea",{value:xe,onChange:ie=>X(ie.target.value),placeholder:`john@hospital.com
jane@university.edu
dr.smith@clinic.org`,rows:4,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsx("button",{onClick:zt,className:"text-xs font-medium text-violet-600 hover:text-violet-800",children:"+ Add to list"})})]})]}),oe.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-medium text-stone-700",children:[oe.length," recipient",oe.length!==1?"s":""]}),e.jsx("button",{onClick:()=>F([]),className:"text-xs text-red-500 hover:text-red-700",children:"Clear all"})]}),e.jsx("div",{className:"max-h-40 overflow-y-auto rounded-xl border border-stone-200 bg-white divide-y divide-stone-100",children:oe.map(ie=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[e.jsxs("span",{className:"text-stone-700 flex items-center gap-2",children:[e.jsx(Ln,{className:"w-3.5 h-3.5 text-stone-400"}),ie]}),e.jsx("button",{onClick:()=>Jt(ie),className:"text-stone-400 hover:text-red-500",children:e.jsx(Ks,{className:"w-4 h-4"})})]},ie))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Email Message (optional)"}),e.jsxs("select",{onChange:ie=>{ie.target.value&&U(ie.target.value),ie.target.value=""},className:"text-xs border border-stone-200 rounded-lg px-2 py-1 text-stone-500 bg-white",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Use template..."}),hy.map(ie=>e.jsx("option",{value:ie.message,children:ie.label},ie.label))]})]}),e.jsx("textarea",{value:T,onChange:ie=>U(ie.target.value),placeholder:"Add a personal message to include in all invite emails...",rows:5,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(L,{onClick:Ns,isLoading:u.isPending,disabled:oe.length===0,children:[e.jsx(Mn,{className:"w-4 h-4"})," Send ",oe.length," Invite",oe.length!==1?"s":""]}),e.jsx(L,{variant:"ghost",onClick:()=>{ye(!1),je(null)},children:"Cancel"})]}),me&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-stone-700",children:"Results"}),e.jsx("div",{className:"max-h-48 overflow-y-auto rounded-xl border border-stone-200 bg-white divide-y divide-stone-100",children:me.map((ie,Ue)=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[e.jsx("span",{className:"text-stone-700",children:ie.email}),e.jsxs("span",{className:`flex items-center gap-1 text-xs font-medium ${ie.status==="sent"?"text-green-600":ie.status==="skipped"?"text-amber-600":"text-stone-500"}`,children:[ie.status==="sent"&&e.jsx(Fe,{className:"w-3.5 h-3.5"}),ie.status==="skipped"&&e.jsx(zn,{className:"w-3.5 h-3.5"}),ie.status==="sent"?"Sent":ie.status==="skipped"?`Skipped: ${ie.reason}`:`Created (${ie.reason})`]})]},Ue))})]})]})}),$.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4"})," Pending Invites (",$.length,")"]}),$.map(ie=>e.jsx(V,{className:"!py-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center shrink-0",children:e.jsx(ty,{className:"w-5 h-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:ie.email||"Open invite (anyone)"}),e.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3 h-3"})," ",ie.site_name,e.jsx("span",{className:"mx-1",children:""}),"Expires ",new Date(ie.expires_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[ie.email&&e.jsxs("button",{onClick:()=>ke(ie.id),disabled:f.isPending,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-primary-50 hover:bg-primary-100 text-primary-700 rounded-lg transition-colors disabled:opacity-50",title:"Resend invite email",children:[e.jsx(Mn,{className:"w-3.5 h-3.5"})," Resend"]}),e.jsxs("button",{onClick:()=>de(ie.token),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-stone-100 hover:bg-stone-200 text-stone-700 rounded-lg transition-colors",children:[R===ie.token?e.jsx(Fe,{className:"w-3.5 h-3.5 text-green-500"}):e.jsx(Bf,{className:"w-3.5 h-3.5"}),R===ie.token?"Copied!":"Copy Link"]}),e.jsx("button",{onClick:()=>Re(ie.id),className:"p-1.5 text-stone-400 hover:text-red-500 rounded-lg hover:bg-red-50 transition-colors",title:"Revoke invite",children:e.jsx(os,{className:"w-4 h-4"})})]})]})},ie.id))]}),te.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-green-500"})," Joined via Invite (",te.length,")"]}),te.map(ie=>e.jsx(V,{className:"!py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:ie.accepted_by?.name||"Unknown"}),e.jsxs("p",{className:"text-xs text-stone-500",children:[ie.accepted_by?.email,"  Joined ",ie.accepted_at?new Date(ie.accepted_at).toLocaleDateString():""]})]}),e.jsx("span",{className:"ml-auto inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Joined"})]})},ie.id))]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Xt,{className:"w-4 h-4"})," Your Preceptors (",g.length,")"]}),g.length===0&&$.length===0&&te.length===0?e.jsxs(V,{className:"text-center py-12",children:[e.jsx(Z4,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No preceptors yet"}),e.jsx("p",{className:"text-stone-500 mb-4",children:"Invite preceptors to join your site using the button above"}),e.jsxs(L,{onClick:()=>b(!0),children:[e.jsx(Ct,{className:"w-4 h-4"})," Invite Preceptor"]})]}):e.jsx("div",{className:"space-y-4",children:g.map(ie=>e.jsx(V,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center shrink-0 text-lg font-semibold",children:[ie.first_name[0],ie.last_name[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-semibold text-stone-900 text-lg",children:[ie.first_name," ",ie.last_name]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-sm text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"w-3.5 h-3.5"}),ie.email]}),ie.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_n,{className:"w-3.5 h-3.5"}),ie.phone]})]}),ie.slots.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-stone-400 uppercase tracking-wider",children:"Assigned Rotations"}),ie.slots.map(Ue=>e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-stone-700 font-medium",children:[e.jsx(dt,{className:"w-3.5 h-3.5 text-primary-500"}),Ue.title]}),e.jsx(re,{variant:"primary",children:Ue.specialty}),e.jsx(re,{variant:Ue.status==="open"?"success":Ue.status==="filled"?"warning":"danger",children:Ue.status}),e.jsxs("span",{className:"flex items-center gap-1 text-xs text-stone-400",children:[e.jsx(Ot,{className:"w-3 h-3"}),new Date(Ue.start_date).toLocaleDateString()," - ",new Date(Ue.end_date).toLocaleDateString()]})]},Ue.id))]})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsxs(re,{variant:"primary",children:[e.jsx(Xt,{className:"w-3.5 h-3.5 mr-1"}),ie.slots.length," slot",ie.slots.length!==1?"s":""]})})]})},ie.id))})]})]})}function jk(){const{id:s}=xi(),t=yt(),{user:a}=We(),l=a?.role==="preceptor"||a?.role==="site_manager",r=a?.role==="preceptor"||a?.role==="site_manager"||a?.role==="coordinator"||a?.role==="admin",{data:c,isLoading:u}=Gf(),{data:f}=Zs(),[h,x]=_.useState(!1),g=(c?.students||[]).find(j=>j.id===s);if(u)return e.jsx("div",{className:"flex justify-center py-24",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!g)return e.jsxs("div",{className:"text-center py-24",children:[e.jsx(at,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"Student not found"}),e.jsxs(L,{variant:"outline",className:"mt-4",onClick:()=>t("/students"),children:[e.jsx(Sn,{className:"w-4 h-4 mr-2"})," Back to Students"]})]});const y=g.total_hours??g.prior_hours+g.hours_completed,N=g.hours_required>0?Math.min(100,Math.round(y/g.hours_required*100)):0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>t("/students"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700",children:[e.jsx(Sn,{className:"w-4 h-4"})," Back to My Students"]}),e.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-xl shrink-0",children:[g.first_name[0],g.last_name[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:[g.first_name," ",g.last_name]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[g.degree_type&&e.jsx(re,{variant:"primary",children:g.degree_type}),g.university&&e.jsx(re,{variant:"default",children:g.university})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-stone-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"w-4 h-4 text-stone-400"})," ",g.email]}),g.graduation_date&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-4 h-4 text-stone-400"})," Graduation: ",new Date(g.graduation_date).toLocaleDateString()]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-500 flex items-center justify-center mx-auto mb-2",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[y,"h"]}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-500 flex items-center justify-center mx-auto mb-2",children:e.jsx(Qt,{className:"w-5 h-5"})}),e.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[g.hours_completed,"h"]}),e.jsx("p",{className:"text-xs text-stone-500",children:"Platform Hours"})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-500 flex items-center justify-center mx-auto mb-2",children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[g.pending_hours,"h"]}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending Review"})]})}),e.jsx(V,{padding:"sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-500 flex items-center justify-center mx-auto mb-2",children:e.jsx(it,{className:"w-5 h-5"})}),e.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[g.prior_hours,"h"]}),e.jsx("p",{className:"text-xs text-stone-500",children:"Prior Hours"})]})})]}),e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-4 flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-primary-500"})," Academic Details"]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-5",children:[e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"University"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:g.university||"N/A"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Program"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:g.program||"N/A"})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Degree"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:g.degree_type||"N/A"})]}),g.gpa!=null&&e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"GPA"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:Number(g.gpa).toFixed(2)})]}),g.graduation_date&&e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Graduation Date"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:new Date(g.graduation_date).toLocaleDateString()})]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Required Hours"}),e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[g.hours_required,"h"]})]})]}),e.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Clinical Hours Progress"}),e.jsxs("span",{className:"text-sm font-bold text-stone-900",children:[N,"%"]})]}),e.jsx("div",{className:"w-full h-3 bg-stone-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all",style:{width:`${N}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-stone-500",children:[e.jsxs("span",{children:[y,"h completed",g.prior_hours>0?` (${g.prior_hours}h prior)`:""]}),e.jsxs("span",{children:[g.hours_required,"h required"]})]}),g.pending_hours>0&&e.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[g.pending_hours,"h pending review"]})]})]}),g.clinical_interests&&g.clinical_interests.length>0&&e.jsxs(V,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(it,{className:"w-4 h-4 text-primary-500"})," Clinical Interests"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.clinical_interests.map(j=>e.jsx(re,{variant:"default",children:j},j))})]}),g.bio&&e.jsxs(V,{children:[e.jsx("h2",{className:"text-sm font-semibold text-stone-900 mb-3",children:"About"}),e.jsx("p",{className:"text-sm text-stone-700 leading-relaxed",children:g.bio})]}),r&&e.jsx(Nk,{studentId:s,applications:f?.data||[],showConfirm:h,setShowConfirm:x}),l&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(L,{variant:"outline",onClick:()=>t("/hours"),className:"flex-1",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"})," Review Hours"]}),e.jsxs(L,{onClick:()=>t("/evaluations"),className:"flex-1",children:[e.jsx(it,{className:"w-4 h-4 mr-2"})," Write Evaluation"]})]})]})}function Nk({studentId:s,applications:t,showConfirm:a,setShowConfirm:l}){const r=t.filter(c=>c.student_id===s&&c.status==="accepted");return r.length===0?null:e.jsx(e.Fragment,{children:r.map(c=>e.jsx(wk,{application:c,showConfirm:a,setShowConfirm:l},c.id))})}function wk({application:s,showConfirm:t,setShowConfirm:a}){const{data:l,isLoading:r}=jj(s.id),c=Nj(),u=s.slot,f=u?.end_date?new Date(u.end_date)<new Date:!1,h=u?.title||u?.site?.name||"Rotation";return e.jsx(V,{className:"border-2 border-sky-200 bg-gradient-to-r from-sky-50 to-blue-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 text-sky-600 flex items-center justify-center shrink-0 mt-0.5",children:e.jsx(Un,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-stone-900 text-sm",children:"Complete Rotation"}),e.jsxs("p",{className:"text-xs text-stone-500 mt-0.5",children:[h,u?.site?.name?` at ${u.site.name}`:""]}),u?.end_date&&e.jsx("p",{className:`text-xs mt-1 ${f?"text-green-600 font-medium":"text-amber-600"}`,children:f?`Rotation ended ${new Date(u.end_date).toLocaleDateString()}`:`Ends ${new Date(u.end_date).toLocaleDateString()}`}),!r&&l&&e.jsx("div",{className:`mt-3 p-3 rounded-xl text-xs ${l.eligible?"bg-green-50 border border-green-200":"bg-amber-50 border border-amber-200"}`,children:e.jsx("div",{className:"flex items-center gap-1.5",children:l.eligible?e.jsxs(e.Fragment,{children:[e.jsx(Es,{className:"w-3.5 h-3.5 text-green-600 shrink-0"}),e.jsxs("span",{className:"text-green-700 font-medium",children:["CE Credit: ",l.contact_hours," contact hours will be awarded"]})]}):l.reason?.includes("does not offer")?e.jsxs(e.Fragment,{children:[e.jsx(nj,{className:"w-3.5 h-3.5 text-stone-400 shrink-0"}),e.jsx("span",{className:"text-stone-500",children:"CE Credits: Not configured for this university"})]}):e.jsxs(e.Fragment,{children:[e.jsx(js,{className:"w-3.5 h-3.5 text-amber-600 shrink-0"}),e.jsx("span",{className:"text-amber-700",children:l.reason})]})})}),t?e.jsxs("div",{className:"mt-3 p-3 bg-white rounded-xl border border-stone-200",children:[e.jsxs("p",{className:"text-xs text-stone-600 mb-3",children:["This will mark the rotation as completed. ",l?.eligible?`The preceptor will receive ${l.contact_hours} CE contact hours.`:"CE credits may not be awarded (see status above)."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{size:"sm",isLoading:c.isPending,onClick:()=>{c.mutate(s.id,{onSuccess:x=>{Y.success("Rotation marked as completed!"),x.ce?.ce_certificate_created&&Y.success(`CE certificate created (${x.ce.contact_hours} hrs)  Status: ${x.ce.ce_status}`),a(!1)},onError:x=>Y.error(x.message)})},children:[e.jsx(Es,{className:"w-4 h-4"})," Confirm Complete"]}),e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>a(!1),children:"Cancel"})]})]}):e.jsxs(L,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>a(!0),children:[e.jsx(Un,{className:"w-4 h-4"})," Mark Rotation Complete"]})]})]})})}function Sk(){const{token:s}=xi(),{isAuthenticated:t,user:a}=We(),l=yt(),[r,c]=_.useState(null),[u,f]=_.useState(!0),[h,x]=_.useState(""),[m,g]=_.useState(!1),[y,N]=_.useState(!1),[j,S]=_.useState(null);_.useEffect(()=>{s&&Jn.validate(s).then(C=>{C.already_accepted?S(C.site_name||"the site"):c(C.invite),f(!1)}).catch(C=>{x(C.message||"Invalid invite link"),f(!1)})},[s]);const b=async()=>{if(s){g(!0);try{const C=await Jn.accept(s);Y.success(C.message),N(!0)}catch(C){const k=C instanceof Error?C.message:"Failed to accept invite";Y.error(k)}g(!1)}};if(u)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:e.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 text-red-500 flex items-center justify-center mx-auto mb-4",children:e.jsx(js,{className:"w-8 h-8"})}),e.jsx("h1",{className:"text-xl font-bold text-stone-900 mb-2",children:"Invalid Invite"}),e.jsx("p",{className:"text-stone-500 mb-6",children:h}),e.jsx(Vt,{to:"/login",children:e.jsx(L,{children:"Go to Login"})})]})});if(y||j){const C=y?r?.site.name:j;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 text-green-500 flex items-center justify-center mx-auto mb-4",children:e.jsx(Fe,{className:"w-8 h-8"})}),e.jsx("h1",{className:"text-xl font-bold text-stone-900 mb-2",children:j?"You're Already a Member!":"You've Joined!"}),e.jsxs("p",{className:"text-stone-500 mb-2",children:["You are now affiliated with ",e.jsx("strong",{children:C}),"."]}),e.jsx("p",{className:"text-sm text-stone-400 mb-6",children:"The site manager can now assign you to rotation slots."}),e.jsxs(L,{onClick:()=>l("/dashboard"),children:["Go to Dashboard ",e.jsx(ni,{className:"w-4 h-4"})]})]})})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 px-8 py-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:e.jsx(dt,{className:"w-7 h-7"})}),e.jsx("span",{className:"text-2xl font-bold",children:"ClinicLink"})]}),e.jsx("p",{className:"text-white/80 text-sm",children:"You've been invited to join a clinical site"})]}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"bg-stone-50 rounded-2xl p-5 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center flex-shrink-0",children:e.jsx(Ee,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-stone-900",children:r?.site.name}),(r?.site.city||r?.site.state)&&e.jsxs("p",{className:"text-sm text-stone-500 flex items-center gap-1 mt-0.5",children:[e.jsx(ht,{className:"w-3.5 h-3.5"}),[r.site.city,r.site.state].filter(Boolean).join(", ")]}),r?.site.specialties&&r.site.specialties.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.site.specialties.slice(0,4).map(C=>e.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 rounded-full px-2 py-0.5",children:C},C)),r.site.specialties.length>4&&e.jsxs("span",{className:"text-xs text-stone-400",children:["+",r.site.specialties.length-4]})]}),r?.site.description&&e.jsx("p",{className:"text-sm text-stone-600 mt-2 line-clamp-2",children:r.site.description})]})]})}),r?.invited_by&&e.jsxs("p",{className:"text-sm text-stone-500 mb-6 text-center",children:["Invited by ",e.jsx("strong",{className:"text-stone-700",children:r.invited_by})]}),t&&a?.role==="preceptor"?e.jsxs(L,{className:"w-full",onClick:b,isLoading:m,children:[e.jsx(Fe,{className:"w-4 h-4"})," Accept & Join This Site"]}):t?e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl px-4 py-3 text-sm",children:[e.jsx(js,{className:"w-4 h-4 inline mr-1"}),"Only preceptor accounts can accept site invites. You're logged in as ",e.jsx("strong",{children:a?.role}),"."]}),e.jsx(L,{variant:"outline",onClick:()=>l("/dashboard"),children:"Go to Dashboard"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-stone-600 text-center mb-4",children:"Log in or register as a preceptor to join this site."}),e.jsx(Vt,{to:`/login?redirect=/invite/${s}`,className:"block",children:e.jsxs(L,{className:"w-full",children:[e.jsx(md,{className:"w-4 h-4"})," Log In"]})}),e.jsx(Vt,{to:`/register?redirect=/invite/${s}&role=preceptor${r?.email?`&email=${encodeURIComponent(r.email)}`:""}`,className:"block",children:e.jsxs(L,{variant:"outline",className:"w-full",children:[e.jsx(oi,{className:"w-4 h-4"})," Create Account"]})})]})]})]})})}const mo={draft:{label:"Draft",variant:"default"},pending_review:{label:"Pending Review",variant:"warning"},active:{label:"Active",variant:"success"},expired:{label:"Expired",variant:"danger"},terminated:{label:"Terminated",variant:"danger"}};function _k(){const{user:s}=We(),t=s?.role==="coordinator"||s?.role==="site_manager"||s?.role==="admin",a=s?.role==="site_manager"||s?.role==="admin",{data:l,isLoading:r}=oA(),c=l?.agreements||[],{data:u}=Da(),f=u?.sites||[],{data:h}=Lo(),x=h?.data||[],{data:m}=fr(),g=m?.data||[],y=cA(),N=dA(),j=uA(),[S,b]=_.useState(""),[C,k]=_.useState("all"),[E,M]=_.useState(!1),[z,Q]=_.useState(null),R=_.useRef(new Map),[q,ve]=_.useState({university_id:"",site_id:"",start_date:"",end_date:"",notes:""}),ye=_.useMemo(()=>c.filter(U=>{if(C!=="all"&&U.status!==C)return!1;if(S){const me=S.toLowerCase();return U.university?.name?.toLowerCase().includes(me)||U.site?.name?.toLowerCase().includes(me)||U.notes?.toLowerCase().includes(me)}return!0}),[c,S,C]),oe=_.useMemo(()=>({total:c.length,active:c.filter(U=>U.status==="active").length,pending:c.filter(U=>U.status==="pending_review").length,expired:c.filter(U=>U.status==="expired").length}),[c]),F=async()=>{if(!q.university_id||!q.site_id){Y.error("Please select both a university and a site.");return}try{await y.mutateAsync({university_id:q.university_id,site_id:q.site_id,start_date:q.start_date||void 0,end_date:q.end_date||void 0,notes:q.notes||void 0}),Y.success("Agreement created successfully."),M(!1),ve({university_id:"",site_id:"",start_date:"",end_date:"",notes:""})}catch(U){Y.error(U instanceof Error?U.message:"Failed to create agreement.")}},xe=async(U,me)=>{try{await N.mutateAsync({id:U.id,data:{status:me}}),Y.success(`Agreement status updated to ${mo[me]?.label||me}.`),Q(null)}catch(je){Y.error(je instanceof Error?je.message:"Failed to update status.")}},X=async(U,me)=>{try{await j.mutateAsync({id:U,file:me}),Y.success("Document uploaded successfully.")}catch(je){Y.error(je instanceof Error?je.message:"Failed to upload document.")}},be=U=>{const me=localStorage.getItem("cliniclink_token"),je=Oo.downloadUrl(U);window.open(`${je}?token=${me}`,"_blank")},A=U=>U<1024?`${U} B`:U<1024*1024?`${(U/1024).toFixed(1)} KB`:`${(U/(1024*1024)).toFixed(1)} MB`,T=U=>{const me=[];switch(U.status){case"draft":me.push({label:"Submit for Review",status:"pending_review",variant:"primary"});break;case"pending_review":a&&me.push({label:"Approve",status:"active",variant:"primary"}),me.push({label:"Back to Draft",status:"draft",variant:"outline"});break;case"active":me.push({label:"Mark Expired",status:"expired",variant:"danger"}),me.push({label:"Terminate",status:"terminated",variant:"danger"});break;case"expired":me.push({label:"Reactivate",status:"active",variant:"primary"});break}return me};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Affiliation Agreements"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Manage university-site affiliation agreements and documentation"})]}),t&&e.jsxs(L,{onClick:()=>M(!0),children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"New Agreement"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total",value:oe.total,icon:St,color:"text-stone-600"},{label:"Active",value:oe.active,icon:Ee,color:"text-green-600"},{label:"Pending Review",value:oe.pending,icon:Ot,color:"text-amber-600"},{label:"Expired",value:oe.expired,icon:St,color:"text-red-600"}].map(U=>e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U.icon,{className:`w-5 h-5 ${U.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:U.value}),e.jsx("p",{className:"text-xs text-stone-500",children:U.label})]})]})},U.label))}),e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search by university or site name...",value:S,onChange:U=>b(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ff,{className:"w-4 h-4 text-stone-400"}),e.jsxs("select",{value:C,onChange:U=>k(U.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"terminated",children:"Terminated"})]})]})]})}),ye.length===0?e.jsxs(V,{className:"p-12 text-center",children:[e.jsx(St,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("p",{className:"text-stone-500 font-medium",children:"No agreements found"}),e.jsx("p",{className:"text-sm text-stone-400 mt-1",children:c.length===0?"Create your first affiliation agreement to get started.":"Try adjusting your filters."})]}):e.jsx("div",{className:"space-y-3",children:ye.map(U=>e.jsx(V,{className:"p-5 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Q(U),children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(it,{className:"w-4 h-4 text-primary-500 shrink-0"}),e.jsx("span",{className:"font-semibold text-stone-900 truncate",children:U.university?.name||"Unknown University"}),e.jsx("span",{className:"text-stone-400 mx-1",children:""}),e.jsx(Ee,{className:"w-4 h-4 text-secondary-500 shrink-0"}),e.jsx("span",{className:"font-semibold text-stone-900 truncate",children:U.site?.name||"Unknown Site"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-stone-500 mt-1",children:[U.start_date&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3 h-3"}),new Date(U.start_date).toLocaleDateString(),"  ",U.end_date?new Date(U.end_date).toLocaleDateString():"No end date"]}),U.file_name&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(er,{className:"w-3 h-3"}),U.file_name,U.file_size&&` (${A(U.file_size)})`]}),U.creator&&e.jsxs("span",{children:["Created by ",U.creator.first_name," ",U.creator.last_name]})]}),U.notes&&e.jsx("p",{className:"text-xs text-stone-400 mt-1 truncate",children:U.notes})]}),e.jsx(re,{variant:mo[U.status]?.variant||"default",children:mo[U.status]?.label||U.status})]})},U.id))}),e.jsx(He,{isOpen:E,title:"New Affiliation Agreement",onClose:()=>M(!1),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"University *"}),e.jsxs("select",{value:q.university_id,onChange:U=>ve(me=>({...me,university_id:U.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select university..."}),g.map(U=>e.jsx("option",{value:U.id,children:U.name},U.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Clinical Site *"}),e.jsxs("select",{value:q.site_id,onChange:U=>ve(me=>({...me,site_id:U.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select site..."}),(s?.role==="site_manager"?f:x).map(U=>e.jsxs("option",{value:U.id,children:[U.name,"  ",U.city,", ",U.state]},U.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:q.start_date,onChange:U=>ve(me=>({...me,start_date:U.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:q.end_date,onChange:U=>ve(me=>({...me,end_date:U.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:q.notes,onChange:U=>ve(me=>({...me,notes:U.target.value})),rows:3,placeholder:"Additional notes about the agreement...",className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 resize-none"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(L,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),e.jsx(L,{onClick:F,disabled:y.isPending,children:y.isPending?"Creating...":"Create Agreement"})]})]})}),e.jsx(He,{isOpen:!!z,title:"Agreement Details",onClose:()=>Q(null),children:z&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-primary-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(it,{className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-xs font-medium text-primary-600 uppercase tracking-wide",children:"University"})]}),e.jsx("p",{className:"font-semibold text-stone-900",children:z.university?.name}),z.university?.city&&z.university?.state&&e.jsxs("p",{className:"text-xs text-stone-500",children:[z.university.city,", ",z.university.state]})]}),e.jsxs("div",{className:"p-3 bg-secondary-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ee,{className:"w-4 h-4 text-secondary-600"}),e.jsx("span",{className:"text-xs font-medium text-secondary-600 uppercase tracking-wide",children:"Clinical Site"})]}),e.jsx("p",{className:"font-semibold text-stone-900",children:z.site?.name}),z.site?.city&&z.site?.state&&e.jsxs("p",{className:"text-xs text-stone-500",children:[z.site.city,", ",z.site.state]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(re,{variant:mo[z.status]?.variant||"default",children:mo[z.status]?.label||z.status}),z.start_date&&e.jsxs("span",{className:"text-sm text-stone-500 flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(z.start_date).toLocaleDateString(),z.end_date&&`  ${new Date(z.end_date).toLocaleDateString()}`]})]}),z.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide mb-1",children:"Notes"}),e.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-wrap",children:z.notes})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide mb-2",children:"Document"}),z.file_name?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(er,{className:"w-4 h-4 text-stone-400 shrink-0"}),e.jsx("span",{className:"text-sm text-stone-700 truncate",children:z.file_name}),z.file_size&&e.jsxs("span",{className:"text-xs text-stone-400 shrink-0",children:["(",A(z.file_size),")"]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("button",{onClick:()=>be(z.id),className:"text-primary-600 hover:text-primary-700 p-1",title:"Download",children:e.jsx(dn,{className:"w-4 h-4"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>R.current.get(z.id)?.click(),className:"text-xs text-stone-500 hover:text-stone-700",children:"Replace"}),e.jsx("input",{type:"file",ref:U=>{U&&R.current.set(z.id,U)},onChange:U=>{const me=U.target.files?.[0];me&&X(z.id,me),U.target.value=""},accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden"})]})]})]}):t?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>R.current.get(z.id)?.click(),className:"flex items-center gap-2 px-3 py-2 text-sm text-primary-600 hover:text-primary-700 border border-dashed border-primary-300 rounded-xl hover:bg-primary-50 transition-colors",children:[e.jsx(Hn,{className:"w-4 h-4"}),"Upload Document"]}),e.jsx("input",{type:"file",ref:U=>{U&&R.current.set(z.id,U)},onChange:U=>{const me=U.target.files?.[0];me&&X(z.id,me),U.target.value=""},accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden"})]}):e.jsx("p",{className:"text-sm text-stone-400 italic",children:"No document attached"})]}),t&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide mb-2",children:"Actions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T(z).map(U=>e.jsx(L,{variant:U.variant,size:"sm",onClick:()=>xe(z,U.status),disabled:N.isPending,children:U.label},U.status))})]})]})})]})}const Ck={compliant:{icon:ys,color:"text-green-600",bg:"bg-green-50",label:"Compliant"},in_progress:{icon:Be,color:"text-amber-600",bg:"bg-amber-50",label:"In Progress"},non_compliant:{icon:lj,color:"text-red-600",bg:"bg-red-50",label:"Non-Compliant"}};function Wf({status:s}){const t=Ck[s],a=t.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${t.bg} ${t.color}`,children:[e.jsx(a,{className:"w-3.5 h-3.5"}),t.label]})}function qj({value:s,max:t,color:a="bg-primary-500"}){const l=t>0?Math.round(s/t*100):100;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-stone-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${a} rounded-full transition-all`,style:{width:`${l}%`}})}),e.jsxs("span",{className:"text-xs text-stone-500 w-8 text-right",children:[l,"%"]})]})}function Kf({student:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-stone-700",children:[e.jsx(St,{className:"w-4 h-4 text-primary-500"}),"Credentials"]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Total"}),e.jsx("span",{className:"font-medium",children:s.credentials.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Valid"}),e.jsx("span",{className:"font-medium text-green-600",children:s.credentials.valid})]}),s.credentials.expired>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Expired"}),e.jsx("span",{className:"font-medium text-red-600",children:s.credentials.expired})]}),s.credentials.expiring_soon>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Expiring Soon"}),e.jsx("span",{className:"font-medium text-amber-600",children:s.credentials.expiring_soon})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"With Documents"}),e.jsxs("span",{className:"font-medium",children:[s.credentials.has_files,"/",s.credentials.total]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-stone-700",children:[e.jsx(Fe,{className:"w-4 h-4 text-secondary-500"}),"Onboarding Tasks"]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Required"}),e.jsx("span",{className:"font-medium",children:s.tasks.required})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Completed"}),e.jsxs("span",{className:"font-medium text-green-600",children:[s.tasks.required_completed,"/",s.tasks.required]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Verified"}),e.jsxs("span",{className:"font-medium text-primary-600",children:[s.tasks.required_verified,"/",s.tasks.required]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Files Attached"}),e.jsxs("span",{className:"font-medium",children:[s.tasks.with_files,"/",s.tasks.total]})]})]}),s.tasks.required>0&&e.jsx(qj,{value:s.tasks.required_verified,max:s.tasks.required,color:s.tasks.required_verified===s.tasks.required?"bg-green-500":"bg-amber-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-stone-700",children:[e.jsx(it,{className:"w-4 h-4 text-amber-500"}),"Affiliation Agreement"]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-stone-500",children:"Status"}),s.agreement.status==="active"?e.jsx(re,{variant:"success",children:"Active"}):s.agreement.status==="none"?e.jsx(re,{variant:"danger",children:"None"}):e.jsx(re,{variant:"warning",children:s.agreement.status.replace("_"," ")})]}),s.agreement.end_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-stone-500",children:"Expires"}),e.jsx("span",{className:"font-medium",children:new Date(s.agreement.end_date).toLocaleDateString()})]})]})]})]})}function Ek(){const{data:s}=Da(),t=s?.sites||[],[a,l]=_.useState(null),r=a||t[0]?.id||null,{data:c,isLoading:u}=bA(r),f=c?.students||[],[h,x]=_.useState(""),[m,g]=_.useState("all"),[y,N]=_.useState(null),j=_.useMemo(()=>f.filter(b=>{if(m!=="all"&&b.overall_status!==m)return!1;if(h){const C=h.toLowerCase();return b.student_name.toLowerCase().includes(C)||b.student_email.toLowerCase().includes(C)||b.rotation.toLowerCase().includes(C)}return!0}),[f,h,m]),S=_.useMemo(()=>({total:f.length,compliant:f.filter(b=>b.overall_status==="compliant").length,inProgress:f.filter(b=>b.overall_status==="in_progress").length,nonCompliant:f.filter(b=>b.overall_status==="non_compliant").length}),[f]);return e.jsxs("div",{className:"space-y-6",children:[t.length>1&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-stone-400"}),e.jsx("select",{value:r||"",onChange:b=>l(b.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:t.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ys,{className:"w-5 h-5 text-stone-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:S.total}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Students"})]})]})}),e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ys,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.compliant}),e.jsx("p",{className:"text-xs text-stone-500",children:"Compliant"})]})]})}),e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{className:"w-5 h-5 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:S.inProgress}),e.jsx("p",{className:"text-xs text-stone-500",children:"In Progress"})]})]})}),e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(lj,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:S.nonCompliant}),e.jsx("p",{className:"text-xs text-stone-500",children:"Non-Compliant"})]})]})})]}),e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search students...",value:h,onChange:b=>x(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),e.jsxs("select",{value:m,onChange:b=>g(b.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"compliant",children:"Compliant"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"non_compliant",children:"Non-Compliant"})]})]})}),u?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):j.length===0?e.jsxs(V,{className:"p-12 text-center",children:[e.jsx(ys,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("p",{className:"text-stone-500 font-medium",children:"No students found"}),e.jsx("p",{className:"text-sm text-stone-400 mt-1",children:f.length===0?"No accepted students at this site yet.":"Try adjusting your filters."})]}):e.jsx("div",{className:"space-y-2",children:j.map(b=>e.jsxs(V,{className:"overflow-hidden",children:[e.jsxs("button",{className:"w-full p-4 flex items-center gap-3 text-left hover:bg-stone-50 transition-colors",onClick:()=>N(y===b.application_id?null:b.application_id),children:[y===b.application_id?e.jsx(on,{className:"w-4 h-4 text-stone-400 shrink-0"}):e.jsx(Os,{className:"w-4 h-4 text-stone-400 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-stone-900",children:b.student_name}),e.jsx("span",{className:"text-xs text-stone-400",children:b.student_email})]}),e.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:b.rotation})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",title:"Credentials",children:[e.jsx(er,{className:"w-3 h-3"}),b.credentials.valid+b.credentials.no_expiration,"/",b.credentials.total]}),e.jsxs("span",{className:"flex items-center gap-1",title:"Tasks verified",children:[e.jsx(Fe,{className:"w-3 h-3"}),b.tasks.required_verified,"/",b.tasks.required]}),b.agreement.status==="active"?e.jsx("span",{className:"text-green-600",title:"Agreement active",children:e.jsx(ys,{className:"w-3.5 h-3.5"})}):e.jsx("span",{className:"text-red-500",title:`Agreement: ${b.agreement.status}`,children:e.jsx(Ht,{className:"w-3.5 h-3.5"})})]}),e.jsx(Wf,{status:b.overall_status})]})]}),y===b.application_id&&e.jsx("div",{className:"border-t border-stone-100",children:e.jsx(Kf,{student:b})})]},b.application_id))})]})}function Ak(){const{data:s,isLoading:t}=NA(),a=s?.sites||[],[l,r]=_.useState(null),[c,u]=_.useState(null);if(t)return e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const f=a.reduce((m,g)=>m+g.total_students,0),h=a.reduce((m,g)=>m+g.compliant_students,0),x=f>0?Math.round(h/f*100):100;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(V,{className:"p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:a.length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Active Sites"})]}),e.jsxs(V,{className:"p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:f}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total Students"})]}),e.jsxs(V,{className:"p-4",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:h}),e.jsx("p",{className:"text-xs text-stone-500",children:"Fully Compliant"})]}),e.jsxs(V,{className:"p-4",children:[e.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[x,"%"]}),e.jsx("p",{className:"text-xs text-stone-500",children:"Compliance Rate"})]})]}),a.length===0?e.jsxs(V,{className:"p-12 text-center",children:[e.jsx(ys,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("p",{className:"text-stone-500 font-medium",children:"No active placements"}),e.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Students with accepted applications will appear here."})]}):e.jsx("div",{className:"space-y-3",children:a.map(m=>e.jsxs(V,{className:"overflow-hidden",children:[e.jsxs("button",{className:"w-full p-4 flex items-center gap-3 text-left hover:bg-stone-50 transition-colors",onClick:()=>r(l===m.site_id?null:m.site_id),children:[l===m.site_id?e.jsx(on,{className:"w-4 h-4 text-stone-400 shrink-0"}):e.jsx(Os,{className:"w-4 h-4 text-stone-400 shrink-0"}),e.jsx(Ee,{className:"w-5 h-5 text-secondary-500 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"font-semibold text-stone-900",children:m.site_name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[m.site_city,", ",m.site_state]})]}),e.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-bold text-stone-900",children:[m.compliant_students,"/",m.total_students]}),e.jsx("p",{className:"text-xs text-stone-500",children:"compliant"})]}),e.jsx("div",{className:"w-16",children:e.jsx(qj,{value:m.compliant_students,max:m.total_students,color:m.compliance_percentage===100?"bg-green-500":m.compliance_percentage>=50?"bg-amber-500":"bg-red-500"})})]})]}),l===m.site_id&&e.jsx("div",{className:"border-t border-stone-100 divide-y divide-stone-100",children:m.students.map(g=>e.jsxs("div",{children:[e.jsxs("button",{className:"w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-stone-50 transition-colors",onClick:()=>u(c===g.application_id?null:g.application_id),children:[e.jsx("div",{className:"w-4"})," ",c===g.application_id?e.jsx(on,{className:"w-3.5 h-3.5 text-stone-400 shrink-0"}):e.jsx(Os,{className:"w-3.5 h-3.5 text-stone-400 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-medium text-stone-900",children:g.student_name}),e.jsx("span",{className:"text-xs text-stone-400 ml-2",children:g.rotation})]}),e.jsx(Wf,{status:g.overall_status})]}),c===g.application_id&&e.jsx("div",{className:"px-4 pb-3",children:e.jsx(Kf,{student:g})})]},g.application_id))})]},m.site_id))})]})}function kk(){const{data:s}=Zs(),t=(s?.data||[]).filter(h=>h.status==="accepted"),[a,l]=_.useState(null),r=a||t[0]?.id||null,{data:c,isLoading:u}=jA(r),f=c?.compliance;return t.length===0?e.jsxs(V,{className:"p-12 text-center",children:[e.jsx(ys,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("p",{className:"text-stone-500 font-medium",children:"No active rotations"}),e.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Once you have an accepted application, your compliance checklist will appear here."})]}):e.jsxs("div",{className:"space-y-6",children:[t.length>1&&e.jsx("select",{value:r||"",onChange:h=>l(h.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:t.map(h=>e.jsxs("option",{value:h.id,children:[h.slot?.title||"Rotation"," - ",h.slot?.site?.name||"Site"]},h.id))}),u?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):f?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(V,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:f.rotation}),e.jsx("p",{className:"text-sm text-stone-500",children:f.site_name})]}),e.jsx(Wf,{status:f.overall_status})]}),f.overall_status==="non_compliant"&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 rounded-xl text-sm text-red-700 mb-4",children:[e.jsx(js,{className:"w-4 h-4 shrink-0 mt-0.5"}),e.jsxs("span",{children:[f.credentials.expired>0&&"You have expired credentials. ",f.agreement.status!=="active"&&"No active affiliation agreement between your university and this site. ","Please address these issues to become compliant."]})]}),f.credentials.expiring_soon>0&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 rounded-xl text-sm text-amber-700 mb-4",children:[e.jsx(js,{className:"w-4 h-4 shrink-0 mt-0.5"}),e.jsxs("span",{children:[f.credentials.expiring_soon," credential(s) expiring within 30 days. Please renew soon."]})]})]}),e.jsx(Kf,{student:f})]}):null]})}function Dk(){const{user:s}=We(),[t,a]=_.useState(!1),l=s?.role==="site_manager",r=s?.role==="coordinator"||s?.role==="professor"||s?.role==="admin",c=s?.role==="student";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Compliance Dashboard"}),e.jsxs("p",{className:"text-stone-500 mt-1",children:[l&&"Track student documentation and compliance status for your site.",r&&"Monitor compliance across all your student placements.",c&&"View your documentation status for active rotations."]})]}),(l||r)&&e.jsxs("div",{className:"relative",children:[e.jsxs(L,{variant:"secondary",onClick:()=>a(!t),children:[e.jsx(dn,{className:"w-4 h-4"})," Export"]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white rounded-xl shadow-lg border border-stone-200 py-1 z-20",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Xl.complianceCsvUrl()),a(!1)},children:"Download CSV"}),e.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Xl.compliancePdfUrl()),a(!1)},children:"Download PDF"})]})]})]})]}),l&&e.jsx(Ek,{}),r&&e.jsx(Ak,{}),c&&e.jsx(kk,{})]})}function Rk(){const{user:s}=We();return s?.role==="preceptor"?e.jsx(Tk,{}):s?.role==="coordinator"?e.jsx(Mk,{}):s?.role==="admin"?e.jsx(Ok,{}):null}function Tk(){const{data:s,isLoading:t}=Jd(),a=s?.ce_certificates||[],l=a.filter(u=>u.status==="issued").reduce((u,f)=>u+Number(f.contact_hours),0),r=a.filter(u=>u.status==="pending").length,c=a.filter(u=>u.status==="revoked").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My CE Credits"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Continuing education credits earned through precepting"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:e.jsx(Qt,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:l.toFixed(1)}),e.jsx("p",{className:"text-xs text-stone-500",children:"Total CE Hours"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-sky-100 flex items-center justify-center",children:e.jsx(Un,{className:"w-5 h-5 text-sky-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:a.filter(u=>u.status==="issued").length}),e.jsx("p",{className:"text-xs text-stone-500",children:"Issued Certificates"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:r}),e.jsx("p",{className:"text-xs text-stone-500",children:"Pending Approval"})]})]})}),c>0&&e.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(Bi,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:c}),e.jsx("p",{className:"text-xs text-stone-500",children:"Revoked"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[e.jsx("div",{className:"p-4 border-b border-stone-100",children:e.jsx("h2",{className:"font-semibold text-stone-900",children:"CE Certificates"})}),t?e.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading..."}):a.length===0?e.jsxs("div",{className:"p-8 text-center text-stone-400",children:[e.jsx(Un,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),e.jsx("p",{children:"No CE certificates yet"}),e.jsx("p",{className:"text-sm mt-1",children:"CE credits are automatically awarded when placements are completed at participating universities."})]}):e.jsx("div",{className:"divide-y divide-stone-100",children:a.map(u=>e.jsx(Zf,{cert:u,showActions:!1},u.id))})]})]})}function Mk(){const{user:s}=We(),[t,a]=_.useState("approvals"),l=s?.universityId||null,{data:r,isLoading:c}=bj(l),u=!c&&l&&(!r?.policy||!r.policy.offers_ce);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"CE Credit Management"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"Manage continuing education credits, policies, and audit trails"})]}),u&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(js,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-800",children:"CE Credits Not Configured"}),e.jsx("p",{className:"text-sm text-amber-700 mt-0.5",children:"Your university has not enabled CE credits. Preceptors supervising your students won't receive CE certificates until you configure a CE policy."}),e.jsxs("button",{onClick:()=>a("policy"),className:"mt-2 px-4 py-1.5 rounded-lg text-sm font-medium bg-amber-600 text-white hover:bg-amber-700 transition-colors",children:[e.jsx(Ed,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Configure CE Policy"]})]})]}),e.jsxs("div",{className:"flex gap-1 bg-stone-100 p-1 rounded-lg w-fit",children:[e.jsxs("button",{onClick:()=>a("approvals"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="approvals"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[e.jsx(St,{className:"w-4 h-4 inline mr-1.5"}),"Approvals"]}),e.jsxs("button",{onClick:()=>a("policy"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="policy"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[e.jsx(Ed,{className:"w-4 h-4 inline mr-1.5"}),"CE Policy"]}),e.jsxs("button",{onClick:()=>a("audit"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="audit"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[e.jsx(Ft,{className:"w-4 h-4 inline mr-1.5"}),"Audit & Compliance"]})]}),t==="approvals"&&e.jsx(Ij,{universityId:l}),t==="policy"&&l&&e.jsx(Hk,{universityId:l}),t==="policy"&&!l&&e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-8 text-center text-stone-400",children:[e.jsx(js,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),e.jsx("p",{children:"No university affiliation found. Please update your profile."})]}),t==="audit"&&e.jsx(Bj,{universityId:l})]})}function Ok(){const[s,t]=_.useState("approvals");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"CE Credit Administration"}),e.jsx("p",{className:"text-stone-500 mt-1",children:"View all CE certificates and audit trails across the platform"})]}),e.jsxs("div",{className:"flex gap-1 bg-stone-100 p-1 rounded-lg w-fit",children:[e.jsxs("button",{onClick:()=>t("approvals"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="approvals"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[e.jsx(St,{className:"w-4 h-4 inline mr-1.5"}),"All Certificates"]}),e.jsxs("button",{onClick:()=>t("audit"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="audit"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[e.jsx(Ft,{className:"w-4 h-4 inline mr-1.5"}),"Audit & Compliance"]})]}),s==="approvals"&&e.jsx(Ij,{universityId:null}),s==="audit"&&e.jsx(Bj,{universityId:null})]})}function Bj({universityId:s}){const{data:t,isLoading:a}=Jd(s?{university_id:s}:void 0),l=t?.ce_certificates||[];if(a)return e.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading..."});if(l.length===0)return e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-8 text-center text-stone-400",children:[e.jsx(Ft,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),e.jsx("p",{children:"No CE certificates to audit"}),e.jsx("p",{className:"text-sm mt-1",children:"Audit trails will appear here once CE certificates are created."})]});const r={total:l.length,issued:l.filter(c=>c.status==="issued").length,pending:l.filter(c=>c.status==="pending").length,revoked:l.filter(c=>c.status==="revoked").length,rejected:l.filter(c=>c.status==="rejected").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[e.jsx(ho,{label:"Total",value:r.total,color:"stone"}),e.jsx(ho,{label:"Issued",value:r.issued,color:"emerald"}),e.jsx(ho,{label:"Pending",value:r.pending,color:"amber"}),e.jsx(ho,{label:"Revoked",value:r.revoked,color:"red"}),e.jsx(ho,{label:"Rejected",value:r.rejected,color:"stone"})]}),e.jsxs("div",{className:"bg-sky-50 border border-sky-200 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-sky-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-sky-800",children:"Immutable Audit Trail"}),e.jsx("p",{className:"text-sm text-sky-700 mt-0.5",children:"All CE audit events are cryptographically immutable  they cannot be edited or deleted once recorded. Every approval, rejection, revocation, download, and policy change is permanently logged for accreditation compliance."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[e.jsx("div",{className:"p-4 border-b border-stone-100",children:e.jsxs("h2",{className:"font-semibold text-stone-900 flex items-center gap-2",children:[e.jsx(Vf,{className:"w-5 h-5 text-stone-400"}),"Certificate Audit Trails"]})}),e.jsx("div",{className:"divide-y divide-stone-100",children:l.map(c=>e.jsx(Zf,{cert:c,showActions:!0,showAuditTrail:!0},c.id))})]})]})}function ho({label:s,value:t,color:a}){const l={stone:"bg-stone-50 text-stone-700",emerald:"bg-emerald-50 text-emerald-700",amber:"bg-amber-50 text-amber-700",red:"bg-red-50 text-red-700"};return e.jsxs("div",{className:`rounded-lg p-3 text-center ${l[a]||l.stone}`,children:[e.jsx("p",{className:"text-2xl font-bold",children:t}),e.jsx("p",{className:"text-xs font-medium mt-0.5",children:s})]})}function Ij({universityId:s}){const{data:t,isLoading:a}=Jd(s?{university_id:s}:void 0),l=SA(),r=_A(),[c,u]=_.useState(null),[f,h]=_.useState(""),x=t?.ce_certificates||[],m=x.filter(j=>j.status==="pending"),g=x.filter(j=>j.status!=="pending"),y=j=>{l.mutate(j,{onSuccess:()=>Y.success("CE certificate approved and issued."),onError:S=>Y.error(S.message)})},N=()=>{!c||!f.trim()||r.mutate({id:c,data:{rejection_reason:f}},{onSuccess:()=>{Y.success("CE certificate rejected."),u(null),h("")},onError:j=>Y.error(j.message)})};return a?e.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[m.length>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-amber-200",children:[e.jsx("div",{className:"p-4 border-b border-amber-100 bg-amber-50 rounded-t-xl",children:e.jsxs("h2",{className:"font-semibold text-amber-800 flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5"}),"Pending Approvals (",m.length,")"]})}),e.jsx("div",{className:"divide-y divide-stone-100",children:m.map(j=>e.jsxs("div",{className:"p-4 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"font-medium text-stone-900",children:[j.preceptor?.first_name," ",j.preceptor?.last_name]}),e.jsxs("p",{className:"text-sm text-stone-500",children:[j.application?.slot?.specialty," at ",j.application?.slot?.site?.name]}),e.jsxs("p",{className:"text-sm text-stone-500",children:[j.contact_hours," contact hours  ",j.university?.name]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("button",{onClick:()=>y(j.id),disabled:l.isPending,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-emerald-50 text-emerald-700 hover:bg-emerald-100 transition-colors",children:[e.jsx(Fe,{className:"w-4 h-4 inline mr-1"}),"Approve"]}),e.jsxs("button",{onClick:()=>u(j.id),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-red-50 text-red-700 hover:bg-red-100 transition-colors",children:[e.jsx(Ht,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]})]},j.id))})]}),c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:()=>u(null),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",onClick:j=>j.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Reject CE Certificate"}),e.jsx("textarea",{value:f,onChange:j=>h(j.target.value),placeholder:"Reason for rejection...",className:"w-full border border-stone-300 rounded-lg p-3 text-sm min-h-[100px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx("button",{onClick:()=>{u(null),h("")},className:"px-4 py-2 text-sm rounded-lg text-stone-600 hover:bg-stone-100",children:"Cancel"}),e.jsx("button",{onClick:N,disabled:!f.trim()||r.isPending,className:"px-4 py-2 text-sm rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[e.jsx("div",{className:"p-4 border-b border-stone-100",children:e.jsxs("h2",{className:"font-semibold text-stone-900",children:[m.length>0?"Processed Certificates":"All CE Certificates",g.length>0&&` (${g.length})`]})}),x.length===0?e.jsxs("div",{className:"p-8 text-center text-stone-400",children:[e.jsx(Un,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),e.jsx("p",{children:"No CE certificates yet"})]}):e.jsx("div",{className:"divide-y divide-stone-100",children:(m.length>0?g:x).map(j=>e.jsx(Zf,{cert:j,showActions:!0},j.id))})]})]})}function Zf({cert:s,showActions:t=!1,showAuditTrail:a=!1}){const{user:l}=We(),[r,c]=_.useState(!1),[u,f]=_.useState(!1),[h,x]=_.useState(""),m=CA(),g=t&&(l?.role==="coordinator"||l?.role==="admin")&&(s.status==="approved"||s.status==="issued"),y={pending:{color:"bg-amber-100 text-amber-700",icon:e.jsx(Be,{className:"w-3.5 h-3.5"}),label:"Pending"},approved:{color:"bg-sky-100 text-sky-700",icon:e.jsx(Fe,{className:"w-3.5 h-3.5"}),label:"Approved"},issued:{color:"bg-emerald-100 text-emerald-700",icon:e.jsx(Un,{className:"w-3.5 h-3.5"}),label:"Issued"},rejected:{color:"bg-red-100 text-red-700",icon:e.jsx(Ht,{className:"w-3.5 h-3.5"}),label:"Rejected"},revoked:{color:"bg-red-100 text-red-800 ring-1 ring-red-300",icon:e.jsx(Bi,{className:"w-3.5 h-3.5"}),label:"Revoked"}},N=y[s.status]||y.pending,j=()=>{h.trim()&&m.mutate({id:s.id,data:{revocation_reason:h}},{onSuccess:()=>{Y.success("CE certificate revoked."),f(!1),x("")},onError:S=>Y.error(S.message)})};return e.jsxs("div",{children:[e.jsxs("div",{className:`p-4 flex items-center justify-between gap-4 ${a||g?"cursor-pointer hover:bg-stone-50 transition-colors":""}`,onClick:()=>(a||g)&&c(!r),children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("p",{className:"font-medium text-stone-900",children:[s.preceptor?.first_name," ",s.preceptor?.last_name]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${N.color}`,children:[N.icon,N.label]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-stone-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3.5 h-3.5"}),s.application?.slot?.site?.name||"N/A"]}),e.jsx("span",{children:s.application?.slot?.specialty||"N/A"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3.5 h-3.5"}),s.contact_hours," hrs"]}),s.issued_at&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3.5 h-3.5"}),new Date(s.issued_at).toLocaleDateString()]})]}),s.university&&e.jsx("p",{className:"text-xs text-stone-400 mt-1",children:s.university.name}),s.rejection_reason&&e.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Rejected: ",s.rejection_reason]}),s.revocation_reason&&e.jsxs("div",{className:"mt-1 flex items-start gap-1",children:[e.jsx(Bi,{className:"w-3 h-3 text-red-500 shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-red-600",children:["Revoked",s.revoked_at?` on ${new Date(s.revoked_at).toLocaleDateString()}`:"",": ",s.revocation_reason]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[(s.status==="issued"||s.status==="approved")&&e.jsxs("a",{href:gi.downloadUrl(s.id),target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-stone-100 text-stone-700 hover:bg-stone-200 transition-colors",children:[e.jsx(dn,{className:"w-4 h-4 inline mr-1"}),"PDF"]}),(a||g)&&(r?e.jsx(Wi,{className:"w-4 h-4 text-stone-400"}):e.jsx(on,{className:"w-4 h-4 text-stone-400"}))]})]}),r&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3",children:"Certificate Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($f,{className:"w-3.5 h-3.5 text-stone-400"}),e.jsx("span",{className:"text-stone-500",children:"Verification:"}),e.jsxs("span",{className:"font-mono text-xs text-stone-700",children:[s.verification_uuid?.slice(0,8),"..."]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"w-3.5 h-3.5 text-stone-400"}),e.jsx("span",{className:"text-stone-500",children:"Contact Hours:"}),e.jsx("span",{className:"font-medium text-stone-700",children:s.contact_hours})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-3.5 h-3.5 text-stone-400"}),e.jsx("span",{className:"text-stone-500",children:"Created:"}),e.jsx("span",{className:"text-stone-700",children:new Date(s.created_at).toLocaleDateString()})]}),s.issued_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Un,{className:"w-3.5 h-3.5 text-stone-400"}),e.jsx("span",{className:"text-stone-500",children:"Issued:"}),e.jsx("span",{className:"text-stone-700",children:new Date(s.issued_at).toLocaleDateString()})]}),s.approved_by_user&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-3.5 h-3.5 text-stone-400"}),e.jsx("span",{className:"text-stone-500",children:"Approved by:"}),e.jsxs("span",{className:"text-stone-700",children:[s.approved_by_user.first_name," ",s.approved_by_user.last_name]})]}),s.revoked_by_user&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bi,{className:"w-3.5 h-3.5 text-red-400"}),e.jsx("span",{className:"text-stone-500",children:"Revoked by:"}),e.jsxs("span",{className:"text-red-700",children:[s.revoked_by_user.first_name," ",s.revoked_by_user.last_name]})]})]})]}),g&&!u&&e.jsxs("button",{onClick:S=>{S.stopPropagation(),f(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium bg-red-50 text-red-700 hover:bg-red-100 transition-colors flex items-center gap-2",children:[e.jsx(Bi,{className:"w-4 h-4"}),"Revoke Certificate"]}),u&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",onClick:S=>S.stopPropagation(),children:[e.jsxs("h4",{className:"text-sm font-semibold text-red-800 mb-2 flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4"}),"Revoke CE Certificate"]}),e.jsx("p",{className:"text-xs text-red-600 mb-3",children:"This action is permanent and will be recorded in the immutable audit trail. The certificate will be invalidated and the verification page will show it as revoked."}),e.jsx("textarea",{value:h,onChange:S=>x(S.target.value),placeholder:"Reason for revocation (required)...",className:"w-full border border-red-300 rounded-lg p-3 text-sm min-h-[80px] focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"}),e.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[e.jsx("button",{onClick:()=>{f(!1),x("")},className:"px-4 py-2 text-sm rounded-lg text-stone-600 hover:bg-stone-100",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:!h.trim()||m.isPending,className:"px-4 py-2 text-sm rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:[e.jsx(Bi,{className:"w-4 h-4"}),m.isPending?"Revoking...":"Confirm Revocation"]})]})]}),a&&e.jsx(zk,{certificateId:s.id})]})]})}function zk({certificateId:s}){const{data:t,isLoading:a}=EA(s),l=t?.audit_trail||[],r={created:{label:"Certificate Created",color:"text-sky-600",icon:e.jsx(St,{className:"w-3.5 h-3.5"})},eligibility_checked:{label:"Eligibility Checked",color:"text-stone-600",icon:e.jsx(ea,{className:"w-3.5 h-3.5"})},approved:{label:"Approved",color:"text-emerald-600",icon:e.jsx(Fe,{className:"w-3.5 h-3.5"})},issued:{label:"Issued",color:"text-emerald-600",icon:e.jsx(Un,{className:"w-3.5 h-3.5"})},rejected:{label:"Rejected",color:"text-red-600",icon:e.jsx(Ht,{className:"w-3.5 h-3.5"})},revoked:{label:"Revoked",color:"text-red-700",icon:e.jsx(Bi,{className:"w-3.5 h-3.5"})},downloaded:{label:"PDF Downloaded",color:"text-stone-500",icon:e.jsx(dn,{className:"w-3.5 h-3.5"})},verified:{label:"Public Verification",color:"text-sky-500",icon:e.jsx(ea,{className:"w-3.5 h-3.5"})},policy_changed:{label:"Policy Changed",color:"text-amber-600",icon:e.jsx(Ed,{className:"w-3.5 h-3.5"})}};return a?e.jsx("div",{className:"p-4 text-center text-stone-400 text-sm",children:"Loading audit trail..."}):l.length===0?e.jsx("div",{className:"bg-stone-50 rounded-lg p-4 text-center text-stone-400 text-sm",children:"No audit events recorded yet."}):e.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Vf,{className:"w-3.5 h-3.5"}),"Audit Trail (",l.length," events)"]}),e.jsx("div",{className:"space-y-0",children:l.map((c,u)=>e.jsx(Lk,{event:c,config:r,isLast:u===l.length-1},c.id))})]})}function Lk({event:s,config:t,isLast:a}){const l=t[s.event_type]||{label:s.event_type,color:"text-stone-500",icon:e.jsx(Vf,{className:"w-3.5 h-3.5"})};return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-7 h-7 rounded-full bg-white border-2 border-stone-200 flex items-center justify-center ${l.color}`,children:l.icon}),!a&&e.jsx("div",{className:"w-0.5 h-6 bg-stone-200"})]}),e.jsxs("div",{className:`flex-1 ${a?"":"pb-2"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`text-sm font-medium ${l.color}`,children:l.label}),e.jsx("span",{className:"text-xs text-stone-400",children:new Date(s.created_at).toLocaleString()})]}),e.jsxs("div",{className:"text-xs text-stone-500 mt-0.5",children:[s.actor?e.jsxs("span",{children:[s.actor.first_name," ",s.actor.last_name," (",s.actor_role,")"]}):e.jsx("span",{children:s.actor_role}),s.ip_address&&e.jsx("span",{className:"ml-2 text-stone-400",children:s.ip_address})]}),s.metadata&&Object.keys(s.metadata).length>0&&e.jsx(Uk,{metadata:s.metadata,eventType:s.event_type})]})]})}function Uk({metadata:s,eventType:t}){return t==="revoked"&&s.revocation_reason?e.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Reason: ",String(s.revocation_reason)]}):t==="rejected"&&s.rejection_reason?e.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Reason: ",String(s.rejection_reason)]}):t==="eligibility_checked"?e.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[s.eligible?"Eligible":"Not eligible",s.reason?`  ${String(s.reason)}`:""]}):t==="policy_changed"?e.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:["Version ",String(s.old_version||"?"),"  ",String(s.new_version||"?")]}):null}function Hk({universityId:s}){const{data:t,isLoading:a}=bj(s),l=wA(),[r,c]=_.useState({offers_ce:!1,accrediting_body:"",contact_hours_per_rotation:0,max_hours_per_year:"",requires_final_evaluation:!0,requires_midterm_evaluation:!1,requires_minimum_hours:!1,minimum_hours_required:"",approval_required:!0,signer_name:"",signer_credentials:"",effective_from:"",effective_to:""}),[u,f]=_.useState(!1);if(t?.policy&&!u){const m=t.policy;c({offers_ce:m.offers_ce,accrediting_body:m.accrediting_body||"",contact_hours_per_rotation:m.contact_hours_per_rotation,max_hours_per_year:m.max_hours_per_year?.toString()||"",requires_final_evaluation:m.requires_final_evaluation,requires_midterm_evaluation:m.requires_midterm_evaluation,requires_minimum_hours:m.requires_minimum_hours,minimum_hours_required:m.minimum_hours_required?.toString()||"",approval_required:m.approval_required,signer_name:m.signer_name||"",signer_credentials:m.signer_credentials||"",effective_from:m.effective_from||"",effective_to:m.effective_to||""}),f(!0)}else t&&!t.policy&&!u&&f(!0);const h=()=>{l.mutate({universityId:s,data:{offers_ce:r.offers_ce,accrediting_body:r.accrediting_body||null,contact_hours_per_rotation:Number(r.contact_hours_per_rotation),max_hours_per_year:r.max_hours_per_year?Number(r.max_hours_per_year):null,requires_final_evaluation:r.requires_final_evaluation,requires_midterm_evaluation:r.requires_midterm_evaluation,requires_minimum_hours:r.requires_minimum_hours,minimum_hours_required:r.minimum_hours_required?Number(r.minimum_hours_required):null,approval_required:r.approval_required,signer_name:r.signer_name||null,signer_credentials:r.signer_credentials||null,effective_from:r.effective_from||null,effective_to:r.effective_to||null}},{onSuccess:()=>Y.success("CE policy saved. Changes are recorded in the audit trail."),onError:m=>Y.error(m.message)})};if(a)return e.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading policy..."});const x=t?.policy;return e.jsxs("div",{className:"space-y-4",children:[x&&e.jsxs("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-stone-600",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx($f,{className:"w-3.5 h-3.5 text-stone-400"}),"Version ",x.version||1]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Ot,{className:"w-3.5 h-3.5 text-stone-400"}),"Last updated: ",new Date(x.updated_at).toLocaleDateString()]}),x.effective_from&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(pC,{className:"w-3.5 h-3.5 text-stone-400"}),"Effective: ",new Date(x.effective_from).toLocaleDateString(),x.effective_to?`  ${new Date(x.effective_to).toLocaleDateString()}`:"  Ongoing"]})]}),e.jsx("span",{className:"text-xs text-stone-400",children:"All changes are audit-logged"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[e.jsx("div",{className:"p-4 border-b border-stone-100",children:e.jsxs("h2",{className:"font-semibold text-stone-900 flex items-center gap-2",children:[e.jsx(Ed,{className:"w-5 h-5 text-stone-400"}),"CE Policy Settings"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:r.offers_ce,onChange:m=>c({...r,offers_ce:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:"University offers CE credits for preceptors"})]}),r.offers_ce&&e.jsxs("div",{className:"space-y-5 pl-7",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Accrediting Body"}),e.jsx("input",{type:"text",value:r.accrediting_body,onChange:m=>c({...r,accrediting_body:m.target.value}),placeholder:"e.g. ANCC, AAPA",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Contact Hours per Rotation"}),e.jsx("input",{type:"number",step:"0.5",min:"0",value:r.contact_hours_per_rotation,onChange:m=>c({...r,contact_hours_per_rotation:Number(m.target.value)}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Max Hours per Year (optional)"}),e.jsx("input",{type:"number",step:"0.5",min:"0",value:r.max_hours_per_year,onChange:m=>c({...r,max_hours_per_year:m.target.value}),placeholder:"No limit",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Effective From"}),e.jsx("input",{type:"date",value:r.effective_from,onChange:m=>c({...r,effective_from:m.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Effective To (optional)"}),e.jsx("input",{type:"date",value:r.effective_to,onChange:m=>c({...r,effective_to:m.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-stone-700",children:"Eligibility Requirements"}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:r.requires_final_evaluation,onChange:m=>c({...r,requires_final_evaluation:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-stone-600",children:"Require final evaluation from preceptor"})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:r.requires_midterm_evaluation,onChange:m=>c({...r,requires_midterm_evaluation:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-stone-600",children:"Require mid-rotation evaluation"})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:r.requires_minimum_hours,onChange:m=>c({...r,requires_minimum_hours:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-stone-600",children:"Require minimum logged hours"})]}),r.requires_minimum_hours&&e.jsx("div",{className:"pl-7",children:e.jsx("input",{type:"number",step:"1",min:"0",value:r.minimum_hours_required,onChange:m=>c({...r,minimum_hours_required:m.target.value}),placeholder:"Minimum hours",className:"w-40 border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:r.approval_required,onChange:m=>c({...r,approval_required:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-stone-600",children:"Require coordinator approval before issuing"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Certificate Signer Name"}),e.jsx("input",{type:"text",value:r.signer_name,onChange:m=>c({...r,signer_name:m.target.value}),placeholder:"e.g. Dr. Jane Smith",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Signer Credentials"}),e.jsx("input",{type:"text",value:r.signer_credentials,onChange:m=>c({...r,signer_credentials:m.target.value}),placeholder:"e.g. DNP, FNP-BC, Program Director",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-stone-100",children:[e.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[e.jsx(Ft,{className:"w-3.5 h-3.5"}),"Policy changes are recorded in the immutable audit trail"]}),e.jsxs("button",{onClick:h,disabled:l.isPending,className:"px-5 py-2.5 rounded-xl text-sm font-medium bg-primary-600 text-white hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[e.jsx(Kd,{className:"w-4 h-4"}),l.isPending?"Saving...":"Save Policy"]})]})]})]})]})}function Pk(){const{uuid:s}=xi(),{data:t,isLoading:a,error:l}=Pe({queryKey:["verify-ce",s],queryFn:()=>gi.publicVerify(s),enabled:!!s});return e.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-lg w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2.5",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"CE Certificate Verification"})]}),a&&e.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm p-8 text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-stone-500",children:"Verifying certificate..."})]}),l&&e.jsxs("div",{className:"bg-white rounded-2xl border border-red-200 shadow-sm p-8 text-center",children:[e.jsx(Ht,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"Certificate Not Found"}),e.jsx("p",{className:"text-stone-500",children:"This verification link is invalid or the certificate does not exist."})]}),t&&e.jsxs("div",{className:`bg-white rounded-2xl border shadow-sm overflow-hidden ${t.valid?"border-emerald-200":"border-red-200"}`,children:[e.jsx("div",{className:`px-6 py-4 flex items-center gap-3 ${t.valid?"bg-emerald-50":"bg-red-50"}`,children:t.valid?e.jsxs(e.Fragment,{children:[e.jsx(Un,{className:"w-8 h-8 text-emerald-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-emerald-800",children:"Verified CE Certificate"}),e.jsx("p",{className:"text-sm text-emerald-600",children:"This certificate is authentic and valid"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-red-800",children:"Invalid Certificate"}),e.jsxs("p",{className:"text-sm text-red-600",children:["Status: ",t.status]})]})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1",children:"Preceptor"}),e.jsx("p",{className:"text-lg font-semibold text-stone-900",children:t.preceptor_name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-3 h-3"})," Contact Hours"]}),e.jsx("p",{className:"text-lg font-bold text-emerald-600",children:t.contact_hours})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[e.jsx(Ee,{className:"w-3 h-3"})," Institution"]}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.university_name})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[e.jsx(ht,{className:"w-3 h-3"})," Clinical Site"]}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.site_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1",children:"Specialty"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.specialty})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3 h-3"})," Rotation Period"]}),e.jsx("p",{className:"text-sm text-stone-700",children:t.rotation_period})]}),t.issued_at&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1",children:"Issued"}),e.jsx("p",{className:"text-sm text-stone-700",children:new Date(t.issued_at).toLocaleDateString()})]})]}),e.jsx("div",{className:"pt-3 border-t border-stone-100",children:e.jsxs("p",{className:"text-xs text-stone-400 text-center",children:["Verification ID: ",t.verification_uuid]})})]})]})]})})}function qk(){const[s,t]=_.useState(""),[a,l]=_.useState(!1),[r,c]=_.useState(!1),u=async f=>{f.preventDefault(),l(!0);try{await Ts.forgotPassword(s),c(!0)}catch(h){const x=h instanceof Error?h.message:"Something went wrong. Please try again.";Y.error(x)}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]})}),e.jsx(V,{children:r?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(Fe,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Check your email"}),e.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["If an account exists for ",e.jsx("strong",{children:s}),", we sent a password reset link. Check your inbox (and spam folder)."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(L,{variant:"outline",className:"w-full",onClick:()=>{c(!1),t("")},children:"Try another email"}),e.jsx(Vt,{to:"/login",className:"block text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Back to Sign In"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Forgot your password?"}),e.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsx(De,{label:"Email address",type:"email",placeholder:"you@university.edu",value:s,onChange:f=>t(f.target.value),icon:e.jsx(Ln,{className:"w-4 h-4"}),required:!0}),e.jsx(L,{type:"submit",isLoading:a,className:"w-full",children:"Send Reset Link"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(Vt,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700",children:[e.jsx(Sn,{className:"w-3.5 h-3.5"}),"Back to Sign In"]})})]})})]})})}function Bk(){const[s]=Of(),t=yt(),a=s.get("token"),l=s.get("email"),[r,c]=_.useState(""),[u,f]=_.useState(""),[h,x]=_.useState(!1),[m,g]=_.useState(!1),[y,N]=_.useState(!1);if(!a||!l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(V,{children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(zn,{className:"w-8 h-8 text-red-500"})}),e.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Invalid Reset Link"}),e.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),e.jsx(Vt,{to:"/forgot-password",children:e.jsx(L,{className:"w-full",children:"Request New Link"})})]})})})});const j=async S=>{if(S.preventDefault(),r!==u){Y.error("Passwords do not match");return}if(r.length<12){Y.error("Password must be at least 12 characters");return}g(!0);try{await Ts.resetPassword({token:a,email:l,password:r,password_confirmation:u}),N(!0)}catch(b){const C=b instanceof Error?b.message:"Failed to reset password. The link may have expired.";Y.error(C)}finally{g(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]})}),e.jsx(V,{children:y?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(Fe,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Password Reset!"}),e.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Your password has been updated successfully. You can now sign in with your new password."}),e.jsx(L,{className:"w-full",onClick:()=>t("/login"),children:"Sign In"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Set new password"}),e.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Enter your new password for ",e.jsx("strong",{children:l})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:e.jsx(Jl,{className:"w-4 h-4"})}),e.jsx("input",{type:h?"text":"password",placeholder:"At least 12 characters",value:r,onChange:S=>c(S.target.value),required:!0,minLength:12,className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-10 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>x(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-stone-400 hover:text-stone-600",children:h?e.jsx(If,{className:"w-4 h-4"}):e.jsx(ea,{className:"w-4 h-4"})})]})]}),e.jsx(De,{label:"Confirm Password",type:"password",placeholder:"Re-enter your password",value:u,onChange:S=>f(S.target.value),icon:e.jsx(Jl,{className:"w-4 h-4"}),required:!0,error:u&&r!==u?"Passwords do not match":void 0}),e.jsx(L,{type:"submit",isLoading:m,className:"w-full",children:"Reset Password"})]})]})})]})})}function Ik(s){const t=new Date(s),l=new Date().getTime()-t.getTime(),r=Math.floor(l/(1e3*60*60*24));return r===0?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r===1?"Yesterday":r<7?t.toLocaleDateString([],{weekday:"short"}):t.toLocaleDateString([],{month:"short",day:"numeric"})}const Fk={student:"bg-blue-100 text-blue-700",preceptor:"bg-green-100 text-green-700",site_manager:"bg-purple-100 text-purple-700",coordinator:"bg-amber-100 text-amber-700",professor:"bg-teal-100 text-teal-700",admin:"bg-red-100 text-red-700"};function $k({selectedId:s,onSelect:t}){const[a,l]=_.useState(""),{user:r}=We(),{data:c,isLoading:u}=AA(),h=(c?.data??[]).filter(m=>a?m.users.filter(y=>y.id!==r?.id).some(y=>`${y.first_name} ${y.last_name}`.toLowerCase().includes(a.toLowerCase())):!0);function x(m){return m.users.find(g=>g.id!==r?.id)||m.users[0]}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 border-b border-stone-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:a,onChange:m=>l(m.target.value),className:"w-full pl-9 pr-3 py-2 rounded-lg border border-stone-200 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:u?e.jsx("div",{className:"p-4 text-center text-stone-400 text-sm",children:"Loading..."}):h.length===0?e.jsx("div",{className:"p-4 text-center text-stone-400 text-sm",children:a?"No conversations found":"No conversations yet"}):h.map(m=>{const g=x(m),y=m.id===s,N=m.unread_count>0,j=m.is_broadcast;return e.jsxs("button",{onClick:()=>t(m.id),className:`w-full text-left px-3 py-3 flex items-start gap-3 transition-colors border-b border-stone-50 ${y?"bg-primary-50":N?"bg-stone-50 hover:bg-stone-100":"hover:bg-stone-50"}`,children:[j?e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0 bg-amber-100 text-amber-700",children:e.jsx(_d,{className:"w-5 h-5"})}):m.is_group?e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0 bg-purple-100 text-purple-700",children:e.jsx(at,{className:"w-5 h-5"})}):e.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0 ${Fk[g?.role||"student"]}`,children:[g?.first_name?.[0],g?.last_name?.[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[e.jsx("span",{className:`text-sm truncate ${N?"font-semibold text-stone-900":"font-medium text-stone-700"}`,children:j?m.subject||"Broadcast":`${g?.first_name} ${g?.last_name}`}),j&&e.jsx("span",{className:"shrink-0 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-amber-100 text-amber-700",children:"Broadcast"})]}),m.latest_message&&e.jsx("span",{className:"text-xs text-stone-400 shrink-0 ml-2",children:Ik(m.latest_message.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("p",{className:`text-xs truncate flex-1 ${N?"text-stone-700 font-medium":"text-stone-500"}`,children:m.latest_message?(m.latest_message.sender_id===r?.id?"You: ":"")+m.latest_message.body:"No messages yet"}),N&&e.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-primary-600 text-white text-xs font-bold flex items-center justify-center",children:m.unread_count>9?"9+":m.unread_count})]})]})]},m.id)})})]})}function Vk({message:s,isMine:t,showSender:a}){const l=new Date(s.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} ${a?"mt-2":"mt-0.5"}`,children:e.jsxs("div",{className:`max-w-[75%] ${t?"items-end":"items-start"}`,children:[a&&!t&&s.sender&&e.jsxs("p",{className:"text-xs text-stone-500 mb-1 ml-1",children:[s.sender.first_name," ",s.sender.last_name]}),e.jsxs("div",{className:`px-3.5 py-2 rounded-2xl text-sm leading-relaxed ${t?"bg-primary-600 text-white rounded-br-md":"bg-white border border-stone-200 text-stone-800 rounded-bl-md"}`,children:[e.jsx("p",{className:"whitespace-pre-wrap break-words",children:s.body}),e.jsx("p",{className:`text-[10px] mt-1 ${t?"text-primary-200":"text-stone-400"}`,children:l})]})]})})}function Qk({conversationId:s,onBack:t}){const{user:a}=We(),{data:l,isLoading:r}=kA(s),c=DA(),[u,f]=_.useState(""),h=_.useRef(null),[x,m]=_.useState(0),g=l?.messages?.data??[],y=l?.conversation,N=y?.users?.find(b=>b.id!==a?.id)||y?.users?.[0];_.useEffect(()=>{g.length>x&&(h.current?.scrollIntoView({behavior:x===0?"auto":"smooth"}),m(g.length))},[g.length,x]),_.useEffect(()=>{m(0)},[s]);function j(){const b=u.trim();!b||c.isPending||c.mutate({conversationId:s,body:b},{onSuccess:()=>f("")})}function S(b){b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),j())}return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-stone-200 bg-white",children:[e.jsx("button",{onClick:t,className:"lg:hidden p-1.5 rounded-lg hover:bg-stone-100 text-stone-600 transition-colors",children:e.jsx(Sn,{className:"w-5 h-5"})}),N&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[N.first_name[0],N.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[N.first_name," ",N.last_name]}),e.jsx("p",{className:"text-xs text-stone-500 capitalize",children:N.role?.replace("_"," ")})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-1",children:[r?e.jsx("div",{className:"text-center text-stone-400 text-sm py-8",children:"Loading messages..."}):g.length===0?e.jsx("div",{className:"text-center text-stone-400 text-sm py-8",children:"No messages yet. Say hello!"}):g.map((b,C)=>{const k=g[C-1],E=!k||new Date(b.created_at).toDateString()!==new Date(k.created_at).toDateString();return e.jsxs("div",{children:[E&&e.jsx("div",{className:"flex items-center justify-center py-3",children:e.jsx("span",{className:"text-xs text-stone-400 bg-stone-100 px-3 py-1 rounded-full",children:new Date(b.created_at).toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})})}),e.jsx(Vk,{message:b,isMine:b.sender_id===a?.id,showSender:b.sender_id!==k?.sender_id||E})]},b.id)}),e.jsx("div",{ref:h})]}),e.jsx("div",{className:"border-t border-stone-200 bg-white px-4 py-3",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("textarea",{value:u,onChange:b=>f(b.target.value),onKeyDown:S,placeholder:"Type a message...",rows:1,className:"flex-1 resize-none rounded-xl border border-stone-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 max-h-32",style:{minHeight:"42px"}}),e.jsx("button",{onClick:j,disabled:!u.trim()||c.isPending,className:"p-2.5 rounded-xl bg-primary-600 text-white hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Mn,{className:"w-5 h-5"})})]})})]})}const fy={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"};function Gk({onClose:s,onCreated:t}){const[a,l]=_.useState(""),[r,c]=_.useState(null),[u,f]=_.useState(""),[h,x]=_.useState(""),{data:m,isLoading:g}=MA(a),y=RA();function N(){!r||!u.trim()||(x(""),y.mutate({user_id:r.id,body:u.trim()},{onSuccess:j=>t(j.conversation.id),onError:j=>x(j.message)}))}return e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-200",children:[e.jsx("h2",{className:"text-lg font-bold text-stone-900",children:"New Message"}),e.jsx("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-stone-100 text-stone-400 transition-colors",children:e.jsx(Ks,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-5 space-y-4",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[r.first_name[0],r.last_name[0]]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[r.first_name," ",r.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:fy[r.role]||r.role})]}),e.jsx("button",{onClick:()=>c(null),className:"text-xs text-primary-600 hover:text-primary-700 font-medium",children:"Change"})]}),e.jsx("textarea",{value:u,onChange:j=>f(j.target.value),placeholder:"Type your message...",rows:3,autoFocus:!0,className:"w-full rounded-xl border border-stone-200 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 resize-none"}),h&&e.jsx("p",{className:"text-sm text-red-600",children:h}),e.jsxs("button",{onClick:N,disabled:!u.trim()||y.isPending,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[y.isPending?e.jsx(Et,{className:"w-4 h-4 animate-spin"}):e.jsx(Mn,{className:"w-4 h-4"}),"Send Message"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(qt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search for a person...",value:a,onChange:j=>l(j.target.value),autoFocus:!0,className:"w-full pl-9 pr-3 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:g&&a.length>=2?e.jsx("div",{className:"text-center py-4 text-stone-400 text-sm",children:"Searching..."}):a.length<2?e.jsx("div",{className:"text-center py-4 text-stone-400 text-sm",children:"Type at least 2 characters to search"}):m?.length?m.map(j=>e.jsxs("button",{onClick:()=>c(j),className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-stone-50 transition-colors",children:[e.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[j.first_name[0],j.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[j.first_name," ",j.last_name]}),e.jsx("p",{className:"text-xs text-stone-500",children:fy[j.role]||j.role})]})]},j.id)):e.jsx("div",{className:"text-center py-4 text-stone-400 text-sm",children:"No users found"})})]})})]})})}function Yk({open:s,onClose:t,onSent:a,programs:l}){const{user:r}=We(),c=r?.role==="admin",[u,f]=_.useState(""),[h,x]=_.useState(""),[m,g]=_.useState("all_students"),[y,N]=_.useState(""),[j,S]=_.useState("student"),b=OA(),C=()=>{if(!u.trim()||!h.trim()){Y.error("Subject and message are required");return}b.mutate({subject:u.trim(),body:h.trim(),audience:m,...m==="program"?{program_id:y}:{},...m==="role"?{role:j}:{}},{onSuccess:k=>{Y.success(`Broadcast sent to ${k.recipients_count} recipient(s)`),f(""),x(""),t(),a?.(k.conversation.id)},onError:k=>{Y.error(k.message||"Failed to send broadcast")}})};return e.jsx(He,{isOpen:s,onClose:t,title:"Send Broadcast",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-xl border border-amber-200",children:[e.jsx(_d,{className:"w-5 h-5 text-amber-600 shrink-0"}),e.jsx("p",{className:"text-sm text-stone-700",children:"Broadcasts send a one-way announcement to all selected recipients as a group conversation."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Audience"}),e.jsxs("select",{value:m,onChange:k=>g(k.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{value:"all_students",children:"All Students"}),l&&l.length>0&&e.jsx("option",{value:"program",children:"By Program"}),c&&e.jsx("option",{value:"role",children:"By Role"})]})]}),m==="program"&&l&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program"}),e.jsxs("select",{value:y,onChange:k=>N(k.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select a program..."}),l.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),m==="role"&&c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Role"}),e.jsxs("select",{value:j,onChange:k=>S(k.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{value:"student",children:"Students"}),e.jsx("option",{value:"preceptor",children:"Preceptors"}),e.jsx("option",{value:"site_manager",children:"Site Managers"}),e.jsx("option",{value:"coordinator",children:"Coordinators"}),e.jsx("option",{value:"professor",children:"Professors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Subject"}),e.jsx(De,{value:u,onChange:k=>f(k.target.value),placeholder:"Announcement subject...",maxLength:255})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message"}),e.jsx("textarea",{value:h,onChange:k=>x(k.target.value),placeholder:"Type your broadcast message...",rows:5,maxLength:1e4,className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 resize-none"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(L,{variant:"secondary",onClick:t,children:"Cancel"}),e.jsx(L,{onClick:C,disabled:b.isPending||!u.trim()||!h.trim(),children:b.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-4 h-4 animate-spin"})," Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_d,{className:"w-4 h-4"})," Send Broadcast"]})})]})]})})}function xy(){const{id:s}=xi(),t=yt(),{user:a}=We(),[l,r]=_.useState(!1),[c,u]=_.useState(!1),f=a?.role==="coordinator"||a?.role==="admin";return e.jsxs("div",{className:"h-[calc(100vh-4rem)] lg:h-[calc(100vh-0rem)] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-stone-200 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cd,{className:"w-6 h-6 text-primary-600"}),e.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Messages"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f&&e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-500 text-white rounded-xl text-sm font-medium hover:bg-amber-600 transition-colors",children:[e.jsx(_d,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Broadcast"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 transition-colors",children:[e.jsx(Ct,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"New Message"})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:`${s?"hidden lg:flex":"flex"} w-full lg:w-80 flex-col border-r border-stone-200 bg-white`,children:e.jsx($k,{selectedId:s||null,onSelect:h=>t(`/messages/${h}`)})}),e.jsx("div",{className:`${s?"flex":"hidden lg:flex"} flex-1 flex-col bg-stone-50`,children:s?e.jsx(Qk,{conversationId:s,onBack:()=>t("/messages")}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-stone-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cd,{className:"w-16 h-16 mx-auto mb-3 opacity-30"}),e.jsx("p",{className:"text-lg font-medium",children:"Select a conversation"}),e.jsx("p",{className:"text-sm mt-1",children:"Choose from existing conversations or start a new one"})]})})})]}),l&&e.jsx(Gk,{onClose:()=>r(!1),onCreated:h=>{r(!1),t(`/messages/${h}`)}}),c&&e.jsx(Yk,{open:c,onClose:()=>u(!1),onSent:h=>{u(!1),t(`/messages/${h}`)}})]})}var eu,Oe,Fj,$j,tr,Ii,py,Vj,Qj,Dd={},Gj=[],Wk=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ai(s,t){for(var a in t)s[a]=t[a];return s}function Yj(s){var t=s.parentNode;t&&t.removeChild(s)}function O(s,t,a){var l,r,c,u={};for(c in t)c=="key"?l=t[c]:c=="ref"?r=t[c]:u[c]=t[c];if(arguments.length>2&&(u.children=arguments.length>3?eu.call(arguments,2):a),typeof s=="function"&&s.defaultProps!=null)for(c in s.defaultProps)u[c]===void 0&&(u[c]=s.defaultProps[c]);return hd(s,u,l,r,null)}function hd(s,t,a,l,r){var c={type:s,props:t,key:a,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++Fj};return r==null&&Oe.vnode!=null&&Oe.vnode(c),c}function Ms(){return{current:null}}function vt(s){return s.children}function Kk(s,t,a,l,r){var c;for(c in a)c==="children"||c==="key"||c in t||Rd(s,c,null,a[c],l);for(c in t)r&&typeof t[c]!="function"||c==="children"||c==="key"||c==="value"||c==="checked"||a[c]===t[c]||Rd(s,c,t[c],a[c],l)}function gy(s,t,a){t[0]==="-"?s.setProperty(t,a??""):s[t]=a==null?"":typeof a!="number"||Wk.test(t)?a:a+"px"}function Rd(s,t,a,l,r){var c;e:if(t==="style")if(typeof a=="string")s.style.cssText=a;else{if(typeof l=="string"&&(s.style.cssText=l=""),l)for(t in l)a&&t in a||gy(s.style,t,"");if(a)for(t in a)l&&a[t]===l[t]||gy(s.style,t,a[t])}else if(t[0]==="o"&&t[1]==="n")c=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in s?t.toLowerCase().slice(2):t.slice(2),s.l||(s.l={}),s.l[t+c]=a,a?l||s.addEventListener(t,c?yy:vy,c):s.removeEventListener(t,c?yy:vy,c);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in s)try{s[t]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&t.indexOf("-")==-1?s.removeAttribute(t):s.setAttribute(t,a))}}function vy(s){tr=!0;try{return this.l[s.type+!1](Oe.event?Oe.event(s):s)}finally{tr=!1}}function yy(s){tr=!0;try{return this.l[s.type+!0](Oe.event?Oe.event(s):s)}finally{tr=!1}}function ln(s,t){this.props=s,this.context=t}function Co(s,t){if(t==null)return s.__?Co(s.__,s.__.__k.indexOf(s)+1):null;for(var a;t<s.__k.length;t++)if((a=s.__k[t])!=null&&a.__e!=null)return a.__e;return typeof s.type=="function"?Co(s):null}function Wj(s){var t,a;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,t=0;t<s.__k.length;t++)if((a=s.__k[t])!=null&&a.__e!=null){s.__e=s.__c.base=a.__e;break}return Wj(s)}}function Zk(s){tr?setTimeout(s):Vj(s)}function df(s){(!s.__d&&(s.__d=!0)&&Ii.push(s)&&!Td.__r++||py!==Oe.debounceRendering)&&((py=Oe.debounceRendering)||Zk)(Td)}function Td(){var s,t,a,l,r,c,u,f;for(Ii.sort(function(h,x){return h.__v.__b-x.__v.__b});s=Ii.shift();)s.__d&&(t=Ii.length,l=void 0,r=void 0,u=(c=(a=s).__v).__e,(f=a.__P)&&(l=[],(r=ai({},c)).__v=c.__v+1,Xf(f,c,r,a.__n,f.ownerSVGElement!==void 0,c.__h!=null?[u]:null,l,u??Co(c),c.__h),eN(l,c),c.__e!=u&&Wj(c)),Ii.length>t&&Ii.sort(function(h,x){return h.__v.__b-x.__v.__b}));Td.__r=0}function Kj(s,t,a,l,r,c,u,f,h,x){var m,g,y,N,j,S,b,C=l&&l.__k||Gj,k=C.length;for(a.__k=[],m=0;m<t.length;m++)if((N=a.__k[m]=(N=t[m])==null||typeof N=="boolean"?null:typeof N=="string"||typeof N=="number"||typeof N=="bigint"?hd(null,N,null,null,N):Array.isArray(N)?hd(vt,{children:N},null,null,null):N.__b>0?hd(N.type,N.props,N.key,N.ref?N.ref:null,N.__v):N)!=null){if(N.__=a,N.__b=a.__b+1,(y=C[m])===null||y&&N.key==y.key&&N.type===y.type)C[m]=void 0;else for(g=0;g<k;g++){if((y=C[g])&&N.key==y.key&&N.type===y.type){C[g]=void 0;break}y=null}Xf(s,N,y=y||Dd,r,c,u,f,h,x),j=N.__e,(g=N.ref)&&y.ref!=g&&(b||(b=[]),y.ref&&b.push(y.ref,null,N),b.push(g,N.__c||j,N)),j!=null?(S==null&&(S=j),typeof N.type=="function"&&N.__k===y.__k?N.__d=h=Zj(N,h,s):h=Xj(s,N,y,C,j,h),typeof a.type=="function"&&(a.__d=h)):h&&y.__e==h&&h.parentNode!=s&&(h=Co(y))}for(a.__e=S,m=k;m--;)C[m]!=null&&(typeof a.type=="function"&&C[m].__e!=null&&C[m].__e==a.__d&&(a.__d=Jj(l).nextSibling),sN(C[m],C[m]));if(b)for(m=0;m<b.length;m++)tN(b[m],b[++m],b[++m])}function Zj(s,t,a){for(var l,r=s.__k,c=0;r&&c<r.length;c++)(l=r[c])&&(l.__=s,t=typeof l.type=="function"?Zj(l,t,a):Xj(a,l,l,r,l.__e,t));return t}function Md(s,t){return t=t||[],s==null||typeof s=="boolean"||(Array.isArray(s)?s.some(function(a){Md(a,t)}):t.push(s)),t}function Xj(s,t,a,l,r,c){var u,f,h;if(t.__d!==void 0)u=t.__d,t.__d=void 0;else if(a==null||r!=c||r.parentNode==null)e:if(c==null||c.parentNode!==s)s.appendChild(r),u=null;else{for(f=c,h=0;(f=f.nextSibling)&&h<l.length;h+=1)if(f==r)break e;s.insertBefore(r,c),u=c}return u!==void 0?u:r.nextSibling}function Jj(s){var t,a,l;if(s.type==null||typeof s.type=="string")return s.__e;if(s.__k){for(t=s.__k.length-1;t>=0;t--)if((a=s.__k[t])&&(l=Jj(a)))return l}return null}function Xf(s,t,a,l,r,c,u,f,h){var x,m,g,y,N,j,S,b,C,k,E,M,z,Q,R,q=t.type;if(t.constructor!==void 0)return null;a.__h!=null&&(h=a.__h,f=t.__e=a.__e,t.__h=null,c=[f]),(x=Oe.__b)&&x(t);try{e:if(typeof q=="function"){if(b=t.props,C=(x=q.contextType)&&l[x.__c],k=x?C?C.props.value:x.__:l,a.__c?S=(m=t.__c=a.__c).__=m.__E:("prototype"in q&&q.prototype.render?t.__c=m=new q(b,k):(t.__c=m=new ln(b,k),m.constructor=q,m.render=Jk),C&&C.sub(m),m.props=b,m.state||(m.state={}),m.context=k,m.__n=l,g=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),q.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=ai({},m.__s)),ai(m.__s,q.getDerivedStateFromProps(b,m.__s))),y=m.props,N=m.state,m.__v=t,g)q.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(q.getDerivedStateFromProps==null&&b!==y&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(b,k),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(b,m.__s,k)===!1||t.__v===a.__v){for(t.__v!==a.__v&&(m.props=b,m.state=m.__s,m.__d=!1),t.__e=a.__e,t.__k=a.__k,t.__k.forEach(function(ve){ve&&(ve.__=t)}),E=0;E<m._sb.length;E++)m.__h.push(m._sb[E]);m._sb=[],m.__h.length&&u.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(b,m.__s,k),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(y,N,j)})}if(m.context=k,m.props=b,m.__P=s,M=Oe.__r,z=0,"prototype"in q&&q.prototype.render){for(m.state=m.__s,m.__d=!1,M&&M(t),x=m.render(m.props,m.state,m.context),Q=0;Q<m._sb.length;Q++)m.__h.push(m._sb[Q]);m._sb=[]}else do m.__d=!1,M&&M(t),x=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++z<25);m.state=m.__s,m.getChildContext!=null&&(l=ai(ai({},l),m.getChildContext())),g||m.getSnapshotBeforeUpdate==null||(j=m.getSnapshotBeforeUpdate(y,N)),R=x!=null&&x.type===vt&&x.key==null?x.props.children:x,Kj(s,Array.isArray(R)?R:[R],t,a,l,r,c,u,f,h),m.base=t.__e,t.__h=null,m.__h.length&&u.push(m),S&&(m.__E=m.__=null),m.__e=!1}else c==null&&t.__v===a.__v?(t.__k=a.__k,t.__e=a.__e):t.__e=Xk(a.__e,t,a,l,r,c,u,h);(x=Oe.diffed)&&x(t)}catch(ve){t.__v=null,(h||c!=null)&&(t.__e=f,t.__h=!!h,c[c.indexOf(f)]=null),Oe.__e(ve,t,a)}}function eN(s,t){Oe.__c&&Oe.__c(t,s),s.some(function(a){try{s=a.__h,a.__h=[],s.some(function(l){l.call(a)})}catch(l){Oe.__e(l,a.__v)}})}function Xk(s,t,a,l,r,c,u,f){var h,x,m,g=a.props,y=t.props,N=t.type,j=0;if(N==="svg"&&(r=!0),c!=null){for(;j<c.length;j++)if((h=c[j])&&"setAttribute"in h==!!N&&(N?h.localName===N:h.nodeType===3)){s=h,c[j]=null;break}}if(s==null){if(N===null)return document.createTextNode(y);s=r?document.createElementNS("http://www.w3.org/2000/svg",N):document.createElement(N,y.is&&y),c=null,f=!1}if(N===null)g===y||f&&s.data===y||(s.data=y);else{if(c=c&&eu.call(s.childNodes),x=(g=a.props||Dd).dangerouslySetInnerHTML,m=y.dangerouslySetInnerHTML,!f){if(c!=null)for(g={},j=0;j<s.attributes.length;j++)g[s.attributes[j].name]=s.attributes[j].value;(m||x)&&(m&&(x&&m.__html==x.__html||m.__html===s.innerHTML)||(s.innerHTML=m&&m.__html||""))}if(Kk(s,y,g,r,f),m)t.__k=[];else if(j=t.props.children,Kj(s,Array.isArray(j)?j:[j],t,a,l,r&&N!=="foreignObject",c,u,c?c[0]:a.__k&&Co(a,0),f),c!=null)for(j=c.length;j--;)c[j]!=null&&Yj(c[j]);f||("value"in y&&(j=y.value)!==void 0&&(j!==s.value||N==="progress"&&!j||N==="option"&&j!==g.value)&&Rd(s,"value",j,g.value,!1),"checked"in y&&(j=y.checked)!==void 0&&j!==s.checked&&Rd(s,"checked",j,g.checked,!1))}return s}function tN(s,t,a){try{typeof s=="function"?s(t):s.current=t}catch(l){Oe.__e(l,a)}}function sN(s,t,a){var l,r;if(Oe.unmount&&Oe.unmount(s),(l=s.ref)&&(l.current&&l.current!==s.__e||tN(l,null,t)),(l=s.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(c){Oe.__e(c,t)}l.base=l.__P=null,s.__c=void 0}if(l=s.__k)for(r=0;r<l.length;r++)l[r]&&sN(l[r],t,a||typeof s.type!="function");a||s.__e==null||Yj(s.__e),s.__=s.__e=s.__d=void 0}function Jk(s,t,a){return this.constructor(s,a)}function Eo(s,t,a){var l,r,c;Oe.__&&Oe.__(s,t),r=(l=!1)?null:t.__k,c=[],Xf(t,s=t.__k=O(vt,null,[s]),r||Dd,Dd,t.ownerSVGElement!==void 0,r?null:t.firstChild?eu.call(t.childNodes):null,c,r?r.__e:t.firstChild,l),eN(c,s)}function eD(s,t){var a={__c:t="__cC"+Qj++,__:s,Consumer:function(l,r){return l.children(r)},Provider:function(l){var r,c;return this.getChildContext||(r=[],(c={})[t]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&r.some(function(f){f.__e=!0,df(f)})},this.sub=function(u){r.push(u);var f=u.componentWillUnmount;u.componentWillUnmount=function(){r.splice(r.indexOf(u),1),f&&f.call(u)}}),l.children}};return a.Provider.__=a.Consumer.contextType=a}eu=Gj.slice,Oe={__e:function(s,t,a,l){for(var r,c,u;t=t.__;)if((r=t.__c)&&!r.__)try{if((c=r.constructor)&&c.getDerivedStateFromError!=null&&(r.setState(c.getDerivedStateFromError(s)),u=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(s,l||{}),u=r.__d),u)return r.__E=r}catch(f){s=f}throw s}},Fj=0,$j=function(s){return s!=null&&s.constructor===void 0},tr=!1,ln.prototype.setState=function(s,t){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ai({},this.state),typeof s=="function"&&(s=s(ai({},a),this.props)),s&&ai(a,s),s!=null&&this.__v&&(t&&this._sb.push(t),df(this))},ln.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),df(this))},ln.prototype.render=vt,Ii=[],Vj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Td.__r=0,Qj=0;var Zn,Mh,by,nN=[],Oh=[],jy=Oe.__b,Ny=Oe.__r,wy=Oe.diffed,Sy=Oe.__c,_y=Oe.unmount;function tD(){for(var s;s=nN.shift();)if(s.__P&&s.__H)try{s.__H.__h.forEach(fd),s.__H.__h.forEach(uf),s.__H.__h=[]}catch(t){s.__H.__h=[],Oe.__e(t,s.__v)}}Oe.__b=function(s){Zn=null,jy&&jy(s)},Oe.__r=function(s){Ny&&Ny(s);var t=(Zn=s.__c).__H;t&&(Mh===Zn?(t.__h=[],Zn.__h=[],t.__.forEach(function(a){a.__N&&(a.__=a.__N),a.__V=Oh,a.__N=a.i=void 0})):(t.__h.forEach(fd),t.__h.forEach(uf),t.__h=[])),Mh=Zn},Oe.diffed=function(s){wy&&wy(s);var t=s.__c;t&&t.__H&&(t.__H.__h.length&&(nN.push(t)!==1&&by===Oe.requestAnimationFrame||((by=Oe.requestAnimationFrame)||sD)(tD)),t.__H.__.forEach(function(a){a.i&&(a.__H=a.i),a.__V!==Oh&&(a.__=a.__V),a.i=void 0,a.__V=Oh})),Mh=Zn=null},Oe.__c=function(s,t){t.some(function(a){try{a.__h.forEach(fd),a.__h=a.__h.filter(function(l){return!l.__||uf(l)})}catch(l){t.some(function(r){r.__h&&(r.__h=[])}),t=[],Oe.__e(l,a.__v)}}),Sy&&Sy(s,t)},Oe.unmount=function(s){_y&&_y(s);var t,a=s.__c;a&&a.__H&&(a.__H.__.forEach(function(l){try{fd(l)}catch(r){t=r}}),a.__H=void 0,t&&Oe.__e(t,a.__v))};var Cy=typeof requestAnimationFrame=="function";function sD(s){var t,a=function(){clearTimeout(l),Cy&&cancelAnimationFrame(t),setTimeout(s)},l=setTimeout(a,100);Cy&&(t=requestAnimationFrame(a))}function fd(s){var t=Zn,a=s.__c;typeof a=="function"&&(s.__c=void 0,a()),Zn=t}function uf(s){var t=Zn;s.__c=s.__(),Zn=t}function nD(s,t){for(var a in t)s[a]=t[a];return s}function Ey(s,t){for(var a in s)if(a!=="__source"&&!(a in t))return!0;for(var l in t)if(l!=="__source"&&s[l]!==t[l])return!0;return!1}function Ay(s){this.props=s}(Ay.prototype=new ln).isPureReactComponent=!0,Ay.prototype.shouldComponentUpdate=function(s,t){return Ey(this.props,s)||Ey(this.state,t)};var ky=Oe.__b;Oe.__b=function(s){s.type&&s.type.__f&&s.ref&&(s.props.ref=s.ref,s.ref=null),ky&&ky(s)};var aD=Oe.__e;Oe.__e=function(s,t,a,l){if(s.then){for(var r,c=t;c=c.__;)if((r=c.__c)&&r.__c)return t.__e==null&&(t.__e=a.__e,t.__k=a.__k),r.__c(s,t)}aD(s,t,a,l)};var Dy=Oe.unmount;function aN(s,t,a){return s&&(s.__c&&s.__c.__H&&(s.__c.__H.__.forEach(function(l){typeof l.__c=="function"&&l.__c()}),s.__c.__H=null),(s=nD({},s)).__c!=null&&(s.__c.__P===a&&(s.__c.__P=t),s.__c=null),s.__k=s.__k&&s.__k.map(function(l){return aN(l,t,a)})),s}function iN(s,t,a){return s&&(s.__v=null,s.__k=s.__k&&s.__k.map(function(l){return iN(l,t,a)}),s.__c&&s.__c.__P===t&&(s.__e&&a.insertBefore(s.__e,s.__d),s.__c.__e=!0,s.__c.__P=a)),s}function zh(){this.__u=0,this.t=null,this.__b=null}function lN(s){var t=s.__.__c;return t&&t.__a&&t.__a(s)}function sd(){this.u=null,this.o=null}Oe.unmount=function(s){var t=s.__c;t&&t.__R&&t.__R(),t&&s.__h===!0&&(s.type=null),Dy&&Dy(s)},(zh.prototype=new ln).__c=function(s,t){var a=t.__c,l=this;l.t==null&&(l.t=[]),l.t.push(a);var r=lN(l.__v),c=!1,u=function(){c||(c=!0,a.__R=null,r?r(f):f())};a.__R=u;var f=function(){if(!--l.__u){if(l.state.__a){var x=l.state.__a;l.__v.__k[0]=iN(x,x.__c.__P,x.__c.__O)}var m;for(l.setState({__a:l.__b=null});m=l.t.pop();)m.forceUpdate()}},h=t.__h===!0;l.__u++||h||l.setState({__a:l.__b=l.__v.__k[0]}),s.then(u,u)},zh.prototype.componentWillUnmount=function(){this.t=[]},zh.prototype.render=function(s,t){if(this.__b){if(this.__v.__k){var a=document.createElement("div"),l=this.__v.__k[0].__c;this.__v.__k[0]=aN(this.__b,a,l.__O=l.__P)}this.__b=null}var r=t.__a&&O(vt,null,s.fallback);return r&&(r.__h=null),[O(vt,null,t.__a?null:s.children),r]};var Ry=function(s,t,a){if(++a[1]===a[0]&&s.o.delete(t),s.props.revealOrder&&(s.props.revealOrder[0]!=="t"||!s.o.size))for(a=s.u;a;){for(;a.length>3;)a.pop()();if(a[1]<a[0])break;s.u=a=a[2]}};function iD(s){return this.getChildContext=function(){return s.context},s.children}function lD(s){var t=this,a=s.i;t.componentWillUnmount=function(){Eo(null,t.l),t.l=null,t.i=null},t.i&&t.i!==a&&t.componentWillUnmount(),s.__v?(t.l||(t.i=a,t.l={nodeType:1,parentNode:a,childNodes:[],appendChild:function(l){this.childNodes.push(l),t.i.appendChild(l)},insertBefore:function(l,r){this.childNodes.push(l),t.i.appendChild(l)},removeChild:function(l){this.childNodes.splice(this.childNodes.indexOf(l)>>>1,1),t.i.removeChild(l)}}),Eo(O(iD,{context:t.context},s.__v),t.l)):t.l&&t.componentWillUnmount()}function rD(s,t){var a=O(lD,{__v:s,i:t});return a.containerInfo=t,a}(sd.prototype=new ln).__a=function(s){var t=this,a=lN(t.__v),l=t.o.get(s);return l[0]++,function(r){var c=function(){t.props.revealOrder?(l.push(r),Ry(t,s,l)):r()};a?a(c):c()}},sd.prototype.render=function(s){this.u=null,this.o=new Map;var t=Md(s.children);s.revealOrder&&s.revealOrder[0]==="b"&&t.reverse();for(var a=t.length;a--;)this.o.set(t[a],this.u=[1,0,this.u]);return s.children},sd.prototype.componentDidUpdate=sd.prototype.componentDidMount=function(){var s=this;this.o.forEach(function(t,a){Ry(s,a,t)})};var oD=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,cD=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,dD=typeof document<"u",uD=function(s){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(s)};ln.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(s){Object.defineProperty(ln.prototype,s,{configurable:!0,get:function(){return this["UNSAFE_"+s]},set:function(t){Object.defineProperty(this,s,{configurable:!0,writable:!0,value:t})}})});var Ty=Oe.event;function mD(){}function hD(){return this.cancelBubble}function fD(){return this.defaultPrevented}Oe.event=function(s){return Ty&&(s=Ty(s)),s.persist=mD,s.isPropagationStopped=hD,s.isDefaultPrevented=fD,s.nativeEvent=s};var My={configurable:!0,get:function(){return this.class}},Oy=Oe.vnode;Oe.vnode=function(s){var t=s.type,a=s.props,l=a;if(typeof t=="string"){var r=t.indexOf("-")===-1;for(var c in l={},a){var u=a[c];dD&&c==="children"&&t==="noscript"||c==="value"&&"defaultValue"in a&&u==null||(c==="defaultValue"&&"value"in a&&a.value==null?c="value":c==="download"&&u===!0?u="":/ondoubleclick/i.test(c)?c="ondblclick":/^onchange(textarea|input)/i.test(c+t)&&!uD(a.type)?c="oninput":/^onfocus$/i.test(c)?c="onfocusin":/^onblur$/i.test(c)?c="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(c)?c=c.toLowerCase():r&&cD.test(c)?c=c.replace(/[A-Z0-9]/g,"-$&").toLowerCase():u===null&&(u=void 0),/^oninput$/i.test(c)&&(c=c.toLowerCase(),l[c]&&(c="oninputCapture")),l[c]=u)}t=="select"&&l.multiple&&Array.isArray(l.value)&&(l.value=Md(a.children).forEach(function(f){f.props.selected=l.value.indexOf(f.props.value)!=-1})),t=="select"&&l.defaultValue!=null&&(l.value=Md(a.children).forEach(function(f){f.props.selected=l.multiple?l.defaultValue.indexOf(f.props.value)!=-1:l.defaultValue==f.props.value})),s.props=l,a.class!=a.className&&(My.enumerable="className"in a,a.className!=null&&(l.class=a.className),Object.defineProperty(l,"className",My))}s.$$typeof=oD,Oy&&Oy(s)};var zy=Oe.__r;Oe.__r=function(s){zy&&zy(s),s.__c};const rN=[],mf=new Map;function tu(s){rN.push(s),mf.forEach(t=>{cN(t,s)})}function xD(s){s.isConnected&&s.getRootNode&&oN(s.getRootNode())}function oN(s){let t=mf.get(s);if(!t||!t.isConnected){if(t=s.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const a=gD();a&&(t.nonce=a);const l=s===document?document.head:s,r=s===document?l.querySelector("script,link[rel=stylesheet],link[as=style],style"):l.firstChild;l.insertBefore(t,r)}mf.set(s,t),pD(t)}}function pD(s){for(const t of rN)cN(s,t)}function cN(s,t){const{sheet:a}=s,l=a.cssRules.length;t.split("}").forEach((r,c)=>{r=r.trim(),r&&a.insertRule(r+"}",l+c)})}let Lh;function gD(){return Lh===void 0&&(Lh=vD()),Lh}function vD(){const s=document.querySelector('meta[name="csp-nonce"]');if(s&&s.hasAttribute("content"))return s.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&oN(document);var yD=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';tu(yD);class Jf{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:a}=this;a[t]=(a[t]||0)+1,this.clearTimeout()}resume(t="",a){let{pauseDepths:l}=this;t in l&&(a?delete l[t]:(l[t]-=1,l[t]<=0&&delete l[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function ex(s){s.parentNode&&s.parentNode.removeChild(s)}function Cs(s,t){if(s.closest)return s.closest(t);if(!document.documentElement.contains(s))return null;do{if(bD(s,t))return s;s=s.parentElement||s.parentNode}while(s!==null&&s.nodeType===1);return null}function bD(s,t){return(s.matches||s.matchesSelector||s.msMatchesSelector).call(s,t)}function jD(s,t){let a=s instanceof HTMLElement?[s]:s,l=[];for(let r=0;r<a.length;r+=1){let c=a[r].querySelectorAll(t);for(let u=0;u<c.length;u+=1)l.push(c[u])}return l}const ND=/(top|left|right|bottom|width|height)$/i;function go(s,t){for(let a in t)dN(s,a,t[a])}function dN(s,t,a){a==null?s.style[t]="":typeof a=="number"&&ND.test(t)?s.style[t]=`${a}px`:s.style[t]=a}function uN(s){var t,a;return(a=(t=s.composedPath)===null||t===void 0?void 0:t.call(s)[0])!==null&&a!==void 0?a:s.target}let Ly=0;function ci(){return Ly+=1,"fc-dom-"+Ly}function su(s){s.preventDefault()}function wD(s,t){return a=>{let l=Cs(a.target,s);l&&t.call(l,a,l)}}function mN(s,t,a,l){let r=wD(a,l);return s.addEventListener(t,r),()=>{s.removeEventListener(t,r)}}function SD(s,t,a,l){let r;return mN(s,"mouseover",t,(c,u)=>{if(u!==r){r=u,a(c,u);let f=h=>{r=null,l(h,u),u.removeEventListener("mouseleave",f)};u.addEventListener("mouseleave",f)}})}const Uy=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function _D(s,t){let a=l=>{t(l),Uy.forEach(r=>{s.removeEventListener(r,a)})};Uy.forEach(l=>{s.addEventListener(l,a)})}function hN(s){return Object.assign({onClick:s},fN(s))}function fN(s){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(s(t),t.preventDefault())}}}let Hy=0;function sl(){return Hy+=1,String(Hy)}function tx(){document.body.classList.add("fc-not-allowed")}function sx(){document.body.classList.remove("fc-not-allowed")}function CD(s){s.style.userSelect="none",s.style.webkitUserSelect="none",s.addEventListener("selectstart",su)}function ED(s){s.style.userSelect="",s.style.webkitUserSelect="",s.removeEventListener("selectstart",su)}function AD(s){s.addEventListener("contextmenu",su)}function kD(s){s.removeEventListener("contextmenu",su)}function DD(s){let t=[],a=[],l,r;for(typeof s=="string"?a=s.split(/\s*,\s*/):typeof s=="function"?a=[s]:Array.isArray(s)&&(a=s),l=0;l<a.length;l+=1)r=a[l],typeof r=="string"?t.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&t.push({func:r});return t}function RD(s,t,a){let l,r;for(l=0;l<a.length;l+=1)if(r=TD(s,t,a[l]),r)return r;return 0}function TD(s,t,a){return a.func?a.func(s,t):MD(s[a.field],t[a.field])*(a.order||1)}function MD(s,t){return!s&&!t?0:t==null?-1:s==null?1:typeof s=="string"||typeof t=="string"?String(s).localeCompare(String(t)):s-t}function Wl(s,t){let a=String(s);return"000".substr(0,t-a.length)+a}function vo(s,t,a){return typeof s=="function"?s(...t):typeof s=="string"?t.reduce((l,r,c)=>l.replace("$"+c,r||""),s):a}function OD(s,t){return s-t}function xd(s){return s%1===0}function zD(s){let t=s.querySelector(".fc-scrollgrid-shrink-frame"),a=s.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!a)throw new Error("needs fc-scrollgrid-shrink-cushion className");return s.getBoundingClientRect().width-t.getBoundingClientRect().width+a.getBoundingClientRect().width}const Py=["years","months","days","milliseconds"],LD=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function nt(s,t){return typeof s=="string"?UD(s):typeof s=="object"&&s?qy(s):typeof s=="number"?qy({[t||"milliseconds"]:s}):null}function UD(s){let t=LD.exec(s);if(t){let a=t[1]?-1:1;return{years:0,months:0,days:a*(t[2]?parseInt(t[2],10):0),milliseconds:a*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function qy(s){let t={years:s.years||s.year||0,months:s.months||s.month||0,days:s.days||s.day||0,milliseconds:(s.hours||s.hour||0)*60*60*1e3+(s.minutes||s.minute||0)*60*1e3+(s.seconds||s.second||0)*1e3+(s.milliseconds||s.millisecond||s.ms||0)},a=s.weeks||s.week;return a&&(t.days+=a*7,t.specifiedWeeks=!0),t}function HD(s,t){return s.years===t.years&&s.months===t.months&&s.days===t.days&&s.milliseconds===t.milliseconds}function hf(s,t){return{years:s.years+t.years,months:s.months+t.months,days:s.days+t.days,milliseconds:s.milliseconds+t.milliseconds}}function PD(s,t){return{years:s.years-t.years,months:s.months-t.months,days:s.days-t.days,milliseconds:s.milliseconds-t.milliseconds}}function qD(s,t){return{years:s.years*t,months:s.months*t,days:s.days*t,milliseconds:s.milliseconds*t}}function BD(s){return Kl(s)/365}function ID(s){return Kl(s)/30}function Kl(s){return On(s)/864e5}function On(s){return s.years*(365*864e5)+s.months*(30*864e5)+s.days*864e5+s.milliseconds}function nx(s,t){let a=null;for(let l=0;l<Py.length;l+=1){let r=Py[l];if(t[r]){let c=s[r]/t[r];if(!xd(c)||a!==null&&a!==c)return null;a=c}else if(s[r])return null}return a}function ff(s){let t=s.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return s.days?s.specifiedWeeks&&s.days%7===0?{unit:"week",value:s.days/7}:{unit:"day",value:s.days}:s.months?{unit:"month",value:s.months}:s.years?{unit:"year",value:s.years}:{unit:"millisecond",value:0}}function mi(s,t,a){if(s===t)return!0;let l=s.length,r;if(l!==t.length)return!1;for(r=0;r<l;r+=1)if(!(a?a(s[r],t[r]):s[r]===t[r]))return!1;return!0}const FD=["sun","mon","tue","wed","thu","fri","sat"];function By(s,t){let a=ii(s);return a[2]+=t*7,Ws(a)}function is(s,t){let a=ii(s);return a[2]+=t,Ws(a)}function hi(s,t){let a=ii(s);return a[6]+=t,Ws(a)}function $D(s,t){return vi(s,t)/7}function vi(s,t){return(t.valueOf()-s.valueOf())/(1e3*60*60*24)}function VD(s,t){return(t.valueOf()-s.valueOf())/(1e3*60*60)}function QD(s,t){return(t.valueOf()-s.valueOf())/(1e3*60)}function GD(s,t){return(t.valueOf()-s.valueOf())/1e3}function YD(s,t){let a=_t(s),l=_t(t);return{years:0,months:0,days:Math.round(vi(a,l)),milliseconds:t.valueOf()-l.valueOf()-(s.valueOf()-a.valueOf())}}function WD(s,t){let a=Od(s,t);return a!==null&&a%7===0?a/7:null}function Od(s,t){return li(s)===li(t)?Math.round(vi(s,t)):null}function _t(s){return Ws([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()])}function KD(s){return Ws([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours()])}function ZD(s){return Ws([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes()])}function XD(s){return Ws([s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds()])}function JD(s,t,a){let l=s.getUTCFullYear(),r=Uh(s,l,t,a);if(r<1)return Uh(s,l-1,t,a);let c=Uh(s,l+1,t,a);return c>=1?Math.min(r,c):r}function Uh(s,t,a,l){let r=Ws([t,0,1+eR(t,a,l)]),c=_t(s),u=Math.round(vi(r,c));return Math.floor(u/7)+1}function eR(s,t,a){let l=7+t-a;return-((7+Ws([s,0,l]).getUTCDay()-t)%7)+l-1}function Iy(s){return[s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()]}function Fy(s){return new Date(s[0],s[1]||0,s[2]==null?1:s[2],s[3]||0,s[4]||0,s[5]||0)}function ii(s){return[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()]}function Ws(s){return s.length===1&&(s=s.concat([0])),new Date(Date.UTC(...s))}function xN(s){return!isNaN(s.valueOf())}function li(s){return s.getUTCHours()*1e3*60*60+s.getUTCMinutes()*1e3*60+s.getUTCSeconds()*1e3+s.getUTCMilliseconds()}function pN(s,t,a=!1){let l=s.toISOString();return l=l.replace(".000",""),a&&(l=l.replace("T00:00:00Z","")),l.length>10&&(t==null?l=l.replace("Z",""):t!==0&&(l=l.replace("Z",ax(t,!0)))),l}function Uo(s){return s.toISOString().replace(/T.*$/,"")}function tR(s){return s.toISOString().match(/^\d{4}-\d{2}/)[0]}function sR(s){return Wl(s.getUTCHours(),2)+":"+Wl(s.getUTCMinutes(),2)+":"+Wl(s.getUTCSeconds(),2)}function ax(s,t=!1){let a=s<0?"-":"+",l=Math.abs(s),r=Math.floor(l/60),c=Math.round(l%60);return t?`${a+Wl(r,2)}:${Wl(c,2)}`:`GMT${a}${r}${c?`:${Wl(c,2)}`:""}`}function Me(s,t,a){let l,r;return function(...c){if(!l)r=s.apply(this,c);else if(!mi(l,c)){let u=s.apply(this,c);(!t||!t(u,r))&&(r=u)}return l=c,r}}function pd(s,t,a){let l,r;return c=>(l?Pn(l,c)||(r=s.call(this,c)):r=s.call(this,c),l=c,r)}const Hh={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},zd={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},nd=/\s*([ap])\.?m\.?/i,nR=/,/g,aR=/\s+/g,iR=/\u200e/g,lR=/UTC|GMT/;class rR{constructor(t){let a={},l={},r=9;for(let c in t)c in Hh?(l[c]=t[c],Hh[c]<9&&(r=Math.min(Hh[c],r))):(a[c]=t[c],c in zd&&(r=Math.min(zd[c],r)));this.standardDateProps=a,this.extendedSettings=l,this.smallestUnitNum=r,this.buildFormattingFunc=Me($y)}format(t,a){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,a)(t)}formatRange(t,a,l,r){let{standardDateProps:c,extendedSettings:u}=this,f=hR(t.marker,a.marker,l.calendarSystem);if(!f)return this.format(t,l);let h=f;h>1&&(c.year==="numeric"||c.year==="2-digit")&&(c.month==="numeric"||c.month==="2-digit")&&(c.day==="numeric"||c.day==="2-digit")&&(h=1);let x=this.format(t,l),m=this.format(a,l);if(x===m)return x;let g=fR(c,h),y=$y(g,u,l),N=y(t),j=y(a),S=xR(x,N,m,j),b=u.separator||r||l.defaultSeparator||"";return S?S.before+N+b+j+S.after:x+b+m}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function $y(s,t,a){let l=Object.keys(s).length;return l===1&&s.timeZoneName==="short"?r=>ax(r.timeZoneOffset):l===0&&t.week?r=>mR(a.computeWeekNumber(r.marker),a.weekText,a.weekTextLong,a.locale,t.week):oR(s,t,a)}function oR(s,t,a){s=Object.assign({},s),t=Object.assign({},t),cR(s,t),s.timeZone="UTC";let l=new Intl.DateTimeFormat(a.locale.codes,s),r;if(t.omitZeroMinute){let c=Object.assign({},s);delete c.minute,r=new Intl.DateTimeFormat(a.locale.codes,c)}return c=>{let{marker:u}=c,f;r&&!u.getUTCMinutes()?f=r:f=l;let h=f.format(u);return dR(h,c,s,t,a)}}function cR(s,t){s.timeZoneName&&(s.hour||(s.hour="2-digit"),s.minute||(s.minute="2-digit")),s.timeZoneName==="long"&&(s.timeZoneName="short"),t.omitZeroMinute&&(s.second||s.millisecond)&&delete t.omitZeroMinute}function dR(s,t,a,l,r){return s=s.replace(iR,""),a.timeZoneName==="short"&&(s=uR(s,r.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":ax(t.timeZoneOffset))),l.omitCommas&&(s=s.replace(nR,"").trim()),l.omitZeroMinute&&(s=s.replace(":00","")),l.meridiem===!1?s=s.replace(nd,"").trim():l.meridiem==="narrow"?s=s.replace(nd,(c,u)=>u.toLocaleLowerCase()):l.meridiem==="short"?s=s.replace(nd,(c,u)=>`${u.toLocaleLowerCase()}m`):l.meridiem==="lowercase"&&(s=s.replace(nd,c=>c.toLocaleLowerCase())),s=s.replace(aR," "),s=s.trim(),s}function uR(s,t){let a=!1;return s=s.replace(lR,()=>(a=!0,t)),a||(s+=` ${t}`),s}function mR(s,t,a,l,r){let c=[];return r==="long"?c.push(a):(r==="short"||r==="narrow")&&c.push(t),(r==="long"||r==="short")&&c.push(" "),c.push(l.simpleNumberFormat.format(s)),l.options.direction==="rtl"&&c.reverse(),c.join("")}function hR(s,t,a){return a.getMarkerYear(s)!==a.getMarkerYear(t)?5:a.getMarkerMonth(s)!==a.getMarkerMonth(t)?4:a.getMarkerDay(s)!==a.getMarkerDay(t)?2:li(s)!==li(t)?1:0}function fR(s,t){let a={};for(let l in s)(!(l in zd)||zd[l]<=t)&&(a[l]=s[l]);return a}function xR(s,t,a,l){let r=0;for(;r<s.length;){let c=s.indexOf(t,r);if(c===-1)break;let u=s.substr(0,c);r=c+t.length;let f=s.substr(r),h=0;for(;h<a.length;){let x=a.indexOf(l,h);if(x===-1)break;let m=a.substr(0,x);h=x+l.length;let g=a.substr(h);if(u===m&&f===g)return{before:u,after:f}}}return null}function Vy(s,t){let a=t.markerToArray(s.marker);return{marker:s.marker,timeZoneOffset:s.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}function Ld(s,t,a,l){let r=Vy(s,a.calendarSystem),c=t?Vy(t,a.calendarSystem):null;return{date:r,start:r,end:c,timeZone:a.timeZone,localeCodes:a.locale.codes,defaultSeparator:l||a.defaultSeparator}}class pR{constructor(t){this.cmdStr=t}format(t,a,l){return a.cmdFormatter(this.cmdStr,Ld(t,null,a,l))}formatRange(t,a,l,r){return l.cmdFormatter(this.cmdStr,Ld(t,a,l,r))}}class gR{constructor(t){this.func=t}format(t,a,l){return this.func(Ld(t,null,a,l))}formatRange(t,a,l,r){return this.func(Ld(t,a,l,r))}}function Mt(s){return typeof s=="object"&&s?new rR(s):typeof s=="string"?new pR(s):typeof s=="function"?new gR(s):null}const Qy={navLinkDayClick:se,navLinkWeekClick:se,duration:nt,bootstrapFontAwesome:se,buttonIcons:se,customButtons:se,defaultAllDayEventDuration:nt,defaultTimedEventDuration:nt,nextDayThreshold:nt,scrollTime:nt,scrollTimeReset:Boolean,slotMinTime:nt,slotMaxTime:nt,dayPopoverFormat:Mt,slotDuration:nt,snapDuration:nt,headerToolbar:se,footerToolbar:se,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Mt,dayHeaderClassNames:se,dayHeaderContent:se,dayHeaderDidMount:se,dayHeaderWillUnmount:se,dayCellClassNames:se,dayCellContent:se,dayCellDidMount:se,dayCellWillUnmount:se,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:se,weekNumbers:Boolean,weekNumberClassNames:se,weekNumberContent:se,weekNumberDidMount:se,weekNumberWillUnmount:se,editable:Boolean,viewClassNames:se,viewDidMount:se,viewWillUnmount:se,nowIndicator:Boolean,nowIndicatorSnap:se,nowIndicatorClassNames:se,nowIndicatorContent:se,nowIndicatorDidMount:se,nowIndicatorWillUnmount:se,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:se,locale:se,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:se,eventOrder:DD,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:se,contentHeight:se,direction:String,weekNumberFormat:Mt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:se,initialDate:se,now:se,eventDataTransform:se,stickyHeaderDates:se,stickyFooterScrollbar:se,viewHeight:se,defaultAllDay:Boolean,eventSourceFailure:se,eventSourceSuccess:se,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:se,eventConstraint:se,eventAllow:se,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:se,eventContent:se,eventDidMount:se,eventWillUnmount:se,selectConstraint:se,selectOverlap:se,selectAllow:se,droppable:Boolean,unselectCancel:String,slotLabelFormat:se,slotLaneClassNames:se,slotLaneContent:se,slotLaneDidMount:se,slotLaneWillUnmount:se,slotLabelClassNames:se,slotLabelContent:se,slotLabelDidMount:se,slotLabelWillUnmount:se,dayMaxEvents:se,dayMaxEventRows:se,dayMinWidth:Number,slotLabelInterval:nt,allDayText:String,allDayClassNames:se,allDayContent:se,allDayDidMount:se,allDayWillUnmount:se,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Mt,rerenderDelay:Number,moreLinkText:se,moreLinkHint:se,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:se,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:nt,hiddenDays:se,fixedWeekCount:Boolean,validRange:se,visibleRange:se,titleFormat:se,eventInteractive:Boolean,noEventsText:String,viewHint:se,navLinkHint:se,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:se,moreLinkClassNames:se,moreLinkContent:se,moreLinkDidMount:se,moreLinkWillUnmount:se,monthStartFormat:Mt,handleCustomRendering:se,customRenderingMetaMap:se,customRenderingReplaces:Boolean},yo={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},Gy={datesSet:se,eventsSet:se,eventAdd:se,eventChange:se,eventRemove:se,windowResize:se,eventClick:se,eventMouseEnter:se,eventMouseLeave:se,select:se,unselect:se,loading:se,_unmount:se,_beforeprint:se,_afterprint:se,_noEventDrop:se,_noEventResize:se,_resize:se,_scrollRequest:se},Yy={buttonText:se,buttonHints:se,views:se,plugins:se,initialEvents:se,events:se,eventSources:se},Pi={headerToolbar:qi,footerToolbar:qi,buttonText:qi,buttonHints:qi,buttonIcons:qi,dateIncrement:qi,plugins:ad,events:ad,eventSources:ad,resources:ad};function qi(s,t){return typeof s=="object"&&typeof t=="object"&&s&&t?Pn(s,t):s===t}function ad(s,t){return Array.isArray(s)&&Array.isArray(t)?mi(s,t):s===t}const vR={type:String,component:se,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:se,usesMinMaxTime:Boolean,classNames:se,content:se,didMount:se,willUnmount:se};function Ph(s){return lx(s,Pi)}function ix(s,t){let a={},l={};for(let r in t)r in s&&(a[r]=t[r](s[r]));for(let r in s)r in t||(l[r]=s[r]);return{refined:a,extra:l}}function se(s){return s}const{hasOwnProperty:Ud}=Object.prototype;function lx(s,t){let a={};if(t){for(let l in t)if(t[l]===qi){let r=[];for(let c=s.length-1;c>=0;c-=1){let u=s[c][l];if(typeof u=="object"&&u)r.unshift(u);else if(u!==void 0){a[l]=u;break}}r.length&&(a[l]=lx(r))}}for(let l=s.length-1;l>=0;l-=1){let r=s[l];for(let c in r)c in a||(a[c]=r[c])}return a}function Zi(s,t){let a={};for(let l in s)t(s[l],l)&&(a[l]=s[l]);return a}function ka(s,t){let a={};for(let l in s)a[l]=t(s[l],l);return a}function gN(s){let t={};for(let a of s)t[a]=!0;return t}function rx(s){let t=[];for(let a in s)t.push(s[a]);return t}function Pn(s,t){if(s===t)return!0;for(let a in s)if(Ud.call(s,a)&&!(a in t))return!1;for(let a in t)if(Ud.call(t,a)&&s[a]!==t[a])return!1;return!0}const yR=/^on[A-Z]/;function bR(s,t){const a=jR(s,t);for(let l of a)if(!yR.test(l))return!1;return!0}function jR(s,t){let a=[];for(let l in s)Ud.call(s,l)&&(l in t||a.push(l));for(let l in t)Ud.call(t,l)&&s[l]!==t[l]&&a.push(l);return a}function qh(s,t,a={}){if(s===t)return!0;for(let l in t)if(!(l in s&&NR(s[l],t[l],a[l])))return!1;for(let l in s)if(!(l in t))return!1;return!0}function NR(s,t,a){return s===t||a===!0?!0:a?a(s,t):!1}function wR(s,t=0,a,l=1){let r=[];a==null&&(a=Object.keys(s).length);for(let c=t;c<a;c+=l){let u=s[c];u!==void 0&&r.push(u)}return r}let vN={};function SR(s,t){vN[s]=t}function _R(s){return new vN[s]}class CR{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return Ws(t)}markerToArray(t){return ii(t)}}SR("gregory",CR);const ER=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function AR(s){let t=ER.exec(s);if(t){let a=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(xN(a)){let l=null;return t[13]&&(l=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:a,isTimeUnspecified:!t[6],timeZoneOffset:l}}}return null}class kR{constructor(t){let a=this.timeZone=t.timeZone,l=a!=="local"&&a!=="UTC";t.namedTimeZoneImpl&&l&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(a)),this.canComputeOffset=!!(!l||this.namedTimeZoneImpl),this.calendarSystem=_R(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let a=this.createMarkerMeta(t);return a===null?null:a.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Ws(Iy(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let a=null;return typeof t=="number"?a=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(a=this.timestampToMarker(t))):Array.isArray(t)&&(a=Ws(t)),a===null||!xN(a)?null:{marker:a,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let a=AR(t);if(a===null)return null;let{marker:l}=a,r=null;return a.timeZoneOffset!==null&&(this.canComputeOffset?l=this.timestampToMarker(l.valueOf()-a.timeZoneOffset*60*1e3):r=a.timeZoneOffset),{marker:l,isTimeUnspecified:a.isTimeUnspecified,forcedTzo:r}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,a){let l=this.calendarSystem.markerToArray(t);return l[0]+=a.years,l[1]+=a.months,l[2]+=a.days,l[6]+=a.milliseconds,this.calendarSystem.arrayToMarker(l)}subtract(t,a){let l=this.calendarSystem.markerToArray(t);return l[0]-=a.years,l[1]-=a.months,l[2]-=a.days,l[6]-=a.milliseconds,this.calendarSystem.arrayToMarker(l)}addYears(t,a){let l=this.calendarSystem.markerToArray(t);return l[0]+=a,this.calendarSystem.arrayToMarker(l)}addMonths(t,a){let l=this.calendarSystem.markerToArray(t);return l[1]+=a,this.calendarSystem.arrayToMarker(l)}diffWholeYears(t,a){let{calendarSystem:l}=this;return li(t)===li(a)&&l.getMarkerDay(t)===l.getMarkerDay(a)&&l.getMarkerMonth(t)===l.getMarkerMonth(a)?l.getMarkerYear(a)-l.getMarkerYear(t):null}diffWholeMonths(t,a){let{calendarSystem:l}=this;return li(t)===li(a)&&l.getMarkerDay(t)===l.getMarkerDay(a)?l.getMarkerMonth(a)-l.getMarkerMonth(t)+(l.getMarkerYear(a)-l.getMarkerYear(t))*12:null}greatestWholeUnit(t,a){let l=this.diffWholeYears(t,a);return l!==null?{unit:"year",value:l}:(l=this.diffWholeMonths(t,a),l!==null?{unit:"month",value:l}:(l=WD(t,a),l!==null?{unit:"week",value:l}:(l=Od(t,a),l!==null?{unit:"day",value:l}:(l=VD(t,a),xd(l)?{unit:"hour",value:l}:(l=QD(t,a),xd(l)?{unit:"minute",value:l}:(l=GD(t,a),xd(l)?{unit:"second",value:l}:{unit:"millisecond",value:a.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,a,l){let r;return l.years&&(r=this.diffWholeYears(t,a),r!==null)?r/BD(l):l.months&&(r=this.diffWholeMonths(t,a),r!==null)?r/ID(l):l.days&&(r=Od(t,a),r!==null)?r/Kl(l):(a.valueOf()-t.valueOf())/On(l)}startOf(t,a){return a==="year"?this.startOfYear(t):a==="month"?this.startOfMonth(t):a==="week"?this.startOfWeek(t):a==="day"?_t(t):a==="hour"?KD(t):a==="minute"?ZD(t):a==="second"?XD(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):JD(t,this.weekDow,this.weekDoy)}format(t,a,l={}){return a.format({marker:t,timeZoneOffset:l.forcedTzo!=null?l.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,a,l,r={}){return r.isEndExclusive&&(a=hi(a,-1)),l.formatRange({marker:t,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(t)},{marker:a,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(a)},this,r.defaultSeparator)}formatIso(t,a={}){let l=null;return a.omitTimeZoneOffset||(a.forcedTzo!=null?l=a.forcedTzo:l=this.offsetForMarker(t)),pN(t,l,a.omitTime)}timestampToMarker(t){return this.timeZone==="local"?Ws(Iy(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):Ws(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-Fy(ii(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ii(t)):null}toDate(t,a){return this.timeZone==="local"?Fy(ii(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(ii(t))*1e3*60):new Date(t.valueOf()-(a||0))}}class Ho{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let a,l;if(typeof t=="object"&&t){a=Object.assign({},this.iconClasses);for(l in t)a[l]=this.applyIconOverridePrefix(t[l]);this.iconClasses=a}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let a=this.iconOverridePrefix;return a&&t.indexOf(a)!==0&&(t=a+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,a){let l;return a&&this.rtlIconClasses?l=this.rtlIconClasses[t]||this.iconClasses[t]:l=this.iconClasses[t],l?`${this.baseIconClass} ${l}`:""}getCustomButtonIconClass(t){let a;return this.iconOverrideCustomButtonOption&&(a=t[this.iconOverrideCustomButtonOption],a)?`${this.baseIconClass} ${this.applyIconOverridePrefix(a)}`:""}}Ho.prototype.classes={};Ho.prototype.iconClasses={};Ho.prototype.baseIconClass="";Ho.prototype.iconOverridePrefix="";function Hd(s){s();let t=Oe.debounceRendering,a=[];function l(r){a.push(r)}for(Oe.debounceRendering=l,Eo(O(DR,{}),document.createElement("div"));a.length;)a.shift()();Oe.debounceRendering=t}class DR extends ln{render(){return O("div",{})}componentDidMount(){this.setState({})}}function yN(s){let t=eD(s),a=t.Provider;return t.Provider=function(){let l=!this.getChildContext,r=a.apply(this,arguments);if(l){let c=[];this.shouldComponentUpdate=u=>{this.props.value!==u.value&&c.forEach(f=>{f.context=u.value,f.forceUpdate()})},this.sub=u=>{c.push(u);let f=u.componentWillUnmount;u.componentWillUnmount=()=>{c.splice(c.indexOf(u),1),f&&f.call(u)}}}return r},t}class RR{constructor(t,a,l,r){this.execFunc=t,this.emitter=a,this.scrollTime=l,this.scrollTimeReset=r,this.handleScrollRequest=c=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},c),this.drain()},a.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ra=yN({});function TR(s,t,a,l,r,c,u,f,h,x,m,g,y,N){return{dateEnv:r,nowManager:c,options:a,pluginHooks:f,emitter:m,dispatch:h,getCurrentData:x,calendarApi:g,viewSpec:s,viewApi:t,dateProfileGenerator:l,theme:u,isRtl:a.direction==="rtl",addResizeHandler(j){m.on("_resize",j)},removeResizeHandler(j){m.off("_resize",j)},createScrollResponder(j){return new RR(j,m,nt(a.scrollTime),a.scrollTimeReset)},registerInteractiveComponent:y,unregisterInteractiveComponent:N}}class nl extends ln{shouldComponentUpdate(t,a){return!qh(this.props,t,this.propEquality)||!qh(this.state,a,this.stateEquality)}safeSetState(t){qh(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}nl.addPropsEquality=MR;nl.addStateEquality=OR;nl.contextType=Ra;nl.prototype.propEquality={};nl.prototype.stateEquality={};class ot extends nl{}ot.contextType=Ra;function MR(s){let t=Object.create(this.prototype.propEquality);Object.assign(t,s),this.prototype.propEquality=t}function OR(s){let t=Object.create(this.prototype.stateEquality);Object.assign(t,s),this.prototype.stateEquality=t}function sa(s,t){typeof s=="function"?s(t):s&&(s.current=t)}class ox extends ot{constructor(){super(...arguments),this.id=sl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:a}=this.context,{generatorName:l}=this.props;(!a.customRenderingReplaces||!xf(l,a))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&sa(this.props.elRef,t)}}render(){const{props:t,context:a}=this,{options:l}=a,{customGenerator:r,defaultGenerator:c,renderProps:u}=t,f=bN(t,[],this.handleEl);let h=!1,x,m=[],g;if(r!=null){const y=typeof r=="function"?r(u,O):r;if(y===!0)h=!0;else{const N=y&&typeof y=="object";N&&"html"in y?f.dangerouslySetInnerHTML={__html:y.html}:N&&"domNodes"in y?m=Array.prototype.slice.call(y.domNodes):(N?$j(y):typeof y!="function")?x=y:g=y}}else h=!xf(t.generatorName,l);return h&&c&&(x=c(u)),this.queuedDomNodes=m,this.currentGeneratorMeta=g,O(t.elTag,f,x)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var a;const{props:l,context:r}=this,{handleCustomRendering:c,customRenderingMetaMap:u}=r.options;if(c){const f=(a=this.currentGeneratorMeta)!==null&&a!==void 0?a:u?.[l.generatorName];f&&c(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:f},l),{elClasses:(l.elClasses||[]).filter(zR)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:a}=this,l=this.base;if(!mi(t,a)){a.forEach(ex);for(let r of t)l.appendChild(r);this.currentDomNodes=t}}}ox.addPropsEquality({elClasses:mi,elStyle:Pn,elAttrs:bR,renderProps:Pn});function xf(s,t){var a;return!!(t.handleCustomRendering&&s&&(!((a=t.customRenderingMetaMap)===null||a===void 0)&&a[s]))}function bN(s,t,a){const l=Object.assign(Object.assign({},s.elAttrs),{ref:a});return(s.elClasses||t)&&(l.className=(s.elClasses||[]).concat(t||[]).concat(l.className||[]).filter(Boolean).join(" ")),s.elStyle&&(l.style=s.elStyle),l}function zR(s){return!!s}const jN=yN(0);class ks extends ln{constructor(){super(...arguments),this.InnerContent=LR.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(sa(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,a=UR(t.classNameGenerator,t.renderProps);if(t.children){const l=bN(t,a,this.handleEl),r=t.children(this.InnerContent,t.renderProps,l);return t.elTag?O(t.elTag,l,r):r}else return O(ox,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(a),renderId:this.context}))}componentDidMount(){var t,a;this.el?(a=(t=this.props).didMount)===null||a===void 0||a.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,a;(a=(t=this.props).willUnmount)===null||a===void 0||a.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ks.contextType=jN;function LR(s,t){const a=s.props;return O(ox,Object.assign({renderProps:a.renderProps,generatorName:a.generatorName,customGenerator:a.customGenerator,defaultGenerator:a.defaultGenerator,renderId:s.context},t))}function UR(s,t){const a=typeof s=="function"?s(t):s||[];return typeof a=="string"?[a]:a}class Ao extends ot{render(){let{props:t,context:a}=this,{options:l}=a,r={view:a.viewApi};return O(ks,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:[...NN(t.viewSpec),...t.elClasses||[]],elStyle:t.elStyle,renderProps:r,classNameGenerator:l.viewClassNames,generatorName:void 0,didMount:l.viewDidMount,willUnmount:l.viewWillUnmount},()=>t.children)}}function NN(s){return[`fc-${s.type}-view`,"fc-view"]}function HR(s,t){let a=null,l=null;return s.start&&(a=t.createMarker(s.start)),s.end&&(l=t.createMarker(s.end)),!a&&!l||a&&l&&l<a?null:{start:a,end:l}}function Wy(s,t){let a=[],{start:l}=t,r,c;for(s.sort(PR),r=0;r<s.length;r+=1)c=s[r],c.start>l&&a.push({start:l,end:c.start}),c.end>l&&(l=c.end);return l<t.end&&a.push({start:l,end:t.end}),a}function PR(s,t){return s.start.valueOf()-t.start.valueOf()}function fi(s,t){let{start:a,end:l}=s,r=null;return t.start!==null&&(a===null?a=t.start:a=new Date(Math.max(a.valueOf(),t.start.valueOf()))),t.end!=null&&(l===null?l=t.end:l=new Date(Math.min(l.valueOf(),t.end.valueOf()))),(a===null||l===null||a<l)&&(r={start:a,end:l}),r}function qR(s,t){return(s.start===null?null:s.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(s.end===null?null:s.end.valueOf())===(t.end===null?null:t.end.valueOf())}function cx(s,t){return(s.end===null||t.start===null||s.end>t.start)&&(s.start===null||t.end===null||s.start<t.end)}function nu(s,t){return(s.start===null||t.start!==null&&t.start>=s.start)&&(s.end===null||t.end!==null&&t.end<=s.end)}function Ca(s,t){return(s.start===null||t>=s.start)&&(s.end===null||t<s.end)}function BR(s,t){return t.start!=null&&s<t.start?t.start:t.end!=null&&s>=t.end?new Date(t.end.valueOf()-1):s}function wN(s){let t=Math.floor(vi(s.start,s.end))||1,a=_t(s.start),l=is(a,t);return{start:a,end:l}}function dx(s,t=nt(0)){let a=null,l=null;if(s.end){l=_t(s.end);let r=s.end.valueOf()-l.valueOf();r&&r>=On(t)&&(l=is(l,1))}return s.start&&(a=_t(s.start),l&&l<=a&&(l=is(a,1))),{start:a,end:l}}function IR(s){let t=dx(s);return vi(t.start,t.end)>1}function Yl(s,t,a,l){return l==="year"?nt(a.diffWholeYears(s,t),"year"):l==="month"?nt(a.diffWholeMonths(s,t),"month"):YD(s,t)}class SN{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,a,l){let{dateEnv:r}=this.props,c=r.subtract(r.startOf(a,t.currentRangeUnit),t.dateIncrement);return this.build(c,-1,l)}buildNext(t,a,l){let{dateEnv:r}=this.props,c=r.add(r.startOf(a,t.currentRangeUnit),t.dateIncrement);return this.build(c,1,l)}build(t,a,l=!0){let{props:r}=this,c,u,f,h,x,m;return c=this.buildValidRange(),c=this.trimHiddenDays(c),l&&(t=BR(t,c)),u=this.buildCurrentRangeInfo(t,a),f=/^(year|month|week|day)$/.test(u.unit),h=this.buildRenderRange(this.trimHiddenDays(u.range),u.unit,f),h=this.trimHiddenDays(h),x=h,r.showNonCurrentDates||(x=fi(x,u.range)),x=this.adjustActiveRange(x),x=fi(x,c),m=cx(u.range,c),Ca(h,t)||(t=h.start),{currentDate:t,validRange:c,currentRange:u.range,currentRangeUnit:u.unit,isRangeAllDay:f,activeRange:x,renderRange:h,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:m,dateIncrement:this.buildDateIncrement(u.duration)}}buildValidRange(){let t=this.props.validRangeInput,a=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(a)||{start:null,end:null}}buildCurrentRangeInfo(t,a){let{props:l}=this,r=null,c=null,u=null,f;return l.duration?(r=l.duration,c=l.durationUnit,u=this.buildRangeFromDuration(t,a,r,c)):(f=this.props.dayCount)?(c="day",u=this.buildRangeFromDayCount(t,a,f)):(u=this.buildCustomVisibleRange(t))?c=l.dateEnv.greatestWholeUnit(u.start,u.end).unit:(r=this.getFallbackDuration(),c=ff(r).unit,u=this.buildRangeFromDuration(t,a,r,c)),{duration:r,unit:c,range:u}}getFallbackDuration(){return nt({day:1})}adjustActiveRange(t){let{dateEnv:a,usesMinMaxTime:l,slotMinTime:r,slotMaxTime:c}=this.props,{start:u,end:f}=t;return l&&(Kl(r)<0&&(u=_t(u),u=a.add(u,r)),Kl(c)>1&&(f=_t(f),f=is(f,-1),f=a.add(f,c))),{start:u,end:f}}buildRangeFromDuration(t,a,l,r){let{dateEnv:c,dateAlignment:u}=this.props,f,h,x;if(!u){let{dateIncrement:g}=this.props;g&&On(g)<On(l)?u=ff(g).unit:u=r}Kl(l)<=1&&this.isHiddenDay(f)&&(f=this.skipHiddenDays(f,a),f=_t(f));function m(){f=c.startOf(t,u),h=c.add(f,l),x={start:f,end:h}}return m(),this.trimHiddenDays(x)||(t=this.skipHiddenDays(t,a),m()),x}buildRangeFromDayCount(t,a,l){let{dateEnv:r,dateAlignment:c}=this.props,u=0,f=t,h;c&&(f=r.startOf(f,c)),f=_t(f),f=this.skipHiddenDays(f,a),h=f;do h=is(h,1),this.isHiddenDay(h)||(u+=1);while(u<l);return{start:f,end:h}}buildCustomVisibleRange(t){let{props:a}=this,l=a.visibleRangeInput,r=typeof l=="function"?l.call(a.calendarApi,a.dateEnv.toDate(t)):l,c=this.refineRange(r);return c&&(c.start==null||c.end==null)?null:c}buildRenderRange(t,a,l){return t}buildDateIncrement(t){let{dateIncrement:a}=this.props,l;return a||((l=this.props.dateAlignment)?nt(1,l):t||nt({days:1}))}refineRange(t){if(t){let a=HR(t,this.props.dateEnv);return a&&(a=dx(a)),a}return null}initHiddenDays(){let t=this.props.hiddenDays||[],a=[],l=0,r;for(this.props.weekends===!1&&t.push(0,6),r=0;r<7;r+=1)(a[r]=t.indexOf(r)!==-1)||(l+=1);if(!l)throw new Error("invalid hiddenDays");this.isHiddenDayHash=a}trimHiddenDays(t){let{start:a,end:l}=t;return a&&(a=this.skipHiddenDays(a)),l&&(l=this.skipHiddenDays(l,-1,!0)),a==null||l==null||a<l?{start:a,end:l}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,a=1,l=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(l?a:0)+7)%7];)t=is(t,a);return t}}function ux(s,t,a,l){return{instanceId:sl(),defId:s,range:t,forcedStartTzo:a??null,forcedEndTzo:l??null}}function FR(s,t,a,l){for(let r=0;r<l.length;r+=1){let c=l[r].parse(s,a);if(c){let{allDay:u}=s;return u==null&&(u=t,u==null&&(u=c.allDayGuess,u==null&&(u=!1))),{allDay:u,duration:c.duration,typeData:c.typeData,typeId:r}}}return null}function Xi(s,t,a){let{dateEnv:l,pluginHooks:r,options:c}=a,{defs:u,instances:f}=s;f=Zi(f,h=>!u[h.defId].recurringDef);for(let h in u){let x=u[h];if(x.recurringDef){let{duration:m}=x.recurringDef;m||(m=x.allDay?c.defaultAllDayEventDuration:c.defaultTimedEventDuration);let g=$R(x,m,t,l,r.recurringTypes);for(let y of g){let N=ux(h,{start:y,end:l.add(y,m)});f[N.instanceId]=N}}}return{defs:u,instances:f}}function $R(s,t,a,l,r){let u=r[s.recurringDef.typeId].expand(s.recurringDef.typeData,{start:l.subtract(a.start,t),end:a.end},l);return s.allDay&&(u=u.map(_t)),u}const gd={id:String,groupId:String,title:String,url:String,interactive:Boolean},_N={start:se,end:se,date:se,allDay:Boolean},VR=Object.assign(Object.assign(Object.assign({},gd),_N),{extendedProps:se});function CN(s,t,a,l,r=mx(a),c,u){let{refined:f,extra:h}=EN(s,a,r),x=GR(t,a),m=FR(f,x,a.dateEnv,a.pluginHooks.recurringTypes);if(m){let y=pf(f,h,t?t.sourceId:"",m.allDay,!!m.duration,a,c);return y.recurringDef={typeId:m.typeId,typeData:m.typeData,duration:m.duration},{def:y,instance:null}}let g=QR(f,x,a,l);if(g){let y=pf(f,h,t?t.sourceId:"",g.allDay,g.hasEnd,a,c),N=ux(y.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return u&&y.publicId&&u[y.publicId]&&(N.instanceId=u[y.publicId]),{def:y,instance:N}}return null}function EN(s,t,a=mx(t)){return ix(s,a)}function mx(s){return Object.assign(Object.assign(Object.assign({},Pd),VR),s.pluginHooks.eventRefiners)}function pf(s,t,a,l,r,c,u){let f={title:s.title||"",groupId:s.groupId||"",publicId:s.id||"",url:s.url||"",recurringDef:null,defId:(u&&s.id?u[s.id]:"")||sl(),sourceId:a,allDay:l,hasEnd:r,interactive:s.interactive,ui:qd(s,c),extendedProps:Object.assign(Object.assign({},s.extendedProps||{}),t)};for(let h of c.pluginHooks.eventDefMemberAdders)Object.assign(f,h(s));return Object.freeze(f.ui.classNames),Object.freeze(f.extendedProps),f}function QR(s,t,a,l){let{allDay:r}=s,c,u=null,f=!1,h,x=null,m=s.start!=null?s.start:s.date;if(c=a.dateEnv.createMarkerMeta(m),c)u=c.marker;else if(!l)return null;return s.end!=null&&(h=a.dateEnv.createMarkerMeta(s.end)),r==null&&(t!=null?r=t:r=(!c||c.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),r&&u&&(u=_t(u)),h&&(x=h.marker,r&&(x=_t(x)),u&&x<=u&&(x=null)),x?f=!0:l||(f=a.options.forceEventDuration||!1,x=a.dateEnv.add(u,r?a.options.defaultAllDayEventDuration:a.options.defaultTimedEventDuration)),{allDay:r,hasEnd:f,range:{start:u,end:x},forcedStartTzo:c?c.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function GR(s,t){let a=null;return s&&(a=s.defaultAllDay),a==null&&(a=t.options.defaultAllDay),a}function ko(s,t,a,l,r,c){let u=rn(),f=mx(a);for(let h of s){let x=CN(h,t,a,l,f,r,c);x&&gf(x,u)}return u}function gf(s,t=rn()){return t.defs[s.def.defId]=s.def,s.instance&&(t.instances[s.instance.instanceId]=s.instance),t}function hx(s,t){let a=s.instances[t];if(a){let l=s.defs[a.defId],r=au(s,c=>YR(l,c));return r.defs[l.defId]=l,r.instances[a.instanceId]=a,r}return rn()}function YR(s,t){return!!(s.groupId&&s.groupId===t.groupId)}function rn(){return{defs:{},instances:{}}}function fx(s,t){return{defs:Object.assign(Object.assign({},s.defs),t.defs),instances:Object.assign(Object.assign({},s.instances),t.instances)}}function au(s,t){let a=Zi(s.defs,t),l=Zi(s.instances,r=>a[r.defId]);return{defs:a,instances:l}}function WR(s,t){let{defs:a,instances:l}=s,r={},c={};for(let u in a)t.defs[u]||(r[u]=a[u]);for(let u in l)!t.instances[u]&&r[l[u].defId]&&(c[u]=l[u]);return{defs:r,instances:c}}function KR(s,t){return Array.isArray(s)?ko(s,null,t,!0):typeof s=="object"&&s?ko([s],null,t,!0):s!=null?String(s):null}function Ky(s){return Array.isArray(s)?s:typeof s=="string"?s.split(/\s+/):[]}const Pd={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:se,overlap:se,allow:se,className:Ky,classNames:Ky,color:String,backgroundColor:String,borderColor:String,textColor:String},ZR={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function qd(s,t){let a=KR(s.constraint,t);return{display:s.display||null,startEditable:s.startEditable!=null?s.startEditable:s.editable,durationEditable:s.durationEditable!=null?s.durationEditable:s.editable,constraints:a!=null?[a]:[],overlap:s.overlap!=null?s.overlap:null,allows:s.allow!=null?[s.allow]:[],backgroundColor:s.backgroundColor||s.color||"",borderColor:s.borderColor||s.color||"",textColor:s.textColor||"",classNames:(s.className||[]).concat(s.classNames||[])}}function AN(s){return s.reduce(XR,ZR)}function XR(s,t){return{display:t.display!=null?t.display:s.display,startEditable:t.startEditable!=null?t.startEditable:s.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:s.durationEditable,constraints:s.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:s.overlap,allows:s.allows.concat(t.allows),backgroundColor:t.backgroundColor||s.backgroundColor,borderColor:t.borderColor||s.borderColor,textColor:t.textColor||s.textColor,classNames:s.classNames.concat(t.classNames)}}const JR={id:String,defaultAllDay:Boolean,url:String,format:String,events:se,eventDataTransform:se,success:se,failure:se};function kN(s,t,a=DN(t)){let l;if(typeof s=="string"?l={url:s}:typeof s=="function"||Array.isArray(s)?l={events:s}:typeof s=="object"&&s&&(l=s),l){let{refined:r,extra:c}=ix(l,a),u=eT(r,t);if(u)return{_raw:s,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:sl(),sourceDefId:u.sourceDefId,meta:u.meta,ui:qd(r,t),extendedProps:c}}return null}function DN(s){return Object.assign(Object.assign(Object.assign({},Pd),JR),s.pluginHooks.eventSourceRefiners)}function eT(s,t){let a=t.pluginHooks.eventSourceDefs;for(let l=a.length-1;l>=0;l-=1){let c=a[l].parseMeta(s);if(c)return{sourceDefId:l,meta:c}}return null}function tT(s,t,a,l,r){switch(t.type){case"RECEIVE_EVENTS":return sT(s,a[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"RESET_RAW_EVENTS":return nT(s,a[t.sourceId],t.rawEvents,l.activeRange,r);case"ADD_EVENTS":return aT(s,t.eventStore,l?l.activeRange:null,r);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return fx(s,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return l?Xi(s,l.activeRange,r):s;case"REMOVE_EVENTS":return WR(s,t.eventStore);case"REMOVE_EVENT_SOURCE":return TN(s,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return au(s,c=>!c.sourceId);case"REMOVE_ALL_EVENTS":return rn();default:return s}}function sT(s,t,a,l,r,c){if(t&&a===t.latestFetchId){let u=ko(RN(r,t,c),t,c);return l&&(u=Xi(u,l,c)),fx(TN(s,t.sourceId),u)}return s}function nT(s,t,a,l,r){const{defIdMap:c,instanceIdMap:u}=lT(s);let f=ko(RN(a,t,r),t,r,!1,c,u);return Xi(f,l,r)}function RN(s,t,a){let l=a.options.eventDataTransform,r=t?t.eventDataTransform:null;return r&&(s=Zy(s,r)),l&&(s=Zy(s,l)),s}function Zy(s,t){let a;if(!t)a=s;else{a=[];for(let l of s){let r=t(l);r?a.push(r):r==null&&a.push(l)}}return a}function aT(s,t,a,l){return a&&(t=Xi(t,a,l)),fx(s,t)}function Xy(s,t,a){let{defs:l}=s,r=ka(s.instances,c=>l[c.defId].allDay?c:Object.assign(Object.assign({},c),{range:{start:a.createMarker(t.toDate(c.range.start,c.forcedStartTzo)),end:a.createMarker(t.toDate(c.range.end,c.forcedEndTzo))},forcedStartTzo:a.canComputeOffset?null:c.forcedStartTzo,forcedEndTzo:a.canComputeOffset?null:c.forcedEndTzo}));return{defs:l,instances:r}}function TN(s,t){return au(s,a=>a.sourceId!==t)}function iT(s,t){return{defs:s.defs,instances:Zi(s.instances,a=>!t[a.instanceId])}}function lT(s){const{defs:t,instances:a}=s,l={},r={};for(let c in t){const u=t[c],{publicId:f}=u;f&&(l[f]=c)}for(let c in a){const u=a[c],f=t[u.defId],{publicId:h}=f;h&&(r[h]=c)}return{defIdMap:l,instanceIdMap:r}}class iu{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,a){rT(this.handlers,t,a)}off(t,a){oT(this.handlers,t,a)}trigger(t,...a){let l=this.handlers[t]||[],r=this.options&&this.options[t],c=[].concat(r||[],l);for(let u of c)u.apply(this.thisContext,a)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function rT(s,t,a){(s[t]||(s[t]=[])).push(a)}function oT(s,t,a){a?s[t]&&(s[t]=s[t].filter(l=>l!==a)):delete s[t]}const cT={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function dT(s,t){return ko(uT(s),null,t)}function uT(s){let t;return s===!0?t=[{}]:Array.isArray(s)?t=s.filter(a=>a.daysOfWeek):typeof s=="object"&&s?t=[s]:t=[],t=t.map(a=>Object.assign(Object.assign({},cT),a)),t}function MN(s,t,a){a.emitter.trigger("select",Object.assign(Object.assign({},xx(s,a)),{jsEvent:t?t.origEvent:null,view:a.viewApi||a.calendarApi.view}))}function mT(s,t){t.emitter.trigger("unselect",{jsEvent:s?s.origEvent:null,view:t.viewApi||t.calendarApi.view})}function xx(s,t){let a={};for(let l of t.pluginHooks.dateSpanTransforms)Object.assign(a,l(s,t));return Object.assign(a,CT(s,t.dateEnv)),a}function Jy(s,t,a){let{dateEnv:l,options:r}=a,c=t;return s?(c=_t(c),c=l.add(c,r.defaultAllDayEventDuration)):c=l.add(c,r.defaultTimedEventDuration),c}function px(s,t,a,l){let r=Bd(s.defs,t),c=rn();for(let u in s.defs){let f=s.defs[u];c.defs[u]=hT(f,r[u],a,l)}for(let u in s.instances){let f=s.instances[u],h=c.defs[f.defId];c.instances[u]=fT(f,h,r[f.defId],a,l)}return c}function hT(s,t,a,l){let r=a.standardProps||{};r.hasEnd==null&&t.durationEditable&&(a.startDelta||a.endDelta)&&(r.hasEnd=!0);let c=Object.assign(Object.assign(Object.assign({},s),r),{ui:Object.assign(Object.assign({},s.ui),r.ui)});a.extendedProps&&(c.extendedProps=Object.assign(Object.assign({},c.extendedProps),a.extendedProps));for(let u of l.pluginHooks.eventDefMutationAppliers)u(c,a,l);return!c.hasEnd&&l.options.forceEventDuration&&(c.hasEnd=!0),c}function fT(s,t,a,l,r){let{dateEnv:c}=r,u=l.standardProps&&l.standardProps.allDay===!0,f=l.standardProps&&l.standardProps.hasEnd===!1,h=Object.assign({},s);return u&&(h.range=wN(h.range)),l.datesDelta&&a.startEditable&&(h.range={start:c.add(h.range.start,l.datesDelta),end:c.add(h.range.end,l.datesDelta)}),l.startDelta&&a.durationEditable&&(h.range={start:c.add(h.range.start,l.startDelta),end:h.range.end}),l.endDelta&&a.durationEditable&&(h.range={start:h.range.start,end:c.add(h.range.end,l.endDelta)}),f&&(h.range={start:h.range.start,end:Jy(t.allDay,h.range.start,r)}),t.allDay&&(h.range={start:_t(h.range.start),end:_t(h.range.end)}),h.range.end<h.range.start&&(h.range.end=Jy(t.allDay,h.range.start,r)),h}class Ql{constructor(t,a){this.context=t,this.internalEventSource=a}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Bt{constructor(t,a,l){this._context=t,this._def=a,this._instance=l||null}setProp(t,a){if(t in _N)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")a=gd[t](a),this.mutate({standardProps:{publicId:a}});else if(t in gd)a=gd[t](a),this.mutate({standardProps:{[t]:a}});else if(t in Pd){let l=Pd[t](a);t==="color"?l={backgroundColor:a,borderColor:a}:t==="editable"?l={startEditable:a,durationEditable:a}:l={[t]:a},this.mutate({standardProps:{ui:l}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,a){this.mutate({extendedProps:{[t]:a}})}setStart(t,a={}){let{dateEnv:l}=this._context,r=l.createMarker(t);if(r&&this._instance){let c=this._instance.range,u=Yl(c.start,r,l,a.granularity);a.maintainDuration?this.mutate({datesDelta:u}):this.mutate({startDelta:u})}}setEnd(t,a={}){let{dateEnv:l}=this._context,r;if(!(t!=null&&(r=l.createMarker(t),!r))&&this._instance)if(r){let c=Yl(this._instance.range.end,r,l,a.granularity);this.mutate({endDelta:c})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,a,l={}){let{dateEnv:r}=this._context,c={allDay:l.allDay},u=r.createMarker(t),f;if(u&&!(a!=null&&(f=r.createMarker(a),!f))&&this._instance){let h=this._instance.range;l.allDay===!0&&(h=wN(h));let x=Yl(h.start,u,r,l.granularity);if(f){let m=Yl(h.end,f,r,l.granularity);HD(x,m)?this.mutate({datesDelta:x,standardProps:c}):this.mutate({startDelta:x,endDelta:m,standardProps:c})}else c.hasEnd=!1,this.mutate({datesDelta:x,standardProps:c})}}moveStart(t){let a=nt(t);a&&this.mutate({startDelta:a})}moveEnd(t){let a=nt(t);a&&this.mutate({endDelta:a})}moveDates(t){let a=nt(t);a&&this.mutate({datesDelta:a})}setAllDay(t,a={}){let l={allDay:t},{maintainDuration:r}=a;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(l.hasEnd=r),this.mutate({standardProps:l})}formatRange(t){let{dateEnv:a}=this._context,l=this._instance,r=Mt(t);return this._def.hasEnd?a.formatRange(l.range.start,l.range.end,r,{forcedStartTzo:l.forcedStartTzo,forcedEndTzo:l.forcedEndTzo}):a.format(l.range.start,r,{forcedTzo:l.forcedStartTzo})}mutate(t){let a=this._instance;if(a){let l=this._def,r=this._context,{eventStore:c}=r.getCurrentData(),u=hx(c,a.instanceId);u=px(u,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,r);let h=new Bt(r,l,a);this._def=u.defs[l.defId],this._instance=u.instances[a.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:u}),r.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:Vi(u,r,a),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:c})}})}}remove(){let t=this._context,a=ON(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:a}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:a})}})}get source(){let{sourceId:t}=this._def;return t?new Ql(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let a=this._def,{ui:l}=a,{startStr:r,endStr:c}=this,u={allDay:a.allDay};return a.title&&(u.title=a.title),r&&(u.start=r),c&&(u.end=c),a.publicId&&(u.id=a.publicId),a.groupId&&(u.groupId=a.groupId),a.url&&(u.url=a.url),l.display&&l.display!=="auto"&&(u.display=l.display),t.collapseColor&&l.backgroundColor&&l.backgroundColor===l.borderColor?u.color=l.backgroundColor:(l.backgroundColor&&(u.backgroundColor=l.backgroundColor),l.borderColor&&(u.borderColor=l.borderColor)),l.textColor&&(u.textColor=l.textColor),l.classNames.length&&(u.classNames=l.classNames),Object.keys(a.extendedProps).length&&(t.collapseExtendedProps?Object.assign(u,a.extendedProps):u.extendedProps=a.extendedProps),u}toJSON(){return this.toPlainObject()}}function ON(s){let t=s._def,a=s._instance;return{defs:{[t.defId]:t},instances:a?{[a.instanceId]:a}:{}}}function Vi(s,t,a){let{defs:l,instances:r}=s,c=[],u=a?a.instanceId:"";for(let f in r){let h=r[f],x=l[h.defId];h.instanceId!==u&&c.push(new Bt(t,x,h))}return c}function vf(s,t,a,l){let r={},c={},u={},f=[],h=[],x=Bd(s.defs,t);for(let m in s.defs){let g=s.defs[m];x[g.defId].display==="inverse-background"&&(g.groupId?(r[g.groupId]=[],u[g.groupId]||(u[g.groupId]=g)):c[m]=[])}for(let m in s.instances){let g=s.instances[m],y=s.defs[g.defId],N=x[y.defId],j=g.range,S=!y.allDay&&l?dx(j,l):j,b=fi(S,a);b&&(N.display==="inverse-background"?y.groupId?r[y.groupId].push(b):c[g.defId].push(b):N.display!=="none"&&(N.display==="background"?f:h).push({def:y,ui:N,instance:g,range:b,isStart:S.start&&S.start.valueOf()===b.start.valueOf(),isEnd:S.end&&S.end.valueOf()===b.end.valueOf()}))}for(let m in r){let g=r[m],y=Wy(g,a);for(let N of y){let j=u[m],S=x[j.defId];f.push({def:j,ui:S,instance:null,range:N,isStart:!1,isEnd:!1})}}for(let m in c){let g=c[m],y=Wy(g,a);for(let N of y)f.push({def:s.defs[m],ui:x[m],instance:null,range:N,isStart:!1,isEnd:!1})}return{bg:f,fg:h}}function xT(s){return s.ui.display==="background"||s.ui.display==="inverse-background"}function eb(s,t){s.fcSeg=t}function sr(s){return s.fcSeg||s.parentNode.fcSeg||null}function Bd(s,t){return ka(s,a=>zN(a,t))}function zN(s,t){let a=[];return t[""]&&a.push(t[""]),t[s.defId]&&a.push(t[s.defId]),a.push(s.ui),AN(a)}function gx(s,t){let a=s.map(pT);return a.sort((l,r)=>RD(l,r,t)),a.map(l=>l._seg)}function pT(s){let{eventRange:t}=s,a=t.def,l=t.instance?t.instance.range:t.range,r=l.start?l.start.valueOf():0,c=l.end?l.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},a.extendedProps),a),{id:a.publicId,start:r,end:c,duration:c-r,allDay:Number(a.allDay),_seg:s})}function gT(s,t){let{pluginHooks:a}=t,l=a.isDraggableTransformers,{def:r,ui:c}=s.eventRange,u=c.startEditable;for(let f of l)u=f(u,r,c,t);return u}function vT(s,t){return s.isStart&&s.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function yT(s,t){return s.isEnd&&s.eventRange.ui.durationEditable}function bo(s,t,a,l,r,c,u){let{dateEnv:f,options:h}=a,{displayEventTime:x,displayEventEnd:m}=h,g=s.eventRange.def,y=s.eventRange.instance;x==null&&(x=l!==!1),m==null&&(m=r!==!1);let N=y.range.start,j=y.range.end,S=c||s.start||s.eventRange.range.start,b=u||s.end||s.eventRange.range.end,C=_t(N).valueOf()===_t(S).valueOf(),k=_t(hi(j,-1)).valueOf()===_t(hi(b,-1)).valueOf();return x&&!g.allDay&&(C||k)?(S=C?N:S,b=k?j:b,m&&g.hasEnd?f.formatRange(S,b,t,{forcedStartTzo:c?null:y.forcedStartTzo,forcedEndTzo:u?null:y.forcedEndTzo}):f.format(S,t,{forcedTzo:c?null:y.forcedStartTzo})):""}function Ea(s,t,a){let l=s.eventRange.range;return{isPast:l.end<=(a||t.start),isFuture:l.start>=(a||t.end),isToday:t&&Ca(t,l.start)}}function bT(s){let t=["fc-event"];return s.isMirror&&t.push("fc-event-mirror"),s.isDraggable&&t.push("fc-event-draggable"),(s.isStartResizable||s.isEndResizable)&&t.push("fc-event-resizable"),s.isDragging&&t.push("fc-event-dragging"),s.isResizing&&t.push("fc-event-resizing"),s.isSelected&&t.push("fc-event-selected"),s.isStart&&t.push("fc-event-start"),s.isEnd&&t.push("fc-event-end"),s.isPast&&t.push("fc-event-past"),s.isToday&&t.push("fc-event-today"),s.isFuture&&t.push("fc-event-future"),t}function LN(s){return s.instance?s.instance.instanceId:`${s.def.defId}:${s.range.start.toISOString()}`}function vx(s,t){let{def:a,instance:l}=s.eventRange,{url:r}=a;if(r)return{href:r};let{emitter:c,options:u}=t,{eventInteractive:f}=u;return f==null&&(f=a.interactive,f==null&&(f=!!c.hasHandlers("eventClick"))),f?fN(h=>{c.trigger("eventClick",{el:h.target,event:new Bt(t,a,l),jsEvent:h,view:t.viewApi})}):{}}const jT={start:se,end:se,allDay:Boolean};function NT(s,t,a){let l=wT(s,t),{range:r}=l;if(!r.start)return null;if(!r.end){if(a==null)return null;r.end=t.add(r.start,a)}return l}function wT(s,t){let{refined:a,extra:l}=ix(s,jT),r=a.start?t.createMarkerMeta(a.start):null,c=a.end?t.createMarkerMeta(a.end):null,{allDay:u}=a;return u==null&&(u=r&&r.isTimeUnspecified&&(!c||c.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:c?c.marker:null},allDay:u},l)}function ST(s,t){return qR(s.range,t.range)&&s.allDay===t.allDay&&_T(s,t)}function _T(s,t){for(let a in t)if(a!=="range"&&a!=="allDay"&&s[a]!==t[a])return!1;for(let a in s)if(!(a in t))return!1;return!0}function CT(s,t){return Object.assign(Object.assign({},HN(s.range,t,s.allDay)),{allDay:s.allDay})}function UN(s,t,a){return Object.assign(Object.assign({},HN(s,t,a)),{timeZone:t.timeZone})}function HN(s,t,a){return{start:t.toDate(s.start),end:t.toDate(s.end),startStr:t.formatIso(s.start,{omitTime:a}),endStr:t.formatIso(s.end,{omitTime:a})}}function ET(s,t,a){let l=EN({editable:!1},a),r=pf(l.refined,l.extra,"",s.allDay,!0,a);return{def:r,ui:zN(r,t),instance:ux(r.defId,s.range),range:s.range,isStart:!0,isEnd:!0}}function AT(s,t,a){let l=!1,r=function(f){l||(l=!0,t(f))},c=function(f){l||(l=!0,a(f))},u=s(r,c);u&&typeof u.then=="function"&&u.then(r,c)}class tb extends Error{constructor(t,a){super(t),this.response=a}}function kT(s,t,a){s=s.toUpperCase();const l={method:s};return s==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(a):(l.body=new URLSearchParams(a),l.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,l).then(r=>{if(r.ok)return r.json().then(c=>[c,r],()=>{throw new tb("Failure parsing JSON",r)});throw new tb("Request failed",r)})}let Bh;function PN(){return Bh==null&&(Bh=DT()),Bh}function DT(){if(typeof document>"u")return!0;let s=document.createElement("div");s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.innerHTML="<table><tr><td><div></div></td></tr></table>",s.querySelector("table").style.height="100px",s.querySelector("div").style.height="100%",document.body.appendChild(s);let a=s.querySelector("div").offsetHeight>0;return document.body.removeChild(s),a}class RT extends ot{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Hd(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Hd(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:a}=t,{forPrint:l}=this.state,r=l||a.height==="auto"||a.contentHeight==="auto",c=!r&&a.height!=null?a.height:"",u=["fc",l?"fc-media-print":"fc-media-screen",`fc-direction-${a.direction}`,t.theme.getClass("root")];return PN()||u.push("fc-liquid-hack"),t.children(u,c,r,l)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class gr{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function TT(s,t){return{component:s,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function yx(s){return{[s.component.uid]:s}}const yf={};class al extends ln{constructor(t,a){super(t,a),this.handleRefresh=()=>{let l=this.computeTiming();l.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(l.state),this.clearTimeout(),this.setTimeout(l.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:a}=this;return t.children(a.nowDate,a.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:a}=this,l=a.nowManager.getDateMarker(),{nowIndicatorSnap:r}=a.options;r==="auto"&&(r=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let c,u;return r?(c=a.dateEnv.startOf(l,t.unit),u=a.dateEnv.add(c,nt(1,t.unit)).valueOf()-l.valueOf()):(c=l,u=1e3*60),u=Math.min(1e3*60*60*24,u),{state:{nowDate:c,todayRange:MT(c)},waitMs:u}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const a=this.computeTiming();this.setState(a.state,()=>{this.setTimeout(a.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}al.contextType=Ra;function MT(s){let t=_t(s),a=is(t,1);return{start:t,end:a}}class OT{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,a){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:a})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,a){let{currentDataManager:l}=this;l.currentCalendarOptionsRefiners[t]?l.emitter.on(t,a):console.warn(`Unknown listener name '${t}'`)}off(t,a){this.currentDataManager.emitter.off(t,a)}trigger(t,...a){this.currentDataManager.emitter.trigger(t,...a)}changeView(t,a){this.batchRendering(()=>{if(this.unselect(),a)if(a.start&&a.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:a});else{let{dateEnv:l}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:l.createMarker(a)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,a){let l=this.getCurrentData(),r;a=a||"day",r=l.viewSpecs[a]||this.getUnitViewSpec(a),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:a,toolbarConfig:l}=this.getCurrentData(),r=[].concat(l.header?l.header.viewsWithButtons:[],l.footer?l.footer.viewsWithButtons:[]),c,u;for(let f in a)r.push(f);for(c=0;c<r.length;c+=1)if(u=a[r[c]],u&&u.singleUnit===t)return u;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let a=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:a.dateEnv.createMarker(t)})}incrementDate(t){let a=this.getCurrentData(),l=nt(t);l&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:a.dateEnv.add(a.currentDate,l)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,a){let{dateEnv:l}=this.getCurrentData();return l.format(l.createMarker(t),Mt(a))}formatRange(t,a,l){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(t),r.createMarker(a),Mt(l),l)}formatIso(t,a){let{dateEnv:l}=this.getCurrentData();return l.formatIso(l.createMarker(t),{omitTime:a})}select(t,a){let l;a==null?t.start!=null?l=t:l={start:t,end:null}:l={start:t,end:a};let r=this.getCurrentData(),c=NT(l,r.dateEnv,nt({days:1}));c&&(this.dispatch({type:"SELECT_DATES",selection:c}),MN(c,null,r))}unselect(t){let a=this.getCurrentData();a.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),mT(t,a))}addEvent(t,a){if(t instanceof Bt){let u=t._def,f=t._instance;return this.getCurrentData().eventStore.defs[u.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:gf({def:u,instance:f})}),this.triggerEventAdd(t)),t}let l=this.getCurrentData(),r;if(a instanceof Ql)r=a.internalEventSource;else if(typeof a=="boolean")a&&([r]=rx(l.eventSources));else if(a!=null){let u=this.getEventSourceById(a);if(!u)return console.warn(`Could not find an event source with ID "${a}"`),null;r=u.internalEventSource}let c=CN(t,r,l,!1);if(c){let u=new Bt(l,c.def,c.def.recurringDef?null:c.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:gf(c)}),this.triggerEventAdd(u),u}return null}triggerEventAdd(t){let{emitter:a}=this.getCurrentData();a.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:ON(t)})}})}getEventById(t){let a=this.getCurrentData(),{defs:l,instances:r}=a.eventStore;t=String(t);for(let c in l){let u=l[c];if(u.publicId===t){if(u.recurringDef)return new Bt(a,u,null);for(let f in r){let h=r[f];if(h.defId===u.defId)return new Bt(a,u,h)}}}return null}getEvents(){let t=this.getCurrentData();return Vi(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),a=t.eventSources,l=[];for(let r in a)l.push(new Ql(t,a[r]));return l}getEventSourceById(t){let a=this.getCurrentData(),l=a.eventSources;t=String(t);for(let r in l)if(l[r].publicId===t)return new Ql(a,l[r]);return null}addEventSource(t){let a=this.getCurrentData();if(t instanceof Ql)return a.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let l=kN(t,a);return l?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[l]}),new Ql(a,l)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let a=nt(t);a&&this.trigger("_scrollRequest",{time:a})}}function zT(s,t){return s.left>=t.left&&s.left<t.right&&s.top>=t.top&&s.top<t.bottom}function qN(s,t){let a={left:Math.max(s.left,t.left),right:Math.min(s.right,t.right),top:Math.max(s.top,t.top),bottom:Math.min(s.bottom,t.bottom)};return a.left<a.right&&a.top<a.bottom?a:!1}function LT(s,t){return{left:Math.min(Math.max(s.left,t.left),t.right),top:Math.min(Math.max(s.top,t.top),t.bottom)}}function UT(s){return{left:(s.left+s.right)/2,top:(s.top+s.bottom)/2}}function HT(s,t){return{left:s.left-t.left,top:s.top-t.top}}const Ih=rn();class PT{constructor(){this.getKeysForEventDefs=Me(this._getKeysForEventDefs),this.splitDateSelection=Me(this._splitDateSpan),this.splitEventStore=Me(this._splitEventStore),this.splitIndividualUi=Me(this._splitIndividualUi),this.splitEventDrag=Me(this._splitInteraction),this.splitEventResize=Me(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let a=this.getKeyInfo(t),l=this.getKeysForEventDefs(t.eventStore),r=this.splitDateSelection(t.dateSelection),c=this.splitIndividualUi(t.eventUiBases,l),u=this.splitEventStore(t.eventStore,l),f=this.splitEventDrag(t.eventDrag),h=this.splitEventResize(t.eventResize),x={};this.eventUiBuilders=ka(a,(m,g)=>this.eventUiBuilders[g]||Me(qT));for(let m in a){let g=a[m],y=u[m]||Ih,N=this.eventUiBuilders[m];x[m]={businessHours:g.businessHours||t.businessHours,dateSelection:r[m]||null,eventStore:y,eventUiBases:N(t.eventUiBases[""],g.ui,c[m]),eventSelection:y.instances[t.eventSelection]?t.eventSelection:"",eventDrag:f[m]||null,eventResize:h[m]||null}}return x}_splitDateSpan(t){let a={};if(t){let l=this.getKeysForDateSpan(t);for(let r of l)a[r]=t}return a}_getKeysForEventDefs(t){return ka(t.defs,a=>this.getKeysForEventDef(a))}_splitEventStore(t,a){let{defs:l,instances:r}=t,c={};for(let u in l)for(let f of a[u])c[f]||(c[f]=rn()),c[f].defs[u]=l[u];for(let u in r){let f=r[u];for(let h of a[f.defId])c[h]&&(c[h].instances[u]=f)}return c}_splitIndividualUi(t,a){let l={};for(let r in t)if(r)for(let c of a[r])l[c]||(l[c]={}),l[c][r]=t[r];return l}_splitInteraction(t){let a={};if(t){let l=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),r=this._getKeysForEventDefs(t.mutatedEvents),c=this._splitEventStore(t.mutatedEvents,r),u=f=>{a[f]||(a[f]={affectedEvents:l[f]||Ih,mutatedEvents:c[f]||Ih,isEvent:t.isEvent})};for(let f in l)u(f);for(let f in c)u(f)}return a}}function qT(s,t,a){let l=[];s&&l.push(s),t&&l.push(t);let r={"":AN(l)};return a&&Object.assign(r,a),r}function bx(s,t,a,l){return{dow:s.getUTCDay(),isDisabled:!!(l&&(!l.activeRange||!Ca(l.activeRange,s))),isOther:!!(l&&!Ca(l.currentRange,s)),isToday:!!(t&&Ca(t,s)),isPast:!!(a?s<a:t&&s<t.start),isFuture:!!(a?s>a:t&&s>=t.end)}}function lu(s,t){let a=["fc-day",`fc-day-${FD[s.dow]}`];return s.isDisabled?a.push("fc-day-disabled"):(s.isToday&&(a.push("fc-day-today"),a.push(t.getClass("today"))),s.isPast&&a.push("fc-day-past"),s.isFuture&&a.push("fc-day-future"),s.isOther&&a.push("fc-day-other")),a}const BT=Mt({year:"numeric",month:"long",day:"numeric"}),IT=Mt({week:"long"});function nr(s,t,a="day",l=!0){const{dateEnv:r,options:c,calendarApi:u}=s;let f=r.format(t,a==="week"?IT:BT);if(c.navLinks){let h=r.toDate(t);const x=m=>{let g=a==="day"?c.navLinkDayClick:a==="week"?c.navLinkWeekClick:null;typeof g=="function"?g.call(u,r.toDate(t),m):(typeof g=="string"&&(a=g),u.zoomTo(t,a))};return Object.assign({title:vo(c.navLinkHint,[f,h],f),"data-navlink":""},l?hN(x):{onClick:x})}return{"aria-label":f}}let Fh=null;function FT(){return Fh===null&&(Fh=$T()),Fh}function $T(){let s=document.createElement("div");go(s,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),s.innerHTML="<div></div>",document.body.appendChild(s);let a=s.firstChild.getBoundingClientRect().left>s.getBoundingClientRect().left;return ex(s),a}let $h;function VT(){return $h||($h=QT()),$h}function QT(){let s=document.createElement("div");s.style.overflow="scroll",s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",document.body.appendChild(s);let t=BN(s);return document.body.removeChild(s),t}function BN(s){return{x:s.offsetHeight-s.clientHeight,y:s.offsetWidth-s.clientWidth}}function GT(s,t=!1){let a=window.getComputedStyle(s),l=parseInt(a.borderLeftWidth,10)||0,r=parseInt(a.borderRightWidth,10)||0,c=parseInt(a.borderTopWidth,10)||0,u=parseInt(a.borderBottomWidth,10)||0,f=BN(s),h=f.y-l-r,x=f.x-c-u,m={borderLeft:l,borderRight:r,borderTop:c,borderBottom:u,scrollbarBottom:x,scrollbarLeft:0,scrollbarRight:0};return FT()&&a.direction==="rtl"?m.scrollbarLeft=h:m.scrollbarRight=h,t&&(m.paddingLeft=parseInt(a.paddingLeft,10)||0,m.paddingRight=parseInt(a.paddingRight,10)||0,m.paddingTop=parseInt(a.paddingTop,10)||0,m.paddingBottom=parseInt(a.paddingBottom,10)||0),m}function YT(s,t=!1,a){let l=jx(s),r=GT(s,t),c={left:l.left+r.borderLeft+r.scrollbarLeft,right:l.right-r.borderRight-r.scrollbarRight,top:l.top+r.borderTop,bottom:l.bottom-r.borderBottom-r.scrollbarBottom};return t&&(c.left+=r.paddingLeft,c.right-=r.paddingRight,c.top+=r.paddingTop,c.bottom-=r.paddingBottom),c}function jx(s){let t=s.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function WT(s){let t=IN(s),a=s.getBoundingClientRect();for(let l of t){let r=qN(a,l.getBoundingClientRect());if(r)a=r;else return null}return a}function IN(s){let t=[];for(;s instanceof HTMLElement;){let a=window.getComputedStyle(s);if(a.position==="fixed")break;/(auto|scroll)/.test(a.overflow+a.overflowY+a.overflowX)&&t.push(s),s=s.parentNode}return t}class ar{constructor(t,a,l,r){this.els=a;let c=this.originClientRect=t.getBoundingClientRect();l&&this.buildElHorizontals(c.left),r&&this.buildElVerticals(c.top)}buildElHorizontals(t){let a=[],l=[];for(let r of this.els){let c=r.getBoundingClientRect();a.push(c.left-t),l.push(c.right-t)}this.lefts=a,this.rights=l}buildElVerticals(t){let a=[],l=[];for(let r of this.els){let c=r.getBoundingClientRect();a.push(c.top-t),l.push(c.bottom-t)}this.tops=a,this.bottoms=l}leftToIndex(t){let{lefts:a,rights:l}=this,r=a.length,c;for(c=0;c<r;c+=1)if(t>=a[c]&&t<l[c])return c}topToIndex(t){let{tops:a,bottoms:l}=this,r=a.length,c;for(c=0;c<r;c+=1)if(t>=a[c]&&t<l[c])return c}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return id(this.tops||[],t.tops||[])&&id(this.bottoms||[],t.bottoms||[])&&id(this.lefts||[],t.lefts||[])&&id(this.rights||[],t.rights||[])}}function id(s,t){const a=s.length;if(a!==t.length)return!1;for(let l=0;l<a;l++)if(Math.round(s[l])!==Math.round(t[l]))return!1;return!0}class Nx{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class KT extends Nx{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class ZT extends Nx{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Bn extends ot{constructor(){super(...arguments),this.uid=sl()}prepareHits(){}queryHit(t,a,l,r){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!Cs(t,".fc-event-mirror")}isValidDateDownEl(t){return!Cs(t,".fc-event:not(.fc-bg-event)")&&!Cs(t,".fc-more-link")&&!Cs(t,"a[data-navlink]")&&!Cs(t,".fc-popover")}}class FN{constructor(t=a=>a.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let a=[];for(let l of t)this.insertEntry(l,a);return a}insertEntry(t,a){let l=this.findInsertion(t);this.isInsertionValid(l,t)?this.insertEntryAt(t,l):this.handleInvalidInsertion(l,t,a)}isInsertionValid(t,a){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(a)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,a,l){if(this.allowReslicing&&t.touchingEntry){const r=Object.assign(Object.assign({},a),{span:wx(a.span,t.touchingEntry.span)});l.push(r),this.splitEntry(a,t.touchingEntry,l)}else l.push(a)}splitEntry(t,a,l){let r=t.span,c=a.span;r.start<c.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:r.start,end:c.start}},l),r.end>c.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:c.end,end:r.end}},l)}insertEntryAt(t,a){let{entriesByLevel:l,levelCoords:r}=this;a.lateral===-1?(Vh(r,a.level,a.levelCoord),Vh(l,a.level,[t])):Vh(l[a.level],a.lateral,t),this.stackCnts[Qi(t)]=a.stackCnt}findInsertion(t){let{levelCoords:a,entriesByLevel:l,strictOrder:r,stackCnts:c}=this,u=a.length,f=0,h=-1,x=-1,m=null,g=0;for(let j=0;j<u;j+=1){const S=a[j];if(!r&&S>=f+this.getEntryThickness(t))break;let b=l[j],C,k=jf(b,t.span.start,bf),E=k[0]+k[1];for(;(C=b[E])&&C.span.start<t.span.end;){let M=S+this.getEntryThickness(C);M>f&&(f=M,m=C,h=j,x=E),M===f&&(g=Math.max(g,c[Qi(C)]+1)),E+=1}}let y=0;if(m)for(y=h+1;y<u&&a[y]<f;)y+=1;let N=-1;return y<u&&a[y]===f&&(N=jf(l[y],t.span.end,bf)[0]),{touchingLevel:h,touchingLateral:x,touchingEntry:m,stackCnt:g,levelCoord:f,level:y,lateral:N}}toRects(){let{entriesByLevel:t,levelCoords:a}=this,l=t.length,r=[];for(let c=0;c<l;c+=1){let u=t[c],f=a[c];for(let h of u)r.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:f}))}return r}}function bf(s){return s.span.end}function Qi(s){return s.index+":"+s.span.start}function XT(s){let t=[];for(let a of s){let l=[],r={span:a.span,entries:[a]};for(let c of t)wx(c.span,r.span)?r={entries:c.entries.concat(r.entries),span:JT(c.span,r.span)}:l.push(c);l.push(r),t=l}return t}function JT(s,t){return{start:Math.min(s.start,t.start),end:Math.max(s.end,t.end)}}function wx(s,t){let a=Math.max(s.start,t.start),l=Math.min(s.end,t.end);return a<l?{start:a,end:l}:null}function Vh(s,t,a){s.splice(t,0,a)}function jf(s,t,a){let l=0,r=s.length;if(!r||t<a(s[l]))return[0,0];if(t>a(s[r-1]))return[r,0];for(;l<r;){let c=Math.floor(l+(r-l)/2),u=a(s[c]);if(t<u)r=c;else if(t>u)l=c+1;else return[c,1]}return[l,0]}class eM{constructor(t,a){this.emitter=new iu}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const Sx={};function tM(s,t){return!s||t>10?Mt({weekday:"short"}):t>1?Mt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Mt({weekday:"long"})}const $N="fc-col-header-cell";function VN(s){return s.text}class sM extends ot{render(){let{dateEnv:t,options:a,theme:l,viewApi:r}=this.context,{props:c}=this,{date:u,dateProfile:f}=c,h=bx(u,c.todayRange,null,f),x=[$N].concat(lu(h,l)),m=t.format(u,c.dayHeaderFormat),g=!h.isDisabled&&c.colCnt>1?nr(this.context,u):{},y=t.toDate(u);t.namedTimeZoneImpl&&(y=hi(y,36e5));let N=Object.assign(Object.assign(Object.assign({date:y,view:r},c.extraRenderProps),{text:m}),h);return O(ks,{elTag:"th",elClasses:x,elAttrs:Object.assign({role:"columnheader",colSpan:c.colSpan,"data-date":h.isDisabled?void 0:Uo(u)},c.extraDataAttrs),renderProps:N,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:VN,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},j=>O("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&O(j,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",c.isSticky&&"fc-sticky"]})))}}const nM=Mt({weekday:"long"});class aM extends ot{render(){let{props:t}=this,{dateEnv:a,theme:l,viewApi:r,options:c}=this.context,u=is(new Date(2592e5),t.dow),f={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=a.format(u,t.dayHeaderFormat),x=Object.assign(Object.assign(Object.assign(Object.assign({date:u},f),{view:r}),t.extraRenderProps),{text:h});return O(ks,{elTag:"th",elClasses:[$N,...lu(f,l),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:x,generatorName:"dayHeaderContent",customGenerator:c.dayHeaderContent,defaultGenerator:VN,classNameGenerator:c.dayHeaderClassNames,didMount:c.dayHeaderDidMount,willUnmount:c.dayHeaderWillUnmount},m=>O("div",{className:"fc-scrollgrid-sync-inner"},O(m,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":a.format(u,nM)}})))}}class QN extends ot{constructor(){super(...arguments),this.createDayHeaderFormatter=Me(iM)}render(){let{context:t}=this,{dates:a,dateProfile:l,datesRepDistinctDays:r,renderIntro:c}=this.props,u=this.createDayHeaderFormatter(t.options.dayHeaderFormat,r,a.length);return O(al,{unit:"day"},(f,h)=>O("tr",{role:"row"},c&&c("day"),a.map(x=>r?O(sM,{key:x.toISOString(),date:x,dateProfile:l,todayRange:h,colCnt:a.length,dayHeaderFormat:u}):O(aM,{key:x.getUTCDay(),dow:x.getUTCDay(),dayHeaderFormat:u}))))}}function iM(s,t,a){return s||tM(t,a)}class GN{constructor(t,a){let l=t.start,{end:r}=t,c=[],u=[],f=-1;for(;l<r;)a.isHiddenDay(l)?c.push(f+.5):(f+=1,c.push(f),u.push(l)),l=is(l,1);this.dates=u,this.indices=c,this.cnt=u.length}sliceRange(t){let a=this.getDateDayIndex(t.start),l=this.getDateDayIndex(is(t.end,-1)),r=Math.max(0,a),c=Math.min(this.cnt-1,l);return r=Math.ceil(r),c=Math.floor(c),r<=c?{firstIndex:r,lastIndex:c,isStart:a===r,isEnd:l===c}:null}getDateDayIndex(t){let{indices:a}=this,l=Math.floor(vi(this.dates[0],t));return l<0?a[0]-1:l>=a.length?a[a.length-1]+1:a[l]}}class YN{constructor(t,a){let{dates:l}=t,r,c,u;if(a){for(c=l[0].getUTCDay(),r=1;r<l.length&&l[r].getUTCDay()!==c;r+=1);u=Math.ceil(l.length/r)}else u=1,r=l.length;this.rowCnt=u,this.colCnt=r,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let a=0;a<this.rowCnt;a+=1){let l=[];for(let r=0;r<this.colCnt;r+=1)l.push(this.buildCell(a,r));t.push(l)}return t}buildCell(t,a){let l=this.daySeries.dates[t*this.colCnt+a];return{key:l.toISOString(),date:l}}buildHeaderDates(){let t=[];for(let a=0;a<this.colCnt;a+=1)t.push(this.cells[0][a].date);return t}sliceRange(t){let{colCnt:a}=this,l=this.daySeries.sliceRange(t),r=[];if(l){let{firstIndex:c,lastIndex:u}=l,f=c;for(;f<=u;){let h=Math.floor(f/a),x=Math.min((h+1)*a,u+1);r.push({row:h,firstCol:f%a,lastCol:(x-1)%a,isStart:l.isStart&&f===c,isEnd:l.isEnd&&x-1===u}),f=x}}return r}}class WN{constructor(){this.sliceBusinessHours=Me(this._sliceBusinessHours),this.sliceDateSelection=Me(this._sliceDateSpan),this.sliceEventStore=Me(this._sliceEventStore),this.sliceEventDrag=Me(this._sliceInteraction),this.sliceEventResize=Me(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,a,l,r,...c){let{eventUiBases:u}=t,f=this.sliceEventStore(t.eventStore,u,a,l,...c);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,a,l,u,r,...c),businessHourSegs:this.sliceBusinessHours(t.businessHours,a,l,r,...c),fgEventSegs:f.fg,bgEventSegs:f.bg,eventDrag:this.sliceEventDrag(t.eventDrag,u,a,l,...c),eventResize:this.sliceEventResize(t.eventResize,u,a,l,...c),eventSelection:t.eventSelection}}sliceNowDate(t,a,l,r,...c){return this._sliceDateSpan({range:{start:t,end:hi(t,1)},allDay:!1},a,l,{},r,...c)}_sliceBusinessHours(t,a,l,r,...c){return t?this._sliceEventStore(Xi(t,ld(a,!!l),r),{},a,l,...c).bg:[]}_sliceEventStore(t,a,l,r,...c){if(t){let u=vf(t,a,ld(l,!!r),r);return{bg:this.sliceEventRanges(u.bg,c),fg:this.sliceEventRanges(u.fg,c)}}return{bg:[],fg:[]}}_sliceInteraction(t,a,l,r,...c){if(!t)return null;let u=vf(t.mutatedEvents,a,ld(l,!!r),r);return{segs:this.sliceEventRanges(u.fg,c),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,a,l,r,c,...u){if(!t)return[];let f=ld(a,!!l),h=fi(t.range,f);if(h){t=Object.assign(Object.assign({},t),{range:h});let x=ET(t,r,c),m=this.sliceRange(t.range,...u);for(let g of m)g.eventRange=x;return m}return[]}sliceEventRanges(t,a){let l=[];for(let r of t)l.push(...this.sliceEventRange(r,a));return l}sliceEventRange(t,a){let l=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(l={start:l.start,end:is(l.start,1)});let r=this.sliceRange(l,...a);for(let c of r)c.eventRange=t,c.isStart=t.isStart&&c.isStart,c.isEnd=t.isEnd&&c.isEnd;return r}}function ld(s,t){let a=s.activeRange;return t?a:{start:hi(a.start,s.slotMinTime.milliseconds),end:hi(a.end,s.slotMaxTime.milliseconds-864e5)}}function KN(s,t,a){let{instances:l}=s.mutatedEvents;for(let r in l)if(!nu(t.validRange,l[r].range))return!1;return ZN({eventDrag:s},a)}function lM(s,t,a){return nu(t.validRange,s.range)?ZN({dateSelection:s},a):!1}function ZN(s,t){let a=t.getCurrentData(),l=Object.assign({businessHours:a.businessHours,dateSelection:"",eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},s);return(t.pluginHooks.isPropsValid||rM)(l,t)}function rM(s,t,a={},l){return!(s.eventDrag&&!oM(s,t,a,l)||s.dateSelection&&!cM(s,t,a,l))}function oM(s,t,a,l){let r=t.getCurrentData(),c=s.eventDrag,u=c.mutatedEvents,f=u.defs,h=u.instances,x=Bd(f,c.isEvent?s.eventUiBases:{"":r.selectionConfig});l&&(x=ka(x,l));let m=iT(s.eventStore,c.affectedEvents.instances),g=m.defs,y=m.instances,N=Bd(g,s.eventUiBases);for(let j in h){let S=h[j],b=S.range,C=x[S.defId],k=f[S.defId];if(!XN(C.constraints,b,m,s.businessHours,t))return!1;let{eventOverlap:E}=t.options,M=typeof E=="function"?E:null;for(let Q in y){let R=y[Q];if(cx(b,R.range)&&(N[R.defId].overlap===!1&&c.isEvent||C.overlap===!1||M&&!M(new Bt(t,g[R.defId],R),new Bt(t,k,S))))return!1}let z=r.eventStore;for(let Q of C.allows){let R=Object.assign(Object.assign({},a),{range:S.range,allDay:k.allDay}),q=z.defs[k.defId],ve=z.instances[j],ye;if(q?ye=new Bt(t,q,ve):ye=new Bt(t,k),!Q(xx(R,t),ye))return!1}}return!0}function cM(s,t,a,l){let r=s.eventStore,c=r.defs,u=r.instances,f=s.dateSelection,h=f.range,{selectionConfig:x}=t.getCurrentData();if(l&&(x=l(x)),!XN(x.constraints,h,r,s.businessHours,t))return!1;let{selectOverlap:m}=t.options,g=typeof m=="function"?m:null;for(let y in u){let N=u[y];if(cx(h,N.range)&&(x.overlap===!1||g&&!g(new Bt(t,c[N.defId],N),null)))return!1}for(let y of x.allows){let N=Object.assign(Object.assign({},a),f);if(!y(xx(N,t),null))return!1}return!0}function XN(s,t,a,l,r){for(let c of s)if(!uM(dM(c,t,a,l,r),t))return!1;return!0}function dM(s,t,a,l,r){return s==="businessHours"?Qh(Xi(l,t,r)):typeof s=="string"?Qh(au(a,c=>c.groupId===s)):typeof s=="object"&&s?Qh(Xi(s,t,r)):[]}function Qh(s){let{instances:t}=s,a=[];for(let l in t)a.push(t[l].range);return a}function uM(s,t){for(let a of s)if(nu(a,t))return!0;return!1}const rd=/^(visible|hidden)$/;class JN extends ot{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,sa(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:a,liquidIsAbsolute:l}=t,r=a&&l,c=["fc-scroller"];return a&&(l?c.push("fc-scroller-liquid-absolute"):c.push("fc-scroller-liquid")),O("div",{ref:this.handleEl,className:c.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:r&&-(t.overcomeLeft||0)||"",right:r&&-(t.overcomeRight||0)||"",bottom:r&&-(t.overcomeBottom||0)||"",marginLeft:!r&&-(t.overcomeLeft||0)||"",marginRight:!r&&-(t.overcomeRight||0)||"",marginBottom:!r&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(rd.test(this.props.overflowX))return!1;let{el:t}=this,a=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:l}=t;for(let r=0;r<l.length;r+=1)if(l[r].getBoundingClientRect().width>a)return!0;return!1}needsYScrolling(){if(rd.test(this.props.overflowY))return!1;let{el:t}=this,a=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:l}=t;for(let r=0;r<l.length;r+=1)if(l[r].getBoundingClientRect().height>a)return!0;return!1}getXScrollbarWidth(){return rd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return rd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Sa{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(a,l)=>{let{depths:r,currentMap:c}=this,u=!1,f=!1;a!==null?(u=l in c,c[l]=a,r[l]=(r[l]||0)+1,f=!0):(r[l]-=1,r[l]||(delete c[l],delete this.callbackMap[l],u=!0)),this.masterCallback&&(u&&this.masterCallback(null,String(l)),f&&this.masterCallback(a,String(l)))}}createRef(t){let a=this.callbackMap[t];return a||(a=this.callbackMap[t]=l=>{this.handleValue(l,String(t))}),a}collect(t,a,l){return wR(this.currentMap,t,a,l)}getAll(){return rx(this.currentMap)}}function mM(s){let t=jD(s,".fc-scrollgrid-shrink"),a=0;for(let l of t)a=Math.max(a,zD(l));return Math.ceil(a)}function ew(s,t){return s.liquid&&t.liquid}function hM(s,t){return t.maxHeight!=null||ew(s,t)}function fM(s,t,a,l){let{expandRows:r}=a;return typeof t.content=="function"?t.content(a):O("table",{role:"presentation",className:[t.tableClassName,s.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:a.tableMinWidth,width:a.clientWidth,height:r?a.clientHeight:""}},a.tableColGroupNode,O(l?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(a):t.rowContent))}function xM(s,t){return mi(s,t,Pn)}function pM(s,t){let a=[];for(let l of s){let r=l.span||1;for(let c=0;c<r;c+=1)a.push(O("col",{style:{width:l.width==="shrink"?gM(t):l.width||"",minWidth:l.minWidth||""}}))}return O("colgroup",{},...a)}function gM(s){return s??4}function vM(s){for(let t of s)if(t.width==="shrink")return!0;return!1}function yM(s,t){let a=["fc-scrollgrid",t.theme.getClass("table")];return s&&a.push("fc-scrollgrid-liquid"),a}function bM(s,t){let a=["fc-scrollgrid-section",`fc-scrollgrid-section-${s.type}`,s.className];return t&&s.liquid&&s.maxHeight==null&&a.push("fc-scrollgrid-section-liquid"),s.isSticky&&a.push("fc-scrollgrid-section-sticky"),a}function Nf(s){return O("div",{className:"fc-scrollgrid-sticky-shim",style:{width:s.clientWidth,minWidth:s.tableMinWidth}})}function Id(s){let{stickyHeaderDates:t}=s;return(t==null||t==="auto")&&(t=s.height==="auto"||s.viewHeight==="auto"),t}function tw(s){let{stickyFooterScrollbar:t}=s;return(t==null||t==="auto")&&(t=s.height==="auto"||s.viewHeight==="auto"),t}class _x extends ot{constructor(){super(...arguments),this.processCols=Me(t=>t,xM),this.renderMicroColGroup=Me(pM),this.scrollerRefs=new Sa,this.scrollerElRefs=new Sa(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:a,context:l}=this,r=t.sections||[],c=this.processCols(t.cols),u=this.renderMicroColGroup(c,a.shrinkWidth),f=yM(t.liquid,l);t.collapsibleWidth&&f.push("fc-scrollgrid-collapsible");let h=r.length,x=0,m,g=[],y=[],N=[];for(;x<h&&(m=r[x]).type==="header";)g.push(this.renderSection(m,u,!0)),x+=1;for(;x<h&&(m=r[x]).type==="body";)y.push(this.renderSection(m,u,!1)),x+=1;for(;x<h&&(m=r[x]).type==="footer";)N.push(this.renderSection(m,u,!0)),x+=1;let j=!PN();const S={role:"rowgroup"};return O("table",{role:"grid",className:f.join(" "),style:{height:t.height}},!!(!j&&g.length)&&O("thead",S,...g),!!(!j&&y.length)&&O("tbody",S,...y),!!(!j&&N.length)&&O("tfoot",S,...N),j&&O("tbody",S,...g,...y,...N))}renderSection(t,a,l){return"outerContent"in t?O(vt,{key:t.key},t.outerContent):O("tr",{key:t.key,role:"presentation",className:bM(t,this.props.liquid).join(" ")},this.renderChunkTd(t,a,t.chunk,l))}renderChunkTd(t,a,l,r){if("outerContent"in l)return l.outerContent;let{props:c}=this,{forceYScrollbars:u,scrollerClientWidths:f,scrollerClientHeights:h}=this.state,x=hM(c,t),m=ew(c,t),g=c.liquid?u?"scroll":x?"auto":"hidden":"visible",y=t.key,N=fM(t,l,{tableColGroupNode:a,tableMinWidth:"",clientWidth:!c.collapsibleWidth&&f[y]!==void 0?f[y]:null,clientHeight:h[y]!==void 0?h[y]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return O(r?"th":"td",{ref:l.elRef,role:"presentation"},O("div",{className:`fc-scroller-harness${m?" fc-scroller-harness-liquid":""}`},O(JN,{ref:this.scrollerRefs.createRef(y),elRef:this.scrollerElRefs.createRef(y),overflowY:g,overflowX:c.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:m,liquidIsAbsolute:!0},N)))}_handleScrollerEl(t,a){let l=jM(this.props.sections,a);l&&sa(l.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return vM(this.props.cols)?mM(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=VT(),{scrollerRefs:a,scrollerElRefs:l}=this,r=!1,c={},u={};for(let f in a.currentMap){let h=a.currentMap[f];if(h&&h.needsYScrolling()){r=!0;break}}for(let f of this.props.sections){let h=f.key,x=l.currentMap[h];if(x){let m=x.parentNode;c[h]=Math.floor(m.getBoundingClientRect().width-(r?t.y:0)),u[h]=Math.floor(m.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:c,scrollerClientHeights:u}}}_x.addStateEquality({scrollerClientWidths:Pn,scrollerClientHeights:Pn});function jM(s,t){for(let a of s)if(a.key===t)return a;return null}class ru extends ot{constructor(){super(...arguments),this.buildPublicEvent=Me((t,a,l)=>new Bt(t,a,l)),this.handleEl=t=>{this.el=t,sa(this.props.elRef,t),t&&eb(t,this.props.seg)}}render(){const{props:t,context:a}=this,{options:l}=a,{seg:r}=t,{eventRange:c}=r,{ui:u}=c,f={event:this.buildPublicEvent(a,c.def,c.instance),view:a.viewApi,timeText:t.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!t.disableDragging&&gT(r,a),isStartResizable:!t.disableResizing&&vT(r,a),isEndResizable:!t.disableResizing&&yT(r),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return O(ks,{elRef:this.handleEl,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:[...bT(f),...r.eventRange.ui.classNames,...t.elClasses||[]],elStyle:t.elStyle,renderProps:f,generatorName:"eventContent",customGenerator:l.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:l.eventClassNames,didMount:l.eventDidMount,willUnmount:l.eventWillUnmount},t.children)}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&eb(this.el,this.props.seg)}}class Cx extends ot{render(){let{props:t,context:a}=this,{options:l}=a,{seg:r}=t,{ui:c}=r.eventRange,u=l.eventTimeFormat||t.defaultTimeFormat,f=bo(r,u,a,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return O(ru,Object.assign({},t,{elTag:"a",elStyle:{borderColor:c.borderColor,backgroundColor:c.backgroundColor},elAttrs:vx(r,a),defaultGenerator:NM,timeText:f}),(h,x)=>O(vt,null,O(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:x.textColor}}),!!x.isStartResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!x.isEndResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Cx.addPropsEquality({seg:Pn});function NM(s){return O("div",{className:"fc-event-main-frame"},s.timeText&&O("div",{className:"fc-event-time"},s.timeText),O("div",{className:"fc-event-title-container"},O("div",{className:"fc-event-title fc-sticky"},s.event.title||O(vt,null,""))))}const Ex=s=>O(Ra.Consumer,null,t=>{let{options:a}=t,l={isAxis:s.isAxis,date:t.dateEnv.toDate(s.date),view:t.viewApi};return O(ks,{elRef:s.elRef,elTag:s.elTag||"div",elAttrs:s.elAttrs,elClasses:s.elClasses,elStyle:s.elStyle,renderProps:l,generatorName:"nowIndicatorContent",customGenerator:a.nowIndicatorContent,classNameGenerator:a.nowIndicatorClassNames,didMount:a.nowIndicatorDidMount,willUnmount:a.nowIndicatorWillUnmount},s.children)}),wM=Mt({day:"numeric"});class Ax extends ot{constructor(){super(...arguments),this.refineRenderProps=pd(SM)}render(){let{props:t,context:a}=this,{options:l}=a,r=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:a.viewApi,dateEnv:a.dateEnv,monthStartFormat:l.monthStartFormat});return O(ks,{elRef:t.elRef,elTag:t.elTag,elAttrs:Object.assign(Object.assign({},t.elAttrs),r.isDisabled?{}:{"data-date":Uo(t.date)}),elClasses:[...lu(r,a.theme),...t.elClasses||[]],elStyle:t.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:l.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.isDisabled?void 0:l.dayCellClassNames,didMount:l.dayCellDidMount,willUnmount:l.dayCellWillUnmount},t.children)}}function kx(s){return!!(s.dayCellContent||xf("dayCellContent",s))}function SM(s){let{date:t,dateEnv:a,dateProfile:l,isMonthStart:r}=s,c=bx(t,s.todayRange,null,l),u=s.showDayNumber?a.format(t,r?s.monthStartFormat:wM):"";return Object.assign(Object.assign(Object.assign({date:a.toDate(t),view:s.viewApi},c),{isMonthStart:r,dayNumberText:u}),s.extraRenderProps)}class sw extends ot{render(){let{props:t}=this,{seg:a}=t;return O(ru,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:a.eventRange.ui.backgroundColor},defaultGenerator:_M,seg:a,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function _M(s){let{title:t}=s.event;return t&&O("div",{className:"fc-event-title"},s.event.title)}function nw(s){return O("div",{className:`fc-${s}`})}const aw=s=>O(Ra.Consumer,null,t=>{let{dateEnv:a,options:l}=t,{date:r}=s,c=l.weekNumberFormat||s.defaultFormat,u=a.computeWeekNumber(r),f=a.format(r,c),h={num:u,text:f,date:r};return O(ks,{elRef:s.elRef,elTag:s.elTag,elAttrs:s.elAttrs,elClasses:s.elClasses,elStyle:s.elStyle,renderProps:h,generatorName:"weekNumberContent",customGenerator:l.weekNumberContent,defaultGenerator:CM,classNameGenerator:l.weekNumberClassNames,didMount:l.weekNumberDidMount,willUnmount:l.weekNumberWillUnmount},s.children)});function CM(s){return s.text}const Gh=10;class EM extends ot{constructor(){super(...arguments),this.state={titleId:ci()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&sa(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const a=uN(t);this.rootEl.contains(a)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:a}=this.context,{props:l,state:r}=this,c=["fc-popover",t.getClass("popover")].concat(l.extraClassNames||[]);return rD(O("div",Object.assign({},l.extraAttrs,{id:l.id,className:c.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),O("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},O("span",{className:"fc-popover-title",id:r.titleId},l.title),O("span",{className:"fc-popover-close "+t.getIconClass("close"),title:a.closeHint,onClick:this.handleCloseClick})),O("div",{className:"fc-popover-body "+t.getClass("popoverContent")},l.children)),l.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:a,alignGridTop:l}=this.props,{rootEl:r}=this,c=WT(a);if(c){let u=r.getBoundingClientRect(),f=l?Cs(a,".fc-scrollgrid").getBoundingClientRect().top:c.top,h=t?c.right-u.width:c.left;f=Math.max(f,Gh),h=Math.min(h,document.documentElement.clientWidth-Gh-u.width),h=Math.max(h,Gh);let x=r.offsetParent.getBoundingClientRect();go(r,{top:f-x.top,left:h-x.left})}}}class AM extends Bn{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:a}=this.context,{props:l}=this,{startDate:r,todayRange:c,dateProfile:u}=l,f=a.format(r,t.dayPopoverFormat);return O(Ax,{elRef:this.handleRootEl,date:r,dateProfile:u,todayRange:c},(h,x,m)=>O(EM,{elRef:m.ref,id:l.id,title:f,extraClassNames:["fc-more-popover"].concat(m.className||[]),extraAttrs:m,parentEl:l.parentEl,alignmentEl:l.alignmentEl,alignGridTop:l.alignGridTop,onClose:l.onClose},kx(t)&&O(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),l.children))}queryHit(t,a,l,r){let{rootEl:c,props:u}=this;return t>=0&&t<l&&a>=0&&a<r?{dateProfile:u.dateProfile,dateSpan:Object.assign({allDay:!u.forceTimed,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:c,rect:{left:0,top:0,right:l,bottom:r},layer:1}:null}}class iw extends ot{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ci()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&sa(this.props.elRef,t)},this.handleClick=t=>{let{props:a,context:l}=this,{moreLinkClick:r}=l.options,c=sb(a).start;function u(f){let{def:h,instance:x,range:m}=f.eventRange;return{event:new Bt(l,h,x),start:l.dateEnv.toDate(m.start),end:l.dateEnv.toDate(m.end),isStart:f.isStart,isEnd:f.isEnd}}typeof r=="function"&&(r=r({date:c,allDay:!!a.allDayDate,allSegs:a.allSegs.map(u),hiddenSegs:a.hiddenSegs.map(u),jsEvent:t,view:l.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&l.calendarApi.zoomTo(c,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:a}=this;return O(Ra.Consumer,null,l=>{let{viewApi:r,options:c,calendarApi:u}=l,{moreLinkText:f}=c,{moreCnt:h}=t,x=sb(t),m=typeof f=="function"?f.call(u,h):`+${h} ${f}`,g=vo(c.moreLinkHint,[h],m),y={num:h,shortText:`+${h}`,text:m,view:r};return O(vt,null,!!t.moreCnt&&O(ks,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),hN(this.handleClick)),{title:g,"aria-expanded":a.isPopoverOpen,"aria-controls":a.isPopoverOpen?a.popoverId:""}),renderProps:y,generatorName:"moreLinkContent",customGenerator:c.moreLinkContent,defaultGenerator:t.defaultGenerator||kM,classNameGenerator:c.moreLinkClassNames,didMount:c.moreLinkDidMount,willUnmount:c.moreLinkWillUnmount},t.children),a.isPopoverOpen&&O(AM,{id:a.popoverId,startDate:x.start,endDate:x.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Cs(this.linkEl,".fc-view-harness"))}}function kM(s){return s.text}function sb(s){if(s.allDayDate)return{start:s.allDayDate,end:is(s.allDayDate,1)};let{hiddenSegs:t}=s;return{start:lw(t),end:RM(t)}}function lw(s){return s.reduce(DM).eventRange.range.start}function DM(s,t){return s.eventRange.range.start<t.eventRange.range.start?s:t}function RM(s){return s.reduce(TM).eventRange.range.end}function TM(s,t){return s.eventRange.range.end>t.eventRange.range.end?s:t}class MM{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let a of this.handlers)a(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}}class OM extends MM{constructor(){super(...arguments),this.map=new Map}handle(t){const{map:a}=this;let l=!1;t.isActive?(a.set(t.id,t),l=!0):a.has(t.id)&&(a.delete(t.id),l=!0),l&&this.set(a)}}const zM=[],rw={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},ow=Object.assign(Object.assign({},rw),{buttonHints:{prev:"Previous $0",next:"Next $0",today(s,t){return t==="day"?"Today":`This ${s}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(s){return`Show ${s} more event${s===1?"":"s"}`}});function LM(s){let t=s.length>0?s[0].code:"en",a=zM.concat(s),l={en:ow};for(let r of a)l[r.code]=r;return{map:l,defaultCode:t}}function cw(s,t){return typeof s=="object"&&!Array.isArray(s)?dw(s.code,[s.code],s):UM(s,t)}function UM(s,t){let a=[].concat(s||[]),l=HM(a,t)||ow;return dw(s,a,l)}function HM(s,t){for(let a=0;a<s.length;a+=1){let l=s[a].toLocaleLowerCase().split("-");for(let r=l.length;r>0;r-=1){let c=l.slice(0,r).join("-");if(t[c])return t[c]}}return null}function dw(s,t,a){let l=lx([rw,a],["buttonText"]);delete l.code;let{week:r}=l;return delete l.week,{codeArg:s,codes:t,week:r,simpleNumberFormat:new Intl.NumberFormat(s),options:l}}function aa(s){return{id:sl(),name:s.name,premiumReleaseDate:s.premiumReleaseDate?new Date(s.premiumReleaseDate):void 0,deps:s.deps||[],reducers:s.reducers||[],isLoadingFuncs:s.isLoadingFuncs||[],contextInit:[].concat(s.contextInit||[]),eventRefiners:s.eventRefiners||{},eventDefMemberAdders:s.eventDefMemberAdders||[],eventSourceRefiners:s.eventSourceRefiners||{},isDraggableTransformers:s.isDraggableTransformers||[],eventDragMutationMassagers:s.eventDragMutationMassagers||[],eventDefMutationAppliers:s.eventDefMutationAppliers||[],dateSelectionTransformers:s.dateSelectionTransformers||[],datePointTransforms:s.datePointTransforms||[],dateSpanTransforms:s.dateSpanTransforms||[],views:s.views||{},viewPropsTransformers:s.viewPropsTransformers||[],isPropsValid:s.isPropsValid||null,externalDefTransforms:s.externalDefTransforms||[],viewContainerAppends:s.viewContainerAppends||[],eventDropTransformers:s.eventDropTransformers||[],componentInteractions:s.componentInteractions||[],calendarInteractions:s.calendarInteractions||[],themeClasses:s.themeClasses||{},eventSourceDefs:s.eventSourceDefs||[],cmdFormatter:s.cmdFormatter,recurringTypes:s.recurringTypes||[],namedTimeZonedImpl:s.namedTimeZonedImpl,initialView:s.initialView||"",elementDraggingImpl:s.elementDraggingImpl,optionChangeHandlers:s.optionChangeHandlers||{},scrollGridImpl:s.scrollGridImpl||null,listenerRefiners:s.listenerRefiners||{},optionRefiners:s.optionRefiners||{},propSetHandlers:s.propSetHandlers||{}}}function PM(s,t){let a={},l={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(c){for(let u of c){const f=u.name,h=a[f];h===void 0?(a[f]=u.id,r(u.deps),l=BM(l,u)):h!==u.id&&console.warn(`Duplicate plugin '${f}'`)}}return s&&r(s),r(t),l}function qM(){let s=[],t=[],a;return(l,r)=>((!a||!mi(l,s)||!mi(r,t))&&(a=PM(l,r)),s=l,t=r,a)}function BM(s,t){return{premiumReleaseDate:IM(s.premiumReleaseDate,t.premiumReleaseDate),reducers:s.reducers.concat(t.reducers),isLoadingFuncs:s.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:s.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},s.eventRefiners),t.eventRefiners),eventDefMemberAdders:s.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},s.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:s.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:s.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:s.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:s.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:s.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:s.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},s.views),t.views),viewPropsTransformers:s.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||s.isPropsValid,externalDefTransforms:s.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:s.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:s.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:s.calendarInteractions.concat(t.calendarInteractions),componentInteractions:s.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},s.themeClasses),t.themeClasses),eventSourceDefs:s.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||s.cmdFormatter,recurringTypes:s.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||s.namedTimeZonedImpl,initialView:s.initialView||t.initialView,elementDraggingImpl:s.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},s.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||s.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},s.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},s.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},s.propSetHandlers),t.propSetHandlers)}}function IM(s,t){return s===void 0?t:t===void 0?s:new Date(Math.max(s.valueOf(),t.valueOf()))}class yi extends Ho{}yi.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};yi.prototype.baseIconClass="fc-icon";yi.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};yi.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};yi.prototype.iconOverrideOption="buttonIcons";yi.prototype.iconOverrideCustomButtonOption="icon";yi.prototype.iconOverridePrefix="fc-icon-";function FM(s,t){let a={},l;for(l in s)wf(l,a,s,t);for(l in t)wf(l,a,s,t);return a}function wf(s,t,a,l){if(t[s])return t[s];let r=$M(s,t,a,l);return r&&(t[s]=r),r}function $M(s,t,a,l){let r=a[s],c=l[s],u=m=>r&&r[m]!==null?r[m]:c&&c[m]!==null?c[m]:null,f=u("component"),h=u("superType"),x=null;if(h){if(h===s)throw new Error("Can't have a custom view type that references itself");x=wf(h,t,a,l)}return!f&&x&&(f=x.component),f?{type:s,component:f,defaults:Object.assign(Object.assign({},x?x.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},x?x.overrides:{}),c?c.rawOptions:{})}:null}function nb(s){return ka(s,VM)}function VM(s){let t=typeof s=="function"?{component:s}:s,{component:a}=t;return t.content?a=ab(t):a&&!(a.prototype instanceof ot)&&(a=ab(Object.assign(Object.assign({},t),{content:a}))),{superType:t.type,component:a,rawOptions:t}}function ab(s){return t=>O(Ra.Consumer,null,a=>O(ks,{elTag:"div",elClasses:NN(a.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:a.options.nextDayThreshold}),generatorName:void 0,customGenerator:s.content,classNameGenerator:s.classNames,didMount:s.didMount,willUnmount:s.willUnmount}))}function QM(s,t,a,l){let r=nb(s),c=nb(t.views),u=FM(r,c);return ka(u,f=>GM(f,c,t,a,l))}function GM(s,t,a,l,r){let c=s.overrides.duration||s.defaults.duration||l.duration||a.duration,u=null,f="",h="",x={};if(c&&(u=YM(c),u)){let y=ff(u);f=y.unit,y.value===1&&(h=f,x=t[f]?t[f].rawOptions:{})}let m=y=>{let N=y.buttonText||{},j=s.defaults.buttonTextKey;return j!=null&&N[j]!=null?N[j]:N[s.type]!=null?N[s.type]:N[h]!=null?N[h]:null},g=y=>{let N=y.buttonHints||{},j=s.defaults.buttonTextKey;return j!=null&&N[j]!=null?N[j]:N[s.type]!=null?N[s.type]:N[h]!=null?N[h]:null};return{type:s.type,component:s.component,duration:u,durationUnit:f,singleUnit:h,optionDefaults:s.defaults,optionOverrides:Object.assign(Object.assign({},x),s.overrides),buttonTextOverride:m(l)||m(a)||s.overrides.buttonText,buttonTextDefault:m(r)||s.defaults.buttonText||m(yo)||s.type,buttonTitleOverride:g(l)||g(a)||s.overrides.buttonHint,buttonTitleDefault:g(r)||s.defaults.buttonHint||g(yo)}}let ib={};function YM(s){let t=JSON.stringify(s),a=ib[t];return a===void 0&&(a=nt(s),ib[t]=a),a}function WM(s,t){return t.type==="CHANGE_VIEW_TYPE"&&(s=t.viewType),s}function KM(s,t){return t.type==="CHANGE_DATE"?t.dateMarker:s}function ZM(s,t,a){let l=s.initialDate;return l!=null?t.createMarker(l):a.getDateMarker()}function XM(s,t){return t.type==="SET_OPTION"?Object.assign(Object.assign({},s),{[t.optionName]:t.rawOptionValue}):s}function JM(s,t,a,l){let r;switch(t.type){case"CHANGE_VIEW_TYPE":return l.build(t.dateMarker||a);case"CHANGE_DATE":return l.build(t.dateMarker);case"PREV":if(r=l.buildPrev(s,a),r.isValid)return r;break;case"NEXT":if(r=l.buildNext(s,a),r.isValid)return r;break}return s}function e6(s,t,a){let l=t?t.activeRange:null;return mw({},r6(s,a),l,a)}function t6(s,t,a,l){let r=a?a.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return mw(s,t.sources,r,l);case"REMOVE_EVENT_SOURCE":return n6(s,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return a?hw(s,r,l):s;case"FETCH_EVENT_SOURCES":return Dx(s,t.sourceIds?gN(t.sourceIds):fw(s,l),r,t.isRefetch||!1,l);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return l6(s,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return s}}function s6(s,t,a){let l=t?t.activeRange:null;return Dx(s,fw(s,a),l,!0,a)}function uw(s){for(let t in s)if(s[t].isFetching)return!0;return!1}function mw(s,t,a,l){let r={};for(let c of t)r[c.sourceId]=c;return a&&(r=hw(r,a,l)),Object.assign(Object.assign({},s),r)}function n6(s,t){return Zi(s,a=>a.sourceId!==t)}function hw(s,t,a){return Dx(s,Zi(s,l=>a6(l,t,a)),t,!1,a)}function a6(s,t,a){return xw(s,a)?!a.options.lazyFetching||!s.fetchRange||s.isFetching||t.start<s.fetchRange.start||t.end>s.fetchRange.end:!s.latestFetchId}function Dx(s,t,a,l,r){let c={};for(let u in s){let f=s[u];t[u]?c[u]=i6(f,a,l,r):c[u]=f}return c}function i6(s,t,a,l){let{options:r,calendarApi:c}=l,u=l.pluginHooks.eventSourceDefs[s.sourceDefId],f=sl();return u.fetch({eventSource:s,range:t,isRefetch:a,context:l},h=>{let{rawEvents:x}=h;r.eventSourceSuccess&&(x=r.eventSourceSuccess.call(c,x,h.response)||x),s.success&&(x=s.success.call(c,x,h.response)||x),l.dispatch({type:"RECEIVE_EVENTS",sourceId:s.sourceId,fetchId:f,fetchRange:t,rawEvents:x})},h=>{let x=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(c,h),x=!0),s.failure&&(s.failure(h),x=!0),x||console.warn(h.message,h),l.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:s.sourceId,fetchId:f,fetchRange:t,error:h})}),Object.assign(Object.assign({},s),{isFetching:!0,latestFetchId:f})}function l6(s,t,a,l){let r=s[t];return r&&a===r.latestFetchId?Object.assign(Object.assign({},s),{[t]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:l})}):s}function fw(s,t){return Zi(s,a=>xw(a,t))}function r6(s,t){let a=DN(t),l=[].concat(s.eventSources||[]),r=[];s.initialEvents&&l.unshift(s.initialEvents),s.events&&l.unshift(s.events);for(let c of l){let u=kN(c,t,a);u&&r.push(u)}return r}function xw(s,t){return!t.pluginHooks.eventSourceDefs[s.sourceDefId].ignoreRange}function o6(s,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return s}}function c6(s,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return s}}function d6(s,t){let a;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return a=t.state,{affectedEvents:a.affectedEvents,mutatedEvents:a.mutatedEvents,isEvent:a.isEvent};default:return s}}function u6(s,t){let a;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return a=t.state,{affectedEvents:a.affectedEvents,mutatedEvents:a.mutatedEvents,isEvent:a.isEvent};default:return s}}function m6(s,t,a,l,r){let c=s.headerToolbar?lb(s.headerToolbar,s,t,a,l,r):null,u=s.footerToolbar?lb(s.footerToolbar,s,t,a,l,r):null;return{header:c,footer:u}}function lb(s,t,a,l,r,c){let u={},f=[],h=!1;for(let x in s){let m=s[x],g=h6(m,t,a,l,r,c);u[x]=g.widgets,f.push(...g.viewsWithButtons),h=h||g.hasTitle}return{sectionWidgets:u,viewsWithButtons:f,hasTitle:h}}function h6(s,t,a,l,r,c){let u=t.direction==="rtl",f=t.customButtons||{},h=a.buttonText||{},x=t.buttonText||{},m=a.buttonHints||{},g=t.buttonHints||{},y=s?s.split(" "):[],N=[],j=!1;return{widgets:y.map(b=>b.split(",").map(C=>{if(C==="title")return j=!0,{buttonName:C};let k,E,M,z,Q,R;if(k=f[C])M=q=>{k.click&&k.click.call(q.target,q,q.target)},(z=l.getCustomButtonIconClass(k))||(z=l.getIconClass(C,u))||(Q=k.text),R=k.hint||k.text;else if(E=r[C]){N.push(C),M=()=>{c.changeView(C)},(Q=E.buttonTextOverride)||(z=l.getIconClass(C,u))||(Q=E.buttonTextDefault);let q=E.buttonTextOverride||E.buttonTextDefault;R=vo(E.buttonTitleOverride||E.buttonTitleDefault||t.viewHint,[q,C],q)}else if(c[C])if(M=()=>{c[C]()},(Q=h[C])||(z=l.getIconClass(C,u))||(Q=x[C]),C==="prevYear"||C==="nextYear"){let q=C==="prevYear"?"prev":"next";R=vo(m[q]||g[q],[x.year||"year","year"],x[C])}else R=q=>vo(m[C]||g[C],[x[q]||q,q],x[C]);return{buttonName:C,buttonClick:M,buttonIcon:z,buttonText:Q,buttonHint:R}})),viewsWithButtons:N,hasTitle:j}}class f6{constructor(t,a,l){this.type=t,this.getCurrentData=a,this.dateEnv=l}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let x6={ignoreRange:!0,parseMeta(s){return Array.isArray(s.events)?s.events:null},fetch(s,t){t({rawEvents:s.eventSource.meta})}};const p6=aa({name:"array-event-source",eventSourceDefs:[x6]});let g6={parseMeta(s){return typeof s.events=="function"?s.events:null},fetch(s,t,a){const{dateEnv:l}=s.context,r=s.eventSource.meta;AT(r.bind(null,UN(s.range,l)),c=>t({rawEvents:c}),a)}};const v6=aa({name:"func-event-source",eventSourceDefs:[g6]}),y6={method:String,extraParams:se,startParam:String,endParam:String,timeZoneParam:String};let b6={parseMeta(s){return s.url&&(s.format==="json"||!s.format)?{url:s.url,format:"json",method:(s.method||"GET").toUpperCase(),extraParams:s.extraParams,startParam:s.startParam,endParam:s.endParam,timeZoneParam:s.timeZoneParam}:null},fetch(s,t,a){const{meta:l}=s.eventSource,r=N6(l,s.range,s.context);kT(l.method,l.url,r).then(([c,u])=>{t({rawEvents:c,response:u})},a)}};const j6=aa({name:"json-event-source",eventSourceRefiners:y6,eventSourceDefs:[b6]});function N6(s,t,a){let{dateEnv:l,options:r}=a,c,u,f,h,x={};return c=s.startParam,c==null&&(c=r.startParam),u=s.endParam,u==null&&(u=r.endParam),f=s.timeZoneParam,f==null&&(f=r.timeZoneParam),typeof s.extraParams=="function"?h=s.extraParams():h=s.extraParams||{},Object.assign(x,h),x[c]=l.formatIso(t.start),x[u]=l.formatIso(t.end),l.timeZone!=="local"&&(x[f]=l.timeZone),x}const w6={daysOfWeek:se,startTime:nt,endTime:nt,duration:nt,startRecur:se,endRecur:se};let S6={parse(s,t){if(s.daysOfWeek||s.startTime||s.endTime||s.startRecur||s.endRecur){let a={daysOfWeek:s.daysOfWeek||null,startTime:s.startTime||null,endTime:s.endTime||null,startRecur:s.startRecur?t.createMarker(s.startRecur):null,endRecur:s.endRecur?t.createMarker(s.endRecur):null,dateEnv:t},l;return s.duration&&(l=s.duration),!l&&s.startTime&&s.endTime&&(l=PD(s.endTime,s.startTime)),{allDayGuess:!s.startTime&&!s.endTime,duration:l,typeData:a}}return null},expand(s,t,a){let l=fi(t,{start:s.startRecur,end:s.endRecur});return l?C6(s.daysOfWeek,s.startTime,s.dateEnv,a,l):[]}};const _6=aa({name:"simple-recurring-event",recurringTypes:[S6],eventRefiners:w6});function C6(s,t,a,l,r){let c=s?gN(s):null,u=_t(r.start),f=r.end,h=[];for(t&&(t.milliseconds<0?f=is(f,1):t.milliseconds>=1e3*60*60*24&&(u=is(u,-1)));u<f;){let x;(!c||c[u.getUTCDay()])&&(t?x=l.add(u,t):x=u,h.push(l.createMarker(a.toDate(x)))),u=is(u,1)}return h}const E6=aa({name:"change-handler",optionChangeHandlers:{events(s,t){rb([s],t)},eventSources:rb}});function rb(s,t){let a=rx(t.getCurrentData().eventSources);if(a.length===1&&s.length===1&&Array.isArray(a[0]._raw)&&Array.isArray(s[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:a[0].sourceId,rawEvents:s[0]});return}let l=[];for(let r of s){let c=!1;for(let u=0;u<a.length;u+=1)if(a[u]._raw===r){a.splice(u,1),c=!0;break}c||l.push(r)}for(let r of a)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of l)t.calendarApi.addEventSource(r)}function A6(s,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},UN(s.activeRange,t.dateEnv)),{view:t.viewApi}))}function k6(s,t){let{emitter:a}=t;a.hasHandlers("eventsSet")&&a.trigger("eventsSet",Vi(s,t))}const D6=[p6,v6,j6,_6,E6,aa({name:"misc",isLoadingFuncs:[s=>uw(s.eventSources)],propSetHandlers:{dateProfile:A6,eventStore:k6}})];class R6{constructor(t,a){this.runTaskOption=t,this.drainedOption=a,this.queue=[],this.delayedRunner=new Jf(this.drain.bind(this))}request(t,a){this.queue.push(t),this.delayedRunner.request(a)}pause(t){this.delayedRunner.pause(t)}resume(t,a){this.delayedRunner.resume(t,a)}drain(){let{queue:t}=this;for(;t.length;){let a=[],l;for(;l=t.shift();)this.runTask(l),a.push(l);this.drained(a)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function T6(s,t,a){let l;return/^(year|month)$/.test(s.currentRangeUnit)?l=s.currentRange:l=s.activeRange,a.formatRange(l.start,l.end,Mt(t.titleFormat||M6(s)),{isEndExclusive:s.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function M6(s){let{currentRangeUnit:t}=s;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let a=Od(s.currentRange.start,s.currentRange.end);return a!==null&&a>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class ob{constructor(){this.resetListeners=new Set}handleInput(t,a){const l=this.dateEnv;if(t!==l&&(typeof a=="function"?this.nowFn=a:l||(this.nowAnchorDate=t.toDate(a?t.createMarker(a):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,l))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class O6{constructor(t){this.computeCurrentViewData=Me(this._computeCurrentViewData),this.organizeRawLocales=Me(LM),this.buildLocale=Me(cw),this.buildPluginHooks=qM(),this.buildDateEnv=Me(z6),this.buildTheme=Me(L6),this.parseToolbars=Me(m6),this.buildViewSpecs=Me(QM),this.buildDateProfileGenerator=pd(U6),this.buildViewApi=Me(H6),this.buildViewUiProps=pd(B6),this.buildEventUiBySource=Me(P6,Pn),this.buildEventUiBases=Me(q6),this.parseContextBusinessHours=pd(I6),this.buildTitle=Me(T6),this.nowManager=new ob,this.emitter=new iu,this.actionRunner=new R6(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=y=>{this.actionRunner.request(y)},this.props=t,this.actionRunner.pause(),this.nowManager=new ob;let a={},l=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),r=l.calendarOptions.initialView||l.pluginHooks.initialView,c=this.computeCurrentViewData(r,l,t.optionOverrides,a);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(c.options);let u={nowManager:this.nowManager,dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f=ZM(l.calendarOptions,l.dateEnv,this.nowManager),h=c.dateProfileGenerator.build(f);Ca(h.activeRange,f)||(f=h.currentRange.start);for(let y of l.pluginHooks.contextInit)y(u);let x=e6(l.calendarOptions,h,u),m={dynamicOptionOverrides:a,currentViewType:r,currentDate:f,dateProfile:h,businessHours:this.parseContextBusinessHours(u),eventSources:x,eventUiBases:{},eventStore:rn(),renderableEventStore:rn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(u).selectionConfig},g=Object.assign(Object.assign({},u),m);for(let y of l.pluginHooks.reducers)Object.assign(m,y(null,null,g));Yh(m,u)&&this.emitter.trigger("loading",!0),this.state=m,this.updateData(),this.actionRunner.resume()}resetOptions(t,a){let{props:l}=this;a===void 0?l.optionOverrides=t:(l.optionOverrides=Object.assign(Object.assign({},l.optionOverrides||{}),t),this.optionsForRefining.push(...a)),(a===void 0||a.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:a,state:l,emitter:r}=this,c=XM(l.dynamicOptionOverrides,t),u=this.computeOptionsData(a.optionOverrides,c,a.calendarApi),f=WM(l.currentViewType,t),h=this.computeCurrentViewData(f,u,a.optionOverrides,c);a.calendarApi.currentDataManager=this,r.setThisContext(a.calendarApi),r.setOptions(h.options);let x={nowManager:this.nowManager,dateEnv:u.dateEnv,options:u.calendarOptions,pluginHooks:u.pluginHooks,calendarApi:a.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:m,dateProfile:g}=l;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(g=h.dateProfileGenerator.build(m)),m=KM(m,t),g=JM(g,t,m,h.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!Ca(g.currentRange,m))&&(m=g.currentRange.start);let y=t6(l.eventSources,t,g,x),N=tT(l.eventStore,t,y,g,x),S=uw(y)&&!h.options.progressiveEventRendering&&l.renderableEventStore||N,{eventUiSingleBase:b,selectionConfig:C}=this.buildViewUiProps(x),k=this.buildEventUiBySource(y),E=this.buildEventUiBases(S.defs,b,k),M={dynamicOptionOverrides:c,currentViewType:f,currentDate:m,dateProfile:g,eventSources:y,eventStore:N,renderableEventStore:S,selectionConfig:C,eventUiBases:E,businessHours:this.parseContextBusinessHours(x),dateSelection:o6(l.dateSelection,t),eventSelection:c6(l.eventSelection,t),eventDrag:d6(l.eventDrag,t),eventResize:u6(l.eventResize,t)},z=Object.assign(Object.assign({},x),M);for(let q of u.pluginHooks.reducers)Object.assign(M,q(l,t,z));let Q=Yh(l,x),R=Yh(M,x);!Q&&R?r.trigger("loading",!0):Q&&!R&&r.trigger("loading",!1),this.state=M,a.onAction&&a.onAction(t)}updateData(){let{props:t,state:a}=this,l=this.data,r=this.computeOptionsData(t.optionOverrides,a.dynamicOptionOverrides,t.calendarApi),c=this.computeCurrentViewData(a.currentViewType,r,t.optionOverrides,a.dynamicOptionOverrides),u=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(a.dateProfile,c.options,r.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),c),a),f=r.pluginHooks.optionChangeHandlers,h=l&&l.calendarOptions,x=r.calendarOptions;if(h&&h!==x){h.timeZone!==x.timeZone&&(a.eventSources=u.eventSources=s6(u.eventSources,a.dateProfile,u),a.eventStore=u.eventStore=Xy(u.eventStore,l.dateEnv,u.dateEnv),a.renderableEventStore=u.renderableEventStore=Xy(u.renderableEventStore,l.dateEnv,u.dateEnv));for(let m in f)(this.optionsForHandling.indexOf(m)!==-1||h[m]!==x[m])&&f[m](x[m],u)}this.optionsForHandling=[],t.onData&&t.onData(u)}computeOptionsData(t,a,l){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&a===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:c,localeDefaults:u,availableLocaleData:f,extra:h}=this.processRawCalendarOptions(t,a);cb(h);let x=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,c,f,r.defaultRangeSeparator),m=this.buildViewSpecs(c.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,u),g=this.buildTheme(r,c),y=this.parseToolbars(r,this.stableOptionOverrides,g,m,l);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:c,dateEnv:x,viewSpecs:m,theme:g,toolbarConfig:y,localeDefaults:u,availableRawLocales:f.map}}processRawCalendarOptions(t,a){let{locales:l,locale:r}=Ph([yo,t,a]),c=this.organizeRawLocales(l),u=c.map,f=this.buildLocale(r||c.defaultCode,u).options,h=this.buildPluginHooks(t.plugins||[],D6),x=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qy),Gy),Yy),h.listenerRefiners),h.optionRefiners),m={},g=Ph([yo,f,t,a]),y={},N=this.currentCalendarOptionsInput,j=this.currentCalendarOptionsRefined,S=!1;for(let b in g)this.optionsForRefining.indexOf(b)===-1&&(g[b]===N[b]||Pi[b]&&b in N&&Pi[b](N[b],g[b]))?y[b]=j[b]:x[b]?(y[b]=x[b](g[b]),S=!0):m[b]=N[b];return S&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=y,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=a),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:c,localeDefaults:f,extra:m}}_computeCurrentViewData(t,a,l,r){let c=a.viewSpecs[t];if(!c)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:u,extra:f}=this.processRawViewOptions(c,a.pluginHooks,a.localeDefaults,l,r);cb(f),this.nowManager.handleInput(a.dateEnv,u.now);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:c.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:c.duration,durationUnit:c.durationUnit,usesMinMaxTime:c.optionDefaults.usesMinMaxTime,dateEnv:a.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:u.slotMinTime,slotMaxTime:u.slotMaxTime,showNonCurrentDates:u.showNonCurrentDates,dayCount:u.dayCount,dateAlignment:u.dateAlignment,dateIncrement:u.dateIncrement,hiddenDays:u.hiddenDays,weekends:u.weekends,validRangeInput:u.validRange,visibleRangeInput:u.visibleRange,fixedWeekCount:u.fixedWeekCount}),x=this.buildViewApi(t,this.getCurrentData,a.dateEnv);return{viewSpec:c,options:u,dateProfileGenerator:h,viewApi:x}}processRawViewOptions(t,a,l,r,c){let u=Ph([yo,t.optionDefaults,l,r,t.optionOverrides,c]),f=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qy),Gy),Yy),vR),a.listenerRefiners),a.optionRefiners),h={},x=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,g=!1,y={};for(let N in u)u[N]===x[N]||Pi[N]&&Pi[N](u[N],x[N])?h[N]=m[N]:(u[N]===this.currentCalendarOptionsInput[N]||Pi[N]&&Pi[N](u[N],this.currentCalendarOptionsInput[N])?N in this.currentCalendarOptionsRefined&&(h[N]=this.currentCalendarOptionsRefined[N]):f[N]?h[N]=f[N](u[N]):y[N]=u[N],g=!0);return g&&(this.currentViewOptionsInput=u,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:y}}}function z6(s,t,a,l,r,c,u,f){let h=cw(t||u.defaultCode,u.map);return new kR({calendarSystem:"gregory",timeZone:s,namedTimeZoneImpl:c.namedTimeZonedImpl,locale:h,weekNumberCalculation:a,firstDay:l,weekText:r,cmdFormatter:c.cmdFormatter,defaultSeparator:f})}function L6(s,t){let a=t.themeClasses[s.themeSystem]||yi;return new a(s)}function U6(s){let t=s.dateProfileGeneratorClass||SN;return new t(s)}function H6(s,t,a){return new f6(s,t,a)}function P6(s){return ka(s,t=>t.ui)}function q6(s,t,a){let l={"":t};for(let r in s){let c=s[r];c.sourceId&&a[c.sourceId]&&(l[r]=a[c.sourceId])}return l}function B6(s){let{options:t}=s;return{eventUiSingleBase:qd({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},s),selectionConfig:qd({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},s)}}function Yh(s,t){for(let a of t.pluginHooks.isLoadingFuncs)if(a(s))return!0;return!1}function I6(s){return dT(s.options.businessHours,s)}function cb(s,t){for(let a in s)console.warn(`Unknown option '${a}'`)}class F6 extends ot{render(){let t=this.props.widgetGroups.map(a=>this.renderWidgetGroup(a));return O("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:a}=this,{theme:l}=this.context,r=[],c=!0;for(let u of t){let{buttonName:f,buttonClick:h,buttonText:x,buttonIcon:m,buttonHint:g}=u;if(f==="title")c=!1,r.push(O("h2",{className:"fc-toolbar-title",id:a.titleId},a.title));else{let y=f===a.activeButton,N=!a.isTodayEnabled&&f==="today"||!a.isPrevEnabled&&f==="prev"||!a.isNextEnabled&&f==="next",j=[`fc-${f}-button`,l.getClass("button")];y&&j.push(l.getClass("buttonActive")),r.push(O("button",{type:"button",title:typeof g=="function"?g(a.navUnit):g,disabled:N,"aria-pressed":y,className:j.join(" "),onClick:h},x||(m?O("span",{className:m,role:"img"}):"")))}}if(r.length>1){let u=c&&l.getClass("buttonGroup")||"";return O("div",{className:u},...r)}return r[0]}}class db extends ot{render(){let{model:t,extraClassName:a}=this.props,l=!1,r,c,u=t.sectionWidgets,f=u.center;return u.left?(l=!0,r=u.left):r=u.start,u.right?(l=!0,c=u.right):c=u.end,O("div",{className:[a||"","fc-toolbar",l?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",f||[]),this.renderSection("end",c||[]))}renderSection(t,a){let{props:l}=this;return O(F6,{key:t,widgetGroups:a,title:l.title,navUnit:l.navUnit,activeButton:l.activeButton,isTodayEnabled:l.isTodayEnabled,isPrevEnabled:l.isPrevEnabled,isNextEnabled:l.isNextEnabled,titleId:l.titleId})}}class $6 extends ot{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,sa(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:a}=this,{aspectRatio:l}=t,r=["fc-view-harness",l||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],c="",u="";return l?a.availableWidth!==null?c=a.availableWidth/l:u=`${1/l*100}%`:c=t.height||"",O("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:c,paddingBottom:u}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class V6 extends gr{constructor(t){super(t),this.handleSegClick=(a,l)=>{let{component:r}=this,{context:c}=r,u=sr(l);if(u&&r.isValidSegDownEl(a.target)){let f=Cs(a.target,".fc-event-forced-url"),h=f?f.querySelector("a[href]").href:"";c.emitter.trigger("eventClick",{el:l,event:new Bt(r.context,u.eventRange.def,u.eventRange.instance),jsEvent:a,view:c.viewApi}),h&&!a.defaultPrevented&&(window.location.href=h)}},this.destroy=mN(t.el,"click",".fc-event",this.handleSegClick)}}class Q6 extends gr{constructor(t){super(t),this.handleEventElRemove=a=>{a===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(a,l)=>{sr(l)&&(this.currentSegEl=l,this.triggerEvent("eventMouseEnter",a,l))},this.handleSegLeave=(a,l)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",a,l))},this.removeHoverListeners=SD(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,a,l){let{component:r}=this,{context:c}=r,u=sr(l);(!a||r.isValidSegDownEl(a.target))&&c.emitter.trigger(t,{el:l,event:new Bt(c,u.eventRange.def,u.eventRange.instance),jsEvent:a,view:c.viewApi})}}class G6 extends nl{constructor(){super(...arguments),this.buildViewContext=Me(TR),this.buildViewPropTransformers=Me(W6),this.buildToolbarProps=Me(Y6),this.headerRef=Ms(),this.footerRef=Ms(),this.interactionsStore={},this.state={viewLabelId:ci()},this.registerInteractiveComponent=(t,a)=>{let l=TT(t,a),u=[V6,Q6].concat(this.props.pluginHooks.componentInteractions).map(f=>new f(l));this.interactionsStore[t.uid]=u,yf[t.uid]=l},this.unregisterInteractiveComponent=t=>{let a=this.interactionsStore[t.uid];if(a){for(let l of a)l.destroy();delete this.interactionsStore[t.uid]}delete yf[t.uid]},this.resizeRunner=new Jf(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:a}=this.props;a.handleWindowResize&&t.target===window&&this.resizeRunner.request(a.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:a,options:l}=t,r=!1,c="",u;t.isHeightAuto||t.forPrint?c="":l.height!=null?r=!0:l.contentHeight!=null?c=l.contentHeight:u=Math.max(l.aspectRatio,.5);let f=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),h=a.header&&a.header.hasTitle?this.state.viewLabelId:void 0;return O(Ra.Provider,{value:f},O(al,{unit:"day"},x=>{let m=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,x,t.viewTitle);return O(vt,null,a.header&&O(db,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:a.header,titleId:h},m)),O($6,{liquid:r,height:c,aspectRatio:u,labeledById:h},this.renderView(t),this.buildAppendContent()),a.footer&&O(db,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:a.footer,titleId:""},m)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(l=>new l(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:a}=t.pluginHooks;for(let l in a)a[l](t[l],t)}componentDidUpdate(t){let{props:a}=this,{propSetHandlers:l}=a.pluginHooks;for(let r in l)a[r]!==t[r]&&l[r](a[r],a)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,a=t.pluginHooks.viewContainerAppends.map(l=>l(t));return O(vt,{},...a)}renderView(t){let{pluginHooks:a}=t,{viewSpec:l}=t,r={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},c=this.buildViewPropTransformers(a.viewPropsTransformers);for(let f of c)Object.assign(r,f.transform(r,t));let u=l.component;return O(u,Object.assign({},r))}}function Y6(s,t,a,l,r,c){let u=a.build(r,void 0,!1),f=a.buildPrev(t,l,!1),h=a.buildNext(t,l,!1);return{title:c,activeButton:s.type,navUnit:s.singleUnit,isTodayEnabled:u.isValid&&!Ca(t.currentRange,r),isPrevEnabled:f.isValid,isNextEnabled:h.isValid}}function W6(s){return s.map(t=>new t)}let K6=class extends OT{constructor(t,a={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=l=>{switch(l.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=l=>{this.currentData=l,this.renderRunner.request(l.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:l}=this;Hd(()=>{Eo(O(RT,{options:l.calendarOptions,theme:l.theme,emitter:l.emitter},(r,c,u,f)=>(this.setClassNames(r),this.setHeight(c),O(jN.Provider,{value:this.customContentRenderId},O(G6,Object.assign({isHeightAuto:u,forPrint:f},l))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Eo(null,this.el),this.setClassNames([]),this.setHeight(""))},xD(t),this.el=t,this.renderRunner=new Jf(this.handleRenderRequest),new O6({optionOverrides:a,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Hd(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,a){this.currentDataManager.resetOptions(t,a)}setClassNames(t){if(!mi(t,this.currentClassNames)){let{classList:a}=this.el;for(let l of this.currentClassNames)a.remove(l);for(let l of t)a.add(l);this.currentClassNames=t}}setHeight(t){dN(this.el,"height",t)}};const Z6=parseInt(String(pe.version).split(".")[0]),X6=Z6<18;class pw extends _.Component{constructor(){super(...arguments),this.elRef=_.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const a of this.state.customRenderingMap.values())t.push(pe.createElement(J6,{key:a.id,customRendering:a}));return pe.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new OM;this.handleCustomRendering=t.handle.bind(t),this.calendar=new K6(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{bd.flushSync(()=>{})});let a;t.subscribe(l=>{const r=Date.now(),c=!a;(X6||c||this.isUpdating||this.isUnmounting||r-a<100?gw:bd.flushSync)(()=>{this.setState({customRenderingMap:l},()=>{a=r,c?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}pw.act=gw;class J6 extends _.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:a}=t,l=typeof a=="function"?a(t.renderProps):a;return bd.createPortal(l,t.containerEl)}}function gw(s){s()}class eO extends Bn{constructor(){super(...arguments),this.headerElRef=Ms()}renderSimpleLayout(t,a){let{props:l,context:r}=this,c=[],u=Id(r.options);return t&&c.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),c.push({type:"body",key:"body",liquid:!0,chunk:{content:a}}),O(Ao,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},O(_x,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[],sections:c}))}renderHScrollLayout(t,a,l,r){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{props:u,context:f}=this,h=!u.forPrint&&Id(f.options),x=!u.forPrint&&tw(f.options),m=[];return t&&m.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:a}]}),x&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Nf}]}),O(Ao,{elClasses:["fc-daygrid"],viewSpec:f.viewSpec},O(c,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:l,minWidth:r}]}],sections:m}))}}function vd(s,t){let a=[];for(let l=0;l<t;l+=1)a[l]=[];for(let l of s)a[l.row].push(l);return a}function od(s,t){let a=[];for(let l=0;l<t;l+=1)a[l]=[];for(let l of s)a[l.firstCol].push(l);return a}function ub(s,t){let a=[];if(s){for(let l=0;l<t;l+=1)a[l]={affectedInstances:s.affectedInstances,isEvent:s.isEvent,segs:[]};for(let l of s.segs)a[l.row].segs.push(l)}else for(let l=0;l<t;l+=1)a[l]=null;return a}const vw=Mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function yw(s){let{display:t}=s.eventRange.ui;return t==="list-item"||t==="auto"&&!s.eventRange.def.allDay&&s.firstCol===s.lastCol&&s.isStart&&s.isEnd}class bw extends ot{render(){let{props:t}=this;return O(Cx,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:vw,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class jw extends ot{render(){let{props:t,context:a}=this,{options:l}=a,{seg:r}=t,c=l.eventTimeFormat||vw,u=bo(r,c,a,!0,t.defaultDisplayEventEnd);return O(ru,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:vx(t.seg,a),defaultGenerator:tO,timeText:u,isResizing:!1,isDateSelecting:!1}))}}function tO(s){return O(vt,null,O("div",{className:"fc-daygrid-event-dot",style:{borderColor:s.borderColor||s.backgroundColor}}),s.timeText&&O("div",{className:"fc-event-time"},s.timeText),O("div",{className:"fc-event-title"},s.event.title||O(vt,null,"")))}class sO extends ot{constructor(){super(...arguments),this.compileSegs=Me(nO)}render(){let{props:t}=this,{allSegs:a,invisibleSegs:l}=this.compileSegs(t.singlePlacements);return O(iw,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:a,hiddenSegs:l,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let r=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return O(vt,null,a.map(c=>{let u=c.eventRange.instance.instanceId;return O("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:r[u]?"hidden":""}},yw(c)?O(jw,Object.assign({seg:c,isDragging:!1,isSelected:u===t.eventSelection,defaultDisplayEventEnd:!1},Ea(c,t.todayRange))):O(bw,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===t.eventSelection,defaultDisplayEventEnd:!1},Ea(c,t.todayRange))))}))}})}}function nO(s){let t=[],a=[];for(let l of s)t.push(l.seg),l.isVisible||a.push(l.seg);return{allSegs:t,invisibleSegs:a}}const aO=Mt({week:"narrow"});class iO extends Bn{constructor(){super(...arguments),this.rootElRef=Ms(),this.state={dayNumberId:ci()},this.handleRootEl=t=>{sa(this.rootElRef,t),sa(this.props.elRef,t)}}render(){let{context:t,props:a,state:l,rootElRef:r}=this,{options:c,dateEnv:u}=t,{date:f,dateProfile:h}=a;const x=a.showDayNumber&&rO(f,h.currentRange,u);return O(Ax,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...a.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},a.extraDataAttrs),a.showDayNumber?{"aria-labelledby":l.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:lO,date:f,dateProfile:h,todayRange:a.todayRange,showDayNumber:a.showDayNumber,isMonthStart:x,extraRenderProps:a.extraRenderProps},(m,g)=>O("div",{ref:a.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:a.minHeight}},a.showWeekNumber&&O(aw,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:nr(t,f,"week"),date:f,defaultFormat:aO}),!g.isDisabled&&(a.showDayNumber||kx(c)||a.forceDayTop)?O("div",{className:"fc-daygrid-day-top"},O(m,{elTag:"a",elClasses:["fc-daygrid-day-number",x&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},nr(t,f)),{id:l.dayNumberId})})):a.showDayNumber?O("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},O("a",{className:"fc-daygrid-day-number"},"")):void 0,O("div",{className:"fc-daygrid-day-events",ref:a.fgContentElRef},a.fgContent,O("div",{className:"fc-daygrid-day-bottom",style:{marginTop:a.moreMarginTop}},O(sO,{allDayDate:f,singlePlacements:a.singlePlacements,moreCnt:a.moreCnt,alignmentElRef:r,alignGridTop:!a.showDayNumber,extraDateSpan:a.extraDateSpan,dateProfile:a.dateProfile,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,todayRange:a.todayRange}))),O("div",{className:"fc-daygrid-day-bg"},a.bgContent)))}}function lO(s){return s.dayNumberText||O(vt,null,"")}function rO(s,t,a){const{start:l,end:r}=t,c=hi(r,-1),u=a.getYear(l),f=a.getMonth(l),h=a.getYear(c),x=a.getMonth(c);return!(u===h&&f===x)&&(s.valueOf()===l.valueOf()||a.getDay(s)===1&&s.valueOf()<r.valueOf())}function Nw(s){return s.eventRange.instance.instanceId+":"+s.firstCol}function ww(s){return Nw(s)+":"+s.lastCol}function oO(s,t,a,l,r,c,u){let f=new uO(C=>{let k=s[C.index].eventRange.instance.instanceId+":"+C.span.start+":"+(C.span.end-1);return r[k]||1});f.allowReslicing=!0,f.strictOrder=l,t===!0||a===!0?(f.maxCoord=c,f.hiddenConsumes=!0):typeof t=="number"?f.maxStackCnt=t:typeof a=="number"&&(f.maxStackCnt=a,f.hiddenConsumes=!0);let h=[],x=[];for(let C=0;C<s.length;C+=1){let k=s[C],E=ww(k);r[E]!=null?h.push({index:C,span:{start:k.firstCol,end:k.lastCol+1}}):x.push(k)}let m=f.addSegs(h),g=f.toRects(),{singleColPlacements:y,multiColPlacements:N,leftoverMargins:j}=cO(g,s,u),S=[],b=[];for(let C of x){N[C.firstCol].push({seg:C,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=C.firstCol;k<=C.lastCol;k+=1)y[k].push({seg:Zl(C,k,k+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<u.length;C+=1)S.push(0);for(let C of m){let k=s[C.index],E=C.span;N[E.start].push({seg:Zl(k,E.start,E.end,u),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=E.start;M<E.end;M+=1)S[M]+=1,y[M].push({seg:Zl(k,M,M+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<u.length;C+=1)b.push(j[C]);return{singleColPlacements:y,multiColPlacements:N,moreCnts:S,moreMarginTops:b}}function cO(s,t,a){let l=dO(s,a.length),r=[],c=[],u=[];for(let f=0;f<a.length;f+=1){let h=l[f],x=[],m=0,g=0;for(let N of h){let j=t[N.index];x.push({seg:Zl(j,f,f+1,a),isVisible:!0,isAbsolute:!1,absoluteTop:N.levelCoord,marginTop:N.levelCoord-m}),m=N.levelCoord+N.thickness}let y=[];m=0,g=0;for(let N of h){let j=t[N.index],S=N.span.end-N.span.start>1,b=N.span.start===f;g+=N.levelCoord-m,m=N.levelCoord+N.thickness,S?(g+=N.thickness,b&&y.push({seg:Zl(j,N.span.start,N.span.end,a),isVisible:!0,isAbsolute:!0,absoluteTop:N.levelCoord,marginTop:0})):b&&(y.push({seg:Zl(j,N.span.start,N.span.end,a),isVisible:!0,isAbsolute:!1,absoluteTop:N.levelCoord,marginTop:g}),g=0)}r.push(x),c.push(y),u.push(g)}return{singleColPlacements:r,multiColPlacements:c,leftoverMargins:u}}function dO(s,t){let a=[];for(let l=0;l<t;l+=1)a.push([]);for(let l of s)for(let r=l.span.start;r<l.span.end;r+=1)a[r].push(l);return a}function Zl(s,t,a,l){if(s.firstCol===t&&s.lastCol===a-1)return s;let r=s.eventRange,c=r.range,u=fi(c,{start:l[t].date,end:is(l[a-1].date,1)});return Object.assign(Object.assign({},s),{firstCol:t,lastCol:a-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:u},isStart:s.isStart&&u.start.valueOf()===c.start.valueOf(),isEnd:s.isEnd&&u.end.valueOf()===c.end.valueOf()})}class uO extends FN{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const a=super.addSegs(t),{entriesByLevel:l}=this,r=c=>!this.forceHidden[Qi(c)];for(let c=0;c<l.length;c+=1)l[c]=l[c].filter(r);return a}handleInvalidInsertion(t,a,l){const{entriesByLevel:r,forceHidden:c}=this,{touchingEntry:u,touchingLevel:f,touchingLateral:h}=t;if(this.hiddenConsumes&&u){const x=Qi(u);if(!c[x])if(this.allowReslicing){const m=Object.assign(Object.assign({},u),{span:wx(u.span,a.span)}),g=Qi(m);c[g]=!0,r[f][h]=m,l.push(m),this.splitEntry(u,a,l)}else c[x]=!0,l.push(u)}super.handleInvalidInsertion(t,a,l)}}class Sw extends Bn{constructor(){super(...arguments),this.cellElRefs=new Sa,this.frameElRefs=new Sa,this.fgElRefs=new Sa,this.segHarnessRefs=new Sa,this.rootElRef=Ms(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:a,context:l}=this,{options:r}=l,c=t.cells.length,u=od(t.businessHourSegs,c),f=od(t.bgEventSegs,c),h=od(this.getHighlightSegs(),c),x=od(this.getMirrorSegs(),c),{singleColPlacements:m,multiColPlacements:g,moreCnts:y,moreMarginTops:N}=oO(gx(t.fgEventSegs,r.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,r.eventOrderStrict,a.segHeights,a.maxContentHeight,t.cells),j=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return O("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((S,b)=>{let C=this.renderFgSegs(b,t.forPrint?m[b]:g[b],t.todayRange,j),k=this.renderFgSegs(b,mO(x[b],g),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return O(iO,{key:S.key,elRef:this.cellElRefs.createRef(S.key),innerElRef:this.frameElRefs.createRef(S.key),dateProfile:t.dateProfile,date:S.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&b===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:S.extraRenderProps,extraDataAttrs:S.extraDataAttrs,extraClassNames:S.extraClassNames,extraDateSpan:S.extraDateSpan,moreCnt:y[b],moreMarginTop:N[b],singlePlacements:m[b],fgContentElRef:this.fgElRefs.createRef(S.key),fgContent:O(vt,null,O(vt,null,C),O(vt,null,k)),bgContent:O(vt,null,this.renderFillSegs(h[b],"highlight"),this.renderFillSegs(u[b],"non-business"),this.renderFillSegs(f[b],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,a){let l=this.props;this.updateSizing(!Pn(t,l))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,a,l,r,c,u,f){let{context:h}=this,{eventSelection:x}=this.props,{framePositions:m}=this.state,g=this.props.cells.length===1,y=c||u||f,N=[];if(m)for(let j of a){let{seg:S}=j,{instanceId:b}=S.eventRange.instance,C=j.isVisible&&!r[b],k=j.isAbsolute,E="",M="";k&&(h.isRtl?(M=0,E=m.lefts[S.lastCol]-m.lefts[S.firstCol]):(E=0,M=m.rights[S.firstCol]-m.rights[S.lastCol])),N.push(O("div",{className:"fc-daygrid-event-harness"+(k?" fc-daygrid-event-harness-abs":""),key:Nw(S),ref:y?null:this.segHarnessRefs.createRef(ww(S)),style:{visibility:C?"":"hidden",marginTop:k?"":j.marginTop,top:k?j.absoluteTop:"",left:E,right:M}},yw(S)?O(jw,Object.assign({seg:S,isDragging:c,isSelected:b===x,defaultDisplayEventEnd:g},Ea(S,l))):O(bw,Object.assign({seg:S,isDragging:c,isResizing:u,isDateSelecting:f,isSelected:b===x,defaultDisplayEventEnd:g},Ea(S,l)))))}return N}renderFillSegs(t,a){let{isRtl:l}=this.context,{todayRange:r}=this.props,{framePositions:c}=this.state,u=[];if(c)for(let f of t){let h=l?{right:0,left:c.lefts[f.lastCol]-c.lefts[f.firstCol]}:{left:0,right:c.rights[f.firstCol]-c.rights[f.lastCol]};u.push(O("div",{key:LN(f.eventRange),className:"fc-daygrid-bg-harness",style:h},a==="bg-event"?O(sw,Object.assign({seg:f},Ea(f,r))):nw(a)))}return O(vt,{},...u)}updateSizing(t){let{props:a,state:l,frameElRefs:r}=this;if(!a.forPrint&&a.clientWidth!==null){if(t){let h=a.cells.map(x=>r.currentMap[x.key]);if(h.length){let x=this.rootElRef.current,m=new ar(x,h,!0,!1);(!l.framePositions||!l.framePositions.similarTo(m))&&this.setState({framePositions:new ar(x,h,!0,!1)})}}const c=this.state.segHeights,u=this.querySegHeights(),f=a.dayMaxEvents===!0||a.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},c),u),maxContentHeight:f?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,a={};for(let l in t){let r=Math.round(t[l].getBoundingClientRect().height);a[l]=Math.max(a[l]||0,r)}return a}computeMaxContentHeight(){let t=this.props.cells[0].key,a=this.cellElRefs.currentMap[t],l=this.fgElRefs.currentMap[t];return a.getBoundingClientRect().bottom-l.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(a=>t[a.key])}}Sw.addStateEquality({segHeights:Pn});function mO(s,t){if(!s.length)return[];let a=hO(t);return s.map(l=>({seg:l,isVisible:!0,isAbsolute:!0,absoluteTop:a[l.eventRange.instance.instanceId],marginTop:0}))}function hO(s){let t={};for(let a of s)for(let l of a)t[l.seg.eventRange.instance.instanceId]=l.absoluteTop;return t}class fO extends Bn{constructor(){super(...arguments),this.splitBusinessHourSegs=Me(vd),this.splitBgEventSegs=Me(xO),this.splitFgEventSegs=Me(vd),this.splitDateSelectionSegs=Me(vd),this.splitEventDrag=Me(ub),this.splitEventResize=Me(ub),this.rowRefs=new Sa}render(){let{props:t,context:a}=this,l=t.cells.length,r=this.splitBusinessHourSegs(t.businessHourSegs,l),c=this.splitBgEventSegs(t.bgEventSegs,l),u=this.splitFgEventSegs(t.fgEventSegs,l),f=this.splitDateSelectionSegs(t.dateSelectionSegs,l),h=this.splitEventDrag(t.eventDrag,l),x=this.splitEventResize(t.eventResize,l),m=l>=7&&t.clientWidth?t.clientWidth/a.options.aspectRatio/6:null;return O(al,{unit:"day"},(g,y)=>O(vt,null,t.cells.map((N,j)=>O(Sw,{ref:this.rowRefs.createRef(j),key:N.length?N[0].date.toISOString():j,showDayNumbers:l>1,showWeekNumbers:t.showWeekNumbers,todayRange:y,dateProfile:t.dateProfile,cells:N,renderIntro:t.renderRowIntro,businessHourSegs:r[j],eventSelection:t.eventSelection,bgEventSegs:c[j],fgEventSegs:u[j],dateSelectionSegs:f[j],eventDrag:h[j],eventResize:x[j],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:m,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],a=t?t.closest(".fc-daygrid-body"):null;a&&(this.rootEl=a,this.context.registerInteractiveComponent(this,{el:a,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new ar(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new ar(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,a){let{colPositions:l,rowPositions:r}=this,c=l.leftToIndex(t),u=r.topToIndex(a);if(u!=null&&c!=null){let f=this.props.cells[u][c];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(u,c),allDay:!0},f.extraDateSpan),dayEl:this.getCellEl(u,c),rect:{left:l.lefts[c],right:l.rights[c],top:r.tops[u],bottom:r.bottoms[u]},layer:0}}return null}getCellEl(t,a){return this.rowRefs.currentMap[t].getCellEls()[a]}getCellRange(t,a){let l=this.props.cells[t][a].date,r=is(l,1);return{start:l,end:r}}}function xO(s,t){return vd(s.filter(pO),t)}function pO(s){return s.eventRange.def.allDay}class gO extends Bn{constructor(){super(...arguments),this.elRef=Ms(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:a,dayMaxEvents:l,expandRows:r}=t,c=l===!0||a===!0;c&&!r&&(c=!1,a=null,l=null);let u=["fc-daygrid-body",c?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return O("div",{ref:this.elRef,className:u.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},O("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:r?t.clientHeight:""}},t.colGroupNode,O("tbody",{role:"presentation"},O(fO,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:l,dayMaxEventRows:a,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=vO(this.elRef.current,this.props.dateProfile);if(t){const a=t.closest(".fc-daygrid-body"),l=a.closest(".fc-scroller"),r=t.getBoundingClientRect().top-a.getBoundingClientRect().top;l.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function vO(s,t){let a;return t.currentRangeUnit.match(/year|month/)&&(a=s.querySelector(`[data-date="${tR(t.currentDate)}-01"]`)),a||(a=s.querySelector(`[data-date="${Uo(t.currentDate)}"]`)),a}class yO extends WN{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,a){return a.sliceRange(t)}}class _w extends Bn{constructor(){super(...arguments),this.slicer=new yO,this.tableRef=Ms()}render(){let{props:t,context:a}=this;return O(gO,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,a,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class bO extends eO{constructor(){super(...arguments),this.buildDayTableModel=Me(jO),this.headerRef=Ms(),this.tableRef=Ms()}render(){let{options:t,dateProfileGenerator:a}=this.context,{props:l}=this,r=this.buildDayTableModel(l.dateProfile,a),c=t.dayHeaders&&O(QN,{ref:this.headerRef,dateProfile:l.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),u=f=>O(_w,{ref:this.tableRef,dateProfile:l.dateProfile,dayTableModel:r,businessHours:l.businessHours,dateSelection:l.dateSelection,eventStore:l.eventStore,eventUiBases:l.eventUiBases,eventSelection:l.eventSelection,eventDrag:l.eventDrag,eventResize:l.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:f.tableColGroupNode,tableMinWidth:f.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!l.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:f.clientWidth,clientHeight:f.clientHeight,forPrint:l.forPrint});return t.dayMinWidth?this.renderHScrollLayout(c,u,r.colCnt,t.dayMinWidth):this.renderSimpleLayout(c,u)}}function jO(s,t){let a=new GN(s.renderRange,t);return new YN(a,/year|month|week/.test(s.currentRangeUnit))}class NO extends SN{buildRenderRange(t,a,l){let r=super.buildRenderRange(t,a,l),{props:c}=this;return wO({currentRange:r,snapToWeek:/^(year|month)$/.test(a),fixedWeekCount:c.fixedWeekCount,dateEnv:c.dateEnv})}}function wO(s){let{dateEnv:t,currentRange:a}=s,{start:l,end:r}=a,c;if(s.snapToWeek&&(l=t.startOfWeek(l),c=t.startOfWeek(r),c.valueOf()!==r.valueOf()&&(r=By(c,1))),s.fixedWeekCount){let u=t.startOfWeek(t.startOfMonth(is(a.end,-1))),f=Math.ceil($D(u,r));r=By(r,6-f)}return{start:l,end:r}}var SO=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';tu(SO);var _O=aa({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:bO,dateProfileGeneratorClass:NO},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class CO extends PT{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?xT(t)?["timed","allDay"]:["allDay"]:["timed"]}}const EO=Mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Cw(s){let t=["fc-timegrid-slot","fc-timegrid-slot-label",s.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return O(Ra.Consumer,null,a=>{if(!s.isLabeled)return O("td",{className:t.join(" "),"data-time":s.isoTimeStr});let{dateEnv:l,options:r,viewApi:c}=a,u=r.slotLabelFormat==null?EO:Array.isArray(r.slotLabelFormat)?Mt(r.slotLabelFormat[0]):Mt(r.slotLabelFormat),f={level:0,time:s.time,date:l.toDate(s.date),view:c,text:l.format(s.date,u)};return O(ks,{elTag:"td",elClasses:t,elAttrs:{"data-time":s.isoTimeStr},renderProps:f,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:AO,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},h=>O("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},O(h,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function AO(s){return s.text}class kO extends ot{render(){return this.props.slatMetas.map(t=>O("tr",{key:t.key},O(Cw,Object.assign({},t))))}}const DO=Mt({week:"short"}),RO=5;class TO extends Bn{constructor(){super(...arguments),this.allDaySplitter=new CO,this.headerElRef=Ms(),this.rootElRef=Ms(),this.scrollerElRef=Ms(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let a=this.scrollerElRef.current;a&&(a.scrollTop=t)},this.renderHeadAxis=(t,a="")=>{let{options:l}=this.context,{dateProfile:r}=this.props,c=r.renderRange,f=vi(c.start,c.end)===1?nr(this.context,c.start,"week"):{};return l.weekNumbers&&t==="day"?O(aw,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:c.start,defaultFormat:DO},h=>O("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:a}},O(h,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:f}))):O("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},O("div",{className:"fc-timegrid-axis-frame",style:{height:a}}))},this.renderTableRowAxis=t=>{let{options:a,viewApi:l}=this.context,r={text:a.allDayText,view:l};return O(ks,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:a.allDayContent,defaultGenerator:MO,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},c=>O("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},O(c,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,a,l){let{context:r,props:c}=this,u=[],f=Id(r.options);return t&&u.push({type:"header",key:"header",isSticky:f,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),a&&(u.push({type:"body",key:"all-day",chunk:{content:a}}),u.push({type:"body",key:"all-day-divider",outerContent:O("tr",{role:"presentation",className:"fc-scrollgrid-section"},O("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),u.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:l}}),O(Ao,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},O(_x,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:c.forPrint,cols:[{width:"shrink"}],sections:u}))}renderHScrollLayout(t,a,l,r,c,u,f){let h=this.context.pluginHooks.scrollGridImpl;if(!h)throw new Error("No ScrollGrid implementation");let{context:x,props:m}=this,g=!m.forPrint&&Id(x.options),y=!m.forPrint&&tw(x.options),N=[];t&&N.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:S=>O("tr",{role:"presentation"},this.renderHeadAxis("day",S.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),a&&(N.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:S=>O("tr",{role:"presentation"},this.renderTableRowAxis(S.rowSyncHeights[0]))},{key:"cols",content:a}]}),N.push({key:"all-day-divider",type:"body",outerContent:O("tr",{role:"presentation",className:"fc-scrollgrid-section"},O("td",{colSpan:2,className:"fc-timegrid-divider "+x.theme.getClass("tableCellShaded")}))}));let j=x.options.nowIndicator;return N.push({type:"body",key:"body",liquid:!0,expandRows:!!x.options.expandRows,chunks:[{key:"axis",content:S=>O("div",{className:"fc-timegrid-axis-chunk"},O("table",{"aria-hidden":!0,style:{height:S.expandRows?S.clientHeight:""}},S.tableColGroupNode,O("tbody",null,O(kO,{slatMetas:u}))),O("div",{className:"fc-timegrid-now-indicator-container"},O(al,{unit:j?"minute":"day"},b=>{let C=j&&f&&f.safeComputeTop(b);return typeof C=="number"?O(Ex,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:C},isAxis:!0,date:b}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:l}]}),y&&N.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Nf},{key:"cols",content:Nf}]}),O(Ao,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:x.viewSpec},O(h,{liquid:!m.isHeightAuto&&!m.forPrint,forPrint:m.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:c}]}],sections:N}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:a}=this.context.options;return(t===!0||a===!0)&&(t=void 0,a=RO),{dayMaxEvents:t,dayMaxEventRows:a}}}function MO(s){return s.text}class OO{constructor(t,a,l){this.positions=t,this.dateProfile=a,this.slotDuration=l}safeComputeTop(t){let{dateProfile:a}=this;if(Ca(a.currentRange,t)){let l=_t(t),r=t.valueOf()-l.valueOf();if(r>=On(a.slotMinTime)&&r<On(a.slotMaxTime))return this.computeTimeTop(nt(r))}return null}computeDateTop(t,a){return a||(a=_t(t)),this.computeTimeTop(nt(t.valueOf()-a.valueOf()))}computeTimeTop(t){let{positions:a,dateProfile:l}=this,r=a.els.length,c=(t.milliseconds-On(l.slotMinTime))/On(this.slotDuration),u,f;return c=Math.max(0,c),c=Math.min(r,c),u=Math.floor(c),u=Math.min(u,r-1),f=c-u,a.tops[u]+a.getHeight(u)*f}}class zO extends ot{render(){let{props:t,context:a}=this,{options:l}=a,{slatElRefs:r}=t;return O("tbody",null,t.slatMetas.map((c,u)=>{let f={time:c.time,date:a.dateEnv.toDate(c.date),view:a.viewApi};return O("tr",{key:c.key,ref:r.createRef(c.key)},t.axis&&O(Cw,Object.assign({},c)),O(ks,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!c.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":c.isoTimeStr},renderProps:f,generatorName:"slotLaneContent",customGenerator:l.slotLaneContent,classNameGenerator:l.slotLaneClassNames,didMount:l.slotLaneDidMount,willUnmount:l.slotLaneWillUnmount}))}))}}class LO extends ot{constructor(){super(...arguments),this.rootElRef=Ms(),this.slatElRefs=new Sa}render(){let{props:t,context:a}=this;return O("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},O("table",{"aria-hidden":!0,className:a.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,O(zO,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:a}=this;a.onCoords&&a.clientWidth!==null&&this.rootElRef.current.offsetHeight&&a.onCoords(new OO(new ar(this.rootElRef.current,UO(this.slatElRefs.currentMap,a.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function UO(s,t){return t.map(a=>s[a.key])}function fo(s,t){let a=[],l;for(l=0;l<t;l+=1)a.push([]);if(s)for(l=0;l<s.length;l+=1)a[s[l].col].push(s[l]);return a}function mb(s,t){let a=[];if(s){for(let l=0;l<t;l+=1)a[l]={affectedInstances:s.affectedInstances,isEvent:s.isEvent,segs:[]};for(let l of s.segs)a[l.col].segs.push(l)}else for(let l=0;l<t;l+=1)a[l]=null;return a}class HO extends ot{render(){let{props:t}=this;return O(iw,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>Aw(t.hiddenSegs,t),defaultGenerator:PO,forceTimed:!0},a=>O(a,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function PO(s){return s.shortText}function qO(s,t,a){let l=new FN;t!=null&&(l.strictOrder=t),a!=null&&(l.maxStackCnt=a);let r=l.addSegs(s),c=XT(r),u=BO(l);return u=VO(u,1),{segRects:QO(u),hiddenGroups:c}}function BO(s){const{entriesByLevel:t}=s,a=Rx((l,r)=>l+":"+r,(l,r)=>{let c=$O(s,l,r),u=hb(c,a),f=t[l][r];return[Object.assign(Object.assign({},f),{nextLevelNodes:u[0]}),f.thickness+u[1]]});return hb(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,a)[0]}function hb(s,t){if(!s)return[[],0];let{level:a,lateralStart:l,lateralEnd:r}=s,c=l,u=[];for(;c<r;)u.push(t(a,c)),c+=1;return u.sort(IO),[u.map(FO),u[0][1]]}function IO(s,t){return t[1]-s[1]}function FO(s){return s[0]}function $O(s,t,a){let{levelCoords:l,entriesByLevel:r}=s,c=r[t][a],u=l[t]+c.thickness,f=l.length,h=t;for(;h<f&&l[h]<u;h+=1);for(;h<f;h+=1){let x=r[h],m,g=jf(x,c.span.start,bf),y=g[0]+g[1],N=y;for(;(m=x[N])&&m.span.start<c.span.end;)N+=1;if(y<N)return{level:h,lateralStart:y,lateralEnd:N}}return null}function VO(s,t){const a=Rx((l,r,c)=>Qi(l),(l,r,c)=>{let{nextLevelNodes:u,thickness:f}=l,h=f+c,x=f/h,m,g=[];if(!u.length)m=t;else for(let N of u)if(m===void 0){let j=a(N,r,h);m=j[0],g.push(j[1])}else{let j=a(N,m,0);g.push(j[1])}let y=(m-r)*x;return[m-y,Object.assign(Object.assign({},l),{thickness:y,nextLevelNodes:g})]});return s.map(l=>a(l,0,0)[1])}function QO(s){let t=[];const a=Rx((r,c,u)=>Qi(r),(r,c,u)=>{let f=Object.assign(Object.assign({},r),{levelCoord:c,stackDepth:u,stackForward:0});return t.push(f),f.stackForward=l(r.nextLevelNodes,c+r.thickness,u+1)+1});function l(r,c,u){let f=0;for(let h of r)f=Math.max(a(h,c,u),f);return f}return l(s,0,0),t}function Rx(s,t){const a={};return(...l)=>{let r=s(...l);return r in a?a[r]:a[r]=t(...l)}}function fb(s,t,a=null,l=0){let r=[];if(a)for(let c=0;c<s.length;c+=1){let u=s[c],f=a.computeDateTop(u.start,t),h=Math.max(f+(l||0),a.computeDateTop(u.end,t));r.push({start:Math.round(f),end:Math.round(h)})}return r}function GO(s,t,a,l){let r=[],c=[];for(let x=0;x<s.length;x+=1){let m=t[x];m?r.push({index:x,thickness:1,span:m}):c.push(s[x])}let{segRects:u,hiddenGroups:f}=qO(r,a,l),h=[];for(let x of u)h.push({seg:s[x.index],rect:x});for(let x of c)h.push({seg:x,rect:null});return{segPlacements:h,hiddenGroups:f}}const YO=Mt({hour:"numeric",minute:"2-digit",meridiem:!1});class Ew extends ot{render(){return O(Cx,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:YO}))}}class WO extends ot{constructor(){super(...arguments),this.sortEventSegs=Me(gx)}render(){let{props:t,context:a}=this,{options:l}=a,r=l.selectMirror,c=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||r&&t.dateSelectionSegs||[],u=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},f=this.sortEventSegs(t.fgEventSegs,l.eventOrder);return O(Ax,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},h=>O("div",{className:"fc-timegrid-col-frame"},O("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),O("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(f,u,!1,!1,!1)),O("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,{},!!t.eventDrag,!!t.eventResize,!!r,"mirror")),O("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),kx(l)&&O(h,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,a,l,r,c,u){let{props:f}=this;return f.forPrint?Aw(t,f):this.renderPositionedFgSegs(t,a,l,r,c,u)}renderPositionedFgSegs(t,a,l,r,c,u){let{eventMaxStack:f,eventShortHeight:h,eventOrderStrict:x,eventMinHeight:m}=this.context.options,{date:g,slatCoords:y,eventSelection:N,todayRange:j,nowDate:S}=this.props,b=l||r||c,C=fb(t,g,y,m),{segPlacements:k,hiddenGroups:E}=GO(t,C,x,f);return O(vt,null,this.renderHiddenGroups(E,t),k.map(M=>{let{seg:z,rect:Q}=M,R=z.eventRange.instance.instanceId,q=b||!!(!a[R]&&Q),ve=Wh(Q&&Q.span),ye=!b&&Q?this.computeSegHStyle(Q):{left:0,right:0},oe=!!Q&&Q.stackForward>0,F=!!Q&&Q.span.end-Q.span.start<h;return O("div",{className:"fc-timegrid-event-harness"+(oe?" fc-timegrid-event-harness-inset":""),key:u||R,style:Object.assign(Object.assign({visibility:q?"":"hidden"},ve),ye)},O(Ew,Object.assign({seg:z,isDragging:l,isResizing:r,isDateSelecting:c,isSelected:R===N,isShort:F},Ea(z,j,S))))}))}renderHiddenGroups(t,a){let{extraDateSpan:l,dateProfile:r,todayRange:c,nowDate:u,eventSelection:f,eventDrag:h,eventResize:x}=this.props;return O(vt,null,t.map(m=>{let g=Wh(m.span),y=KO(m.entries,a);return O(HO,{key:pN(lw(y)),hiddenSegs:y,top:g.top,bottom:g.bottom,extraDateSpan:l,dateProfile:r,todayRange:c,nowDate:u,eventSelection:f,eventDrag:h,eventResize:x})}))}renderFillSegs(t,a){let{props:l,context:r}=this,u=fb(t,l.date,l.slatCoords,r.options.eventMinHeight).map((f,h)=>{let x=t[h];return O("div",{key:LN(x.eventRange),className:"fc-timegrid-bg-harness",style:Wh(f)},a==="bg-event"?O(sw,Object.assign({seg:x},Ea(x,l.todayRange,l.nowDate))):nw(a))});return O(vt,null,u)}renderNowIndicator(t){let{slatCoords:a,date:l}=this.props;return a?t.map((r,c)=>O(Ex,{key:c,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:a.computeDateTop(r.start,l)},isAxis:!1,date:l})):null}computeSegHStyle(t){let{isRtl:a,options:l}=this.context,r=l.slotEventOverlap,c=t.levelCoord,u=t.levelCoord+t.thickness,f,h;r&&(u=Math.min(1,c+(u-c)*2)),a?(f=1-u,h=c):(f=c,h=1-u);let x={zIndex:t.stackDepth+1,left:f*100+"%",right:h*100+"%"};return r&&!t.stackForward&&(x[a?"marginLeft":"marginRight"]=20),x}}function Aw(s,{todayRange:t,nowDate:a,eventSelection:l,eventDrag:r,eventResize:c}){let u=(r?r.affectedInstances:null)||(c?c.affectedInstances:null)||{};return O(vt,null,s.map(f=>{let h=f.eventRange.instance.instanceId;return O("div",{key:h,style:{visibility:u[h]?"hidden":""}},O(Ew,Object.assign({seg:f,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:h===l,isShort:!1},Ea(f,t,a))))}))}function Wh(s){return s?{top:s.start,bottom:-s.end}:{top:"",bottom:""}}function KO(s,t){return s.map(a=>t[a.index])}class ZO extends ot{constructor(){super(...arguments),this.splitFgEventSegs=Me(fo),this.splitBgEventSegs=Me(fo),this.splitBusinessHourSegs=Me(fo),this.splitNowIndicatorSegs=Me(fo),this.splitDateSelectionSegs=Me(fo),this.splitEventDrag=Me(mb),this.splitEventResize=Me(mb),this.rootElRef=Ms(),this.cellElRefs=new Sa}render(){let{props:t,context:a}=this,l=a.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),r=t.cells.length,c=this.splitFgEventSegs(t.fgEventSegs,r),u=this.splitBgEventSegs(t.bgEventSegs,r),f=this.splitBusinessHourSegs(t.businessHourSegs,r),h=this.splitNowIndicatorSegs(t.nowIndicatorSegs,r),x=this.splitDateSelectionSegs(t.dateSelectionSegs,r),m=this.splitEventDrag(t.eventDrag,r),g=this.splitEventResize(t.eventResize,r);return O("div",{className:"fc-timegrid-cols",ref:this.rootElRef},O("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,O("tbody",{role:"presentation"},O("tr",{role:"row"},t.axis&&O("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},O("div",{className:"fc-timegrid-col-frame"},O("div",{className:"fc-timegrid-now-indicator-container"},typeof l=="number"&&O(Ex,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:l},isAxis:!0,date:t.nowDate})))),t.cells.map((y,N)=>O(WO,{key:y.key,elRef:this.cellElRefs.createRef(y.key),dateProfile:t.dateProfile,date:y.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,fgEventSegs:c[N],bgEventSegs:u[N],businessHourSegs:f[N],nowIndicatorSegs:h[N],dateSelectionSegs:x[N],eventDrag:m[N],eventResize:g[N],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new ar(this.rootElRef.current,XO(this.cellElRefs.currentMap,t.cells),!0,!1))}}function XO(s,t){return t.map(a=>s[a.key])}class JO extends Bn{constructor(){super(...arguments),this.processSlotOptions=Me(ez),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:a}=this.props,{slatCoords:l}=this.state;if(a&&l){if(t.time){let r=l.computeTimeTop(t.time);r=Math.ceil(r),r&&(r+=1),a(r)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:a}=this;return O("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},O(LO,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),O(ZO,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:a.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,a){let{dateEnv:l,options:r}=this.context,{colCoords:c}=this,{dateProfile:u}=this.props,{slatCoords:f}=this.state,{snapDuration:h,snapsPerSlot:x}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),m=c.leftToIndex(t),g=f.positions.topToIndex(a);if(m!=null&&g!=null){let y=this.props.cells[m],N=f.positions.tops[g],j=f.positions.getHeight(g),S=(a-N)/j,b=Math.floor(S*x),C=g*x+b,k=this.props.cells[m].date,E=hf(u.slotMinTime,qD(h,C)),M=l.add(k,E),z=l.add(M,h);return{dateProfile:u,dateSpan:Object.assign({range:{start:M,end:z},allDay:!1},y.extraDateSpan),dayEl:c.els[m],rect:{left:c.lefts[m],right:c.rights[m],top:N,bottom:N+j},layer:0}}return null}}function ez(s,t){let a=t||s,l=nx(s,a);return l===null&&(a=s,l=1),{snapDuration:a,snapsPerSlot:l}}class tz extends WN{sliceRange(t,a){let l=[];for(let r=0;r<a.length;r+=1){let c=fi(t,a[r]);c&&l.push({start:c.start,end:c.end,isStart:c.start.valueOf()===t.start.valueOf(),isEnd:c.end.valueOf()===t.end.valueOf(),col:r})}return l}}class sz extends Bn{constructor(){super(...arguments),this.buildDayRanges=Me(nz),this.slicer=new tz,this.timeColsRef=Ms()}render(){let{props:t,context:a}=this,{dateProfile:l,dayTableModel:r}=t,{nowIndicator:c,nextDayThreshold:u}=a.options,f=this.buildDayRanges(r,l,a.dateEnv);return O(al,{unit:c?"minute":"day"},(h,x)=>O(JO,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,l,null,a,f),{forPrint:t.forPrint,axis:t.axis,dateProfile:l,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:r.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:h,nowIndicatorSegs:c&&this.slicer.sliceNowDate(h,l,u,a,f),todayRange:x,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function nz(s,t,a){let l=[];for(let r of s.headerDates)l.push({start:a.add(r,t.slotMinTime),end:a.add(r,t.slotMaxTime)});return l}const xb=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function az(s,t,a,l,r){let c=new Date(0),u=s,f=nt(0),h=a||iz(l),x=[];for(;On(u)<On(t);){let m=r.add(c,u),g=nx(f,h)!==null;x.push({date:m,time:u,key:m.toISOString(),isoTimeStr:sR(m),isLabeled:g}),u=hf(u,l),f=hf(f,l)}return x}function iz(s){let t,a,l;for(t=xb.length-1;t>=0;t-=1)if(a=nt(xb[t]),l=nx(a,s),l!==null&&l>1)return a;return s}class lz extends TO{constructor(){super(...arguments),this.buildTimeColsModel=Me(rz),this.buildSlatMetas=Me(az)}render(){let{options:t,dateEnv:a,dateProfileGenerator:l}=this.context,{props:r}=this,{dateProfile:c}=r,u=this.buildTimeColsModel(c,l),f=this.allDaySplitter.splitProps(r),h=this.buildSlatMetas(c.slotMinTime,c.slotMaxTime,t.slotLabelInterval,t.slotDuration,a),{dayMinWidth:x}=t,m=!x,g=x,y=t.dayHeaders&&O(QN,{dates:u.headerDates,dateProfile:c,datesRepDistinctDays:!0,renderIntro:m?this.renderHeadAxis:null}),N=t.allDaySlot!==!1&&(S=>O(_w,Object.assign({},f.allDay,{dateProfile:c,dayTableModel:u,nextDayThreshold:t.nextDayThreshold,tableMinWidth:S.tableMinWidth,colGroupNode:S.tableColGroupNode,renderRowIntro:m?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:S.clientWidth,clientHeight:S.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),j=S=>O(sz,Object.assign({},f.timed,{dayTableModel:u,dateProfile:c,axis:m,slotDuration:t.slotDuration,slatMetas:h,forPrint:r.forPrint,tableColGroupNode:S.tableColGroupNode,tableMinWidth:S.tableMinWidth,clientWidth:S.clientWidth,clientHeight:S.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:S.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(y,N,j,u.colCnt,x,h,this.state.slatCoords):this.renderSimpleLayout(y,N,j)}}function rz(s,t){let a=new GN(s.renderRange,t);return new YN(a,!1)}var oz='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';tu(oz);const cz={allDaySlot:Boolean};var dz=aa({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:cz,views:{timeGrid:{component:lz,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class uz extends ot{constructor(){super(...arguments),this.state={textId:ci()}}render(){let{theme:t,dateEnv:a,options:l,viewApi:r}=this.context,{cellId:c,dayDate:u,todayRange:f}=this.props,{textId:h}=this.state,x=bx(u,f),m=l.listDayFormat?a.format(u,l.listDayFormat):"",g=l.listDaySideFormat?a.format(u,l.listDaySideFormat):"",y=Object.assign({date:a.toDate(u),view:r,textId:h,text:m,sideText:g,navLinkAttrs:nr(this.context,u),sideNavLinkAttrs:nr(this.context,u,"day",!1)},x);return O(ks,{elTag:"tr",elClasses:["fc-list-day",...lu(x,t)],elAttrs:{"data-date":Uo(u)},renderProps:y,generatorName:"dayHeaderContent",customGenerator:l.dayHeaderContent,defaultGenerator:mz,classNameGenerator:l.dayHeaderClassNames,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},N=>O("th",{scope:"colgroup",colSpan:3,id:c,"aria-labelledby":h},O(N,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function mz(s){return O(vt,null,s.text&&O("a",Object.assign({id:s.textId,className:"fc-list-day-text"},s.navLinkAttrs),s.text),s.sideText&&O("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},s.sideNavLinkAttrs),s.sideText))}const hz=Mt({hour:"numeric",minute:"2-digit",meridiem:"short"});class fz extends ot{render(){let{props:t,context:a}=this,{options:l}=a,{seg:r,timeHeaderId:c,eventHeaderId:u,dateHeaderId:f}=t,h=l.eventTimeFormat||hz;return O(ru,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>xz(r,a),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(x,m)=>O(vt,null,pz(r,h,a,c,f),O("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},O("span",{className:"fc-list-event-dot",style:{borderColor:m.borderColor||m.backgroundColor}})),O(x,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${u} ${f}`}})))}}function xz(s,t){let a=vx(s,t);return O("a",Object.assign({},a),s.eventRange.def.title)}function pz(s,t,a,l,r){let{options:c}=a;if(c.displayEventTime!==!1){let u=s.eventRange.def,f=s.eventRange.instance,h=!1,x;if(u.allDay?h=!0:IR(s.eventRange.range)?s.isStart?x=bo(s,t,a,null,null,f.range.start,s.end):s.isEnd?x=bo(s,t,a,null,null,s.start,f.range.end):h=!0:x=bo(s,t,a),h){let m={text:a.options.allDayText,view:a.viewApi};return O(ks,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${l} ${r}`},renderProps:m,generatorName:"allDayContent",customGenerator:c.allDayContent,defaultGenerator:gz,classNameGenerator:c.allDayClassNames,didMount:c.allDayDidMount,willUnmount:c.allDayWillUnmount})}return O("td",{className:"fc-list-event-time"},x)}return null}function gz(s){return s.text}class vz extends Bn{constructor(){super(...arguments),this.computeDateVars=Me(bz),this.eventStoreToSegs=Me(this._eventStoreToSegs),this.state={timeHeaderId:ci(),eventHeaderId:ci(),dateHeaderIdRoot:ci()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:a}=this,{dayDates:l,dayRanges:r}=this.computeDateVars(t.dateProfile),c=this.eventStoreToSegs(t.eventStore,t.eventUiBases,r);return O(Ao,{elRef:this.setRootEl,elClasses:["fc-list",a.theme.getClass("table"),a.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:a.viewSpec},O(JN,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},c.length>0?this.renderSegList(c,l):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:a}=this.context,l={text:t.noEventsText,view:a};return O(ks,{elTag:"div",elClasses:["fc-list-empty"],renderProps:l,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:yz,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},r=>O(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,a){let{theme:l,options:r}=this.context,{timeHeaderId:c,eventHeaderId:u,dateHeaderIdRoot:f}=this.state,h=jz(t);return O(al,{unit:"day"},(x,m)=>{let g=[];for(let y=0;y<h.length;y+=1){let N=h[y];if(N){let j=Uo(a[y]),S=f+"-"+j;g.push(O(uz,{key:j,cellId:S,dayDate:a[y],todayRange:m})),N=gx(N,r.eventOrder);for(let b of N)g.push(O(fz,Object.assign({key:j+":"+b.eventRange.instance.instanceId,seg:b,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:c,eventHeaderId:u,dateHeaderId:S},Ea(b,m,x))))}}return O("table",{className:"fc-list-table "+l.getClass("table")},O("thead",null,O("tr",null,O("th",{scope:"col",id:c},r.timeHint),O("th",{scope:"col","aria-hidden":!0}),O("th",{scope:"col",id:u},r.eventHint))),O("tbody",null,g))})}_eventStoreToSegs(t,a,l){return this.eventRangesToSegs(vf(t,a,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,l)}eventRangesToSegs(t,a){let l=[];for(let r of t)l.push(...this.eventRangeToSegs(r,a));return l}eventRangeToSegs(t,a){let{dateEnv:l}=this.context,{nextDayThreshold:r}=this.context.options,c=t.range,u=t.def.allDay,f,h,x,m=[];for(f=0;f<a.length;f+=1)if(h=fi(c,a[f]),h&&(x={component:this,eventRange:t,start:h.start,end:h.end,isStart:t.isStart&&h.start.valueOf()===c.start.valueOf(),isEnd:t.isEnd&&h.end.valueOf()===c.end.valueOf(),dayIndex:f},m.push(x),!x.isEnd&&!u&&f+1<a.length&&c.end<l.add(a[f+1].start,r))){x.end=c.end,x.isEnd=!0;break}return m}}function yz(s){return s.text}function bz(s){let t=_t(s.renderRange.start),a=s.renderRange.end,l=[],r=[];for(;t<a;)l.push(t),r.push({start:t,end:is(t,1)}),t=is(t,1);return{dayDates:l,dayRanges:r}}function jz(s){let t=[],a,l;for(a=0;a<s.length;a+=1)l=s[a],(t[l.dayIndex]||(t[l.dayIndex]=[])).push(l);return t}var Nz=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';tu(Nz);const wz={listDayFormat:pb,listDaySideFormat:pb,noEventsClassNames:se,noEventsContent:se,noEventsDidMount:se,noEventsWillUnmount:se};function pb(s){return s===!1?null:Mt(s)}var Sz=aa({name:"@fullcalendar/list",optionRefiners:wz,views:{list:{component:vz,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});Sx.touchMouseIgnoreWait=500;let Sf=0,Fd=0,_f=!1;class kw{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=a=>{if(!this.shouldIgnoreMouse()&&_z(a)&&this.tryStart(a)){let l=this.createEventFromMouse(a,!0);this.emitter.trigger("pointerdown",l),this.initScrollWatch(l),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=a=>{let l=this.createEventFromMouse(a);this.recordCoords(l),this.emitter.trigger("pointermove",l)},this.handleMouseUp=a=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(a)),this.cleanup()},this.handleTouchStart=a=>{if(this.tryStart(a)){this.isTouchDragging=!0;let l=this.createEventFromTouch(a,!0);this.emitter.trigger("pointerdown",l),this.initScrollWatch(l);let r=a.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=a=>{let l=this.createEventFromTouch(a);this.recordCoords(l),this.emitter.trigger("pointermove",l)},this.handleTouchEnd=a=>{if(this.isDragging){let l=a.target;l.removeEventListener("touchmove",this.handleTouchMove),l.removeEventListener("touchend",this.handleTouchEnd),l.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(a)),this.cleanup(),this.isTouchDragging=!1,Cz()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=a=>{if(!this.shouldIgnoreMove){let l=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:a,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:l,pageY:r,deltaX:l-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=t,this.emitter=new iu,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ez()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Az()}tryStart(t){let a=this.querySubjectEl(t),l=t.target;return a&&(!this.handleSelector||Cs(l,this.handleSelector))?(this.subjectEl=a,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){_f=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?Cs(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Sf||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(_f=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,a){let l=0,r=0;return a?(this.origPageX=t.pageX,this.origPageY=t.pageY):(l=t.pageX-this.origPageX,r=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:l,deltaY:r}}createEventFromTouch(t,a){let l=t.touches,r,c,u=0,f=0;return l&&l.length?(r=l[0].pageX,c=l[0].pageY):(r=t.pageX,c=t.pageY),a?(this.origPageX=r,this.origPageY=c):(u=r-this.origPageX,f=c-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:c,deltaX:u,deltaY:f}}}function _z(s){return s.button===0&&!s.ctrlKey}function Cz(){Sf+=1,setTimeout(()=>{Sf-=1},Sx.touchMouseIgnoreWait)}function Ez(){Fd+=1,Fd===1&&window.addEventListener("touchmove",Dw,{passive:!1})}function Az(){Fd-=1,Fd||window.removeEventListener("touchmove",Dw,{passive:!1})}function Dw(s){_f&&s.preventDefault()}class kz{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,a,l){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=a-window.scrollX,this.origScreenY=l-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,a){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=a-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,a){let l=()=>{this.cleanup(),a()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(l,this.revertDuration):setTimeout(l,0)}doRevertAnimation(t,a){let l=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();l.style.transition="top "+a+"ms,left "+a+"ms",go(l,{left:r.left,top:r.top}),_D(l,()=>{l.style.transition="",t()})}cleanup(){this.mirrorEl&&(ex(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&go(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,a=this.mirrorEl;return a||(a=this.mirrorEl=this.sourceEl.cloneNode(!0),a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.pointerEvents="none",a.classList.add("fc-event-dragging"),go(a,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(a)),a}}class Rw extends Nx{constructor(t,a){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=a,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Tw extends Rw{constructor(t,a){super(new KT(t),a)}getEventTarget(){return this.scrollController.el}computeClientRect(){return YT(this.scrollController.el)}}class Dz extends Rw{constructor(t){super(new ZT,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const gb=typeof performance=="function"?performance.now:Date.now;class Rz{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let a=gb();this.handleSide(t,(a-this.msSinceRequest)/1e3),this.requestAnimation(a)}else this.isAnimating=!1}}}start(t,a,l){this.isEnabled&&(this.scrollCaches=this.buildCaches(l),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,a))}handleMove(t,a){if(this.isEnabled){let l=t-window.scrollX,r=a-window.scrollY,c=this.pointerScreenY===null?0:r-this.pointerScreenY,u=this.pointerScreenX===null?0:l-this.pointerScreenX;c<0?this.everMovedUp=!0:c>0&&(this.everMovedDown=!0),u<0?this.everMovedLeft=!0:u>0&&(this.everMovedRight=!0),this.pointerScreenX=l,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(gb()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,a){let{scrollCache:l}=t,{edgeThreshold:r}=this,c=r-t.distance,u=c*c/(r*r)*this.maxVelocity*a,f=1;switch(t.name){case"left":f=-1;case"right":l.setScrollLeft(l.getScrollLeft()+u*f);break;case"top":f=-1;case"bottom":l.setScrollTop(l.getScrollTop()+u*f);break}}computeBestEdge(t,a){let{edgeThreshold:l}=this,r=null,c=this.scrollCaches||[];for(let u of c){let f=u.clientRect,h=t-f.left,x=f.right-t,m=a-f.top,g=f.bottom-a;h>=0&&x>=0&&m>=0&&g>=0&&(m<=l&&this.everMovedUp&&u.canScrollUp()&&(!r||r.distance>m)&&(r={scrollCache:u,name:"top",distance:m}),g<=l&&this.everMovedDown&&u.canScrollDown()&&(!r||r.distance>g)&&(r={scrollCache:u,name:"bottom",distance:g}),h<=l&&this.everMovedLeft&&u.canScrollLeft()&&(!r||r.distance>h)&&(r={scrollCache:u,name:"left",distance:h}),x<=l&&this.everMovedRight&&u.canScrollRight()&&(!r||r.distance>x)&&(r={scrollCache:u,name:"right",distance:x}))}return r}buildCaches(t){return this.queryScrollEls(t).map(a=>a===window?new Dz(!1):new Tw(a,!1))}queryScrollEls(t){let a=[];for(let l of this.scrollQuery)typeof l=="object"?a.push(l):a.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(l)));return a}}class Po extends eM{constructor(t,a){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,CD(document.body),AD(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let c=this.minDistance,u,{deltaX:f,deltaY:h}=r;u=f*f+h*h,u>=c*c&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,ED(document.body),kD(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let l=this.pointer=new kw(t);l.emitter.on("pointerdown",this.onPointerDown),l.emitter.on("pointermove",this.onPointerMove),l.emitter.on("pointerup",this.onPointerUp),a&&(l.selector=a),this.mirror=new kz,this.autoScroller=new Rz}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class Tz{constructor(t){this.el=t,this.origRect=jx(t),this.scrollCaches=IN(t).map(a=>new Tw(a,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let a of this.scrollCaches)t+=a.origScrollLeft-a.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let a of this.scrollCaches)t+=a.origScrollTop-a.getScrollTop();return t}isWithinClipping(t,a){let l={left:t,top:a};for(let r of this.scrollCaches)if(!Mz(r.getEventTarget())&&!zT(l,r.clientRect))return!1;return!0}}function Mz(s){let t=s.tagName;return t==="HTML"||t==="BODY"}class ou{constructor(t,a){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=l=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(l),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",l)):r.setIgnoreMove(!0)},this.handleDragStart=l=>{this.emitter.trigger("dragstart",l),this.handleMove(l,!0)},this.handleDragMove=l=>{this.emitter.trigger("dragmove",l),this.handleMove(l)},this.handlePointerUp=l=>{this.releaseHits(),this.emitter.trigger("pointerup",l)},this.handleDragEnd=l=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,l),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",l)},this.droppableStore=a,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new iu}processFirstCoord(t){let a={left:t.pageX,top:t.pageY},l=a,r=t.subjectEl,c;r instanceof HTMLElement&&(c=jx(r),l=LT(l,c));let u=this.initialHit=this.queryHitForOffset(l.left,l.top);if(u){if(this.useSubjectCenter&&c){let f=qN(c,u.rect);f&&(l=UT(f))}this.coordAdjust=HT(l,a)}else this.coordAdjust={left:0,top:0}}handleMove(t,a){let l=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(a||!cu(this.movingHit,l))&&(this.movingHit=l,this.emitter.trigger("hitupdate",l,!1,t))}prepareHits(){this.offsetTrackers=ka(this.droppableStore,t=>(t.component.prepareHits(),new Tz(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let a in t)t[a].destroy();this.offsetTrackers={}}queryHitForOffset(t,a){let{droppableStore:l,offsetTrackers:r}=this,c=null;for(let u in l){let f=l[u].component,h=r[u];if(h&&h.isWithinClipping(t,a)){let x=h.computeLeft(),m=h.computeTop(),g=t-x,y=a-m,{origRect:N}=h,j=N.right-N.left,S=N.bottom-N.top;if(g>=0&&g<j&&y>=0&&y<S){let b=f.queryHit(g,y,j,S);b&&nu(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(g+x-window.scrollX,y+m-window.scrollY)))&&(!c||b.layer>c.layer)&&(b.componentId=u,b.context=f.context,b.rect.left+=x,b.rect.right+=x,b.rect.top+=m,b.rect.bottom+=m,c=b)}}}return c}}function cu(s,t){return!s&&!t?!0:!!s!=!!t?!1:ST(s.dateSpan,t.dateSpan)}function Mw(s,t){let a={};for(let l of t.pluginHooks.datePointTransforms)Object.assign(a,l(s,t));return Object.assign(a,Oz(s,t.dateEnv)),a}function Oz(s,t){return{date:t.toDate(s.range.start),dateStr:t.formatIso(s.range.start,{omitTime:s.allDay}),allDay:s.allDay}}class zz extends gr{constructor(t){super(t),this.handlePointerDown=l=>{let{dragging:r}=this,c=l.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(c))},this.handleDragEnd=l=>{let{component:r}=this,{pointer:c}=this.dragging;if(!c.wasTouchScroll){let{initialHit:u,finalHit:f}=this.hitDragging;if(u&&f&&cu(u,f)){let{context:h}=r,x=Object.assign(Object.assign({},Mw(u.dateSpan,h)),{dayEl:u.dayEl,jsEvent:l.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",x)}}},this.dragging=new Po(t.el),this.dragging.autoScroller.isEnabled=!1;let a=this.hitDragging=new ou(this.dragging,yx(t));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Lz extends gr{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=u=>{let{component:f,dragging:h}=this,{options:x}=f.context,m=x.selectable&&f.isValidDateDownEl(u.origEvent.target);h.setIgnoreMove(!m),h.delay=u.isTouch?Uz(f):null},this.handleDragStart=u=>{this.component.context.calendarApi.unselect(u)},this.handleHitUpdate=(u,f)=>{let{context:h}=this.component,x=null,m=!1;if(u){let g=this.hitDragging.initialHit;u.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,u)||(x=Hz(g,u,h.pluginHooks.dateSelectionTransformers)),(!x||!lM(x,u.dateProfile,h))&&(m=!0,x=null)}x?h.dispatch({type:"SELECT_DATES",selection:x}):f||h.dispatch({type:"UNSELECT_DATES"}),m?tx():sx(),f||(this.dragSelection=x)},this.handlePointerUp=u=>{this.dragSelection&&(MN(this.dragSelection,u,this.component.context),this.dragSelection=null)};let{component:a}=t,{options:l}=a.context,r=this.dragging=new Po(t.el);r.touchScrollAllowed=!1,r.minDistance=l.selectMinDistance||0,r.autoScroller.isEnabled=l.dragScroll;let c=this.hitDragging=new ou(this.dragging,yx(t));c.emitter.on("pointerdown",this.handlePointerDown),c.emitter.on("dragstart",this.handleDragStart),c.emitter.on("hitupdate",this.handleHitUpdate),c.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Uz(s){let{options:t}=s.context,a=t.selectLongPressDelay;return a==null&&(a=t.longPressDelay),a}function Hz(s,t,a){let l=s.dateSpan,r=t.dateSpan,c=[l.range.start,l.range.end,r.range.start,r.range.end];c.sort(OD);let u={};for(let f of a){let h=f(s,t);if(h===!1)return null;h&&Object.assign(u,h)}return u.range={start:c[0],end:c[3]},u.allDay=l.allDay,u}class qo extends gr{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=u=>{let f=u.origEvent.target,{component:h,dragging:x}=this,{mirror:m}=x,{options:g}=h.context,y=h.context;this.subjectEl=u.subjectEl;let N=this.subjectSeg=sr(u.subjectEl),S=(this.eventRange=N.eventRange).instance.instanceId;this.relevantEvents=hx(y.getCurrentData().eventStore,S),x.minDistance=u.isTouch?0:g.eventDragMinDistance,x.delay=u.isTouch&&S!==h.props.eventSelection?qz(h):null,g.fixedMirrorParent?m.parentNode=g.fixedMirrorParent:m.parentNode=Cs(f,".fc"),m.revertDuration=g.dragRevertDuration;let b=h.isValidSegDownEl(f)&&!Cs(f,".fc-event-resizer");x.setIgnoreMove(!b),this.isDragging=b&&u.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=u=>{let f=this.component.context,h=this.eventRange,x=h.instance.instanceId;u.isTouch?x!==this.component.props.eventSelection&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:x}):f.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(f.calendarApi.unselect(u),f.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Bt(f,h.def,h.instance),jsEvent:u.origEvent,view:f.viewApi}))},this.handleHitUpdate=(u,f)=>{if(!this.isDragging)return;let h=this.relevantEvents,x=this.hitDragging.initialHit,m=this.component.context,g=null,y=null,N=null,j=!1,S={affectedEvents:h,mutatedEvents:rn(),isEvent:!0};if(u){g=u.context;let b=g.options;m===g||b.editable&&b.droppable?(y=Pz(x,u,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),y&&(N=px(h,g.getCurrentData().eventUiBases,y,g),S.mutatedEvents=N,KN(S,u.dateProfile,g)||(j=!0,y=null,N=null,S.mutatedEvents=rn()))):g=null}this.displayDrag(g,S),j?tx():sx(),f||(m===g&&cu(x,u)&&(y=null),this.dragging.setMirrorNeedsRevert(!y),this.dragging.setMirrorIsVisible(!u||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=y,this.mutatedRelevantEvents=N)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=u=>{if(this.isDragging){let f=this.component.context,h=f.viewApi,{receivingContext:x,validMutation:m}=this,g=this.eventRange.def,y=this.eventRange.instance,N=new Bt(f,g,y),j=this.relevantEvents,S=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),f.emitter.trigger("eventDragStop",{el:this.subjectEl,event:N,jsEvent:u.origEvent,view:h}),m){if(x===f){let C=new Bt(f,S.defs[g.defId],y?S.instances[y.instanceId]:null);f.dispatch({type:"MERGE_EVENTS",eventStore:S});let k={oldEvent:N,event:C,relatedEvents:Vi(S,f,y),revert(){f.dispatch({type:"MERGE_EVENTS",eventStore:j})}},E={};for(let M of f.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(E,M(m,f));f.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},k),E),{el:u.subjectEl,delta:m.datesDelta,jsEvent:u.origEvent,view:h})),f.emitter.trigger("eventChange",k)}else if(x){let C={event:N,relatedEvents:Vi(j,f,y),revert(){f.dispatch({type:"MERGE_EVENTS",eventStore:j})}};f.emitter.trigger("eventLeave",Object.assign(Object.assign({},C),{draggedEl:u.subjectEl,view:h})),f.dispatch({type:"REMOVE_EVENTS",eventStore:j}),f.emitter.trigger("eventRemove",C);let k=S.defs[g.defId],E=S.instances[y.instanceId],M=new Bt(x,k,E);x.dispatch({type:"MERGE_EVENTS",eventStore:S});let z={event:M,relatedEvents:Vi(S,x,E),revert(){x.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};x.emitter.trigger("eventAdd",z),u.isTouch&&x.dispatch({type:"SELECT_EVENT",eventInstanceId:y.instanceId}),x.emitter.trigger("drop",Object.assign(Object.assign({},Mw(b.dateSpan,x)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:b.context.viewApi})),x.emitter.trigger("eventReceive",Object.assign(Object.assign({},z),{draggedEl:u.subjectEl,view:b.context.viewApi}))}}else f.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:a}=this,{options:l}=a.context,r=this.dragging=new Po(t.el);r.pointer.selector=qo.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=l.dragScroll;let c=this.hitDragging=new ou(this.dragging,yf);c.useSubjectCenter=t.useEventCenter,c.emitter.on("pointerdown",this.handlePointerDown),c.emitter.on("dragstart",this.handleDragStart),c.emitter.on("hitupdate",this.handleHitUpdate),c.emitter.on("pointerup",this.handlePointerUp),c.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,a){let l=this.component.context,r=this.receivingContext;r&&r!==t&&(r===l?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:a.affectedEvents,mutatedEvents:rn(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:a})}clearDrag(){let t=this.component.context,{receivingContext:a}=this;a&&a.dispatch({type:"UNSET_EVENT_DRAG"}),t!==a&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}qo.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Pz(s,t,a,l){let r=s.dateSpan,c=t.dateSpan,u=r.range.start,f=c.range.start,h={};r.allDay!==c.allDay&&(h.allDay=c.allDay,h.hasEnd=t.context.options.allDayMaintainDuration,c.allDay?u=_t(a):u=a);let x=Yl(u,f,s.context.dateEnv,s.componentId===t.componentId?s.largeUnit:null);x.milliseconds&&(h.allDay=!1);let m={datesDelta:x,standardProps:h};for(let g of l)g(m,s,t);return m}function qz(s){let{options:t}=s.context,a=t.eventLongPressDelay;return a==null&&(a=t.longPressDelay),a}class Bz extends gr{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let{component:u}=this,f=this.querySegEl(c),h=sr(f),x=this.eventRange=h.eventRange;this.dragging.minDistance=u.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(c.origEvent.target)||c.isTouch&&this.component.props.eventSelection!==x.instance.instanceId)},this.handleDragStart=c=>{let{context:u}=this.component,f=this.eventRange;this.relevantEvents=hx(u.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(c);this.draggingSegEl=h,this.draggingSeg=sr(h),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:h,event:new Bt(u,f.def,f.instance),jsEvent:c.origEvent,view:u.viewApi})},this.handleHitUpdate=(c,u,f)=>{let{context:h}=this.component,x=this.relevantEvents,m=this.hitDragging.initialHit,g=this.eventRange.instance,y=null,N=null,j=!1,S={affectedEvents:x,mutatedEvents:rn(),isEvent:!0};c&&(c.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,c)||(y=Iz(m,c,f.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),y&&(N=px(x,h.getCurrentData().eventUiBases,y,h),S.mutatedEvents=N,KN(S,c.dateProfile,h)||(j=!0,y=null,N=null,S.mutatedEvents=null)),N?h.dispatch({type:"SET_EVENT_RESIZE",state:S}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),j?tx():sx(),u||(y&&cu(m,c)&&(y=null),this.validMutation=y,this.mutatedRelevantEvents=N)},this.handleDragEnd=c=>{let{context:u}=this.component,f=this.eventRange.def,h=this.eventRange.instance,x=new Bt(u,f,h),m=this.relevantEvents,g=this.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:x,jsEvent:c.origEvent,view:u.viewApi}),this.validMutation){let y=new Bt(u,g.defs[f.defId],h?g.instances[h.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let N={oldEvent:x,event:y,relatedEvents:Vi(g,u,h),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:m})}};u.emitter.trigger("eventResize",Object.assign(Object.assign({},N),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||nt(0),endDelta:this.validMutation.endDelta||nt(0),jsEvent:c.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",N)}else u.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:a}=t,l=this.dragging=new Po(t.el);l.pointer.selector=".fc-event-resizer",l.touchScrollAllowed=!1,l.autoScroller.isEnabled=a.context.options.dragScroll;let r=this.hitDragging=new ou(this.dragging,yx(t));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return Cs(t.subjectEl,".fc-event")}}function Iz(s,t,a,l){let r=s.context.dateEnv,c=s.dateSpan.range.start,u=t.dateSpan.range.start,f=Yl(c,u,r,s.largeUnit);if(a){if(r.add(l.start,f)<l.end)return{startDelta:f}}else if(r.add(l.end,f)>l.start)return{endDelta:f};return null}class Fz{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=l=>{l.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=l=>{let r=this.context.options.unselectCancel,c=uN(l.origEvent);this.matchesCancel=!!Cs(c,r),this.matchesEvent=!!Cs(c,qo.SELECTOR)},this.onDocumentPointerUp=l=>{let{context:r}=this,{documentPointer:c}=this,u=r.getCurrentData();if(!c.wasTouchScroll){if(u.dateSelection&&!this.isRecentPointerDateSelect){let f=r.options.unselectAuto;f&&(!f||!this.matchesCancel)&&r.calendarApi.unselect(l)}u.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let a=this.documentPointer=new kw(document);a.shouldIgnoreMove=!0,a.shouldWatchScroll=!1,a.emitter.on("pointerdown",this.onDocumentPointerDown),a.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const $z={fixedMirrorParent:se},Vz={dateClick:se,eventDragStart:se,eventDragStop:se,eventDrop:se,eventResizeStart:se,eventResizeStop:se,eventResize:se,drop:se,eventReceive:se,eventLeave:se};Sx.dataAttrPrefix="";var Qz=aa({name:"@fullcalendar/interaction",componentInteractions:[zz,Lz,qo,Bz],calendarInteractions:[Fz],elementDraggingImpl:Po,optionRefiners:$z,listenerRefiners:Vz});const Gz=[{key:"rotation",label:"Rotations",color:"#3b82f6"},{key:"hour_log",label:"Hour Logs",color:"#22c55e"},{key:"evaluation",label:"Evaluations",color:"#f97316"},{key:"deadline",label:"Deadlines",color:"#ef4444"},{key:"application",label:"Applications",color:"#f59e0b"}];function Yz(){const s=yt(),[t,a]=_.useState(null),[l,r]=_.useState(new Set),{data:c}=zA(t?.start??null,t?.end??null),u=_.useCallback(g=>{a({start:g.startStr.split("T")[0],end:g.endStr.split("T")[0]})},[]),f=_.useCallback(g=>{const N=g.event.extendedProps?.link;N&&s(N)},[s]),h=g=>{r(y=>{const N=new Set(y);return N.has(g)?N.delete(g):N.add(g),N})},x=(c??[]).filter(g=>!l.has(g.type)).map(g=>({id:g.id,title:g.title,start:g.start,end:g.end,allDay:g.allDay,color:g.color,extendedProps:{...g.meta,type:g.type}})),m=typeof window<"u"&&window.innerWidth<768;return e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ui,{className:"w-6 h-6 text-primary-600"}),e.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Calendar"})]})}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Gz.map(g=>e.jsxs("button",{onClick:()=>h(g.key),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all border ${l.has(g.key)?"border-stone-200 text-stone-400 bg-white":"border-transparent text-white"}`,style:l.has(g.key)?void 0:{backgroundColor:g.color},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:g.color}}),g.label]},g.key))}),e.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 p-2 sm:p-4 shadow-sm",children:e.jsx(pw,{plugins:[_O,dz,Sz,Qz],initialView:m?"listWeek":"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listWeek"},events:x,datesSet:u,eventClick:f,height:"auto",eventDisplay:"block",dayMaxEvents:3,nowIndicator:!0,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:"short"}})})]})}function Wz(){const s=yt();return e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-stone-200/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm font-medium text-stone-600",children:[e.jsx("button",{onClick:()=>s("/rotations"),className:"hover:text-primary-600 transition-colors",children:"Browse Rotations"}),e.jsx("button",{onClick:()=>s("/"),className:"hover:text-primary-600 transition-colors",children:"Home"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s("/login"),children:"Sign In"}),e.jsx(L,{size:"sm",onClick:()=>s("/register"),children:"Get Started"})]})]})})}function wt({children:s,roles:t}){const{isAuthenticated:a,user:l}=We();return a?l&&!l.onboardingCompleted?e.jsx($i,{to:"/onboarding",replace:!0}):t&&l&&!t.includes(l.role)?e.jsx($i,{to:"/dashboard",replace:!0}):e.jsx(wj,{children:s}):e.jsx($i,{to:"/login",replace:!0})}function xo({children:s}){const{isAuthenticated:t}=We();return t?e.jsx($i,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:s})}function Kz({children:s}){const{isAuthenticated:t}=We();return t?e.jsx(wj,{children:s}):e.jsxs("div",{className:"min-h-screen bg-stone-50",children:[e.jsx(Wz,{}),e.jsx("div",{className:"pt-16 max-w-7xl mx-auto px-4 sm:px-6 py-8",children:s})]})}function Zz(){const{isAuthenticated:s,user:t}=We();return s?t&&t.onboardingCompleted?e.jsx($i,{to:"/dashboard",replace:!0}):e.jsx(i3,{}):e.jsx($i,{to:"/login",replace:!0})}function Xz(){return e.jsxs(K5,{children:[e.jsx(Ke,{path:"/",element:e.jsx(xo,{children:e.jsx(PA,{})})}),e.jsx(Ke,{path:"/login",element:e.jsx(xo,{children:e.jsx(qA,{})})}),e.jsx(Ke,{path:"/register",element:e.jsx(xo,{children:e.jsx($A,{})})}),e.jsx(Ke,{path:"/forgot-password",element:e.jsx(xo,{children:e.jsx(qk,{})})}),e.jsx(Ke,{path:"/reset-password",element:e.jsx(xo,{children:e.jsx(Bk,{})})}),e.jsx(Ke,{path:"/verify/:certificateNumber",element:e.jsx(yk,{})}),e.jsx(Ke,{path:"/verify-ce/:uuid",element:e.jsx(Pk,{})}),e.jsx(Ke,{path:"/invite/:token",element:e.jsx(Sk,{})}),e.jsx(Ke,{path:"/rotations",element:e.jsx(Kz,{children:e.jsx(ZA,{})})}),e.jsx(Ke,{path:"/onboarding",element:e.jsx(Zz,{})}),e.jsx(Ke,{path:"/dashboard",element:e.jsx(wt,{children:e.jsx(KA,{})})}),e.jsx(Ke,{path:"/applications",element:e.jsx(wt,{roles:["student"],children:e.jsx(XA,{})})}),e.jsx(Ke,{path:"/hours",element:e.jsx(wt,{roles:["student","preceptor"],children:e.jsx(JA,{})})}),e.jsx(Ke,{path:"/evaluations",element:e.jsx(wt,{roles:["student","preceptor"],children:e.jsx(k3,{})})}),e.jsx(Ke,{path:"/slots",element:e.jsx(wt,{roles:["site_manager","admin"],children:e.jsx(_3,{})})}),e.jsx(Ke,{path:"/preceptors",element:e.jsx(wt,{roles:["site_manager","admin"],children:e.jsx(bk,{})})}),e.jsx(Ke,{path:"/site-applications",element:e.jsx(wt,{roles:["site_manager","admin"],children:e.jsx(C3,{})})}),e.jsx(Ke,{path:"/certificates",element:e.jsx(wt,{roles:["student","preceptor","coordinator","admin"],children:e.jsx(D3,{})})}),e.jsx(Ke,{path:"/settings",element:e.jsx(wt,{children:e.jsx(g3,{})})}),e.jsx(Ke,{path:"/site",element:e.jsx(wt,{roles:["site_manager","preceptor"],children:e.jsx(H3,{})})}),e.jsx(Ke,{path:"/students",element:e.jsx(wt,{roles:["preceptor","site_manager","coordinator","professor","admin"],children:e.jsx(L3,{})})}),e.jsx(Ke,{path:"/students/:id",element:e.jsx(wt,{roles:["preceptor","site_manager","coordinator","professor","admin"],children:e.jsx(jk,{})})}),e.jsx(Ke,{path:"/programs",element:e.jsx(wt,{roles:["coordinator","admin"],children:e.jsx(B3,{})})}),e.jsx(Ke,{path:"/placements",element:e.jsx(wt,{roles:["coordinator","professor","admin"],children:e.jsx(Y3,{})})}),e.jsx(Ke,{path:"/sites",element:e.jsx(wt,{roles:["coordinator","admin"],children:e.jsx(P3,{})})}),e.jsx(Ke,{path:"/sites/:id",element:e.jsx(wt,{roles:["coordinator","admin"],children:e.jsx(nk,{})})}),e.jsx(Ke,{path:"/universities",element:e.jsx(wt,{roles:["coordinator","admin"],children:e.jsx(tk,{})})}),e.jsx(Ke,{path:"/universities/:id",element:e.jsx(wt,{roles:["coordinator","admin"],children:e.jsx(ik,{})})}),e.jsx(Ke,{path:"/onboarding-checklists",element:e.jsx(wt,{roles:["student","site_manager"],children:e.jsx(vk,{})})}),e.jsx(Ke,{path:"/agreements",element:e.jsx(wt,{roles:["coordinator","site_manager","admin"],children:e.jsx(_k,{})})}),e.jsx(Ke,{path:"/messages",element:e.jsx(wt,{children:e.jsx(xy,{})})}),e.jsx(Ke,{path:"/messages/:id",element:e.jsx(wt,{children:e.jsx(xy,{})})}),e.jsx(Ke,{path:"/calendar",element:e.jsx(wt,{children:e.jsx(Yz,{})})}),e.jsx(Ke,{path:"/compliance",element:e.jsx(wt,{roles:["student","site_manager","coordinator","professor","admin"],children:e.jsx(Dk,{})})}),e.jsx(Ke,{path:"/ce-credits",element:e.jsx(wt,{roles:["preceptor","coordinator","admin"],children:e.jsx(Rk,{})})}),e.jsx(Ke,{path:"/admin/users",element:e.jsx(wt,{roles:["admin"],children:e.jsx(Z3,{})})}),e.jsx(Ke,{path:"/admin/users/:id",element:e.jsx(wt,{roles:["admin"],children:e.jsx(ok,{})})}),e.jsx(Ke,{path:"*",element:e.jsx($i,{to:"/",replace:!0})})]})}const Jz=new e_({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});J2.createRoot(document.getElementById("root")).render(e.jsx(_.StrictMode,{children:e.jsx(jS,{basename:"/ClinicLink/",children:e.jsx(t_,{client:Jz,children:e.jsxs(G_,{children:[e.jsx(Xz,{}),e.jsx(P_,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{borderRadius:"16px",padding:"16px",fontSize:"14px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.06)"},classNames:{title:"font-semibold",description:"text-xs opacity-80"}}})]})})})}));
