import{aj as Je,ak as m,al as Ke,r as E,j as e,X as V,w as _e,u as Ge,a4 as Xe,am as He,f as A,$ as ge,g as D,B as ve,e as ye,a1 as be,S as re,U as Qe,i as Ze,t as ne}from"./index-GzcG7CSS.js";import{C as ae}from"./Card-FSc1waky.js";import{E as et}from"./EmptyState-A3BIGBYI.js";import{C as tt}from"./Skeleton-CErRX1HU.js";import{B as st}from"./Badge-9_pL70Ln.js";import{M as je}from"./Modal-CA0K5bCb.js";import{C as de}from"./credit-card-ScJuBjZ9.js";import{u as rt}from"./usePageTitle-CSRQyC0a.js";import{C as q}from"./circle-check-DXK6A2lJ.js";import{C as ie}from"./circle-alert-DPVkbFxy.js";import{C as we}from"./circle-x-BhxGvoPR.js";import{C as nt}from"./chevron-right-D8jrJqqK.js";import{M as Ne}from"./map-pin-B8WKBtoC.js";import{E as at}from"./eye-DPEVXjN5.js";import{S as it}from"./star-CqpiQmYF.js";import{S as ot}from"./shield-B4OQBYN4.js";import{A as lt}from"./arrow-right-CU9vIbfs.js";import{D as ct}from"./dollar-sign-B0eOAqoO.js";function J(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(t){return typeof t}:J=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(n)}var Le="clover",dt=function(t){return t===3?"v3":t},De="https://js.stripe.com",ut="".concat(De,"/").concat(Le,"/stripe.js"),pt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,mt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var ht=function(t){return pt.test(t)||mt.test(t)},ft=function(){for(var t=document.querySelectorAll('script[src^="'.concat(De,'"]')),r=0;r<t.length;r++){var a=t[r];if(ht(a.src))return a}return null},Se=function(t){var r="",a=document.createElement("script");a.src="".concat(ut).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(a),a},xt=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:r})},I=null,Y=null,B=null,gt=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},vt=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},yt=function(t){return I!==null?I:(I=new Promise(function(r,a){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=ft();if(!(s&&t)){if(!s)s=Se(t);else if(s&&B!==null&&Y!==null){var o;s.removeEventListener("load",B),s.removeEventListener("error",Y),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=Se(t)}}B=vt(r,a),Y=gt(a),s.addEventListener("load",B),s.addEventListener("error",Y)}catch(d){a(d);return}}),I.catch(function(r){return I=null,Promise.reject(r)}))},bt=function(t,r,a){if(t===null)return null;var s=r[0];if(typeof s!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(J(s)," instead."));var o=s.match(/^pk_test/),d=dt(t.version),u=Le;o&&d!==u&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,r);return xt(l,a),l},U,Ie=!1,Ue=function(){return U||(U=yt(null).catch(function(t){return U=null,Promise.reject(t)}),U)};Promise.resolve().then(function(){return Ue()}).catch(function(n){Ie||console.warn(n)});var jt=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];Ie=!0;var s=Date.now();return Ue().then(function(o){return bt(o,r,s)})},oe={exports:{}},le,Ce;function wt(){if(Ce)return le;Ce=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return le=n,le}var ce,Ee;function Nt(){if(Ee)return ce;Ee=1;var n=wt();function t(){}function r(){}return r.resetWarningCache=t,ce=function(){function a(d,u,l,x,g,h){if(h!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}a.isRequired=a;function s(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},ce}var Pe;function St(){return Pe||(Pe=1,oe.exports=Nt()()),oe.exports}var Ct=St();const p=Je(Ct);function ke(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,a)}return r}function Re(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ke(Object(r),!0).forEach(function(a){We(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function K(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(t){return typeof t}:K=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(n)}function We(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Et(n,t){if(n==null)return{};var r={},a=Object.keys(n),s,o;for(o=0;o<a.length;o++)s=a[o],!(t.indexOf(s)>=0)&&(r[s]=n[s]);return r}function Pt(n,t){if(n==null)return{};var r=Et(n,t),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(r[a]=n[a])}return r}function Fe(n,t){return kt(n)||Rt(n,t)||At(n,t)||Ot()}function kt(n){if(Array.isArray(n))return n}function Rt(n,t){var r=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(r!=null){var a=[],s=!0,o=!1,d,u;try{for(r=r.call(n);!(s=(d=r.next()).done)&&(a.push(d.value),!(t&&a.length===t));s=!0);}catch(l){o=!0,u=l}finally{try{!s&&r.return!=null&&r.return()}finally{if(o)throw u}}return a}}function At(n,t){if(n){if(typeof n=="string")return Ae(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(n,t)}}function Ae(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=n[r];return a}function Ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=function(t,r,a){var s=!!a,o=m.useRef(a);m.useEffect(function(){o.current=a},[a]),m.useEffect(function(){if(!s||!t)return function(){};var d=function(){o.current&&o.current.apply(o,arguments)};return t.on(r,d),function(){t.off(r,d)}},[s,r,t,o])},ue=function(t){var r=m.useRef(t);return m.useEffect(function(){r.current=t},[t]),r.current},L=function(t){return t!==null&&K(t)==="object"},Tt=function(t){return L(t)&&typeof t.then=="function"},_t=function(t){return L(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Oe="[object Object]",Lt=function n(t,r){if(!L(t)||!L(r))return t===r;var a=Array.isArray(t),s=Array.isArray(r);if(a!==s)return!1;var o=Object.prototype.toString.call(t)===Oe,d=Object.prototype.toString.call(r)===Oe;if(o!==d)return!1;if(!o&&!a)return t===r;var u=Object.keys(t),l=Object.keys(r);if(u.length!==l.length)return!1;for(var x={},g=0;g<u.length;g+=1)x[u[g]]=!0;for(var h=0;h<l.length;h+=1)x[l[h]]=!0;var c=Object.keys(x);if(c.length!==u.length)return!1;var S=t,f=r,P=function(T){return n(S[T],f[T])};return c.every(P)},$e=function(t,r,a){return L(t)?Object.keys(t).reduce(function(s,o){var d=!L(r)||!Lt(t[o],r[o]);return a.includes(o)?(d&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):d?Re(Re({},s||{}),{},We({},o,t[o])):s},null):null},Me="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Te=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Me;if(t===null||_t(t))return t;throw new Error(r)},Dt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Me;if(Tt(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return Te(s,r)})};var a=Te(t,r);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},It=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},G=m.createContext(null);G.displayName="ElementsContext";var qe=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},Ye=function(t){var r=t.stripe,a=t.options,s=t.children,o=m.useMemo(function(){return Dt(r)},[r]),d=m.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(a):null}}),u=Fe(d,2),l=u[0],x=u[1];m.useEffect(function(){var c=!0,S=function(P){x(function(b){return b.stripe?b:{stripe:P,elements:P.elements(a)}})};return o.tag==="async"&&!l.stripe?o.stripePromise.then(function(f){f&&c&&S(f)}):o.tag==="sync"&&!l.stripe&&S(o.stripe),function(){c=!1}},[o,l,a]);var g=ue(r);m.useEffect(function(){g!==null&&g!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,r]);var h=ue(a);return m.useEffect(function(){if(l.elements){var c=$e(a,h,["clientSecret","fonts"]);c&&l.elements.update(c)}},[a,h,l.elements]),m.useEffect(function(){It(l.stripe)},[l.stripe]),m.createElement(G.Provider,{value:l},s)};Ye.propTypes={stripe:p.any,options:p.object};var Ut=function(t){var r=m.useContext(G);return qe(r,t)},Wt=function(){var t=Ut("calls useElements()"),r=t.elements;return r};p.func.isRequired;var Be=m.createContext(null);Be.displayName="CheckoutContext";p.any,p.shape({clientSecret:p.oneOfType([p.string,p.instanceOf(Promise)]).isRequired,elementsOptions:p.object}).isRequired;var pe=function(t){var r=m.useContext(Be),a=m.useContext(G);if(r){if(a)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r}else return qe(a,t)},Ft=["mode"],$t=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},w=function(t,r){var a="".concat($t(t),"Element"),s=function(l){var x=l.id,g=l.className,h=l.options,c=h===void 0?{}:h,S=l.onBlur,f=l.onFocus,P=l.onReady,b=l.onChange,T=l.onEscape,W=l.onClick,F=l.onLoadError,O=l.onLoaderStart,X=l.onNetworksChange,$=l.onConfirm,H=l.onCancel,Q=l.onShippingAddressChange,Z=l.onShippingRateChange,ee=l.onSavedPaymentMethodRemove,i=l.onSavedPaymentMethodUpdate,C=pe("mounts <".concat(a,">")),M="elements"in C?C.elements:null,_="checkoutState"in C?C.checkoutState:null,k=_?.type==="success"||_?.type==="loading"?_.sdk:null,ze=m.useState(null),me=Fe(ze,2),y=me[0],Ve=me[1],R=m.useRef(null),te=m.useRef(null);j(y,"blur",S),j(y,"focus",f),j(y,"escape",T),j(y,"click",W),j(y,"loaderror",F),j(y,"loaderstart",O),j(y,"networkschange",X),j(y,"confirm",$),j(y,"cancel",H),j(y,"shippingaddresschange",Q),j(y,"shippingratechange",Z),j(y,"savedpaymentmethodremove",ee),j(y,"savedpaymentmethodupdate",i),j(y,"change",b);var se;P&&(t==="expressCheckout"?se=P:se=function(){P(y)}),j(y,"ready",se),m.useLayoutEffect(function(){if(R.current===null&&te.current!==null&&(M||k)){var v=null;if(k)switch(t){case"paymentForm":v=k.createPaymentFormElement(c);break;case"payment":v=k.createPaymentElement(c);break;case"address":if("mode"in c){var fe=c.mode,xe=Pt(c,Ft);if(fe==="shipping")v=k.createShippingAddressElement(xe);else if(fe==="billing")v=k.createBillingAddressElement(xe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":v=k.createExpressCheckoutElement(c);break;case"currencySelector":v=k.createCurrencySelectorElement();break;case"taxId":v=k.createTaxIdElement(c);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else M&&(v=M.create(t,c));R.current=v,Ve(v),v&&v.mount(te.current)}},[M,k,c]);var he=ue(c);return m.useEffect(function(){if(R.current){var v=$e(c,he,["paymentRequest"]);v&&"update"in R.current&&R.current.update(v)}},[c,he]),m.useLayoutEffect(function(){return function(){if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}}},[]),m.createElement("div",{id:x,className:g,ref:te})},o=function(l){pe("mounts <".concat(a,">"));var x=l.id,g=l.className;return m.createElement("div",{id:x,className:g})},d=r?o:s;return d.propTypes={id:p.string,className:p.string,onChange:p.func,onBlur:p.func,onFocus:p.func,onReady:p.func,onEscape:p.func,onClick:p.func,onLoadError:p.func,onLoaderStart:p.func,onNetworksChange:p.func,onConfirm:p.func,onCancel:p.func,onShippingAddressChange:p.func,onShippingRateChange:p.func,onSavedPaymentMethodRemove:p.func,onSavedPaymentMethodUpdate:p.func,options:p.object},d.displayName=a,d.__elementType=t,d},N=typeof window>"u",Mt=m.createContext(null);Mt.displayName="EmbeddedCheckoutProviderContext";var qt=function(){var t=pe("calls useStripe()"),r=t.stripe;return r};w("auBankAccount",N);w("card",N);w("cardNumber",N);w("cardExpiry",N);w("cardCvc",N);w("iban",N);var Yt=w("payment",N);w("expressCheckout",N);w("paymentRequestButton",N);w("linkAuthentication",N);w("address",N);w("shippingAddress",N);w("paymentMethodMessaging",N);w("taxId",N);const z=jt("pk_test_placeholder");function Bt({onSuccess:n,paymentId:t,onClose:r}){const a=qt(),s=Wt(),[o,d]=E.useState(!1),[u,l]=E.useState(null),x=async g=>{if(g.preventDefault(),!a||!s)return;d(!0),l(null);const h=await a.confirmPayment({elements:s,redirect:"if_required"});h.error?(l(h.error.message||"Payment failed. Please try again."),d(!1)):n(t)};return e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsx(Yt,{}),u&&e.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg p-3",children:u}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 border border-stone-200 rounded-xl text-sm font-medium text-stone-600 hover:bg-stone-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!a||o,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):"Pay Now"})]})]})}function zt({open:n,onClose:t,onSuccess:r,applicationId:a,slotTitle:s,amount:o}){const d=Ke(),[u,l]=E.useState(null),[x,g]=E.useState(null),[h,c]=E.useState(null),S=async()=>{try{c(null);const f=await d.mutateAsync({application_id:a});l(f.client_secret),g(f.payment_id)}catch(f){c(f instanceof Error?f.message:"Failed to initialize payment")}};return n?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-stone-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-stone-900",children:"Complete Payment"}),e.jsx("p",{className:"text-xs text-stone-500",children:s})]})]}),e.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-stone-400 hover:text-stone-600 hover:bg-stone-100 transition-colors",children:e.jsx(V,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"bg-stone-50 rounded-xl p-4 mb-5",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-stone-600",children:"Placement Fee"}),e.jsxs("span",{className:"font-semibold text-stone-900",children:["$",o.toFixed(2)]})]})}),!z&&e.jsx("div",{className:"text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-lg p-3 mb-3",children:"Payment processing is not configured yet. Please contact support."}),!u&&!h&&z&&e.jsx("button",{onClick:S,disabled:d.isPending,className:"w-full px-4 py-3 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:d.isPending?e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"w-4 h-4 animate-spin"}),"Preparing..."]}):`Pay $${o.toFixed(2)}`}),h&&e.jsxs("div",{className:"text-sm text-red-600 bg-red-50 rounded-lg p-3 mb-3",children:[h,e.jsx("button",{onClick:S,className:"ml-2 underline",children:"Retry"})]}),u&&z&&x&&e.jsx(Ye,{stripe:z,options:{clientSecret:u,appearance:{theme:"stripe",variables:{borderRadius:"12px",colorPrimary:"#3b82f6"}}},children:e.jsx(Bt,{onSuccess:r,paymentId:x,onClose:t})})]})]})}):null}function ds(){rt("My Applications");const n=Ge(),{data:t,isLoading:r}=Xe(),a=He(),[s,o]=E.useState(null),[d,u]=E.useState(!1),[l,x]=E.useState(!1),[g,h]=E.useState(!1),[c,S]=E.useState(null),[f,P]=E.useState("all"),b=t?.data||[],T={pending:0,waitlisted:1,accepted:2,declined:3,withdrawn:4},W=[...b].sort((i,C)=>(T[i.status]||5)-(T[C.status]||5)),F=f==="all"?W:W.filter(i=>i.status===f),O={all:b.length,pending:b.filter(i=>i.status==="pending").length,accepted:b.filter(i=>i.status==="accepted").length,waitlisted:b.filter(i=>i.status==="waitlisted").length,declined:b.filter(i=>i.status==="declined").length,withdrawn:b.filter(i=>i.status==="withdrawn").length},X=async i=>{try{await a.mutateAsync(i),ne.success("Application withdrawn"),x(!1),u(!1),o(null)}catch{ne.error("Failed to withdraw application")}},$=i=>{o(i),u(!0)},H=i=>{switch(i){case"accepted":return e.jsx(q,{className:"w-5 h-5 text-green-500"});case"pending":return e.jsx(D,{className:"w-5 h-5 text-amber-500"});case"waitlisted":return e.jsx(ie,{className:"w-5 h-5 text-primary-500"});case"declined":return e.jsx(we,{className:"w-5 h-5 text-red-500"});case"withdrawn":return e.jsx(V,{className:"w-5 h-5 text-stone-400"});default:return e.jsx(D,{className:"w-5 h-5 text-stone-400"})}},Q=i=>{switch(i){case"accepted":return"success";case"pending":return"warning";case"waitlisted":return"primary";case"declined":return"danger";default:return"default"}},Z=i=>{switch(i){case"accepted":return"Congratulations! Your application has been accepted.";case"pending":return"Your application is being reviewed by the site.";case"waitlisted":return"You have been placed on the waitlist. You will be notified if a spot opens.";case"declined":return"Unfortunately, this application was not accepted.";case"withdrawn":return"You withdrew this application.";default:return""}},ee=i=>{switch(i){case"accepted":return["Review the site requirements and complete any outstanding items","Check your credentials are up to date in Settings","Prepare for your rotation start date","You can now log hours for this rotation under Hour Log"];case"pending":return["Ensure your profile and credentials are complete","The site typically responds within 5-7 business days","You can withdraw your application if needed"];case"waitlisted":return["You will be automatically notified if a spot opens","Continue applying to other rotations as backup","Keep your credentials up to date"];case"declined":return["Don't be discouraged â€” explore other available rotations","Review the site requirements to improve future applications","Consider applying to similar rotations at other sites"];default:return[]}};return r?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"h-7 w-48 bg-stone-200/60 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-4 w-72 bg-stone-200/60 rounded-lg animate-pulse mt-2"})]})}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((i,C)=>e.jsx(tt,{},C))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Applications"}),e.jsxs("p",{className:"text-stone-500",children:[b.length," application",b.length!==1?"s":""," submitted"]})]}),e.jsxs(A,{onClick:()=>n("/rotations"),children:[e.jsx(ge,{className:"w-4 h-4"})," Find Rotations"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Pending",count:O.pending,icon:e.jsx(D,{className:"w-5 h-5"}),color:"amber"},{label:"Accepted",count:O.accepted,icon:e.jsx(q,{className:"w-5 h-5"}),color:"green"},{label:"Waitlisted",count:O.waitlisted,icon:e.jsx(ie,{className:"w-5 h-5"}),color:"primary"},{label:"Declined",count:O.declined,icon:e.jsx(we,{className:"w-5 h-5"}),color:"red"}].map(i=>e.jsx(ae,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-${i.color}-50 text-${i.color}-600 flex items-center justify-center`,children:i.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:i.count}),e.jsx("p",{className:"text-xs text-stone-500",children:i.label})]})]})},i.label))}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:["all","pending","accepted","waitlisted","declined","withdrawn"].map(i=>e.jsxs("button",{onClick:()=>P(i),className:`px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${f===i?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[i.charAt(0).toUpperCase()+i.slice(1),O[i]>0&&e.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-xs ${f===i?"bg-white/20":"bg-stone-200"}`,children:O[i]})]},i))}),e.jsxs("div",{className:"space-y-3",children:[F.length===0&&e.jsx(ae,{children:e.jsx(et,{illustration:"folder",title:f==="all"?"No applications yet":`No ${f} applications`,description:f==="all"?"Search for rotations and submit your first application.":"Try a different filter."})}),F.map(i=>e.jsx(ae,{hover:!0,onClick:()=>$(i),children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(ve,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-stone-900",children:i.slot?.title||"Rotation"}),e.jsx(nt,{className:"w-4 h-4 text-stone-400 hidden sm:block"})]}),e.jsx("p",{className:"text-sm text-stone-500 mb-2",children:i.slot?.site?.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-stone-500",children:[i.slot?.site&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"w-3.5 h-3.5"}),i.slot.site.city,", ",i.slot.site.state]}),i.slot&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"w-3.5 h-3.5"}),new Date(i.slot.start_date).toLocaleDateString()," - ",new Date(i.slot.end_date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"w-3.5 h-3.5"}),"Applied ",new Date(i.submitted_at).toLocaleDateString()]}),i.slot?.specialty&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(re,{className:"w-3.5 h-3.5"}),i.slot.specialty]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(st,{variant:Q(i.status),size:"md",children:i.status.charAt(0).toUpperCase()+i.status.slice(1)}),e.jsx(A,{size:"sm",variant:"ghost",onClick:C=>{C.stopPropagation(),$(i)},children:e.jsx(at,{className:"w-4 h-4"})})]})]})},i.id))]}),e.jsx(je,{isOpen:d,onClose:()=>{u(!1),o(null)},title:"Application Details",size:"xl",children:s&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-xl p-4 ${s.status==="accepted"?"bg-green-50 border border-green-200":s.status==="pending"?"bg-amber-50 border border-amber-200":s.status==="waitlisted"?"bg-primary-50 border border-primary-200":s.status==="declined"?"bg-red-50 border border-red-200":"bg-stone-50 border border-stone-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[H(s.status),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${s.status==="accepted"?"text-green-900":s.status==="pending"?"text-amber-900":s.status==="waitlisted"?"text-primary-900":s.status==="declined"?"text-red-900":"text-stone-900"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),e.jsx("p",{className:"text-sm text-stone-600 mt-0.5",children:Z(s.status)})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-stone-900 mb-3",children:"Application Timeline"}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-2 top-1 bottom-1 w-0.5 bg-stone-200"}),e.jsxs("div",{className:"relative pb-4",children:[e.jsx("div",{className:"absolute left-[-18px] w-4 h-4 rounded-full bg-green-500 border-2 border-white"}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Application Submitted"}),e.jsx("p",{className:"text-xs text-stone-500",children:new Date(s.submitted_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"relative pb-4",children:[e.jsx("div",{className:`absolute left-[-18px] w-4 h-4 rounded-full border-2 border-white ${s.status!=="pending"?"bg-green-500":"bg-amber-500 animate-pulse"}`}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Under Review"}),e.jsx("p",{className:"text-xs text-stone-500",children:s.status==="pending"?"Currently being reviewed by the site":"Review completed"})]}),s.status!=="pending"&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute left-[-18px] w-4 h-4 rounded-full border-2 border-white ${s.status==="accepted"?"bg-green-500":s.status==="waitlisted"?"bg-primary-500":s.status==="declined"?"bg-red-500":"bg-stone-400"}`}),e.jsx("p",{className:"text-sm font-medium text-stone-900",children:s.status==="accepted"?"Accepted":s.status==="waitlisted"?"Waitlisted":s.status==="declined"?"Declined":"Withdrawn"}),e.jsx("p",{className:"text-xs text-stone-500",children:s.reviewed_at?new Date(s.reviewed_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Date unavailable"})]})]})]}),s.slot&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4 text-primary-500"})," Rotation Details"]}),e.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-stone-200 text-primary-600 flex items-center justify-center shrink-0",children:e.jsx(ve,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-stone-900",children:s.slot.title}),e.jsx("p",{className:"text-sm text-stone-500",children:s.slot.site?.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(re,{className:"w-4 h-4 text-stone-400"}),s.slot.specialty]}),s.slot.site&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(Ne,{className:"w-4 h-4 text-stone-400"}),s.slot.site.city,", ",s.slot.site.state]}),e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(ye,{className:"w-4 h-4 text-stone-400"}),new Date(s.slot.start_date).toLocaleDateString()," - ",new Date(s.slot.end_date).toLocaleDateString()]}),s.slot.shift_schedule&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(D,{className:"w-4 h-4 text-stone-400"}),s.slot.shift_schedule]}),e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(Qe,{className:"w-4 h-4 text-stone-400"}),s.slot.filled,"/",s.slot.capacity," spots filled"]}),s.slot.site&&e.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[e.jsx(it,{className:"w-4 h-4 text-amber-500"}),s.slot.site.rating,"/5 (",s.slot.site.review_count," reviews)"]})]}),s.slot.description&&e.jsx("p",{className:"text-sm text-stone-600 pt-1 border-t border-stone-200",children:s.slot.description})]})]}),s.cover_letter&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-primary-500"})," Your Cover Letter"]}),e.jsx("div",{className:"bg-stone-50 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-wrap leading-relaxed",children:s.cover_letter})})]}),s.notes&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-primary-500"})," Site Response"]}),e.jsx("div",{className:`rounded-xl p-4 ${s.status==="accepted"?"bg-green-50 border border-green-200":s.status==="declined"?"bg-red-50 border border-red-200":"bg-stone-50 border border-stone-200"}`,children:e.jsx("p",{className:"text-sm text-stone-700 italic",children:s.notes})})]}),s.slot?.requirements&&s.slot.requirements.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(ot,{className:"w-4 h-4 text-primary-500"})," Site Requirements"]}),e.jsx("div",{className:"space-y-2",children:s.slot.requirements.map(i=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"w-4 h-4 text-green-500 shrink-0"}),e.jsx("span",{className:"text-stone-700",children:i})]},i))})]}),s.status!=="withdrawn"&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(lt,{className:"w-4 h-4 text-primary-500"})," Next Steps"]}),e.jsx("div",{className:"space-y-2",children:ee(s.status).map((i,C)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-xs font-medium shrink-0",children:C+1}),e.jsx("span",{className:"text-stone-700",children:i})]},C))})]}),s.status==="accepted"&&s.slot&&s.slot.cost>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-primary-500"})," Payment"]}),s.payment_status==="paid"?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-green-600 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Payment Complete"}),e.jsxs("p",{className:"text-xs text-green-700",children:["Placement fee of $",Number(s.slot.cost).toFixed(2)," has been paid"]})]})]}):e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ct,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Payment Required"}),e.jsxs("p",{className:"text-xs text-amber-700 mt-0.5",children:["This rotation has a placement fee of ",e.jsxs("strong",{children:["$",Number(s.slot.cost).toFixed(2)]})]}),e.jsxs(A,{size:"sm",className:"mt-3",onClick:()=>{S(s),h(!0)},children:[e.jsx(de,{className:"w-4 h-4"})," Pay Now"]})]})]})})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-2 border-t border-stone-200",children:[e.jsx(A,{variant:"ghost",onClick:()=>{u(!1),o(null)},children:"Close"}),s.status==="accepted"&&e.jsxs(A,{onClick:()=>n("/hours"),children:[e.jsx(D,{className:"w-4 h-4"})," Go to Hour Log"]}),s.status==="pending"&&e.jsxs(A,{variant:"danger",onClick:()=>x(!0),children:[e.jsx(V,{className:"w-4 h-4"})," Withdraw Application"]}),(s.status==="declined"||s.status==="withdrawn")&&e.jsxs(A,{onClick:()=>{u(!1),n("/rotations")},children:[e.jsx(ge,{className:"w-4 h-4"})," Find More Rotations"]})]})]})}),e.jsx(je,{isOpen:l,onClose:()=>x(!1),title:"Withdraw Application",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ie,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Are you sure you want to withdraw?"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. You would need to submit a new application if you change your mind."})]})]})}),s&&e.jsxs("div",{className:"text-sm text-stone-600",children:[e.jsx("p",{className:"font-medium",children:s.slot?.title}),e.jsx("p",{className:"text-stone-500",children:s.slot?.site?.name})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(A,{variant:"ghost",onClick:()=>x(!1),children:"Keep Application"}),e.jsxs(A,{variant:"danger",onClick:()=>s&&X(s.id),isLoading:a.isPending,children:[e.jsx(V,{className:"w-4 h-4"})," Withdraw"]})]})]})}),c&&c.slot&&e.jsx(zt,{open:g,onClose:()=>{h(!1),S(null)},onSuccess:()=>{ne.success("Payment successful! Your rotation placement is confirmed."),h(!1),S(null),u(!1),o(null)},applicationId:c.id,slotTitle:c.slot.title,amount:c.slot.cost})]})}export{ds as Applications};
