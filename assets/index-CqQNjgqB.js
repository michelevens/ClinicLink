function l7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uv={exports:{}},ju={};var O5;function o7(){if(O5)return ju;O5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var d in a)d!=="key"&&(i[d]=a[d])}else i=a;return a=i.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:i}}return ju.Fragment=t,ju.jsx=n,ju.jsxs=n,ju}var T5;function c7(){return T5||(T5=1,Uv.exports=o7()),Uv.exports}var s=c7(),Bv={exports:{}},Xe={};var R5;function d7(){if(R5)return Xe;R5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function _(z,V,re){this.props=z,this.context=V,this.refs=j,this.updater=re||y}_.prototype.isReactComponent={},_.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=_.prototype;function E(z,V,re){this.props=z,this.context=V,this.refs=j,this.updater=re||y}var k=E.prototype=new C;k.constructor=E,N(k,_.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function T(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function X(z,V,re){var $=re.ref;return{$$typeof:e,type:z,key:V,ref:$!==void 0?$:null,props:re}}function ae(z,V){return X(z.type,V,z.props)}function G(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function M(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(re){return V[re]})}var Y=/\/+/g;function Z(z,V){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):V.toString(36)}function fe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(T,T):(z.status="pending",z.then(function(V){z.status==="pending"&&(z.status="fulfilled",z.value=V)},function(V){z.status==="pending"&&(z.status="rejected",z.reason=V)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function U(z,V,re,$,ve){var W=typeof z;(W==="undefined"||W==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(W){case"bigint":case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case e:case t:we=!0;break;case m:return we=z._init,U(we(z._payload),V,re,$,ve)}}if(we)return ve=ve(z),we=$===""?"."+Z(z,0):$,O(ve)?(re="",we!=null&&(re=we.replace(Y,"$&/")+"/"),U(ve,V,re,"",function(Me){return Me})):ve!=null&&(G(ve)&&(ve=ae(ve,re+(ve.key==null||z&&z.key===ve.key?"":(""+ve.key).replace(Y,"$&/")+"/")+we)),V.push(ve)),1;we=0;var De=$===""?".":$+":";if(O(z))for(var pe=0;pe<z.length;pe++)$=z[pe],W=De+Z($,pe),we+=U($,V,re,W,ve);else if(pe=v(z),typeof pe=="function")for(z=pe.call(z),pe=0;!($=z.next()).done;)$=$.value,W=De+Z($,pe++),we+=U($,V,re,W,ve);else if(W==="object"){if(typeof z.then=="function")return U(fe(z),V,re,$,ve);throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return we}function L(z,V,re){if(z==null)return z;var $=[],ve=0;return U(z,$,"","",function(W){return V.call(re,W,ve++)}),$}function I(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(re){(z._status===0||z._status===-1)&&(z._status=1,z._result=re)},function(re){(z._status===0||z._status===-1)&&(z._status=2,z._result=re)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var se=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ye={map:L,forEach:function(z,V,re){L(z,function(){V.apply(this,arguments)},re)},count:function(z){var V=0;return L(z,function(){V++}),V},toArray:function(z){return L(z,function(V){return V})||[]},only:function(z){if(!G(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Xe.Activity=p,Xe.Children=ye,Xe.Component=_,Xe.Fragment=n,Xe.Profiler=a,Xe.PureComponent=E,Xe.StrictMode=r,Xe.Suspense=u,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return D.H.useMemoCache(z)}},Xe.cache=function(z){return function(){return z.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(z,V,re){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var $=N({},z.props),ve=z.key;if(V!=null)for(W in V.key!==void 0&&(ve=""+V.key),V)!P.call(V,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&V.ref===void 0||($[W]=V[W]);var W=arguments.length-2;if(W===1)$.children=re;else if(1<W){for(var we=Array(W),De=0;De<W;De++)we[De]=arguments[De+2];$.children=we}return X(z.type,ve,$)},Xe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},Xe.createElement=function(z,V,re){var $,ve={},W=null;if(V!=null)for($ in V.key!==void 0&&(W=""+V.key),V)P.call(V,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ve[$]=V[$]);var we=arguments.length-2;if(we===1)ve.children=re;else if(1<we){for(var De=Array(we),pe=0;pe<we;pe++)De[pe]=arguments[pe+2];ve.children=De}if(z&&z.defaultProps)for($ in we=z.defaultProps,we)ve[$]===void 0&&(ve[$]=we[$]);return X(z,W,ve)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(z){return{$$typeof:d,render:z}},Xe.isValidElement=G,Xe.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:I}},Xe.memo=function(z,V){return{$$typeof:h,type:z,compare:V===void 0?null:V}},Xe.startTransition=function(z){var V=D.T,re={};D.T=re;try{var $=z(),ve=D.S;ve!==null&&ve(re,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(T,se)}catch(W){se(W)}finally{V!==null&&re.types!==null&&(V.types=re.types),D.T=V}},Xe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Xe.use=function(z){return D.H.use(z)},Xe.useActionState=function(z,V,re){return D.H.useActionState(z,V,re)},Xe.useCallback=function(z,V){return D.H.useCallback(z,V)},Xe.useContext=function(z){return D.H.useContext(z)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(z,V){return D.H.useDeferredValue(z,V)},Xe.useEffect=function(z,V){return D.H.useEffect(z,V)},Xe.useEffectEvent=function(z){return D.H.useEffectEvent(z)},Xe.useId=function(){return D.H.useId()},Xe.useImperativeHandle=function(z,V,re){return D.H.useImperativeHandle(z,V,re)},Xe.useInsertionEffect=function(z,V){return D.H.useInsertionEffect(z,V)},Xe.useLayoutEffect=function(z,V){return D.H.useLayoutEffect(z,V)},Xe.useMemo=function(z,V){return D.H.useMemo(z,V)},Xe.useOptimistic=function(z,V){return D.H.useOptimistic(z,V)},Xe.useReducer=function(z,V,re){return D.H.useReducer(z,V,re)},Xe.useRef=function(z){return D.H.useRef(z)},Xe.useState=function(z){return D.H.useState(z)},Xe.useSyncExternalStore=function(z,V,re){return D.H.useSyncExternalStore(z,V,re)},Xe.useTransition=function(){return D.H.useTransition()},Xe.version="19.2.4",Xe}var M5;function cd(){return M5||(M5=1,Bv.exports=d7()),Bv.exports}var b=cd();const _e=Da(b),u7=l7({__proto__:null,default:_e},[b]);var qv={exports:{}},wu={},$v={exports:{}},Hv={};var P5;function f7(){return P5||(P5=1,(function(e){function t(U,L){var I=U.length;U.push(L);e:for(;0<I;){var se=I-1>>>1,ye=U[se];if(0<a(ye,L))U[se]=L,U[I]=ye,I=se;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var L=U[0],I=U.pop();if(I!==L){U[0]=I;e:for(var se=0,ye=U.length,z=ye>>>1;se<z;){var V=2*(se+1)-1,re=U[V],$=V+1,ve=U[$];if(0>a(re,I))$<ye&&0>a(ve,re)?(U[se]=ve,U[$]=I,se=$):(U[se]=re,U[V]=I,se=V);else if($<ye&&0>a(ve,I))U[se]=ve,U[$]=I,se=$;else break e}}return L}function a(U,L){var I=U.sortIndex-L.sortIndex;return I!==0?I:U.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var u=[],h=[],m=1,p=null,g=3,v=!1,y=!1,N=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(U){for(var L=n(h);L!==null;){if(L.callback===null)r(h);else if(L.startTime<=U)r(h),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(h)}}function O(U){if(N=!1,k(U),!y)if(n(u)!==null)y=!0,T||(T=!0,M());else{var L=n(h);L!==null&&fe(O,L.startTime-U)}}var T=!1,D=-1,P=5,X=-1;function ae(){return j?!0:!(e.unstable_now()-X<P)}function G(){if(j=!1,T){var U=e.unstable_now();X=U;var L=!0;try{e:{y=!1,N&&(N=!1,C(D),D=-1),v=!0;var I=g;try{t:{for(k(U),p=n(u);p!==null&&!(p.expirationTime>U&&ae());){var se=p.callback;if(typeof se=="function"){p.callback=null,g=p.priorityLevel;var ye=se(p.expirationTime<=U);if(U=e.unstable_now(),typeof ye=="function"){p.callback=ye,k(U),L=!0;break t}p===n(u)&&r(u),k(U)}else r(u);p=n(u)}if(p!==null)L=!0;else{var z=n(h);z!==null&&fe(O,z.startTime-U),L=!1}}break e}finally{p=null,g=I,v=!1}L=void 0}}finally{L?M():T=!1}}}var M;if(typeof E=="function")M=function(){E(G)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=G,M=function(){Z.postMessage(null)}}else M=function(){_(G,0)};function fe(U,L){D=_(function(){U(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var I=g;g=L;try{return U()}finally{g=I}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(U,L){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=g;g=U;try{return L()}finally{g=I}},e.unstable_scheduleCallback=function(U,L,I){var se=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?se+I:se):I=se,U){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=I+ye,U={id:m++,callback:L,priorityLevel:U,startTime:I,expirationTime:ye,sortIndex:-1},I>se?(U.sortIndex=I,t(h,U),n(u)===null&&U===n(h)&&(N?(C(D),D=-1):N=!0,fe(O,I-se))):(U.sortIndex=ye,t(u,U),y||v||(y=!0,T||(T=!0,M()))),U},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(U){var L=g;return function(){var I=g;g=L;try{return U.apply(this,arguments)}finally{g=I}}}})(Hv)),Hv}var I5;function m7(){return I5||(I5=1,$v.exports=f7()),$v.exports}var Fv={exports:{}},hs={};var L5;function h7(){if(L5)return hs;L5=1;var e=cd();function t(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:u,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hs.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return i(u,h,null,m)},hs.flushSync=function(u){var h=c.T,m=r.p;try{if(c.T=null,r.p=2,u)return u()}finally{c.T=h,r.p=m,r.d.f()}},hs.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},hs.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},hs.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,p=d(m,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):m==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},hs.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=d(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},hs.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=d(m,h.crossOrigin);r.d.L(u,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},hs.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=d(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},hs.requestFormReset=function(u){r.d.r(u)},hs.unstable_batchedUpdates=function(u,h){return u(h)},hs.useFormState=function(u,h,m){return c.H.useFormState(u,h,m)},hs.useFormStatus=function(){return c.H.useHostTransitionStatus()},hs.version="19.2.4",hs}var z5;function AO(){if(z5)return Fv.exports;z5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fv.exports=h7(),Fv.exports}var U5;function p7(){if(U5)return wu;U5=1;var e=m7(),t=cd(),n=AO();function r(l){var o="https://react.dev/errors/"+l;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var o=l,f=l;if(l.alternate)for(;o.return;)o=o.return;else{l=o;do o=l,(o.flags&4098)!==0&&(f=o.return),l=o.return;while(l)}return o.tag===3?f:null}function c(l){if(l.tag===13){var o=l.memoizedState;if(o===null&&(l=l.alternate,l!==null&&(o=l.memoizedState)),o!==null)return o.dehydrated}return null}function d(l){if(l.tag===31){var o=l.memoizedState;if(o===null&&(l=l.alternate,l!==null&&(o=l.memoizedState)),o!==null)return o.dehydrated}return null}function u(l){if(i(l)!==l)throw Error(r(188))}function h(l){var o=l.alternate;if(!o){if(o=i(l),o===null)throw Error(r(188));return o!==l?null:l}for(var f=l,x=o;;){var w=f.return;if(w===null)break;var S=w.alternate;if(S===null){if(x=w.return,x!==null){f=x;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===f)return u(w),l;if(S===x)return u(w),o;S=S.sibling}throw Error(r(188))}if(f.return!==x.return)f=w,x=S;else{for(var A=!1,R=w.child;R;){if(R===f){A=!0,f=w,x=S;break}if(R===x){A=!0,x=w,f=S;break}R=R.sibling}if(!A){for(R=S.child;R;){if(R===f){A=!0,f=S,x=w;break}if(R===x){A=!0,x=S,f=w;break}R=R.sibling}if(!A)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?l:o}function m(l){var o=l.tag;if(o===5||o===26||o===27||o===6)return l;for(l=l.child;l!==null;){if(o=m(l),o!==null)return o;l=l.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:(l=G&&l[G]||l["@@iterator"],typeof l=="function"?l:null)}var Y=Symbol.for("react.client.reference");function Z(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Y?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case N:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList";case X:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case E:return l.displayName||"Context";case C:return(l._context.displayName||"Context")+".Consumer";case k:var o=l.render;return l=l.displayName,l||(l=o.displayName||o.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case D:return o=l.displayName||null,o!==null?o:Z(l.type)||"Memo";case P:o=l._payload,l=l._init;try{return Z(l(o))}catch{}}return null}var fe=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},se=[],ye=-1;function z(l){return{current:l}}function V(l){0>ye||(l.current=se[ye],se[ye]=null,ye--)}function re(l,o){ye++,se[ye]=l.current,l.current=o}var $=z(null),ve=z(null),W=z(null),we=z(null);function De(l,o){switch(re(W,o),re(ve,l),re($,null),o.nodeType){case 9:case 11:l=(l=o.documentElement)&&(l=l.namespaceURI)?e5(l):0;break;default:if(l=o.tagName,o=o.namespaceURI)o=e5(o),l=t5(o,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}V($),re($,l)}function pe(){V($),V(ve),V(W)}function Me(l){l.memoizedState!==null&&re(we,l);var o=$.current,f=t5(o,l.type);o!==f&&(re(ve,l),re($,f))}function Ie(l){ve.current===l&&(V($),V(ve)),we.current===l&&(V(we),gu._currentValue=I)}var F,Ke;function te(l){if(F===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||"",Ke=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+l+Ke}var ke=!1;function et(l,o){if(!l||ke)return"";ke=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(xe){var ue=xe}Reflect.construct(l,[],Se)}else{try{Se.call()}catch(xe){ue=xe}l.call(Se.prototype)}}else{try{throw Error()}catch(xe){ue=xe}(Se=l())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(xe){if(xe&&ue&&typeof xe.stack=="string")return[xe.stack,ue.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),A=S[0],R=S[1];if(A&&R){var H=A.split(`
`),ce=R.split(`
`);for(w=x=0;x<H.length&&!H[x].includes("DetermineComponentFrameRoot");)x++;for(;w<ce.length&&!ce[w].includes("DetermineComponentFrameRoot");)w++;if(x===H.length||w===ce.length)for(x=H.length-1,w=ce.length-1;1<=x&&0<=w&&H[x]!==ce[w];)w--;for(;1<=x&&0<=w;x--,w--)if(H[x]!==ce[w]){if(x!==1||w!==1)do if(x--,w--,0>w||H[x]!==ce[w]){var be=`
`+H[x].replace(" at new "," at ");return l.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",l.displayName)),be}while(1<=x&&0<=w);break}}}finally{ke=!1,Error.prepareStackTrace=f}return(f=l?l.displayName||l.name:"")?te(f):""}function ft(l,o){switch(l.tag){case 26:case 27:case 5:return te(l.type);case 16:return te("Lazy");case 13:return l.child!==o&&o!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return et(l.type,!1);case 11:return et(l.type.render,!1);case 1:return et(l.type,!0);case 31:return te("Activity");default:return""}}function Pn(l){try{var o="",f=null;do o+=ft(l,f),f=l,l=l.return;while(l);return o}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var ie=Object.prototype.hasOwnProperty,Ne=e.unstable_scheduleCallback,st=e.unstable_cancelCallback,Oe=e.unstable_shouldYield,he=e.unstable_requestPaint,Te=e.unstable_now,rt=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,Bt=e.unstable_UserBlockingPriority,aa=e.unstable_NormalPriority,ia=e.unstable_LowPriority,Lr=e.unstable_IdlePriority,Go=e.log,la=e.unstable_setDisableYieldValue,Ma=null,En=null;function Rs(l){if(typeof Go=="function"&&la(l),En&&typeof En.setStrictMode=="function")try{En.setStrictMode(Ma,l)}catch{}}var Vn=Math.clz32?Math.clz32:fr,Od=Math.log,Ol=Math.LN2;function fr(l){return l>>>=0,l===0?32:31-(Od(l)/Ol|0)|0}var de=256,Ft=262144,zr=4194304;function oa(l){var o=l&42;if(o!==0)return o;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Qe(l,o,f){var x=l.pendingLanes;if(x===0)return 0;var w=0,S=l.suspendedLanes,A=l.pingedLanes;l=l.warmLanes;var R=x&134217727;return R!==0?(x=R&~S,x!==0?w=oa(x):(A&=R,A!==0?w=oa(A):f||(f=R&~l,f!==0&&(w=oa(f))))):(R=x&~S,R!==0?w=oa(R):A!==0?w=oa(A):f||(f=x&~l,f!==0&&(w=oa(f)))),w===0?0:o!==0&&o!==w&&(o&S)===0&&(S=w&-w,f=o&-o,S>=f||S===32&&(f&4194048)!==0)?o:w}function en(l,o){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&o)===0}function Gn(l,o){switch(l){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(){var l=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),l}function Ci(l){for(var o=[],f=0;31>f;f++)o.push(l);return o}function un(l,o){l.pendingLanes|=o,o!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ms(l,o,f,x,w,S){var A=l.pendingLanes;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=f,l.entangledLanes&=f,l.errorRecoveryDisabledLanes&=f,l.shellSuspendCounter=0;var R=l.entanglements,H=l.expirationTimes,ce=l.hiddenUpdates;for(f=A&~f;0<f;){var be=31-Vn(f),Se=1<<be;R[be]=0,H[be]=-1;var ue=ce[be];if(ue!==null)for(ce[be]=null,be=0;be<ue.length;be++){var xe=ue[be];xe!==null&&(xe.lane&=-536870913)}f&=~Se}x!==0&&Tl(l,x,0),S!==0&&w===0&&l.tag!==0&&(l.suspendedLanes|=S&~(A&~o))}function Tl(l,o,f){l.pendingLanes|=o,l.suspendedLanes&=~o;var x=31-Vn(o);l.entangledLanes|=o,l.entanglements[x]=l.entanglements[x]|1073741824|f&261930}function Ps(l,o){var f=l.entangledLanes|=o;for(l=l.entanglements;f;){var x=31-Vn(f),w=1<<x;w&o|l[x]&o&&(l[x]|=o),f&=~w}}function Is(l,o){var f=o&-o;return f=(f&42)!==0?1:Ko(f),(f&(l.suspendedLanes|o))!==0?0:f}function Ko(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Ur(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function kg(){var l=L.p;return l!==0?l:(l=window.event,l===void 0?32:S5(l.type))}function BS(l,o){var f=L.p;try{return L.p=l,o()}finally{L.p=f}}var Ei=Math.random().toString(36).slice(2),ns="__reactFiber$"+Ei,Ls="__reactProps$"+Ei,Yo="__reactContainer$"+Ei,Dg="__reactEvents$"+Ei,Qz="__reactListeners$"+Ei,Xz="__reactHandles$"+Ei,qS="__reactResources$"+Ei,Td="__reactMarker$"+Ei;function Og(l){delete l[ns],delete l[Ls],delete l[Dg],delete l[Qz],delete l[Xz]}function Wo(l){var o=l[ns];if(o)return o;for(var f=l.parentNode;f;){if(o=f[Yo]||f[ns]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(l=o5(l);l!==null;){if(f=l[ns])return f;l=o5(l)}return o}l=f,f=l.parentNode}return null}function Qo(l){if(l=l[ns]||l[Yo]){var o=l.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return l}return null}function Rd(l){var o=l.tag;if(o===5||o===26||o===27||o===6)return l.stateNode;throw Error(r(33))}function Xo(l){var o=l[qS];return o||(o=l[qS]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kn(l){l[Td]=!0}var $S=new Set,HS={};function Rl(l,o){Zo(l,o),Zo(l+"Capture",o)}function Zo(l,o){for(HS[l]=o,l=0;l<o.length;l++)$S.add(o[l])}var Zz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),FS={},VS={};function Jz(l){return ie.call(VS,l)?!0:ie.call(FS,l)?!1:Zz.test(l)?VS[l]=!0:(FS[l]=!0,!1)}function Zf(l,o,f){if(Jz(o))if(f===null)l.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":l.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(o);return}}l.setAttribute(o,""+f)}}function Jf(l,o,f){if(f===null)l.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(o);return}l.setAttribute(o,""+f)}}function Pa(l,o,f,x){if(x===null)l.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttributeNS(o,f,""+x)}}function mr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function GS(l){var o=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function e8(l,o,f){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,o);if(!l.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var w=x.get,S=x.set;return Object.defineProperty(l,o,{configurable:!0,get:function(){return w.call(this)},set:function(A){f=""+A,S.call(this,A)}}),Object.defineProperty(l,o,{enumerable:x.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){l._valueTracker=null,delete l[o]}}}}function Tg(l){if(!l._valueTracker){var o=GS(l)?"checked":"value";l._valueTracker=e8(l,o,""+l[o])}}function KS(l){if(!l)return!1;var o=l._valueTracker;if(!o)return!0;var f=o.getValue(),x="";return l&&(x=GS(l)?l.checked?"true":"false":l.value),l=x,l!==f?(o.setValue(l),!0):!1}function em(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var t8=/[\n"\\]/g;function hr(l){return l.replace(t8,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Rg(l,o,f,x,w,S,A,R){l.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?l.type=A:l.removeAttribute("type"),o!=null?A==="number"?(o===0&&l.value===""||l.value!=o)&&(l.value=""+mr(o)):l.value!==""+mr(o)&&(l.value=""+mr(o)):A!=="submit"&&A!=="reset"||l.removeAttribute("value"),o!=null?Mg(l,A,mr(o)):f!=null?Mg(l,A,mr(f)):x!=null&&l.removeAttribute("value"),w==null&&S!=null&&(l.defaultChecked=!!S),w!=null&&(l.checked=w&&typeof w!="function"&&typeof w!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?l.name=""+mr(R):l.removeAttribute("name")}function YS(l,o,f,x,w,S,A,R){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(l.type=S),o!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Tg(l);return}f=f!=null?""+mr(f):"",o=o!=null?""+mr(o):f,R||o===l.value||(l.value=o),l.defaultValue=o}x=x??w,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=R?l.checked:!!x,l.defaultChecked=!!x,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(l.name=A),Tg(l)}function Mg(l,o,f){o==="number"&&em(l.ownerDocument)===l||l.defaultValue===""+f||(l.defaultValue=""+f)}function Jo(l,o,f,x){if(l=l.options,o){o={};for(var w=0;w<f.length;w++)o["$"+f[w]]=!0;for(f=0;f<l.length;f++)w=o.hasOwnProperty("$"+l[f].value),l[f].selected!==w&&(l[f].selected=w),w&&x&&(l[f].defaultSelected=!0)}else{for(f=""+mr(f),o=null,w=0;w<l.length;w++){if(l[w].value===f){l[w].selected=!0,x&&(l[w].defaultSelected=!0);return}o!==null||l[w].disabled||(o=l[w])}o!==null&&(o.selected=!0)}}function WS(l,o,f){if(o!=null&&(o=""+mr(o),o!==l.value&&(l.value=o),f==null)){l.defaultValue!==o&&(l.defaultValue=o);return}l.defaultValue=f!=null?""+mr(f):""}function QS(l,o,f,x){if(o==null){if(x!=null){if(f!=null)throw Error(r(92));if(fe(x)){if(1<x.length)throw Error(r(93));x=x[0]}f=x}f==null&&(f=""),o=f}f=mr(o),l.defaultValue=f,x=l.textContent,x===f&&x!==""&&x!==null&&(l.value=x),Tg(l)}function ec(l,o){if(o){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=o;return}}l.textContent=o}var n8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function XS(l,o,f){var x=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?x?l.setProperty(o,""):o==="float"?l.cssFloat="":l[o]="":x?l.setProperty(o,f):typeof f!="number"||f===0||n8.has(o)?o==="float"?l.cssFloat=f:l[o]=(""+f).trim():l[o]=f+"px"}function ZS(l,o,f){if(o!=null&&typeof o!="object")throw Error(r(62));if(l=l.style,f!=null){for(var x in f)!f.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var w in o)x=o[w],o.hasOwnProperty(w)&&f[w]!==x&&XS(l,w,x)}else for(var S in o)o.hasOwnProperty(S)&&XS(l,S,o[S])}function Pg(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tm(l){return r8.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ia(){}var Ig=null;function Lg(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var tc=null,nc=null;function JS(l){var o=Qo(l);if(o&&(l=o.stateNode)){var f=l[Ls]||null;e:switch(l=o.stateNode,o.type){case"input":if(Rg(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+hr(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var x=f[o];if(x!==l&&x.form===l.form){var w=x[Ls]||null;if(!w)throw Error(r(90));Rg(x,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<f.length;o++)x=f[o],x.form===l.form&&KS(x)}break e;case"textarea":WS(l,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&Jo(l,!!f.multiple,o,!1)}}}var zg=!1;function e2(l,o,f){if(zg)return l(o,f);zg=!0;try{var x=l(o);return x}finally{if(zg=!1,(tc!==null||nc!==null)&&($m(),tc&&(o=tc,l=nc,nc=tc=null,JS(o),l)))for(o=0;o<l.length;o++)JS(l[o])}}function Md(l,o){var f=l.stateNode;if(f===null)return null;var x=f[Ls]||null;if(x===null)return null;f=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=!1;if(La)try{var Pd={};Object.defineProperty(Pd,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{Ug=!1}var Ai=null,Bg=null,nm=null;function t2(){if(nm)return nm;var l,o=Bg,f=o.length,x,w="value"in Ai?Ai.value:Ai.textContent,S=w.length;for(l=0;l<f&&o[l]===w[l];l++);var A=f-l;for(x=1;x<=A&&o[f-x]===w[S-x];x++);return nm=w.slice(l,1<x?1-x:void 0)}function sm(l){var o=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&o===13&&(l=13)):l=o,l===10&&(l=13),32<=l||l===13?l:0}function rm(){return!0}function n2(){return!1}function zs(l){function o(f,x,w,S,A){this._reactName=f,this._targetInst=w,this.type=x,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var R in l)l.hasOwnProperty(R)&&(f=l[R],this[R]=f?f(S):S[R]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?rm:n2,this.isPropagationStopped=n2,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=rm)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=rm)},persist:function(){},isPersistent:rm}),o}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=zs(Ml),Id=p({},Ml,{view:0,detail:0}),a8=zs(Id),qg,$g,Ld,im=p({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ld&&(Ld&&l.type==="mousemove"?(qg=l.screenX-Ld.screenX,$g=l.screenY-Ld.screenY):$g=qg=0,Ld=l),qg)},movementY:function(l){return"movementY"in l?l.movementY:$g}}),s2=zs(im),i8=p({},im,{dataTransfer:0}),l8=zs(i8),o8=p({},Id,{relatedTarget:0}),Hg=zs(o8),c8=p({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),d8=zs(c8),u8=p({},Ml,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),f8=zs(u8),m8=p({},Ml,{data:0}),r2=zs(m8),h8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g8(l){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(l):(l=x8[l])?!!o[l]:!1}function Fg(){return g8}var v8=p({},Id,{key:function(l){if(l.key){var o=h8[l.key]||l.key;if(o!=="Unidentified")return o}return l.type==="keypress"?(l=sm(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?p8[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fg,charCode:function(l){return l.type==="keypress"?sm(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?sm(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),y8=zs(v8),b8=p({},im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a2=zs(b8),j8=p({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fg}),w8=zs(j8),N8=p({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),S8=zs(N8),_8=p({},im,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),C8=zs(_8),E8=p({},Ml,{newState:0,oldState:0}),A8=zs(E8),k8=[9,13,27,32],Vg=La&&"CompositionEvent"in window,zd=null;La&&"documentMode"in document&&(zd=document.documentMode);var D8=La&&"TextEvent"in window&&!zd,i2=La&&(!Vg||zd&&8<zd&&11>=zd),l2=" ",o2=!1;function c2(l,o){switch(l){case"keyup":return k8.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d2(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var sc=!1;function O8(l,o){switch(l){case"compositionend":return d2(o);case"keypress":return o.which!==32?null:(o2=!0,l2);case"textInput":return l=o.data,l===l2&&o2?null:l;default:return null}}function T8(l,o){if(sc)return l==="compositionend"||!Vg&&c2(l,o)?(l=t2(),nm=Bg=Ai=null,sc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return i2&&o.locale!=="ko"?null:o.data;default:return null}}var R8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u2(l){var o=l&&l.nodeName&&l.nodeName.toLowerCase();return o==="input"?!!R8[l.type]:o==="textarea"}function f2(l,o,f,x){tc?nc?nc.push(x):nc=[x]:tc=x,o=Wm(o,"onChange"),0<o.length&&(f=new am("onChange","change",null,f,x),l.push({event:f,listeners:o}))}var Ud=null,Bd=null;function M8(l){YC(l,0)}function lm(l){var o=Rd(l);if(KS(o))return l}function m2(l,o){if(l==="change")return o}var h2=!1;if(La){var Gg;if(La){var Kg="oninput"in document;if(!Kg){var p2=document.createElement("div");p2.setAttribute("oninput","return;"),Kg=typeof p2.oninput=="function"}Gg=Kg}else Gg=!1;h2=Gg&&(!document.documentMode||9<document.documentMode)}function x2(){Ud&&(Ud.detachEvent("onpropertychange",g2),Bd=Ud=null)}function g2(l){if(l.propertyName==="value"&&lm(Bd)){var o=[];f2(o,Bd,l,Lg(l)),e2(M8,o)}}function P8(l,o,f){l==="focusin"?(x2(),Ud=o,Bd=f,Ud.attachEvent("onpropertychange",g2)):l==="focusout"&&x2()}function I8(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return lm(Bd)}function L8(l,o){if(l==="click")return lm(o)}function z8(l,o){if(l==="input"||l==="change")return lm(o)}function U8(l,o){return l===o&&(l!==0||1/l===1/o)||l!==l&&o!==o}var Xs=typeof Object.is=="function"?Object.is:U8;function qd(l,o){if(Xs(l,o))return!0;if(typeof l!="object"||l===null||typeof o!="object"||o===null)return!1;var f=Object.keys(l),x=Object.keys(o);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var w=f[x];if(!ie.call(o,w)||!Xs(l[w],o[w]))return!1}return!0}function v2(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function y2(l,o){var f=v2(l);l=0;for(var x;f;){if(f.nodeType===3){if(x=l+f.textContent.length,l<=o&&x>=o)return{node:f,offset:o-l};l=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=v2(f)}}function b2(l,o){return l&&o?l===o?!0:l&&l.nodeType===3?!1:o&&o.nodeType===3?b2(l,o.parentNode):"contains"in l?l.contains(o):l.compareDocumentPosition?!!(l.compareDocumentPosition(o)&16):!1:!1}function j2(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var o=em(l.document);o instanceof l.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)l=o.contentWindow;else break;o=em(l.document)}return o}function Yg(l){var o=l&&l.nodeName&&l.nodeName.toLowerCase();return o&&(o==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||o==="textarea"||l.contentEditable==="true")}var B8=La&&"documentMode"in document&&11>=document.documentMode,rc=null,Wg=null,$d=null,Qg=!1;function w2(l,o,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Qg||rc==null||rc!==em(x)||(x=rc,"selectionStart"in x&&Yg(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),$d&&qd($d,x)||($d=x,x=Wm(Wg,"onSelect"),0<x.length&&(o=new am("onSelect","select",null,o,f),l.push({event:o,listeners:x}),o.target=rc)))}function Pl(l,o){var f={};return f[l.toLowerCase()]=o.toLowerCase(),f["Webkit"+l]="webkit"+o,f["Moz"+l]="moz"+o,f}var ac={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},Xg={},N2={};La&&(N2=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function Il(l){if(Xg[l])return Xg[l];if(!ac[l])return l;var o=ac[l],f;for(f in o)if(o.hasOwnProperty(f)&&f in N2)return Xg[l]=o[f];return l}var S2=Il("animationend"),_2=Il("animationiteration"),C2=Il("animationstart"),q8=Il("transitionrun"),$8=Il("transitionstart"),H8=Il("transitioncancel"),E2=Il("transitionend"),A2=new Map,Zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zg.push("scrollEnd");function Br(l,o){A2.set(l,o),Rl(o,[l])}var om=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},pr=[],ic=0,Jg=0;function cm(){for(var l=ic,o=Jg=ic=0;o<l;){var f=pr[o];pr[o++]=null;var x=pr[o];pr[o++]=null;var w=pr[o];pr[o++]=null;var S=pr[o];if(pr[o++]=null,x!==null&&w!==null){var A=x.pending;A===null?w.next=w:(w.next=A.next,A.next=w),x.pending=w}S!==0&&k2(f,w,S)}}function dm(l,o,f,x){pr[ic++]=l,pr[ic++]=o,pr[ic++]=f,pr[ic++]=x,Jg|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function e0(l,o,f,x){return dm(l,o,f,x),um(l)}function Ll(l,o){return dm(l,null,null,o),um(l)}function k2(l,o,f){l.lanes|=f;var x=l.alternate;x!==null&&(x.lanes|=f);for(var w=!1,S=l.return;S!==null;)S.childLanes|=f,x=S.alternate,x!==null&&(x.childLanes|=f),S.tag===22&&(l=S.stateNode,l===null||l._visibility&1||(w=!0)),l=S,S=S.return;return l.tag===3?(S=l.stateNode,w&&o!==null&&(w=31-Vn(f),l=S.hiddenUpdates,x=l[w],x===null?l[w]=[o]:x.push(o),o.lane=f|536870912),S):null}function um(l){if(50<du)throw du=0,cv=null,Error(r(185));for(var o=l.return;o!==null;)l=o,o=l.return;return l.tag===3?l.stateNode:null}var lc={};function F8(l,o,f,x){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(l,o,f,x){return new F8(l,o,f,x)}function t0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function za(l,o){var f=l.alternate;return f===null?(f=Zs(l.tag,o,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=o,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&65011712,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,o=l.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f.refCleanup=l.refCleanup,f}function D2(l,o){l.flags&=65011714;var f=l.alternate;return f===null?(l.childLanes=0,l.lanes=o,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,o=f.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),l}function fm(l,o,f,x,w,S){var A=0;if(x=l,typeof l=="function")t0(l)&&(A=1);else if(typeof l=="string")A=WU(l,f,$.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case X:return l=Zs(31,f,o,w),l.elementType=X,l.lanes=S,l;case N:return zl(f.children,w,S,o);case j:A=8,w|=24;break;case _:return l=Zs(12,f,o,w|2),l.elementType=_,l.lanes=S,l;case O:return l=Zs(13,f,o,w),l.elementType=O,l.lanes=S,l;case T:return l=Zs(19,f,o,w),l.elementType=T,l.lanes=S,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case E:A=10;break e;case C:A=9;break e;case k:A=11;break e;case D:A=14;break e;case P:A=16,x=null;break e}A=29,f=Error(r(130,l===null?"null":typeof l,"")),x=null}return o=Zs(A,f,o,w),o.elementType=l,o.type=x,o.lanes=S,o}function zl(l,o,f,x){return l=Zs(7,l,x,o),l.lanes=f,l}function n0(l,o,f){return l=Zs(6,l,null,o),l.lanes=f,l}function O2(l){var o=Zs(18,null,null,0);return o.stateNode=l,o}function s0(l,o,f){return o=Zs(4,l.children!==null?l.children:[],l.key,o),o.lanes=f,o.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},o}var T2=new WeakMap;function xr(l,o){if(typeof l=="object"&&l!==null){var f=T2.get(l);return f!==void 0?f:(o={value:l,source:o,stack:Pn(o)},T2.set(l,o),o)}return{value:l,source:o,stack:Pn(o)}}var oc=[],cc=0,mm=null,Hd=0,gr=[],vr=0,ki=null,ca=1,da="";function Ua(l,o){oc[cc++]=Hd,oc[cc++]=mm,mm=l,Hd=o}function R2(l,o,f){gr[vr++]=ca,gr[vr++]=da,gr[vr++]=ki,ki=l;var x=ca;l=da;var w=32-Vn(x)-1;x&=~(1<<w),f+=1;var S=32-Vn(o)+w;if(30<S){var A=w-w%5;S=(x&(1<<A)-1).toString(32),x>>=A,w-=A,ca=1<<32-Vn(o)+w|f<<w|x,da=S+l}else ca=1<<S|f<<w|x,da=l}function r0(l){l.return!==null&&(Ua(l,1),R2(l,1,0))}function a0(l){for(;l===mm;)mm=oc[--cc],oc[cc]=null,Hd=oc[--cc],oc[cc]=null;for(;l===ki;)ki=gr[--vr],gr[vr]=null,da=gr[--vr],gr[vr]=null,ca=gr[--vr],gr[vr]=null}function M2(l,o){gr[vr++]=ca,gr[vr++]=da,gr[vr++]=ki,ca=o.id,da=o.overflow,ki=l}var ss=null,Wt=null,mt=!1,Di=null,yr=!1,i0=Error(r(519));function Oi(l){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fd(xr(o,l)),i0}function P2(l){var o=l.stateNode,f=l.type,x=l.memoizedProps;switch(o[ns]=l,o[Ls]=x,f){case"dialog":lt("cancel",o),lt("close",o);break;case"iframe":case"object":case"embed":lt("load",o);break;case"video":case"audio":for(f=0;f<fu.length;f++)lt(fu[f],o);break;case"source":lt("error",o);break;case"img":case"image":case"link":lt("error",o),lt("load",o);break;case"details":lt("toggle",o);break;case"input":lt("invalid",o),YS(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":lt("invalid",o);break;case"textarea":lt("invalid",o),QS(o,x.value,x.defaultValue,x.children)}f=x.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||x.suppressHydrationWarning===!0||ZC(o.textContent,f)?(x.popover!=null&&(lt("beforetoggle",o),lt("toggle",o)),x.onScroll!=null&&lt("scroll",o),x.onScrollEnd!=null&&lt("scrollend",o),x.onClick!=null&&(o.onclick=Ia),o=!0):o=!1,o||Oi(l,!0)}function I2(l){for(ss=l.return;ss;)switch(ss.tag){case 5:case 31:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:ss=ss.return}}function dc(l){if(l!==ss)return!1;if(!mt)return I2(l),mt=!0,!1;var o=l.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=l.type,f=!(f!=="form"&&f!=="button")||Sv(l.type,l.memoizedProps)),f=!f),f&&Wt&&Oi(l),I2(l),o===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wt=l5(l)}else if(o===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Wt=l5(l)}else o===27?(o=Wt,Vi(l.type)?(l=kv,kv=null,Wt=l):Wt=o):Wt=ss?jr(l.stateNode.nextSibling):null;return!0}function Ul(){Wt=ss=null,mt=!1}function l0(){var l=Di;return l!==null&&($s===null?$s=l:$s.push.apply($s,l),Di=null),l}function Fd(l){Di===null?Di=[l]:Di.push(l)}var o0=z(null),Bl=null,Ba=null;function Ti(l,o,f){re(o0,o._currentValue),o._currentValue=f}function qa(l){l._currentValue=o0.current,V(o0)}function c0(l,o,f){for(;l!==null;){var x=l.alternate;if((l.childLanes&o)!==o?(l.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),l===f)break;l=l.return}}function d0(l,o,f,x){var w=l.child;for(w!==null&&(w.return=l);w!==null;){var S=w.dependencies;if(S!==null){var A=w.child;S=S.firstContext;e:for(;S!==null;){var R=S;S=w;for(var H=0;H<o.length;H++)if(R.context===o[H]){S.lanes|=f,R=S.alternate,R!==null&&(R.lanes|=f),c0(S.return,f,l),x||(A=null);break e}S=R.next}}else if(w.tag===18){if(A=w.return,A===null)throw Error(r(341));A.lanes|=f,S=A.alternate,S!==null&&(S.lanes|=f),c0(A,f,l),A=null}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===l){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}}function uc(l,o,f,x){l=null;for(var w=o,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var A=w.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var R=w.type;Xs(w.pendingProps.value,A.value)||(l!==null?l.push(R):l=[R])}}else if(w===we.current){if(A=w.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(l!==null?l.push(gu):l=[gu])}w=w.return}l!==null&&d0(o,l,f,x),o.flags|=262144}function hm(l){for(l=l.firstContext;l!==null;){if(!Xs(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ql(l){Bl=l,Ba=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function rs(l){return L2(Bl,l)}function pm(l,o){return Bl===null&&ql(l),L2(l,o)}function L2(l,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Ba===null){if(l===null)throw Error(r(308));Ba=o,l.dependencies={lanes:0,firstContext:o},l.flags|=524288}else Ba=Ba.next=o;return f}var V8=typeof AbortController<"u"?AbortController:function(){var l=[],o=this.signal={aborted:!1,addEventListener:function(f,x){l.push(x)}};this.abort=function(){o.aborted=!0,l.forEach(function(f){return f()})}},G8=e.unstable_scheduleCallback,K8=e.unstable_NormalPriority,An={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function u0(){return{controller:new V8,data:new Map,refCount:0}}function Vd(l){l.refCount--,l.refCount===0&&G8(K8,function(){l.controller.abort()})}var Gd=null,f0=0,fc=0,mc=null;function Y8(l,o){if(Gd===null){var f=Gd=[];f0=0,fc=pv(),mc={status:"pending",value:void 0,then:function(x){f.push(x)}}}return f0++,o.then(z2,z2),o}function z2(){if(--f0===0&&Gd!==null){mc!==null&&(mc.status="fulfilled");var l=Gd;Gd=null,fc=0,mc=null;for(var o=0;o<l.length;o++)(0,l[o])()}}function W8(l,o){var f=[],x={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return l.then(function(){x.status="fulfilled",x.value=o;for(var w=0;w<f.length;w++)(0,f[w])(o)},function(w){for(x.status="rejected",x.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),x}var U2=U.S;U.S=function(l,o){wC=Te(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Y8(l,o),U2!==null&&U2(l,o)};var $l=z(null);function m0(){var l=$l.current;return l!==null?l:qt.pooledCache}function xm(l,o){o===null?re($l,$l.current):re($l,o.pool)}function B2(){var l=m0();return l===null?null:{parent:An._currentValue,pool:l}}var hc=Error(r(460)),h0=Error(r(474)),gm=Error(r(542)),vm={then:function(){}};function q2(l){return l=l.status,l==="fulfilled"||l==="rejected"}function $2(l,o,f){switch(f=l[f],f===void 0?l.push(o):f!==o&&(o.then(Ia,Ia),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw l=o.reason,F2(l),l;default:if(typeof o.status=="string")o.then(Ia,Ia);else{if(l=qt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=o,l.status="pending",l.then(function(x){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=x}},function(x){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw l=o.reason,F2(l),l}throw Fl=o,hc}}function Hl(l){try{var o=l._init;return o(l._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Fl=f,hc):f}}var Fl=null;function H2(){if(Fl===null)throw Error(r(459));var l=Fl;return Fl=null,l}function F2(l){if(l===hc||l===gm)throw Error(r(483))}var pc=null,Kd=0;function ym(l){var o=Kd;return Kd+=1,pc===null&&(pc=[]),$2(pc,l,o)}function Yd(l,o){o=o.props.ref,l.ref=o!==void 0?o:null}function bm(l,o){throw o.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(o),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":l)))}function V2(l){function o(ee,K){if(l){var oe=ee.deletions;oe===null?(ee.deletions=[K],ee.flags|=16):oe.push(K)}}function f(ee,K){if(!l)return null;for(;K!==null;)o(ee,K),K=K.sibling;return null}function x(ee){for(var K=new Map;ee!==null;)ee.key!==null?K.set(ee.key,ee):K.set(ee.index,ee),ee=ee.sibling;return K}function w(ee,K){return ee=za(ee,K),ee.index=0,ee.sibling=null,ee}function S(ee,K,oe){return ee.index=oe,l?(oe=ee.alternate,oe!==null?(oe=oe.index,oe<K?(ee.flags|=67108866,K):oe):(ee.flags|=67108866,K)):(ee.flags|=1048576,K)}function A(ee){return l&&ee.alternate===null&&(ee.flags|=67108866),ee}function R(ee,K,oe,je){return K===null||K.tag!==6?(K=n0(oe,ee.mode,je),K.return=ee,K):(K=w(K,oe),K.return=ee,K)}function H(ee,K,oe,je){var He=oe.type;return He===N?be(ee,K,oe.props.children,je,oe.key):K!==null&&(K.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===P&&Hl(He)===K.type)?(K=w(K,oe.props),Yd(K,oe),K.return=ee,K):(K=fm(oe.type,oe.key,oe.props,null,ee.mode,je),Yd(K,oe),K.return=ee,K)}function ce(ee,K,oe,je){return K===null||K.tag!==4||K.stateNode.containerInfo!==oe.containerInfo||K.stateNode.implementation!==oe.implementation?(K=s0(oe,ee.mode,je),K.return=ee,K):(K=w(K,oe.children||[]),K.return=ee,K)}function be(ee,K,oe,je,He){return K===null||K.tag!==7?(K=zl(oe,ee.mode,je,He),K.return=ee,K):(K=w(K,oe),K.return=ee,K)}function Se(ee,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=n0(""+K,ee.mode,oe),K.return=ee,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return oe=fm(K.type,K.key,K.props,null,ee.mode,oe),Yd(oe,K),oe.return=ee,oe;case y:return K=s0(K,ee.mode,oe),K.return=ee,K;case P:return K=Hl(K),Se(ee,K,oe)}if(fe(K)||M(K))return K=zl(K,ee.mode,oe,null),K.return=ee,K;if(typeof K.then=="function")return Se(ee,ym(K),oe);if(K.$$typeof===E)return Se(ee,pm(ee,K),oe);bm(ee,K)}return null}function ue(ee,K,oe,je){var He=K!==null?K.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return He!==null?null:R(ee,K,""+oe,je);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return oe.key===He?H(ee,K,oe,je):null;case y:return oe.key===He?ce(ee,K,oe,je):null;case P:return oe=Hl(oe),ue(ee,K,oe,je)}if(fe(oe)||M(oe))return He!==null?null:be(ee,K,oe,je,null);if(typeof oe.then=="function")return ue(ee,K,ym(oe),je);if(oe.$$typeof===E)return ue(ee,K,pm(ee,oe),je);bm(ee,oe)}return null}function xe(ee,K,oe,je,He){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ee=ee.get(oe)||null,R(K,ee,""+je,He);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case v:return ee=ee.get(je.key===null?oe:je.key)||null,H(K,ee,je,He);case y:return ee=ee.get(je.key===null?oe:je.key)||null,ce(K,ee,je,He);case P:return je=Hl(je),xe(ee,K,oe,je,He)}if(fe(je)||M(je))return ee=ee.get(oe)||null,be(K,ee,je,He,null);if(typeof je.then=="function")return xe(ee,K,oe,ym(je),He);if(je.$$typeof===E)return xe(ee,K,oe,pm(K,je),He);bm(K,je)}return null}function Pe(ee,K,oe,je){for(var He=null,xt=null,Ue=K,at=K=0,dt=null;Ue!==null&&at<oe.length;at++){Ue.index>at?(dt=Ue,Ue=null):dt=Ue.sibling;var gt=ue(ee,Ue,oe[at],je);if(gt===null){Ue===null&&(Ue=dt);break}l&&Ue&&gt.alternate===null&&o(ee,Ue),K=S(gt,K,at),xt===null?He=gt:xt.sibling=gt,xt=gt,Ue=dt}if(at===oe.length)return f(ee,Ue),mt&&Ua(ee,at),He;if(Ue===null){for(;at<oe.length;at++)Ue=Se(ee,oe[at],je),Ue!==null&&(K=S(Ue,K,at),xt===null?He=Ue:xt.sibling=Ue,xt=Ue);return mt&&Ua(ee,at),He}for(Ue=x(Ue);at<oe.length;at++)dt=xe(Ue,ee,at,oe[at],je),dt!==null&&(l&&dt.alternate!==null&&Ue.delete(dt.key===null?at:dt.key),K=S(dt,K,at),xt===null?He=dt:xt.sibling=dt,xt=dt);return l&&Ue.forEach(function(Qi){return o(ee,Qi)}),mt&&Ua(ee,at),He}function Ge(ee,K,oe,je){if(oe==null)throw Error(r(151));for(var He=null,xt=null,Ue=K,at=K=0,dt=null,gt=oe.next();Ue!==null&&!gt.done;at++,gt=oe.next()){Ue.index>at?(dt=Ue,Ue=null):dt=Ue.sibling;var Qi=ue(ee,Ue,gt.value,je);if(Qi===null){Ue===null&&(Ue=dt);break}l&&Ue&&Qi.alternate===null&&o(ee,Ue),K=S(Qi,K,at),xt===null?He=Qi:xt.sibling=Qi,xt=Qi,Ue=dt}if(gt.done)return f(ee,Ue),mt&&Ua(ee,at),He;if(Ue===null){for(;!gt.done;at++,gt=oe.next())gt=Se(ee,gt.value,je),gt!==null&&(K=S(gt,K,at),xt===null?He=gt:xt.sibling=gt,xt=gt);return mt&&Ua(ee,at),He}for(Ue=x(Ue);!gt.done;at++,gt=oe.next())gt=xe(Ue,ee,at,gt.value,je),gt!==null&&(l&&gt.alternate!==null&&Ue.delete(gt.key===null?at:gt.key),K=S(gt,K,at),xt===null?He=gt:xt.sibling=gt,xt=gt);return l&&Ue.forEach(function(i7){return o(ee,i7)}),mt&&Ua(ee,at),He}function Pt(ee,K,oe,je){if(typeof oe=="object"&&oe!==null&&oe.type===N&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:e:{for(var He=oe.key;K!==null;){if(K.key===He){if(He=oe.type,He===N){if(K.tag===7){f(ee,K.sibling),je=w(K,oe.props.children),je.return=ee,ee=je;break e}}else if(K.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===P&&Hl(He)===K.type){f(ee,K.sibling),je=w(K,oe.props),Yd(je,oe),je.return=ee,ee=je;break e}f(ee,K);break}else o(ee,K);K=K.sibling}oe.type===N?(je=zl(oe.props.children,ee.mode,je,oe.key),je.return=ee,ee=je):(je=fm(oe.type,oe.key,oe.props,null,ee.mode,je),Yd(je,oe),je.return=ee,ee=je)}return A(ee);case y:e:{for(He=oe.key;K!==null;){if(K.key===He)if(K.tag===4&&K.stateNode.containerInfo===oe.containerInfo&&K.stateNode.implementation===oe.implementation){f(ee,K.sibling),je=w(K,oe.children||[]),je.return=ee,ee=je;break e}else{f(ee,K);break}else o(ee,K);K=K.sibling}je=s0(oe,ee.mode,je),je.return=ee,ee=je}return A(ee);case P:return oe=Hl(oe),Pt(ee,K,oe,je)}if(fe(oe))return Pe(ee,K,oe,je);if(M(oe)){if(He=M(oe),typeof He!="function")throw Error(r(150));return oe=He.call(oe),Ge(ee,K,oe,je)}if(typeof oe.then=="function")return Pt(ee,K,ym(oe),je);if(oe.$$typeof===E)return Pt(ee,K,pm(ee,oe),je);bm(ee,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,K!==null&&K.tag===6?(f(ee,K.sibling),je=w(K,oe),je.return=ee,ee=je):(f(ee,K),je=n0(oe,ee.mode,je),je.return=ee,ee=je),A(ee)):f(ee,K)}return function(ee,K,oe,je){try{Kd=0;var He=Pt(ee,K,oe,je);return pc=null,He}catch(Ue){if(Ue===hc||Ue===gm)throw Ue;var xt=Zs(29,Ue,null,ee.mode);return xt.lanes=je,xt.return=ee,xt}}}var Vl=V2(!0),G2=V2(!1),Ri=!1;function p0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function x0(l,o){l=l.updateQueue,o.updateQueue===l&&(o.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Mi(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Pi(l,o,f){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(wt&2)!==0){var w=x.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),x.pending=o,o=um(l),k2(l,null,f),o}return dm(l,x,o,f),um(l)}function Wd(l,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var x=o.lanes;x&=l.pendingLanes,f|=x,o.lanes=f,Ps(l,f)}}function g0(l,o){var f=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var w=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var A={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?w=S=A:S=S.next=A,f=f.next}while(f!==null);S===null?w=S=o:S=S.next=o}else w=S=o;f={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=o:l.next=o,f.lastBaseUpdate=o}var v0=!1;function Qd(){if(v0){var l=mc;if(l!==null)throw l}}function Xd(l,o,f,x){v0=!1;var w=l.updateQueue;Ri=!1;var S=w.firstBaseUpdate,A=w.lastBaseUpdate,R=w.shared.pending;if(R!==null){w.shared.pending=null;var H=R,ce=H.next;H.next=null,A===null?S=ce:A.next=ce,A=H;var be=l.alternate;be!==null&&(be=be.updateQueue,R=be.lastBaseUpdate,R!==A&&(R===null?be.firstBaseUpdate=ce:R.next=ce,be.lastBaseUpdate=H))}if(S!==null){var Se=w.baseState;A=0,be=ce=H=null,R=S;do{var ue=R.lane&-536870913,xe=ue!==R.lane;if(xe?(ct&ue)===ue:(x&ue)===ue){ue!==0&&ue===fc&&(v0=!0),be!==null&&(be=be.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Pe=l,Ge=R;ue=o;var Pt=f;switch(Ge.tag){case 1:if(Pe=Ge.payload,typeof Pe=="function"){Se=Pe.call(Pt,Se,ue);break e}Se=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ge.payload,ue=typeof Pe=="function"?Pe.call(Pt,Se,ue):Pe,ue==null)break e;Se=p({},Se,ue);break e;case 2:Ri=!0}}ue=R.callback,ue!==null&&(l.flags|=64,xe&&(l.flags|=8192),xe=w.callbacks,xe===null?w.callbacks=[ue]:xe.push(ue))}else xe={lane:ue,tag:R.tag,payload:R.payload,callback:R.callback,next:null},be===null?(ce=be=xe,H=Se):be=be.next=xe,A|=ue;if(R=R.next,R===null){if(R=w.shared.pending,R===null)break;xe=R,R=xe.next,xe.next=null,w.lastBaseUpdate=xe,w.shared.pending=null}}while(!0);be===null&&(H=Se),w.baseState=H,w.firstBaseUpdate=ce,w.lastBaseUpdate=be,S===null&&(w.shared.lanes=0),Bi|=A,l.lanes=A,l.memoizedState=Se}}function K2(l,o){if(typeof l!="function")throw Error(r(191,l));l.call(o)}function Y2(l,o){var f=l.callbacks;if(f!==null)for(l.callbacks=null,l=0;l<f.length;l++)K2(f[l],o)}var xc=z(null),jm=z(0);function W2(l,o){l=Qa,re(jm,l),re(xc,o),Qa=l|o.baseLanes}function y0(){re(jm,Qa),re(xc,xc.current)}function b0(){Qa=jm.current,V(xc),V(jm)}var Js=z(null),br=null;function Ii(l){var o=l.alternate;re(Sn,Sn.current&1),re(Js,l),br===null&&(o===null||xc.current!==null||o.memoizedState!==null)&&(br=l)}function j0(l){re(Sn,Sn.current),re(Js,l),br===null&&(br=l)}function Q2(l){l.tag===22?(re(Sn,Sn.current),re(Js,l),br===null&&(br=l)):Li()}function Li(){re(Sn,Sn.current),re(Js,Js.current)}function er(l){V(Js),br===l&&(br=null),V(Sn)}var Sn=z(0);function wm(l){for(var o=l;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Ev(f)||Av(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break;for(;o.sibling===null;){if(o.return===null||o.return===l)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $a=0,nt=null,Rt=null,kn=null,Nm=!1,gc=!1,Gl=!1,Sm=0,Zd=0,vc=null,Q8=0;function gn(){throw Error(r(321))}function w0(l,o){if(o===null)return!1;for(var f=0;f<o.length&&f<l.length;f++)if(!Xs(l[f],o[f]))return!1;return!0}function N0(l,o,f,x,w,S){return $a=S,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=l===null||l.memoizedState===null?R_:z0,Gl=!1,S=f(x,w),Gl=!1,gc&&(S=Z2(o,f,x,w)),X2(l),S}function X2(l){U.H=tu;var o=Rt!==null&&Rt.next!==null;if($a=0,kn=Rt=nt=null,Nm=!1,Zd=0,vc=null,o)throw Error(r(300));l===null||Dn||(l=l.dependencies,l!==null&&hm(l)&&(Dn=!0))}function Z2(l,o,f,x){nt=l;var w=0;do{if(gc&&(vc=null),Zd=0,gc=!1,25<=w)throw Error(r(301));if(w+=1,kn=Rt=null,l.updateQueue!=null){var S=l.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}U.H=M_,S=o(f,x)}while(gc);return S}function X8(){var l=U.H,o=l.useState()[0];return o=typeof o.then=="function"?Jd(o):o,l=l.useState()[0],(Rt!==null?Rt.memoizedState:null)!==l&&(nt.flags|=1024),o}function S0(){var l=Sm!==0;return Sm=0,l}function _0(l,o,f){o.updateQueue=l.updateQueue,o.flags&=-2053,l.lanes&=~f}function C0(l){if(Nm){for(l=l.memoizedState;l!==null;){var o=l.queue;o!==null&&(o.pending=null),l=l.next}Nm=!1}$a=0,kn=Rt=nt=null,gc=!1,Zd=Sm=0,vc=null}function ws(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?nt.memoizedState=kn=l:kn=kn.next=l,kn}function _n(){if(Rt===null){var l=nt.alternate;l=l!==null?l.memoizedState:null}else l=Rt.next;var o=kn===null?nt.memoizedState:kn.next;if(o!==null)kn=o,Rt=l;else{if(l===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Rt=l,l={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},kn===null?nt.memoizedState=kn=l:kn=kn.next=l}return kn}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jd(l){var o=Zd;return Zd+=1,vc===null&&(vc=[]),l=$2(vc,l,o),o=nt,(kn===null?o.memoizedState:kn.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?R_:z0),l}function Cm(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Jd(l);if(l.$$typeof===E)return rs(l)}throw Error(r(438,String(l)))}function E0(l){var o=null,f=nt.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var x=nt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=_m(),nt.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(l),x=0;x<l;x++)f[x]=ae;return o.index++,f}function Ha(l,o){return typeof o=="function"?o(l):o}function Em(l){var o=_n();return A0(o,Rt,l)}function A0(l,o,f){var x=l.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var w=l.baseQueue,S=x.pending;if(S!==null){if(w!==null){var A=w.next;w.next=S.next,S.next=A}o.baseQueue=w=S,x.pending=null}if(S=l.baseState,w===null)l.memoizedState=S;else{o=w.next;var R=A=null,H=null,ce=o,be=!1;do{var Se=ce.lane&-536870913;if(Se!==ce.lane?(ct&Se)===Se:($a&Se)===Se){var ue=ce.revertLane;if(ue===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Se===fc&&(be=!0);else if(($a&ue)===ue){ce=ce.next,ue===fc&&(be=!0);continue}else Se={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},H===null?(R=H=Se,A=S):H=H.next=Se,nt.lanes|=ue,Bi|=ue;Se=ce.action,Gl&&f(S,Se),S=ce.hasEagerState?ce.eagerState:f(S,Se)}else ue={lane:Se,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},H===null?(R=H=ue,A=S):H=H.next=ue,nt.lanes|=Se,Bi|=Se;ce=ce.next}while(ce!==null&&ce!==o);if(H===null?A=S:H.next=R,!Xs(S,l.memoizedState)&&(Dn=!0,be&&(f=mc,f!==null)))throw f;l.memoizedState=S,l.baseState=A,l.baseQueue=H,x.lastRenderedState=S}return w===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function k0(l){var o=_n(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var x=f.dispatch,w=f.pending,S=o.memoizedState;if(w!==null){f.pending=null;var A=w=w.next;do S=l(S,A.action),A=A.next;while(A!==w);Xs(S,o.memoizedState)||(Dn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),f.lastRenderedState=S}return[S,x]}function J2(l,o,f){var x=nt,w=_n(),S=mt;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=o();var A=!Xs((Rt||w).memoizedState,f);if(A&&(w.memoizedState=f,Dn=!0),w=w.queue,T0(n_.bind(null,x,w,l),[l]),w.getSnapshot!==o||A||kn!==null&&kn.memoizedState.tag&1){if(x.flags|=2048,yc(9,{destroy:void 0},t_.bind(null,x,w,f,o),null),qt===null)throw Error(r(349));S||($a&127)!==0||e_(x,o,f)}return f}function e_(l,o,f){l.flags|=16384,l={getSnapshot:o,value:f},o=nt.updateQueue,o===null?(o=_m(),nt.updateQueue=o,o.stores=[l]):(f=o.stores,f===null?o.stores=[l]:f.push(l))}function t_(l,o,f,x){o.value=f,o.getSnapshot=x,s_(o)&&r_(l)}function n_(l,o,f){return f(function(){s_(o)&&r_(l)})}function s_(l){var o=l.getSnapshot;l=l.value;try{var f=o();return!Xs(l,f)}catch{return!0}}function r_(l){var o=Ll(l,2);o!==null&&Hs(o,l,2)}function D0(l){var o=ws();if(typeof l=="function"){var f=l;if(l=f(),Gl){Rs(!0);try{f()}finally{Rs(!1)}}}return o.memoizedState=o.baseState=l,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:l},o}function a_(l,o,f,x){return l.baseState=f,A0(l,Rt,typeof x=="function"?x:Ha)}function Z8(l,o,f,x,w){if(Dm(l))throw Error(r(485));if(l=o.action,l!==null){var S={payload:w,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){S.listeners.push(A)}};U.T!==null?f(!0):S.isTransition=!1,x(S),f=o.pending,f===null?(S.next=o.pending=S,i_(o,S)):(S.next=f.next,o.pending=f.next=S)}}function i_(l,o){var f=o.action,x=o.payload,w=l.state;if(o.isTransition){var S=U.T,A={};U.T=A;try{var R=f(w,x),H=U.S;H!==null&&H(A,R),l_(l,o,R)}catch(ce){O0(l,o,ce)}finally{S!==null&&A.types!==null&&(S.types=A.types),U.T=S}}else try{S=f(w,x),l_(l,o,S)}catch(ce){O0(l,o,ce)}}function l_(l,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(x){o_(l,o,x)},function(x){return O0(l,o,x)}):o_(l,o,f)}function o_(l,o,f){o.status="fulfilled",o.value=f,c_(o),l.state=f,o=l.pending,o!==null&&(f=o.next,f===o?l.pending=null:(f=f.next,o.next=f,i_(l,f)))}function O0(l,o,f){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=f,c_(o),o=o.next;while(o!==x)}l.action=null}function c_(l){l=l.listeners;for(var o=0;o<l.length;o++)(0,l[o])()}function d_(l,o){return o}function u_(l,o){if(mt){var f=qt.formState;if(f!==null){e:{var x=nt;if(mt){if(Wt){t:{for(var w=Wt,S=yr;w.nodeType!==8;){if(!S){w=null;break t}if(w=jr(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){Wt=jr(w.nextSibling),x=w.data==="F!";break e}}Oi(x)}x=!1}x&&(o=f[0])}}return f=ws(),f.memoizedState=f.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d_,lastRenderedState:o},f.queue=x,f=D_.bind(null,nt,x),x.dispatch=f,x=D0(!1),S=L0.bind(null,nt,!1,x.queue),x=ws(),w={state:o,dispatch:null,action:l,pending:null},x.queue=w,f=Z8.bind(null,nt,w,S,f),w.dispatch=f,x.memoizedState=l,[o,f,!1]}function f_(l){var o=_n();return m_(o,Rt,l)}function m_(l,o,f){if(o=A0(l,o,d_)[0],l=Em(Ha)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=Jd(o)}catch(A){throw A===hc?gm:A}else x=o;o=_n();var w=o.queue,S=w.dispatch;return f!==o.memoizedState&&(nt.flags|=2048,yc(9,{destroy:void 0},J8.bind(null,w,f),null)),[x,S,l]}function J8(l,o){l.action=o}function h_(l){var o=_n(),f=Rt;if(f!==null)return m_(o,f,l);_n(),o=o.memoizedState,f=_n();var x=f.queue.dispatch;return f.memoizedState=l,[o,x,!1]}function yc(l,o,f,x){return l={tag:l,create:f,deps:x,inst:o,next:null},o=nt.updateQueue,o===null&&(o=_m(),nt.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=l.next=l:(x=f.next,f.next=l,l.next=x,o.lastEffect=l),l}function p_(){return _n().memoizedState}function Am(l,o,f,x){var w=ws();nt.flags|=l,w.memoizedState=yc(1|o,{destroy:void 0},f,x===void 0?null:x)}function km(l,o,f,x){var w=_n();x=x===void 0?null:x;var S=w.memoizedState.inst;Rt!==null&&x!==null&&w0(x,Rt.memoizedState.deps)?w.memoizedState=yc(o,S,f,x):(nt.flags|=l,w.memoizedState=yc(1|o,S,f,x))}function x_(l,o){Am(8390656,8,l,o)}function T0(l,o){km(2048,8,l,o)}function eU(l){nt.flags|=4;var o=nt.updateQueue;if(o===null)o=_m(),nt.updateQueue=o,o.events=[l];else{var f=o.events;f===null?o.events=[l]:f.push(l)}}function g_(l){var o=_n().memoizedState;return eU({ref:o,nextImpl:l}),function(){if((wt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function v_(l,o){return km(4,2,l,o)}function y_(l,o){return km(4,4,l,o)}function b_(l,o){if(typeof o=="function"){l=l();var f=o(l);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return l=l(),o.current=l,function(){o.current=null}}function j_(l,o,f){f=f!=null?f.concat([l]):null,km(4,4,b_.bind(null,o,l),f)}function R0(){}function w_(l,o){var f=_n();o=o===void 0?null:o;var x=f.memoizedState;return o!==null&&w0(o,x[1])?x[0]:(f.memoizedState=[l,o],l)}function N_(l,o){var f=_n();o=o===void 0?null:o;var x=f.memoizedState;if(o!==null&&w0(o,x[1]))return x[0];if(x=l(),Gl){Rs(!0);try{l()}finally{Rs(!1)}}return f.memoizedState=[x,o],x}function M0(l,o,f){return f===void 0||($a&1073741824)!==0&&(ct&261930)===0?l.memoizedState=o:(l.memoizedState=f,l=SC(),nt.lanes|=l,Bi|=l,f)}function S_(l,o,f,x){return Xs(f,o)?f:xc.current!==null?(l=M0(l,f,x),Xs(l,o)||(Dn=!0),l):($a&42)===0||($a&1073741824)!==0&&(ct&261930)===0?(Dn=!0,l.memoizedState=f):(l=SC(),nt.lanes|=l,Bi|=l,o)}function __(l,o,f,x,w){var S=L.p;L.p=S!==0&&8>S?S:8;var A=U.T,R={};U.T=R,L0(l,!1,o,f);try{var H=w(),ce=U.S;if(ce!==null&&ce(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var be=W8(H,x);eu(l,o,be,sr(l))}else eu(l,o,x,sr(l))}catch(Se){eu(l,o,{then:function(){},status:"rejected",reason:Se},sr())}finally{L.p=S,A!==null&&R.types!==null&&(A.types=R.types),U.T=A}}function tU(){}function P0(l,o,f,x){if(l.tag!==5)throw Error(r(476));var w=C_(l).queue;__(l,w,o,I,f===null?tU:function(){return E_(l),f(x)})}function C_(l){var o=l.memoizedState;if(o!==null)return o;o={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:I},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:f},next:null},l.memoizedState=o,l=l.alternate,l!==null&&(l.memoizedState=o),o}function E_(l){var o=C_(l);o.next===null&&(o=l.alternate.memoizedState),eu(l,o.next.queue,{},sr())}function I0(){return rs(gu)}function A_(){return _n().memoizedState}function k_(){return _n().memoizedState}function nU(l){for(var o=l.return;o!==null;){switch(o.tag){case 24:case 3:var f=sr();l=Mi(f);var x=Pi(o,l,f);x!==null&&(Hs(x,o,f),Wd(x,o,f)),o={cache:u0()},l.payload=o;return}o=o.return}}function sU(l,o,f){var x=sr();f={lane:x,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Dm(l)?O_(o,f):(f=e0(l,o,f,x),f!==null&&(Hs(f,l,x),T_(f,o,x)))}function D_(l,o,f){var x=sr();eu(l,o,f,x)}function eu(l,o,f,x){var w={lane:x,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Dm(l))O_(o,w);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var A=o.lastRenderedState,R=S(A,f);if(w.hasEagerState=!0,w.eagerState=R,Xs(R,A))return dm(l,o,w,0),qt===null&&cm(),!1}catch{}if(f=e0(l,o,w,x),f!==null)return Hs(f,l,x),T_(f,o,x),!0}return!1}function L0(l,o,f,x){if(x={lane:2,revertLane:pv(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Dm(l)){if(o)throw Error(r(479))}else o=e0(l,f,x,2),o!==null&&Hs(o,l,2)}function Dm(l){var o=l.alternate;return l===nt||o!==null&&o===nt}function O_(l,o){gc=Nm=!0;var f=l.pending;f===null?o.next=o:(o.next=f.next,f.next=o),l.pending=o}function T_(l,o,f){if((f&4194048)!==0){var x=o.lanes;x&=l.pendingLanes,f|=x,o.lanes=f,Ps(l,f)}}var tu={readContext:rs,use:Cm,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};tu.useEffectEvent=gn;var R_={readContext:rs,use:Cm,useCallback:function(l,o){return ws().memoizedState=[l,o===void 0?null:o],l},useContext:rs,useEffect:x_,useImperativeHandle:function(l,o,f){f=f!=null?f.concat([l]):null,Am(4194308,4,b_.bind(null,o,l),f)},useLayoutEffect:function(l,o){return Am(4194308,4,l,o)},useInsertionEffect:function(l,o){Am(4,2,l,o)},useMemo:function(l,o){var f=ws();o=o===void 0?null:o;var x=l();if(Gl){Rs(!0);try{l()}finally{Rs(!1)}}return f.memoizedState=[x,o],x},useReducer:function(l,o,f){var x=ws();if(f!==void 0){var w=f(o);if(Gl){Rs(!0);try{f(o)}finally{Rs(!1)}}}else w=o;return x.memoizedState=x.baseState=w,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:w},x.queue=l,l=l.dispatch=sU.bind(null,nt,l),[x.memoizedState,l]},useRef:function(l){var o=ws();return l={current:l},o.memoizedState=l},useState:function(l){l=D0(l);var o=l.queue,f=D_.bind(null,nt,o);return o.dispatch=f,[l.memoizedState,f]},useDebugValue:R0,useDeferredValue:function(l,o){var f=ws();return M0(f,l,o)},useTransition:function(){var l=D0(!1);return l=__.bind(null,nt,l.queue,!0,!1),ws().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,o,f){var x=nt,w=ws();if(mt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),qt===null)throw Error(r(349));(ct&127)!==0||e_(x,o,f)}w.memoizedState=f;var S={value:f,getSnapshot:o};return w.queue=S,x_(n_.bind(null,x,S,l),[l]),x.flags|=2048,yc(9,{destroy:void 0},t_.bind(null,x,S,f,o),null),f},useId:function(){var l=ws(),o=qt.identifierPrefix;if(mt){var f=da,x=ca;f=(x&~(1<<32-Vn(x)-1)).toString(32)+f,o="_"+o+"R_"+f,f=Sm++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=Q8++,o="_"+o+"r_"+f.toString(32)+"_";return l.memoizedState=o},useHostTransitionStatus:I0,useFormState:u_,useActionState:u_,useOptimistic:function(l){var o=ws();o.memoizedState=o.baseState=l;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=L0.bind(null,nt,!0,f),f.dispatch=o,[l,o]},useMemoCache:E0,useCacheRefresh:function(){return ws().memoizedState=nU.bind(null,nt)},useEffectEvent:function(l){var o=ws(),f={impl:l};return o.memoizedState=f,function(){if((wt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},z0={readContext:rs,use:Cm,useCallback:w_,useContext:rs,useEffect:T0,useImperativeHandle:j_,useInsertionEffect:v_,useLayoutEffect:y_,useMemo:N_,useReducer:Em,useRef:p_,useState:function(){return Em(Ha)},useDebugValue:R0,useDeferredValue:function(l,o){var f=_n();return S_(f,Rt.memoizedState,l,o)},useTransition:function(){var l=Em(Ha)[0],o=_n().memoizedState;return[typeof l=="boolean"?l:Jd(l),o]},useSyncExternalStore:J2,useId:A_,useHostTransitionStatus:I0,useFormState:f_,useActionState:f_,useOptimistic:function(l,o){var f=_n();return a_(f,Rt,l,o)},useMemoCache:E0,useCacheRefresh:k_};z0.useEffectEvent=g_;var M_={readContext:rs,use:Cm,useCallback:w_,useContext:rs,useEffect:T0,useImperativeHandle:j_,useInsertionEffect:v_,useLayoutEffect:y_,useMemo:N_,useReducer:k0,useRef:p_,useState:function(){return k0(Ha)},useDebugValue:R0,useDeferredValue:function(l,o){var f=_n();return Rt===null?M0(f,l,o):S_(f,Rt.memoizedState,l,o)},useTransition:function(){var l=k0(Ha)[0],o=_n().memoizedState;return[typeof l=="boolean"?l:Jd(l),o]},useSyncExternalStore:J2,useId:A_,useHostTransitionStatus:I0,useFormState:h_,useActionState:h_,useOptimistic:function(l,o){var f=_n();return Rt!==null?a_(f,Rt,l,o):(f.baseState=l,[l,f.queue.dispatch])},useMemoCache:E0,useCacheRefresh:k_};M_.useEffectEvent=g_;function U0(l,o,f,x){o=l.memoizedState,f=f(x,o),f=f==null?o:p({},o,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var B0={enqueueSetState:function(l,o,f){l=l._reactInternals;var x=sr(),w=Mi(x);w.payload=o,f!=null&&(w.callback=f),o=Pi(l,w,x),o!==null&&(Hs(o,l,x),Wd(o,l,x))},enqueueReplaceState:function(l,o,f){l=l._reactInternals;var x=sr(),w=Mi(x);w.tag=1,w.payload=o,f!=null&&(w.callback=f),o=Pi(l,w,x),o!==null&&(Hs(o,l,x),Wd(o,l,x))},enqueueForceUpdate:function(l,o){l=l._reactInternals;var f=sr(),x=Mi(f);x.tag=2,o!=null&&(x.callback=o),o=Pi(l,x,f),o!==null&&(Hs(o,l,f),Wd(o,l,f))}};function P_(l,o,f,x,w,S,A){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,S,A):o.prototype&&o.prototype.isPureReactComponent?!qd(f,x)||!qd(w,S):!0}function I_(l,o,f,x){l=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,x),o.state!==l&&B0.enqueueReplaceState(o,o.state,null)}function Kl(l,o){var f=o;if("ref"in o){f={};for(var x in o)x!=="ref"&&(f[x]=o[x])}if(l=l.defaultProps){f===o&&(f=p({},f));for(var w in l)f[w]===void 0&&(f[w]=l[w])}return f}function L_(l){om(l)}function z_(l){console.error(l)}function U_(l){om(l)}function Om(l,o){try{var f=l.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function B_(l,o,f){try{var x=l.onCaughtError;x(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function q0(l,o,f){return f=Mi(f),f.tag=3,f.payload={element:null},f.callback=function(){Om(l,o)},f}function q_(l){return l=Mi(l),l.tag=3,l}function $_(l,o,f,x){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var S=x.value;l.payload=function(){return w(S)},l.callback=function(){B_(o,f,x)}}var A=f.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(l.callback=function(){B_(o,f,x),typeof w!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var R=x.stack;this.componentDidCatch(x.value,{componentStack:R!==null?R:""})})}function rU(l,o,f,x,w){if(f.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=f.alternate,o!==null&&uc(o,f,w,!0),f=Js.current,f!==null){switch(f.tag){case 31:case 13:return br===null?Hm():f.alternate===null&&vn===0&&(vn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,x===vm?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([x]):o.add(x),fv(l,x,w)),!1;case 22:return f.flags|=65536,x===vm?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([x]):f.add(x)),fv(l,x,w)),!1}throw Error(r(435,f.tag))}return fv(l,x,w),Hm(),!1}if(mt)return o=Js.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,x!==i0&&(l=Error(r(422),{cause:x}),Fd(xr(l,f)))):(x!==i0&&(o=Error(r(423),{cause:x}),Fd(xr(o,f))),l=l.current.alternate,l.flags|=65536,w&=-w,l.lanes|=w,x=xr(x,f),w=q0(l.stateNode,x,w),g0(l,w),vn!==4&&(vn=2)),!1;var S=Error(r(520),{cause:x});if(S=xr(S,f),cu===null?cu=[S]:cu.push(S),vn!==4&&(vn=2),o===null)return!0;x=xr(x,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,l=w&-w,f.lanes|=l,l=q0(f.stateNode,x,l),g0(f,l),!1;case 1:if(o=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qi===null||!qi.has(S))))return f.flags|=65536,w&=-w,f.lanes|=w,w=q_(w),$_(w,l,f,x),g0(f,w),!1}f=f.return}while(f!==null);return!1}var $0=Error(r(461)),Dn=!1;function as(l,o,f,x){o.child=l===null?G2(o,null,f,x):Vl(o,l.child,f,x)}function H_(l,o,f,x,w){f=f.render;var S=o.ref;if("ref"in x){var A={};for(var R in x)R!=="ref"&&(A[R]=x[R])}else A=x;return ql(o),x=N0(l,o,f,A,S,w),R=S0(),l!==null&&!Dn?(_0(l,o,w),Fa(l,o,w)):(mt&&R&&r0(o),o.flags|=1,as(l,o,x,w),o.child)}function F_(l,o,f,x,w){if(l===null){var S=f.type;return typeof S=="function"&&!t0(S)&&S.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=S,V_(l,o,S,x,w)):(l=fm(f.type,null,x,o,o.mode,w),l.ref=o.ref,l.return=o,o.child=l)}if(S=l.child,!Q0(l,w)){var A=S.memoizedProps;if(f=f.compare,f=f!==null?f:qd,f(A,x)&&l.ref===o.ref)return Fa(l,o,w)}return o.flags|=1,l=za(S,x),l.ref=o.ref,l.return=o,o.child=l}function V_(l,o,f,x,w){if(l!==null){var S=l.memoizedProps;if(qd(S,x)&&l.ref===o.ref)if(Dn=!1,o.pendingProps=x=S,Q0(l,w))(l.flags&131072)!==0&&(Dn=!0);else return o.lanes=l.lanes,Fa(l,o,w)}return H0(l,o,f,x,w)}function G_(l,o,f,x){var w=x.children,S=l!==null?l.memoizedState:null;if(l===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,l!==null){for(x=o.child=l.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;x=w&~S}else x=0,o.child=null;return K_(l,o,S,f,x)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},l!==null&&xm(o,S!==null?S.cachePool:null),S!==null?W2(o,S):y0(),Q2(o);else return x=o.lanes=536870912,K_(l,o,S!==null?S.baseLanes|f:f,f,x)}else S!==null?(xm(o,S.cachePool),W2(o,S),Li(),o.memoizedState=null):(l!==null&&xm(o,null),y0(),Li());return as(l,o,w,f),o.child}function nu(l,o){return l!==null&&l.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function K_(l,o,f,x,w){var S=m0();return S=S===null?null:{parent:An._currentValue,pool:S},o.memoizedState={baseLanes:f,cachePool:S},l!==null&&xm(o,null),y0(),Q2(o),l!==null&&uc(l,o,x,!0),o.childLanes=w,null}function Tm(l,o){return o=Mm({mode:o.mode,children:o.children},l.mode),o.ref=l.ref,l.child=o,o.return=l,o}function Y_(l,o,f){return Vl(o,l.child,null,f),l=Tm(o,o.pendingProps),l.flags|=2,er(o),o.memoizedState=null,l}function aU(l,o,f){var x=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,l===null){if(mt){if(x.mode==="hidden")return l=Tm(o,x),o.lanes=536870912,nu(null,l);if(j0(o),(l=Wt)?(l=i5(l,yr),l=l!==null&&l.data==="&"?l:null,l!==null&&(o.memoizedState={dehydrated:l,treeContext:ki!==null?{id:ca,overflow:da}:null,retryLane:536870912,hydrationErrors:null},f=O2(l),f.return=o,o.child=f,ss=o,Wt=null)):l=null,l===null)throw Oi(o);return o.lanes=536870912,null}return Tm(o,x)}var S=l.memoizedState;if(S!==null){var A=S.dehydrated;if(j0(o),w)if(o.flags&256)o.flags&=-257,o=Y_(l,o,f);else if(o.memoizedState!==null)o.child=l.child,o.flags|=128,o=null;else throw Error(r(558));else if(Dn||uc(l,o,f,!1),w=(f&l.childLanes)!==0,Dn||w){if(x=qt,x!==null&&(A=Is(x,f),A!==0&&A!==S.retryLane))throw S.retryLane=A,Ll(l,A),Hs(x,l,A),$0;Hm(),o=Y_(l,o,f)}else l=S.treeContext,Wt=jr(A.nextSibling),ss=o,mt=!0,Di=null,yr=!1,l!==null&&M2(o,l),o=Tm(o,x),o.flags|=4096;return o}return l=za(l.child,{mode:x.mode,children:x.children}),l.ref=o.ref,o.child=l,l.return=o,l}function Rm(l,o){var f=o.ref;if(f===null)l!==null&&l.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(l===null||l.ref!==f)&&(o.flags|=4194816)}}function H0(l,o,f,x,w){return ql(o),f=N0(l,o,f,x,void 0,w),x=S0(),l!==null&&!Dn?(_0(l,o,w),Fa(l,o,w)):(mt&&x&&r0(o),o.flags|=1,as(l,o,f,w),o.child)}function W_(l,o,f,x,w,S){return ql(o),o.updateQueue=null,f=Z2(o,x,f,w),X2(l),x=S0(),l!==null&&!Dn?(_0(l,o,S),Fa(l,o,S)):(mt&&x&&r0(o),o.flags|=1,as(l,o,f,S),o.child)}function Q_(l,o,f,x,w){if(ql(o),o.stateNode===null){var S=lc,A=f.contextType;typeof A=="object"&&A!==null&&(S=rs(A)),S=new f(x,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=B0,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=x,S.state=o.memoizedState,S.refs={},p0(o),A=f.contextType,S.context=typeof A=="object"&&A!==null?rs(A):lc,S.state=o.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(U0(o,f,A,x),S.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(A=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),A!==S.state&&B0.enqueueReplaceState(S,S.state,null),Xd(o,x,S,w),Qd(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(l===null){S=o.stateNode;var R=o.memoizedProps,H=Kl(f,R);S.props=H;var ce=S.context,be=f.contextType;A=lc,typeof be=="object"&&be!==null&&(A=rs(be));var Se=f.getDerivedStateFromProps;be=typeof Se=="function"||typeof S.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R||ce!==A)&&I_(o,S,x,A),Ri=!1;var ue=o.memoizedState;S.state=ue,Xd(o,x,S,w),Qd(),ce=o.memoizedState,R||ue!==ce||Ri?(typeof Se=="function"&&(U0(o,f,Se,x),ce=o.memoizedState),(H=Ri||P_(o,f,H,x,ue,ce,A))?(be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=ce),S.props=x,S.state=ce,S.context=A,x=H):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{S=o.stateNode,x0(l,o),A=o.memoizedProps,be=Kl(f,A),S.props=be,Se=o.pendingProps,ue=S.context,ce=f.contextType,H=lc,typeof ce=="object"&&ce!==null&&(H=rs(ce)),R=f.getDerivedStateFromProps,(ce=typeof R=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==Se||ue!==H)&&I_(o,S,x,H),Ri=!1,ue=o.memoizedState,S.state=ue,Xd(o,x,S,w),Qd();var xe=o.memoizedState;A!==Se||ue!==xe||Ri||l!==null&&l.dependencies!==null&&hm(l.dependencies)?(typeof R=="function"&&(U0(o,f,R,x),xe=o.memoizedState),(be=Ri||P_(o,f,be,x,ue,xe,H)||l!==null&&l.dependencies!==null&&hm(l.dependencies))?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,xe,H),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,xe,H)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===l.memoizedProps&&ue===l.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===l.memoizedProps&&ue===l.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=xe),S.props=x,S.state=xe,S.context=H,x=be):(typeof S.componentDidUpdate!="function"||A===l.memoizedProps&&ue===l.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===l.memoizedProps&&ue===l.memoizedState||(o.flags|=1024),x=!1)}return S=x,Rm(l,o),x=(o.flags&128)!==0,S||x?(S=o.stateNode,f=x&&typeof f.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,l!==null&&x?(o.child=Vl(o,l.child,null,w),o.child=Vl(o,null,f,w)):as(l,o,f,w),o.memoizedState=S.state,l=o.child):l=Fa(l,o,w),l}function X_(l,o,f,x){return Ul(),o.flags|=256,as(l,o,f,x),o.child}var F0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function V0(l){return{baseLanes:l,cachePool:B2()}}function G0(l,o,f){return l=l!==null?l.childLanes&~f:0,o&&(l|=nr),l}function Z_(l,o,f){var x=o.pendingProps,w=!1,S=(o.flags&128)!==0,A;if((A=S)||(A=l!==null&&l.memoizedState===null?!1:(Sn.current&2)!==0),A&&(w=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,l===null){if(mt){if(w?Ii(o):Li(),(l=Wt)?(l=i5(l,yr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(o.memoizedState={dehydrated:l,treeContext:ki!==null?{id:ca,overflow:da}:null,retryLane:536870912,hydrationErrors:null},f=O2(l),f.return=o,o.child=f,ss=o,Wt=null)):l=null,l===null)throw Oi(o);return Av(l)?o.lanes=32:o.lanes=536870912,null}var R=x.children;return x=x.fallback,w?(Li(),w=o.mode,R=Mm({mode:"hidden",children:R},w),x=zl(x,w,f,null),R.return=o,x.return=o,R.sibling=x,o.child=R,x=o.child,x.memoizedState=V0(f),x.childLanes=G0(l,A,f),o.memoizedState=F0,nu(null,x)):(Ii(o),K0(o,R))}var H=l.memoizedState;if(H!==null&&(R=H.dehydrated,R!==null)){if(S)o.flags&256?(Ii(o),o.flags&=-257,o=Y0(l,o,f)):o.memoizedState!==null?(Li(),o.child=l.child,o.flags|=128,o=null):(Li(),R=x.fallback,w=o.mode,x=Mm({mode:"visible",children:x.children},w),R=zl(R,w,f,null),R.flags|=2,x.return=o,R.return=o,x.sibling=R,o.child=x,Vl(o,l.child,null,f),x=o.child,x.memoizedState=V0(f),x.childLanes=G0(l,A,f),o.memoizedState=F0,o=nu(null,x));else if(Ii(o),Av(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var ce=A.dgst;A=ce,x=Error(r(419)),x.stack="",x.digest=A,Fd({value:x,source:null,stack:null}),o=Y0(l,o,f)}else if(Dn||uc(l,o,f,!1),A=(f&l.childLanes)!==0,Dn||A){if(A=qt,A!==null&&(x=Is(A,f),x!==0&&x!==H.retryLane))throw H.retryLane=x,Ll(l,x),Hs(A,l,x),$0;Ev(R)||Hm(),o=Y0(l,o,f)}else Ev(R)?(o.flags|=192,o.child=l.child,o=null):(l=H.treeContext,Wt=jr(R.nextSibling),ss=o,mt=!0,Di=null,yr=!1,l!==null&&M2(o,l),o=K0(o,x.children),o.flags|=4096);return o}return w?(Li(),R=x.fallback,w=o.mode,H=l.child,ce=H.sibling,x=za(H,{mode:"hidden",children:x.children}),x.subtreeFlags=H.subtreeFlags&65011712,ce!==null?R=za(ce,R):(R=zl(R,w,f,null),R.flags|=2),R.return=o,x.return=o,x.sibling=R,o.child=x,nu(null,x),x=o.child,R=l.child.memoizedState,R===null?R=V0(f):(w=R.cachePool,w!==null?(H=An._currentValue,w=w.parent!==H?{parent:H,pool:H}:w):w=B2(),R={baseLanes:R.baseLanes|f,cachePool:w}),x.memoizedState=R,x.childLanes=G0(l,A,f),o.memoizedState=F0,nu(l.child,x)):(Ii(o),f=l.child,l=f.sibling,f=za(f,{mode:"visible",children:x.children}),f.return=o,f.sibling=null,l!==null&&(A=o.deletions,A===null?(o.deletions=[l],o.flags|=16):A.push(l)),o.child=f,o.memoizedState=null,f)}function K0(l,o){return o=Mm({mode:"visible",children:o},l.mode),o.return=l,l.child=o}function Mm(l,o){return l=Zs(22,l,null,o),l.lanes=0,l}function Y0(l,o,f){return Vl(o,l.child,null,f),l=K0(o,o.pendingProps.children),l.flags|=2,o.memoizedState=null,l}function J_(l,o,f){l.lanes|=o;var x=l.alternate;x!==null&&(x.lanes|=o),c0(l.return,o,f)}function W0(l,o,f,x,w,S){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:w,treeForkCount:S}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=x,A.tail=f,A.tailMode=w,A.treeForkCount=S)}function eC(l,o,f){var x=o.pendingProps,w=x.revealOrder,S=x.tail;x=x.children;var A=Sn.current,R=(A&2)!==0;if(R?(A=A&1|2,o.flags|=128):A&=1,re(Sn,A),as(l,o,x,f),x=mt?Hd:0,!R&&l!==null&&(l.flags&128)!==0)e:for(l=o.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&J_(l,f,o);else if(l.tag===19)J_(l,f,o);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(w){case"forwards":for(f=o.child,w=null;f!==null;)l=f.alternate,l!==null&&wm(l)===null&&(w=f),f=f.sibling;f=w,f===null?(w=o.child,o.child=null):(w=f.sibling,f.sibling=null),W0(o,!1,w,f,S,x);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=o.child,o.child=null;w!==null;){if(l=w.alternate,l!==null&&wm(l)===null){o.child=w;break}l=w.sibling,w.sibling=f,f=w,w=l}W0(o,!0,f,null,S,x);break;case"together":W0(o,!1,null,null,void 0,x);break;default:o.memoizedState=null}return o.child}function Fa(l,o,f){if(l!==null&&(o.dependencies=l.dependencies),Bi|=o.lanes,(f&o.childLanes)===0)if(l!==null){if(uc(l,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(l!==null&&o.child!==l.child)throw Error(r(153));if(o.child!==null){for(l=o.child,f=za(l,l.pendingProps),o.child=f,f.return=o;l.sibling!==null;)l=l.sibling,f=f.sibling=za(l,l.pendingProps),f.return=o;f.sibling=null}return o.child}function Q0(l,o){return(l.lanes&o)!==0?!0:(l=l.dependencies,!!(l!==null&&hm(l)))}function iU(l,o,f){switch(o.tag){case 3:De(o,o.stateNode.containerInfo),Ti(o,An,l.memoizedState.cache),Ul();break;case 27:case 5:Me(o);break;case 4:De(o,o.stateNode.containerInfo);break;case 10:Ti(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,j0(o),null;break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(Ii(o),o.flags|=128,null):(f&o.child.childLanes)!==0?Z_(l,o,f):(Ii(o),l=Fa(l,o,f),l!==null?l.sibling:null);Ii(o);break;case 19:var w=(l.flags&128)!==0;if(x=(f&o.childLanes)!==0,x||(uc(l,o,f,!1),x=(f&o.childLanes)!==0),w){if(x)return eC(l,o,f);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),re(Sn,Sn.current),x)break;return null;case 22:return o.lanes=0,G_(l,o,f,o.pendingProps);case 24:Ti(o,An,l.memoizedState.cache)}return Fa(l,o,f)}function tC(l,o,f){if(l!==null)if(l.memoizedProps!==o.pendingProps)Dn=!0;else{if(!Q0(l,f)&&(o.flags&128)===0)return Dn=!1,iU(l,o,f);Dn=(l.flags&131072)!==0}else Dn=!1,mt&&(o.flags&1048576)!==0&&R2(o,Hd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var x=o.pendingProps;if(l=Hl(o.elementType),o.type=l,typeof l=="function")t0(l)?(x=Kl(l,x),o.tag=1,o=Q_(null,o,l,x,f)):(o.tag=0,o=H0(null,o,l,x,f));else{if(l!=null){var w=l.$$typeof;if(w===k){o.tag=11,o=H_(null,o,l,x,f);break e}else if(w===D){o.tag=14,o=F_(null,o,l,x,f);break e}}throw o=Z(l)||l,Error(r(306,o,""))}}return o;case 0:return H0(l,o,o.type,o.pendingProps,f);case 1:return x=o.type,w=Kl(x,o.pendingProps),Q_(l,o,x,w,f);case 3:e:{if(De(o,o.stateNode.containerInfo),l===null)throw Error(r(387));x=o.pendingProps;var S=o.memoizedState;w=S.element,x0(l,o),Xd(o,x,null,f);var A=o.memoizedState;if(x=A.cache,Ti(o,An,x),x!==S.cache&&d0(o,[An],f,!0),Qd(),x=A.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=X_(l,o,x,f);break e}else if(x!==w){w=xr(Error(r(424)),o),Fd(w),o=X_(l,o,x,f);break e}else for(l=o.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,Wt=jr(l.firstChild),ss=o,mt=!0,Di=null,yr=!0,f=G2(o,null,x,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ul(),x===w){o=Fa(l,o,f);break e}as(l,o,x,f)}o=o.child}return o;case 26:return Rm(l,o),l===null?(f=f5(o.type,null,o.pendingProps,null))?o.memoizedState=f:mt||(f=o.type,l=o.pendingProps,x=Qm(W.current).createElement(f),x[ns]=o,x[Ls]=l,is(x,f,l),Kn(x),o.stateNode=x):o.memoizedState=f5(o.type,l.memoizedProps,o.pendingProps,l.memoizedState),null;case 27:return Me(o),l===null&&mt&&(x=o.stateNode=c5(o.type,o.pendingProps,W.current),ss=o,yr=!0,w=Wt,Vi(o.type)?(kv=w,Wt=jr(x.firstChild)):Wt=w),as(l,o,o.pendingProps.children,f),Rm(l,o),l===null&&(o.flags|=4194304),o.child;case 5:return l===null&&mt&&((w=x=Wt)&&(x=IU(x,o.type,o.pendingProps,yr),x!==null?(o.stateNode=x,ss=o,Wt=jr(x.firstChild),yr=!1,w=!0):w=!1),w||Oi(o)),Me(o),w=o.type,S=o.pendingProps,A=l!==null?l.memoizedProps:null,x=S.children,Sv(w,S)?x=null:A!==null&&Sv(w,A)&&(o.flags|=32),o.memoizedState!==null&&(w=N0(l,o,X8,null,null,f),gu._currentValue=w),Rm(l,o),as(l,o,x,f),o.child;case 6:return l===null&&mt&&((l=f=Wt)&&(f=LU(f,o.pendingProps,yr),f!==null?(o.stateNode=f,ss=o,Wt=null,l=!0):l=!1),l||Oi(o)),null;case 13:return Z_(l,o,f);case 4:return De(o,o.stateNode.containerInfo),x=o.pendingProps,l===null?o.child=Vl(o,null,x,f):as(l,o,x,f),o.child;case 11:return H_(l,o,o.type,o.pendingProps,f);case 7:return as(l,o,o.pendingProps,f),o.child;case 8:return as(l,o,o.pendingProps.children,f),o.child;case 12:return as(l,o,o.pendingProps.children,f),o.child;case 10:return x=o.pendingProps,Ti(o,o.type,x.value),as(l,o,x.children,f),o.child;case 9:return w=o.type._context,x=o.pendingProps.children,ql(o),w=rs(w),x=x(w),o.flags|=1,as(l,o,x,f),o.child;case 14:return F_(l,o,o.type,o.pendingProps,f);case 15:return V_(l,o,o.type,o.pendingProps,f);case 19:return eC(l,o,f);case 31:return aU(l,o,f);case 22:return G_(l,o,f,o.pendingProps);case 24:return ql(o),x=rs(An),l===null?(w=m0(),w===null&&(w=qt,S=u0(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=f),w=S),o.memoizedState={parent:x,cache:w},p0(o),Ti(o,An,w)):((l.lanes&f)!==0&&(x0(l,o),Xd(o,null,null,f),Qd()),w=l.memoizedState,S=o.memoizedState,w.parent!==x?(w={parent:x,cache:x},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),Ti(o,An,x)):(x=S.cache,Ti(o,An,x),x!==w.cache&&d0(o,[An],f,!0))),as(l,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Va(l){l.flags|=4}function X0(l,o,f,x,w){if((o=(l.mode&32)!==0)&&(o=!1),o){if(l.flags|=16777216,(w&335544128)===w)if(l.stateNode.complete)l.flags|=8192;else if(AC())l.flags|=8192;else throw Fl=vm,h0}else l.flags&=-16777217}function nC(l,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!g5(o))if(AC())l.flags|=8192;else throw Fl=vm,h0}function Pm(l,o){o!==null&&(l.flags|=4),l.flags&16384&&(o=l.tag!==22?ms():536870912,l.lanes|=o,Nc|=o)}function su(l,o){if(!mt)switch(l.tailMode){case"hidden":o=l.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?o||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Qt(l){var o=l.alternate!==null&&l.alternate.child===l.child,f=0,x=0;if(o)for(var w=l.child;w!==null;)f|=w.lanes|w.childLanes,x|=w.subtreeFlags&65011712,x|=w.flags&65011712,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)f|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=x,l.childLanes=f,o}function lU(l,o,f){var x=o.pendingProps;switch(a0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return f=o.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),qa(An),pe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(l===null||l.child===null)&&(dc(o)?Va(o):l===null||l.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,l0())),Qt(o),null;case 26:var w=o.type,S=o.memoizedState;return l===null?(Va(o),S!==null?(Qt(o),nC(o,S)):(Qt(o),X0(o,w,null,x,f))):S?S!==l.memoizedState?(Va(o),Qt(o),nC(o,S)):(Qt(o),o.flags&=-16777217):(l=l.memoizedProps,l!==x&&Va(o),Qt(o),X0(o,w,l,x,f)),null;case 27:if(Ie(o),f=W.current,w=o.type,l!==null&&o.stateNode!=null)l.memoizedProps!==x&&Va(o);else{if(!x){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}l=$.current,dc(o)?P2(o):(l=c5(w,x,f),o.stateNode=l,Va(o))}return Qt(o),null;case 5:if(Ie(o),w=o.type,l!==null&&o.stateNode!=null)l.memoizedProps!==x&&Va(o);else{if(!x){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(S=$.current,dc(o))P2(o);else{var A=Qm(W.current);switch(S){case 1:S=A.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=A.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=A.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=A.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=A.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof x.is=="string"?A.createElement("select",{is:x.is}):A.createElement("select"),x.multiple?S.multiple=!0:x.size&&(S.size=x.size);break;default:S=typeof x.is=="string"?A.createElement(w,{is:x.is}):A.createElement(w)}}S[ns]=o,S[Ls]=x;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)S.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=S;e:switch(is(S,w,x),w){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Va(o)}}return Qt(o),X0(o,o.type,l===null?null:l.memoizedProps,o.pendingProps,f),null;case 6:if(l&&o.stateNode!=null)l.memoizedProps!==x&&Va(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(r(166));if(l=W.current,dc(o)){if(l=o.stateNode,f=o.memoizedProps,x=null,w=ss,w!==null)switch(w.tag){case 27:case 5:x=w.memoizedProps}l[ns]=o,l=!!(l.nodeValue===f||x!==null&&x.suppressHydrationWarning===!0||ZC(l.nodeValue,f)),l||Oi(o,!0)}else l=Qm(l).createTextNode(x),l[ns]=o,o.stateNode=l}return Qt(o),null;case 31:if(f=o.memoizedState,l===null||l.memoizedState!==null){if(x=dc(o),f!==null){if(l===null){if(!x)throw Error(r(318));if(l=o.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[ns]=o}else Ul(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),l=!1}else f=l0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=f),l=!0;if(!l)return o.flags&256?(er(o),o):(er(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Qt(o),null;case 13:if(x=o.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(w=dc(o),x!==null&&x.dehydrated!==null){if(l===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[ns]=o}else Ul(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),w=!1}else w=l0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(er(o),o):(er(o),null)}return er(o),(o.flags&128)!==0?(o.lanes=f,o):(f=x!==null,l=l!==null&&l.memoizedState!==null,f&&(x=o.child,w=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(w=x.alternate.memoizedState.cachePool.pool),S=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==w&&(x.flags|=2048)),f!==l&&f&&(o.child.flags|=8192),Pm(o,o.updateQueue),Qt(o),null);case 4:return pe(),l===null&&yv(o.stateNode.containerInfo),Qt(o),null;case 10:return qa(o.type),Qt(o),null;case 19:if(V(Sn),x=o.memoizedState,x===null)return Qt(o),null;if(w=(o.flags&128)!==0,S=x.rendering,S===null)if(w)su(x,!1);else{if(vn!==0||l!==null&&(l.flags&128)!==0)for(l=o.child;l!==null;){if(S=wm(l),S!==null){for(o.flags|=128,su(x,!1),l=S.updateQueue,o.updateQueue=l,Pm(o,l),o.subtreeFlags=0,l=f,f=o.child;f!==null;)D2(f,l),f=f.sibling;return re(Sn,Sn.current&1|2),mt&&Ua(o,x.treeForkCount),o.child}l=l.sibling}x.tail!==null&&Te()>Bm&&(o.flags|=128,w=!0,su(x,!1),o.lanes=4194304)}else{if(!w)if(l=wm(S),l!==null){if(o.flags|=128,w=!0,l=l.updateQueue,o.updateQueue=l,Pm(o,l),su(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!mt)return Qt(o),null}else 2*Te()-x.renderingStartTime>Bm&&f!==536870912&&(o.flags|=128,w=!0,su(x,!1),o.lanes=4194304);x.isBackwards?(S.sibling=o.child,o.child=S):(l=x.last,l!==null?l.sibling=S:o.child=S,x.last=S)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Te(),l.sibling=null,f=Sn.current,re(Sn,w?f&1|2:f&1),mt&&Ua(o,x.treeForkCount),l):(Qt(o),null);case 22:case 23:return er(o),b0(),x=o.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(f&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),f=o.updateQueue,f!==null&&Pm(o,f.retryQueue),f=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==f&&(o.flags|=2048),l!==null&&V($l),null;case 24:return f=null,l!==null&&(f=l.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),qa(An),Qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function oU(l,o){switch(a0(o),o.tag){case 1:return l=o.flags,l&65536?(o.flags=l&-65537|128,o):null;case 3:return qa(An),pe(),l=o.flags,(l&65536)!==0&&(l&128)===0?(o.flags=l&-65537|128,o):null;case 26:case 27:case 5:return Ie(o),null;case 31:if(o.memoizedState!==null){if(er(o),o.alternate===null)throw Error(r(340));Ul()}return l=o.flags,l&65536?(o.flags=l&-65537|128,o):null;case 13:if(er(o),l=o.memoizedState,l!==null&&l.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ul()}return l=o.flags,l&65536?(o.flags=l&-65537|128,o):null;case 19:return V(Sn),null;case 4:return pe(),null;case 10:return qa(o.type),null;case 22:case 23:return er(o),b0(),l!==null&&V($l),l=o.flags,l&65536?(o.flags=l&-65537|128,o):null;case 24:return qa(An),null;case 25:return null;default:return null}}function sC(l,o){switch(a0(o),o.tag){case 3:qa(An),pe();break;case 26:case 27:case 5:Ie(o);break;case 4:pe();break;case 31:o.memoizedState!==null&&er(o);break;case 13:er(o);break;case 19:V(Sn);break;case 10:qa(o.type);break;case 22:case 23:er(o),b0(),l!==null&&V($l);break;case 24:qa(An)}}function ru(l,o){try{var f=o.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var w=x.next;f=w;do{if((f.tag&l)===l){x=void 0;var S=f.create,A=f.inst;x=S(),A.destroy=x}f=f.next}while(f!==w)}}catch(R){Dt(o,o.return,R)}}function zi(l,o,f){try{var x=o.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var S=w.next;x=S;do{if((x.tag&l)===l){var A=x.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,w=o;var H=f,ce=R;try{ce()}catch(be){Dt(w,H,be)}}}x=x.next}while(x!==S)}}catch(be){Dt(o,o.return,be)}}function rC(l){var o=l.updateQueue;if(o!==null){var f=l.stateNode;try{Y2(o,f)}catch(x){Dt(l,l.return,x)}}}function aC(l,o,f){f.props=Kl(l.type,l.memoizedProps),f.state=l.memoizedState;try{f.componentWillUnmount()}catch(x){Dt(l,o,x)}}function au(l,o){try{var f=l.ref;if(f!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof f=="function"?l.refCleanup=f(x):f.current=x}}catch(w){Dt(l,o,w)}}function ua(l,o){var f=l.ref,x=l.refCleanup;if(f!==null)if(typeof x=="function")try{x()}catch(w){Dt(l,o,w)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){Dt(l,o,w)}else f.current=null}function iC(l){var o=l.type,f=l.memoizedProps,x=l.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&x.focus();break e;case"img":f.src?x.src=f.src:f.srcSet&&(x.srcset=f.srcSet)}}catch(w){Dt(l,l.return,w)}}function Z0(l,o,f){try{var x=l.stateNode;DU(x,l.type,f,o),x[Ls]=o}catch(w){Dt(l,l.return,w)}}function lC(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Vi(l.type)||l.tag===4}function J0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||lC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Vi(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ev(l,o,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(l,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(l),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Ia));else if(x!==4&&(x===27&&Vi(l.type)&&(f=l.stateNode,o=null),l=l.child,l!==null))for(ev(l,o,f),l=l.sibling;l!==null;)ev(l,o,f),l=l.sibling}function Im(l,o,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,o?f.insertBefore(l,o):f.appendChild(l);else if(x!==4&&(x===27&&Vi(l.type)&&(f=l.stateNode),l=l.child,l!==null))for(Im(l,o,f),l=l.sibling;l!==null;)Im(l,o,f),l=l.sibling}function oC(l){var o=l.stateNode,f=l.memoizedProps;try{for(var x=l.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);is(o,x,f),o[ns]=l,o[Ls]=f}catch(S){Dt(l,l.return,S)}}var Ga=!1,On=!1,tv=!1,cC=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function cU(l,o){if(l=l.containerInfo,wv=sh,l=j2(l),Yg(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var w=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var A=0,R=-1,H=-1,ce=0,be=0,Se=l,ue=null;t:for(;;){for(var xe;Se!==f||w!==0&&Se.nodeType!==3||(R=A+w),Se!==S||x!==0&&Se.nodeType!==3||(H=A+x),Se.nodeType===3&&(A+=Se.nodeValue.length),(xe=Se.firstChild)!==null;)ue=Se,Se=xe;for(;;){if(Se===l)break t;if(ue===f&&++ce===w&&(R=A),ue===S&&++be===x&&(H=A),(xe=Se.nextSibling)!==null)break;Se=ue,ue=Se.parentNode}Se=xe}f=R===-1||H===-1?null:{start:R,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(Nv={focusedElem:l,selectionRange:f},sh=!1,Yn=o;Yn!==null;)if(o=Yn,l=o.child,(o.subtreeFlags&1028)!==0&&l!==null)l.return=o,Yn=l;else for(;Yn!==null;){switch(o=Yn,S=o.alternate,l=o.flags,o.tag){case 0:if((l&4)!==0&&(l=o.updateQueue,l=l!==null?l.events:null,l!==null))for(f=0;f<l.length;f++)w=l[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&S!==null){l=void 0,f=o,w=S.memoizedProps,S=S.memoizedState,x=f.stateNode;try{var Pe=Kl(f.type,w);l=x.getSnapshotBeforeUpdate(Pe,S),x.__reactInternalSnapshotBeforeUpdate=l}catch(Ge){Dt(f,f.return,Ge)}}break;case 3:if((l&1024)!==0){if(l=o.stateNode.containerInfo,f=l.nodeType,f===9)Cv(l);else if(f===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Cv(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=o.sibling,l!==null){l.return=o.return,Yn=l;break}Yn=o.return}}function dC(l,o,f){var x=f.flags;switch(f.tag){case 0:case 11:case 15:Ya(l,f),x&4&&ru(5,f);break;case 1:if(Ya(l,f),x&4)if(l=f.stateNode,o===null)try{l.componentDidMount()}catch(A){Dt(f,f.return,A)}else{var w=Kl(f.type,o.memoizedProps);o=o.memoizedState;try{l.componentDidUpdate(w,o,l.__reactInternalSnapshotBeforeUpdate)}catch(A){Dt(f,f.return,A)}}x&64&&rC(f),x&512&&au(f,f.return);break;case 3:if(Ya(l,f),x&64&&(l=f.updateQueue,l!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{Y2(l,o)}catch(A){Dt(f,f.return,A)}}break;case 27:o===null&&x&4&&oC(f);case 26:case 5:Ya(l,f),o===null&&x&4&&iC(f),x&512&&au(f,f.return);break;case 12:Ya(l,f);break;case 31:Ya(l,f),x&4&&mC(l,f);break;case 13:Ya(l,f),x&4&&hC(l,f),x&64&&(l=f.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(f=vU.bind(null,f),zU(l,f))));break;case 22:if(x=f.memoizedState!==null||Ga,!x){o=o!==null&&o.memoizedState!==null||On,w=Ga;var S=On;Ga=x,(On=o)&&!S?Wa(l,f,(f.subtreeFlags&8772)!==0):Ya(l,f),Ga=w,On=S}break;case 30:break;default:Ya(l,f)}}function uC(l){var o=l.alternate;o!==null&&(l.alternate=null,uC(o)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(o=l.stateNode,o!==null&&Og(o)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var tn=null,Us=!1;function Ka(l,o,f){for(f=f.child;f!==null;)fC(l,o,f),f=f.sibling}function fC(l,o,f){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Ma,f)}catch{}switch(f.tag){case 26:On||ua(f,o),Ka(l,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:On||ua(f,o);var x=tn,w=Us;Vi(f.type)&&(tn=f.stateNode,Us=!1),Ka(l,o,f),hu(f.stateNode),tn=x,Us=w;break;case 5:On||ua(f,o);case 6:if(x=tn,w=Us,tn=null,Ka(l,o,f),tn=x,Us=w,tn!==null)if(Us)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(f.stateNode)}catch(S){Dt(f,o,S)}else try{tn.removeChild(f.stateNode)}catch(S){Dt(f,o,S)}break;case 18:tn!==null&&(Us?(l=tn,r5(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,f.stateNode),Oc(l)):r5(tn,f.stateNode));break;case 4:x=tn,w=Us,tn=f.stateNode.containerInfo,Us=!0,Ka(l,o,f),tn=x,Us=w;break;case 0:case 11:case 14:case 15:zi(2,f,o),On||zi(4,f,o),Ka(l,o,f);break;case 1:On||(ua(f,o),x=f.stateNode,typeof x.componentWillUnmount=="function"&&aC(f,o,x)),Ka(l,o,f);break;case 21:Ka(l,o,f);break;case 22:On=(x=On)||f.memoizedState!==null,Ka(l,o,f),On=x;break;default:Ka(l,o,f)}}function mC(l,o){if(o.memoizedState===null&&(l=o.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Oc(l)}catch(f){Dt(o,o.return,f)}}}function hC(l,o){if(o.memoizedState===null&&(l=o.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Oc(l)}catch(f){Dt(o,o.return,f)}}function dU(l){switch(l.tag){case 31:case 13:case 19:var o=l.stateNode;return o===null&&(o=l.stateNode=new cC),o;case 22:return l=l.stateNode,o=l._retryCache,o===null&&(o=l._retryCache=new cC),o;default:throw Error(r(435,l.tag))}}function Lm(l,o){var f=dU(l);o.forEach(function(x){if(!f.has(x)){f.add(x);var w=yU.bind(null,l,x);x.then(w,w)}})}function Bs(l,o){var f=o.deletions;if(f!==null)for(var x=0;x<f.length;x++){var w=f[x],S=l,A=o,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(Vi(R.type)){tn=R.stateNode,Us=!1;break e}break;case 5:tn=R.stateNode,Us=!1;break e;case 3:case 4:tn=R.stateNode.containerInfo,Us=!0;break e}R=R.return}if(tn===null)throw Error(r(160));fC(S,A,w),tn=null,Us=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)pC(o,l),o=o.sibling}var qr=null;function pC(l,o){var f=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Bs(o,l),qs(l),x&4&&(zi(3,l,l.return),ru(3,l),zi(5,l,l.return));break;case 1:Bs(o,l),qs(l),x&512&&(On||f===null||ua(f,f.return)),x&64&&Ga&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(f=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=f===null?x:f.concat(x))));break;case 26:var w=qr;if(Bs(o,l),qs(l),x&512&&(On||f===null||ua(f,f.return)),x&4){var S=f!==null?f.memoizedState:null;if(x=l.memoizedState,f===null)if(x===null)if(l.stateNode===null){e:{x=l.type,f=l.memoizedProps,w=w.ownerDocument||w;t:switch(x){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Td]||S[ns]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(x),w.head.insertBefore(S,w.querySelector("head > title"))),is(S,x,f),S[ns]=l,Kn(S),x=S;break e;case"link":var A=p5("link","href",w).get(x+(f.href||""));if(A){for(var R=0;R<A.length;R++)if(S=A[R],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){A.splice(R,1);break t}}S=w.createElement(x),is(S,x,f),w.head.appendChild(S);break;case"meta":if(A=p5("meta","content",w).get(x+(f.content||""))){for(R=0;R<A.length;R++)if(S=A[R],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){A.splice(R,1);break t}}S=w.createElement(x),is(S,x,f),w.head.appendChild(S);break;default:throw Error(r(468,x))}S[ns]=l,Kn(S),x=S}l.stateNode=x}else x5(w,l.type,l.stateNode);else l.stateNode=h5(w,x,l.memoizedProps);else S!==x?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,x===null?x5(w,l.type,l.stateNode):h5(w,x,l.memoizedProps)):x===null&&l.stateNode!==null&&Z0(l,l.memoizedProps,f.memoizedProps)}break;case 27:Bs(o,l),qs(l),x&512&&(On||f===null||ua(f,f.return)),f!==null&&x&4&&Z0(l,l.memoizedProps,f.memoizedProps);break;case 5:if(Bs(o,l),qs(l),x&512&&(On||f===null||ua(f,f.return)),l.flags&32){w=l.stateNode;try{ec(w,"")}catch(Pe){Dt(l,l.return,Pe)}}x&4&&l.stateNode!=null&&(w=l.memoizedProps,Z0(l,w,f!==null?f.memoizedProps:w)),x&1024&&(tv=!0);break;case 6:if(Bs(o,l),qs(l),x&4){if(l.stateNode===null)throw Error(r(162));x=l.memoizedProps,f=l.stateNode;try{f.nodeValue=x}catch(Pe){Dt(l,l.return,Pe)}}break;case 3:if(Jm=null,w=qr,qr=Xm(o.containerInfo),Bs(o,l),qr=w,qs(l),x&4&&f!==null&&f.memoizedState.isDehydrated)try{Oc(o.containerInfo)}catch(Pe){Dt(l,l.return,Pe)}tv&&(tv=!1,xC(l));break;case 4:x=qr,qr=Xm(l.stateNode.containerInfo),Bs(o,l),qs(l),qr=x;break;case 12:Bs(o,l),qs(l);break;case 31:Bs(o,l),qs(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Lm(l,x)));break;case 13:Bs(o,l),qs(l),l.child.flags&8192&&l.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Um=Te()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Lm(l,x)));break;case 22:w=l.memoizedState!==null;var H=f!==null&&f.memoizedState!==null,ce=Ga,be=On;if(Ga=ce||w,On=be||H,Bs(o,l),On=be,Ga=ce,qs(l),x&8192)e:for(o=l.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(f===null||H||Ga||On||Yl(l)),f=null,o=l;;){if(o.tag===5||o.tag===26){if(f===null){H=f=o;try{if(S=H.stateNode,w)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=H.stateNode;var Se=H.memoizedProps.style,ue=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;R.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Pe){Dt(H,H.return,Pe)}}}else if(o.tag===6){if(f===null){H=o;try{H.stateNode.nodeValue=w?"":H.memoizedProps}catch(Pe){Dt(H,H.return,Pe)}}}else if(o.tag===18){if(f===null){H=o;try{var xe=H.stateNode;w?a5(xe,!0):a5(H.stateNode,!1)}catch(Pe){Dt(H,H.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===l)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=l.updateQueue,x!==null&&(f=x.retryQueue,f!==null&&(x.retryQueue=null,Lm(l,f))));break;case 19:Bs(o,l),qs(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Lm(l,x)));break;case 30:break;case 21:break;default:Bs(o,l),qs(l)}}function qs(l){var o=l.flags;if(o&2){try{for(var f,x=l.return;x!==null;){if(lC(x)){f=x;break}x=x.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,S=J0(l);Im(l,S,w);break;case 5:var A=f.stateNode;f.flags&32&&(ec(A,""),f.flags&=-33);var R=J0(l);Im(l,R,A);break;case 3:case 4:var H=f.stateNode.containerInfo,ce=J0(l);ev(l,ce,H);break;default:throw Error(r(161))}}catch(be){Dt(l,l.return,be)}l.flags&=-3}o&4096&&(l.flags&=-4097)}function xC(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var o=l;xC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),l=l.sibling}}function Ya(l,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)dC(l,o.alternate,o),o=o.sibling}function Yl(l){for(l=l.child;l!==null;){var o=l;switch(o.tag){case 0:case 11:case 14:case 15:zi(4,o,o.return),Yl(o);break;case 1:ua(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&aC(o,o.return,f),Yl(o);break;case 27:hu(o.stateNode);case 26:case 5:ua(o,o.return),Yl(o);break;case 22:o.memoizedState===null&&Yl(o);break;case 30:Yl(o);break;default:Yl(o)}l=l.sibling}}function Wa(l,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,w=l,S=o,A=S.flags;switch(S.tag){case 0:case 11:case 15:Wa(w,S,f),ru(4,S);break;case 1:if(Wa(w,S,f),x=S,w=x.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ce){Dt(x,x.return,ce)}if(x=S,w=x.updateQueue,w!==null){var R=x.stateNode;try{var H=w.shared.hiddenCallbacks;if(H!==null)for(w.shared.hiddenCallbacks=null,w=0;w<H.length;w++)K2(H[w],R)}catch(ce){Dt(x,x.return,ce)}}f&&A&64&&rC(S),au(S,S.return);break;case 27:oC(S);case 26:case 5:Wa(w,S,f),f&&x===null&&A&4&&iC(S),au(S,S.return);break;case 12:Wa(w,S,f);break;case 31:Wa(w,S,f),f&&A&4&&mC(w,S);break;case 13:Wa(w,S,f),f&&A&4&&hC(w,S);break;case 22:S.memoizedState===null&&Wa(w,S,f),au(S,S.return);break;case 30:break;default:Wa(w,S,f)}o=o.sibling}}function nv(l,o){var f=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),l=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),l!==f&&(l!=null&&l.refCount++,f!=null&&Vd(f))}function sv(l,o){l=null,o.alternate!==null&&(l=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==l&&(o.refCount++,l!=null&&Vd(l))}function $r(l,o,f,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)gC(l,o,f,x),o=o.sibling}function gC(l,o,f,x){var w=o.flags;switch(o.tag){case 0:case 11:case 15:$r(l,o,f,x),w&2048&&ru(9,o);break;case 1:$r(l,o,f,x);break;case 3:$r(l,o,f,x),w&2048&&(l=null,o.alternate!==null&&(l=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==l&&(o.refCount++,l!=null&&Vd(l)));break;case 12:if(w&2048){$r(l,o,f,x),l=o.stateNode;try{var S=o.memoizedProps,A=S.id,R=S.onPostCommit;typeof R=="function"&&R(A,o.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(H){Dt(o,o.return,H)}}else $r(l,o,f,x);break;case 31:$r(l,o,f,x);break;case 13:$r(l,o,f,x);break;case 23:break;case 22:S=o.stateNode,A=o.alternate,o.memoizedState!==null?S._visibility&2?$r(l,o,f,x):iu(l,o):S._visibility&2?$r(l,o,f,x):(S._visibility|=2,bc(l,o,f,x,(o.subtreeFlags&10256)!==0||!1)),w&2048&&nv(A,o);break;case 24:$r(l,o,f,x),w&2048&&sv(o.alternate,o);break;default:$r(l,o,f,x)}}function bc(l,o,f,x,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=l,A=o,R=f,H=x,ce=A.flags;switch(A.tag){case 0:case 11:case 15:bc(S,A,R,H,w),ru(8,A);break;case 23:break;case 22:var be=A.stateNode;A.memoizedState!==null?be._visibility&2?bc(S,A,R,H,w):iu(S,A):(be._visibility|=2,bc(S,A,R,H,w)),w&&ce&2048&&nv(A.alternate,A);break;case 24:bc(S,A,R,H,w),w&&ce&2048&&sv(A.alternate,A);break;default:bc(S,A,R,H,w)}o=o.sibling}}function iu(l,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=l,x=o,w=x.flags;switch(x.tag){case 22:iu(f,x),w&2048&&nv(x.alternate,x);break;case 24:iu(f,x),w&2048&&sv(x.alternate,x);break;default:iu(f,x)}o=o.sibling}}var lu=8192;function jc(l,o,f){if(l.subtreeFlags&lu)for(l=l.child;l!==null;)vC(l,o,f),l=l.sibling}function vC(l,o,f){switch(l.tag){case 26:jc(l,o,f),l.flags&lu&&l.memoizedState!==null&&QU(f,qr,l.memoizedState,l.memoizedProps);break;case 5:jc(l,o,f);break;case 3:case 4:var x=qr;qr=Xm(l.stateNode.containerInfo),jc(l,o,f),qr=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=lu,lu=16777216,jc(l,o,f),lu=x):jc(l,o,f));break;default:jc(l,o,f)}}function yC(l){var o=l.alternate;if(o!==null&&(l=o.child,l!==null)){o.child=null;do o=l.sibling,l.sibling=null,l=o;while(l!==null)}}function ou(l){var o=l.deletions;if((l.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var x=o[f];Yn=x,jC(x,l)}yC(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)bC(l),l=l.sibling}function bC(l){switch(l.tag){case 0:case 11:case 15:ou(l),l.flags&2048&&zi(9,l,l.return);break;case 3:ou(l);break;case 12:ou(l);break;case 22:var o=l.stateNode;l.memoizedState!==null&&o._visibility&2&&(l.return===null||l.return.tag!==13)?(o._visibility&=-3,zm(l)):ou(l);break;default:ou(l)}}function zm(l){var o=l.deletions;if((l.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var x=o[f];Yn=x,jC(x,l)}yC(l)}for(l=l.child;l!==null;){switch(o=l,o.tag){case 0:case 11:case 15:zi(8,o,o.return),zm(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,zm(o));break;default:zm(o)}l=l.sibling}}function jC(l,o){for(;Yn!==null;){var f=Yn;switch(f.tag){case 0:case 11:case 15:zi(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var x=f.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Vd(f.memoizedState.cache)}if(x=f.child,x!==null)x.return=f,Yn=x;else e:for(f=l;Yn!==null;){x=Yn;var w=x.sibling,S=x.return;if(uC(x),x===f){Yn=null;break e}if(w!==null){w.return=S,Yn=w;break e}Yn=S}}}var uU={getCacheForType:function(l){var o=rs(An),f=o.data.get(l);return f===void 0&&(f=l(),o.data.set(l,f)),f},cacheSignal:function(){return rs(An).controller.signal}},fU=typeof WeakMap=="function"?WeakMap:Map,wt=0,qt=null,it=null,ct=0,kt=0,tr=null,Ui=!1,wc=!1,rv=!1,Qa=0,vn=0,Bi=0,Wl=0,av=0,nr=0,Nc=0,cu=null,$s=null,iv=!1,Um=0,wC=0,Bm=1/0,qm=null,qi=null,In=0,$i=null,Sc=null,Xa=0,lv=0,ov=null,NC=null,du=0,cv=null;function sr(){return(wt&2)!==0&&ct!==0?ct&-ct:U.T!==null?pv():kg()}function SC(){if(nr===0)if((ct&536870912)===0||mt){var l=Ft;Ft<<=1,(Ft&3932160)===0&&(Ft=262144),nr=l}else nr=536870912;return l=Js.current,l!==null&&(l.flags|=32),nr}function Hs(l,o,f){(l===qt&&(kt===2||kt===9)||l.cancelPendingCommit!==null)&&(_c(l,0),Hi(l,ct,nr,!1)),un(l,f),((wt&2)===0||l!==qt)&&(l===qt&&((wt&2)===0&&(Wl|=f),vn===4&&Hi(l,ct,nr,!1)),fa(l))}function _C(l,o,f){if((wt&6)!==0)throw Error(r(327));var x=!f&&(o&127)===0&&(o&l.expiredLanes)===0||en(l,o),w=x?pU(l,o):uv(l,o,!0),S=x;do{if(w===0){wc&&!x&&Hi(l,o,0,!1);break}else{if(f=l.current.alternate,S&&!mU(f)){w=uv(l,o,!1),S=!1;continue}if(w===2){if(S=o,l.errorRecoveryDisabledLanes&S)var A=0;else A=l.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var R=l;w=cu;var H=R.current.memoizedState.isDehydrated;if(H&&(_c(R,A).flags|=256),A=uv(R,A,!1),A!==2){if(rv&&!H){R.errorRecoveryDisabledLanes|=S,Wl|=S,w=4;break e}S=$s,$s=w,S!==null&&($s===null?$s=S:$s.push.apply($s,S))}w=A}if(S=!1,w!==2)continue}}if(w===1){_c(l,0),Hi(l,o,0,!0);break}e:{switch(x=l,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Hi(x,o,nr,!Ui);break e;case 2:$s=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=Um+300-Te(),10<w)){if(Hi(x,o,nr,!Ui),Qe(x,0,!0)!==0)break e;Xa=o,x.timeoutHandle=n5(CC.bind(null,x,f,$s,qm,iv,o,nr,Wl,Nc,Ui,S,"Throttled",-0,0),w);break e}CC(x,f,$s,qm,iv,o,nr,Wl,Nc,Ui,S,null,-0,0)}}break}while(!0);fa(l)}function CC(l,o,f,x,w,S,A,R,H,ce,be,Se,ue,xe){if(l.timeoutHandle=-1,Se=o.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ia},vC(o,S,Se);var Pe=(S&62914560)===S?Um-Te():(S&4194048)===S?wC-Te():0;if(Pe=XU(Se,Pe),Pe!==null){Xa=S,l.cancelPendingCommit=Pe(MC.bind(null,l,o,S,f,x,w,A,R,H,be,Se,null,ue,xe)),Hi(l,S,A,!ce);return}}MC(l,o,S,f,x,w,A,R,H)}function mU(l){for(var o=l;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var x=0;x<f.length;x++){var w=f[x],S=w.getSnapshot;w=w.value;try{if(!Xs(S(),w))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===l)break;for(;o.sibling===null;){if(o.return===null||o.return===l)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hi(l,o,f,x){o&=~av,o&=~Wl,l.suspendedLanes|=o,l.pingedLanes&=~o,x&&(l.warmLanes|=o),x=l.expirationTimes;for(var w=o;0<w;){var S=31-Vn(w),A=1<<S;x[S]=-1,w&=~A}f!==0&&Tl(l,f,o)}function $m(){return(wt&6)===0?(uu(0),!1):!0}function dv(){if(it!==null){if(kt===0)var l=it.return;else l=it,Ba=Bl=null,C0(l),pc=null,Kd=0,l=it;for(;l!==null;)sC(l.alternate,l),l=l.return;it=null}}function _c(l,o){var f=l.timeoutHandle;f!==-1&&(l.timeoutHandle=-1,RU(f)),f=l.cancelPendingCommit,f!==null&&(l.cancelPendingCommit=null,f()),Xa=0,dv(),qt=l,it=f=za(l.current,null),ct=o,kt=0,tr=null,Ui=!1,wc=en(l,o),rv=!1,Nc=nr=av=Wl=Bi=vn=0,$s=cu=null,iv=!1,(o&8)!==0&&(o|=o&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=o;0<x;){var w=31-Vn(x),S=1<<w;o|=l[w],x&=~S}return Qa=o,cm(),f}function EC(l,o){nt=null,U.H=tu,o===hc||o===gm?(o=H2(),kt=3):o===h0?(o=H2(),kt=4):kt=o===$0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,tr=o,it===null&&(vn=1,Om(l,xr(o,l.current)))}function AC(){var l=Js.current;return l===null?!0:(ct&4194048)===ct?br===null:(ct&62914560)===ct||(ct&536870912)!==0?l===br:!1}function kC(){var l=U.H;return U.H=tu,l===null?tu:l}function DC(){var l=U.A;return U.A=uU,l}function Hm(){vn=4,Ui||(ct&4194048)!==ct&&Js.current!==null||(wc=!0),(Bi&134217727)===0&&(Wl&134217727)===0||qt===null||Hi(qt,ct,nr,!1)}function uv(l,o,f){var x=wt;wt|=2;var w=kC(),S=DC();(qt!==l||ct!==o)&&(qm=null,_c(l,o)),o=!1;var A=vn;e:do try{if(kt!==0&&it!==null){var R=it,H=tr;switch(kt){case 8:dv(),A=6;break e;case 3:case 2:case 9:case 6:Js.current===null&&(o=!0);var ce=kt;if(kt=0,tr=null,Cc(l,R,H,ce),f&&wc){A=0;break e}break;default:ce=kt,kt=0,tr=null,Cc(l,R,H,ce)}}hU(),A=vn;break}catch(be){EC(l,be)}while(!0);return o&&l.shellSuspendCounter++,Ba=Bl=null,wt=x,U.H=w,U.A=S,it===null&&(qt=null,ct=0,cm()),A}function hU(){for(;it!==null;)OC(it)}function pU(l,o){var f=wt;wt|=2;var x=kC(),w=DC();qt!==l||ct!==o?(qm=null,Bm=Te()+500,_c(l,o)):wc=en(l,o);e:do try{if(kt!==0&&it!==null){o=it;var S=tr;t:switch(kt){case 1:kt=0,tr=null,Cc(l,o,S,1);break;case 2:case 9:if(q2(S)){kt=0,tr=null,TC(o);break}o=function(){kt!==2&&kt!==9||qt!==l||(kt=7),fa(l)},S.then(o,o);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:q2(S)?(kt=0,tr=null,TC(o)):(kt=0,tr=null,Cc(l,o,S,7));break;case 5:var A=null;switch(it.tag){case 26:A=it.memoizedState;case 5:case 27:var R=it;if(A?g5(A):R.stateNode.complete){kt=0,tr=null;var H=R.sibling;if(H!==null)it=H;else{var ce=R.return;ce!==null?(it=ce,Fm(ce)):it=null}break t}}kt=0,tr=null,Cc(l,o,S,5);break;case 6:kt=0,tr=null,Cc(l,o,S,6);break;case 8:dv(),vn=6;break e;default:throw Error(r(462))}}xU();break}catch(be){EC(l,be)}while(!0);return Ba=Bl=null,U.H=x,U.A=w,wt=f,it!==null?0:(qt=null,ct=0,cm(),vn)}function xU(){for(;it!==null&&!Oe();)OC(it)}function OC(l){var o=tC(l.alternate,l,Qa);l.memoizedProps=l.pendingProps,o===null?Fm(l):it=o}function TC(l){var o=l,f=o.alternate;switch(o.tag){case 15:case 0:o=W_(f,o,o.pendingProps,o.type,void 0,ct);break;case 11:o=W_(f,o,o.pendingProps,o.type.render,o.ref,ct);break;case 5:C0(o);default:sC(f,o),o=it=D2(o,Qa),o=tC(f,o,Qa)}l.memoizedProps=l.pendingProps,o===null?Fm(l):it=o}function Cc(l,o,f,x){Ba=Bl=null,C0(o),pc=null,Kd=0;var w=o.return;try{if(rU(l,w,o,f,ct)){vn=1,Om(l,xr(f,l.current)),it=null;return}}catch(S){if(w!==null)throw it=w,S;vn=1,Om(l,xr(f,l.current)),it=null;return}o.flags&32768?(mt||x===1?l=!0:wc||(ct&536870912)!==0?l=!1:(Ui=l=!0,(x===2||x===9||x===3||x===6)&&(x=Js.current,x!==null&&x.tag===13&&(x.flags|=16384))),RC(o,l)):Fm(o)}function Fm(l){var o=l;do{if((o.flags&32768)!==0){RC(o,Ui);return}l=o.return;var f=lU(o.alternate,o,Qa);if(f!==null){it=f;return}if(o=o.sibling,o!==null){it=o;return}it=o=l}while(o!==null);vn===0&&(vn=5)}function RC(l,o){do{var f=oU(l.alternate,l);if(f!==null){f.flags&=32767,it=f;return}if(f=l.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(l=l.sibling,l!==null)){it=l;return}it=l=f}while(l!==null);vn=6,it=null}function MC(l,o,f,x,w,S,A,R,H){l.cancelPendingCommit=null;do Vm();while(In!==0);if((wt&6)!==0)throw Error(r(327));if(o!==null){if(o===l.current)throw Error(r(177));if(S=o.lanes|o.childLanes,S|=Jg,Ms(l,f,S,A,R,H),l===qt&&(it=qt=null,ct=0),Sc=o,$i=l,Xa=f,lv=S,ov=w,NC=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,bU(aa,function(){return UC(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=U.T,U.T=null,w=L.p,L.p=2,A=wt,wt|=4;try{cU(l,o,f)}finally{wt=A,L.p=w,U.T=x}}In=1,PC(),IC(),LC()}}function PC(){if(In===1){In=0;var l=$i,o=Sc,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=U.T,U.T=null;var x=L.p;L.p=2;var w=wt;wt|=4;try{pC(o,l);var S=Nv,A=j2(l.containerInfo),R=S.focusedElem,H=S.selectionRange;if(A!==R&&R&&R.ownerDocument&&b2(R.ownerDocument.documentElement,R)){if(H!==null&&Yg(R)){var ce=H.start,be=H.end;if(be===void 0&&(be=ce),"selectionStart"in R)R.selectionStart=ce,R.selectionEnd=Math.min(be,R.value.length);else{var Se=R.ownerDocument||document,ue=Se&&Se.defaultView||window;if(ue.getSelection){var xe=ue.getSelection(),Pe=R.textContent.length,Ge=Math.min(H.start,Pe),Pt=H.end===void 0?Ge:Math.min(H.end,Pe);!xe.extend&&Ge>Pt&&(A=Pt,Pt=Ge,Ge=A);var ee=y2(R,Ge),K=y2(R,Pt);if(ee&&K&&(xe.rangeCount!==1||xe.anchorNode!==ee.node||xe.anchorOffset!==ee.offset||xe.focusNode!==K.node||xe.focusOffset!==K.offset)){var oe=Se.createRange();oe.setStart(ee.node,ee.offset),xe.removeAllRanges(),Ge>Pt?(xe.addRange(oe),xe.extend(K.node,K.offset)):(oe.setEnd(K.node,K.offset),xe.addRange(oe))}}}}for(Se=[],xe=R;xe=xe.parentNode;)xe.nodeType===1&&Se.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Se.length;R++){var je=Se[R];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}sh=!!wv,Nv=wv=null}finally{wt=w,L.p=x,U.T=f}}l.current=o,In=2}}function IC(){if(In===2){In=0;var l=$i,o=Sc,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=U.T,U.T=null;var x=L.p;L.p=2;var w=wt;wt|=4;try{dC(l,o.alternate,o)}finally{wt=w,L.p=x,U.T=f}}In=3}}function LC(){if(In===4||In===3){In=0,he();var l=$i,o=Sc,f=Xa,x=NC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?In=5:(In=0,Sc=$i=null,zC(l,l.pendingLanes));var w=l.pendingLanes;if(w===0&&(qi=null),Ur(f),o=o.stateNode,En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Ma,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=U.T,w=L.p,L.p=2,U.T=null;try{for(var S=l.onRecoverableError,A=0;A<x.length;A++){var R=x[A];S(R.value,{componentStack:R.stack})}}finally{U.T=o,L.p=w}}(Xa&3)!==0&&Vm(),fa(l),w=l.pendingLanes,(f&261930)!==0&&(w&42)!==0?l===cv?du++:(du=0,cv=l):du=0,uu(0)}}function zC(l,o){(l.pooledCacheLanes&=o)===0&&(o=l.pooledCache,o!=null&&(l.pooledCache=null,Vd(o)))}function Vm(){return PC(),IC(),LC(),UC()}function UC(){if(In!==5)return!1;var l=$i,o=lv;lv=0;var f=Ur(Xa),x=U.T,w=L.p;try{L.p=32>f?32:f,U.T=null,f=ov,ov=null;var S=$i,A=Xa;if(In=0,Sc=$i=null,Xa=0,(wt&6)!==0)throw Error(r(331));var R=wt;if(wt|=4,bC(S.current),gC(S,S.current,A,f),wt=R,uu(0,!1),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Ma,S)}catch{}return!0}finally{L.p=w,U.T=x,zC(l,o)}}function BC(l,o,f){o=xr(f,o),o=q0(l.stateNode,o,2),l=Pi(l,o,2),l!==null&&(un(l,2),fa(l))}function Dt(l,o,f){if(l.tag===3)BC(l,l,f);else for(;o!==null;){if(o.tag===3){BC(o,l,f);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(qi===null||!qi.has(x))){l=xr(f,l),f=q_(2),x=Pi(o,f,2),x!==null&&($_(f,x,o,l),un(x,2),fa(x));break}}o=o.return}}function fv(l,o,f){var x=l.pingCache;if(x===null){x=l.pingCache=new fU;var w=new Set;x.set(o,w)}else w=x.get(o),w===void 0&&(w=new Set,x.set(o,w));w.has(f)||(rv=!0,w.add(f),l=gU.bind(null,l,o,f),o.then(l,l))}function gU(l,o,f){var x=l.pingCache;x!==null&&x.delete(o),l.pingedLanes|=l.suspendedLanes&f,l.warmLanes&=~f,qt===l&&(ct&f)===f&&(vn===4||vn===3&&(ct&62914560)===ct&&300>Te()-Um?(wt&2)===0&&_c(l,0):av|=f,Nc===ct&&(Nc=0)),fa(l)}function qC(l,o){o===0&&(o=ms()),l=Ll(l,o),l!==null&&(un(l,o),fa(l))}function vU(l){var o=l.memoizedState,f=0;o!==null&&(f=o.retryLane),qC(l,f)}function yU(l,o){var f=0;switch(l.tag){case 31:case 13:var x=l.stateNode,w=l.memoizedState;w!==null&&(f=w.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(o),qC(l,f)}function bU(l,o){return Ne(l,o)}var Gm=null,Ec=null,mv=!1,Km=!1,hv=!1,Fi=0;function fa(l){l!==Ec&&l.next===null&&(Ec===null?Gm=Ec=l:Ec=Ec.next=l),Km=!0,mv||(mv=!0,wU())}function uu(l,o){if(!hv&&Km){hv=!0;do for(var f=!1,x=Gm;x!==null;){if(l!==0){var w=x.pendingLanes;if(w===0)var S=0;else{var A=x.suspendedLanes,R=x.pingedLanes;S=(1<<31-Vn(42|l)+1)-1,S&=w&~(A&~R),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,VC(x,S))}else S=ct,S=Qe(x,x===qt?S:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(S&3)===0||en(x,S)||(f=!0,VC(x,S));x=x.next}while(f);hv=!1}}function jU(){$C()}function $C(){Km=mv=!1;var l=0;Fi!==0&&TU()&&(l=Fi);for(var o=Te(),f=null,x=Gm;x!==null;){var w=x.next,S=HC(x,o);S===0?(x.next=null,f===null?Gm=w:f.next=w,w===null&&(Ec=f)):(f=x,(l!==0||(S&3)!==0)&&(Km=!0)),x=w}In!==0&&In!==5||uu(l),Fi!==0&&(Fi=0)}function HC(l,o){for(var f=l.suspendedLanes,x=l.pingedLanes,w=l.expirationTimes,S=l.pendingLanes&-62914561;0<S;){var A=31-Vn(S),R=1<<A,H=w[A];H===-1?((R&f)===0||(R&x)!==0)&&(w[A]=Gn(R,o)):H<=o&&(l.expiredLanes|=R),S&=~R}if(o=qt,f=ct,f=Qe(l,l===o?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,f===0||l===o&&(kt===2||kt===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&st(x),l.callbackNode=null,l.callbackPriority=0;if((f&3)===0||en(l,f)){if(o=f&-f,o===l.callbackPriority)return o;switch(x!==null&&st(x),Ur(f)){case 2:case 8:f=Bt;break;case 32:f=aa;break;case 268435456:f=Lr;break;default:f=aa}return x=FC.bind(null,l),f=Ne(f,x),l.callbackPriority=o,l.callbackNode=f,o}return x!==null&&x!==null&&st(x),l.callbackPriority=2,l.callbackNode=null,2}function FC(l,o){if(In!==0&&In!==5)return l.callbackNode=null,l.callbackPriority=0,null;var f=l.callbackNode;if(Vm()&&l.callbackNode!==f)return null;var x=ct;return x=Qe(l,l===qt?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(_C(l,x,o),HC(l,Te()),l.callbackNode!=null&&l.callbackNode===f?FC.bind(null,l):null)}function VC(l,o){if(Vm())return null;_C(l,o,!0)}function wU(){MU(function(){(wt&6)!==0?Ne(Ts,jU):$C()})}function pv(){if(Fi===0){var l=fc;l===0&&(l=de,de<<=1,(de&261888)===0&&(de=256)),Fi=l}return Fi}function GC(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:tm(""+l)}function KC(l,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,l.id&&f.setAttribute("form",l.id),o.parentNode.insertBefore(f,o),l=new FormData(l),f.parentNode.removeChild(f),l}function NU(l,o,f,x,w){if(o==="submit"&&f&&f.stateNode===w){var S=GC((w[Ls]||null).action),A=x.submitter;A&&(o=(o=A[Ls]||null)?GC(o.formAction):A.getAttribute("formAction"),o!==null&&(S=o,A=null));var R=new am("action","action",null,x,w);l.push({event:R,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Fi!==0){var H=A?KC(w,A):new FormData(w);P0(f,{pending:!0,data:H,method:w.method,action:S},null,H)}}else typeof S=="function"&&(R.preventDefault(),H=A?KC(w,A):new FormData(w),P0(f,{pending:!0,data:H,method:w.method,action:S},S,H))},currentTarget:w}]})}}for(var xv=0;xv<Zg.length;xv++){var gv=Zg[xv],SU=gv.toLowerCase(),_U=gv[0].toUpperCase()+gv.slice(1);Br(SU,"on"+_U)}Br(S2,"onAnimationEnd"),Br(_2,"onAnimationIteration"),Br(C2,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(q8,"onTransitionRun"),Br($8,"onTransitionStart"),Br(H8,"onTransitionCancel"),Br(E2,"onTransitionEnd"),Zo("onMouseEnter",["mouseout","mouseover"]),Zo("onMouseLeave",["mouseout","mouseover"]),Zo("onPointerEnter",["pointerout","pointerover"]),Zo("onPointerLeave",["pointerout","pointerover"]),Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function YC(l,o){o=(o&4)!==0;for(var f=0;f<l.length;f++){var x=l[f],w=x.event;x=x.listeners;e:{var S=void 0;if(o)for(var A=x.length-1;0<=A;A--){var R=x[A],H=R.instance,ce=R.currentTarget;if(R=R.listener,H!==S&&w.isPropagationStopped())break e;S=R,w.currentTarget=ce;try{S(w)}catch(be){om(be)}w.currentTarget=null,S=H}else for(A=0;A<x.length;A++){if(R=x[A],H=R.instance,ce=R.currentTarget,R=R.listener,H!==S&&w.isPropagationStopped())break e;S=R,w.currentTarget=ce;try{S(w)}catch(be){om(be)}w.currentTarget=null,S=H}}}}function lt(l,o){var f=o[Dg];f===void 0&&(f=o[Dg]=new Set);var x=l+"__bubble";f.has(x)||(WC(o,l,2,!1),f.add(x))}function vv(l,o,f){var x=0;o&&(x|=4),WC(f,l,x,o)}var Ym="_reactListening"+Math.random().toString(36).slice(2);function yv(l){if(!l[Ym]){l[Ym]=!0,$S.forEach(function(f){f!=="selectionchange"&&(CU.has(f)||vv(f,!1,l),vv(f,!0,l))});var o=l.nodeType===9?l:l.ownerDocument;o===null||o[Ym]||(o[Ym]=!0,vv("selectionchange",!1,o))}}function WC(l,o,f,x){switch(S5(o)){case 2:var w=e7;break;case 8:w=t7;break;default:w=Mv}f=w.bind(null,o,f,l),w=void 0,!Ug||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),x?w!==void 0?l.addEventListener(o,f,{capture:!0,passive:w}):l.addEventListener(o,f,!0):w!==void 0?l.addEventListener(o,f,{passive:w}):l.addEventListener(o,f,!1)}function bv(l,o,f,x,w){var S=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var R=x.stateNode.containerInfo;if(R===w)break;if(A===4)for(A=x.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===w)return;A=A.return}for(;R!==null;){if(A=Wo(R),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){x=S=A;continue e}R=R.parentNode}}x=x.return}e2(function(){var ce=S,be=Lg(f),Se=[];e:{var ue=A2.get(l);if(ue!==void 0){var xe=am,Pe=l;switch(l){case"keypress":if(sm(f)===0)break e;case"keydown":case"keyup":xe=y8;break;case"focusin":Pe="focus",xe=Hg;break;case"focusout":Pe="blur",xe=Hg;break;case"beforeblur":case"afterblur":xe=Hg;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=s2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=l8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=w8;break;case S2:case _2:case C2:xe=d8;break;case E2:xe=S8;break;case"scroll":case"scrollend":xe=a8;break;case"wheel":xe=C8;break;case"copy":case"cut":case"paste":xe=f8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=a2;break;case"toggle":case"beforetoggle":xe=A8}var Ge=(o&4)!==0,Pt=!Ge&&(l==="scroll"||l==="scrollend"),ee=Ge?ue!==null?ue+"Capture":null:ue;Ge=[];for(var K=ce,oe;K!==null;){var je=K;if(oe=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||oe===null||ee===null||(je=Md(K,ee),je!=null&&Ge.push(mu(K,je,oe))),Pt)break;K=K.return}0<Ge.length&&(ue=new xe(ue,Pe,null,f,be),Se.push({event:ue,listeners:Ge}))}}if((o&7)===0){e:{if(ue=l==="mouseover"||l==="pointerover",xe=l==="mouseout"||l==="pointerout",ue&&f!==Ig&&(Pe=f.relatedTarget||f.fromElement)&&(Wo(Pe)||Pe[Yo]))break e;if((xe||ue)&&(ue=be.window===be?be:(ue=be.ownerDocument)?ue.defaultView||ue.parentWindow:window,xe?(Pe=f.relatedTarget||f.toElement,xe=ce,Pe=Pe?Wo(Pe):null,Pe!==null&&(Pt=i(Pe),Ge=Pe.tag,Pe!==Pt||Ge!==5&&Ge!==27&&Ge!==6)&&(Pe=null)):(xe=null,Pe=ce),xe!==Pe)){if(Ge=s2,je="onMouseLeave",ee="onMouseEnter",K="mouse",(l==="pointerout"||l==="pointerover")&&(Ge=a2,je="onPointerLeave",ee="onPointerEnter",K="pointer"),Pt=xe==null?ue:Rd(xe),oe=Pe==null?ue:Rd(Pe),ue=new Ge(je,K+"leave",xe,f,be),ue.target=Pt,ue.relatedTarget=oe,je=null,Wo(be)===ce&&(Ge=new Ge(ee,K+"enter",Pe,f,be),Ge.target=oe,Ge.relatedTarget=Pt,je=Ge),Pt=je,xe&&Pe)t:{for(Ge=EU,ee=xe,K=Pe,oe=0,je=ee;je;je=Ge(je))oe++;je=0;for(var He=K;He;He=Ge(He))je++;for(;0<oe-je;)ee=Ge(ee),oe--;for(;0<je-oe;)K=Ge(K),je--;for(;oe--;){if(ee===K||K!==null&&ee===K.alternate){Ge=ee;break t}ee=Ge(ee),K=Ge(K)}Ge=null}else Ge=null;xe!==null&&QC(Se,ue,xe,Ge,!1),Pe!==null&&Pt!==null&&QC(Se,Pt,Pe,Ge,!0)}}e:{if(ue=ce?Rd(ce):window,xe=ue.nodeName&&ue.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ue.type==="file")var xt=m2;else if(u2(ue))if(h2)xt=z8;else{xt=I8;var Ue=P8}else xe=ue.nodeName,!xe||xe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?ce&&Pg(ce.elementType)&&(xt=m2):xt=L8;if(xt&&(xt=xt(l,ce))){f2(Se,xt,f,be);break e}Ue&&Ue(l,ue,ce),l==="focusout"&&ce&&ue.type==="number"&&ce.memoizedProps.value!=null&&Mg(ue,"number",ue.value)}switch(Ue=ce?Rd(ce):window,l){case"focusin":(u2(Ue)||Ue.contentEditable==="true")&&(rc=Ue,Wg=ce,$d=null);break;case"focusout":$d=Wg=rc=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,w2(Se,f,be);break;case"selectionchange":if(B8)break;case"keydown":case"keyup":w2(Se,f,be)}var at;if(Vg)e:{switch(l){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else sc?c2(l,f)&&(dt="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(dt="onCompositionStart");dt&&(i2&&f.locale!=="ko"&&(sc||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&sc&&(at=t2()):(Ai=be,Bg="value"in Ai?Ai.value:Ai.textContent,sc=!0)),Ue=Wm(ce,dt),0<Ue.length&&(dt=new r2(dt,l,null,f,be),Se.push({event:dt,listeners:Ue}),at?dt.data=at:(at=d2(f),at!==null&&(dt.data=at)))),(at=D8?O8(l,f):T8(l,f))&&(dt=Wm(ce,"onBeforeInput"),0<dt.length&&(Ue=new r2("onBeforeInput","beforeinput",null,f,be),Se.push({event:Ue,listeners:dt}),Ue.data=at)),NU(Se,l,ce,f,be)}YC(Se,o)})}function mu(l,o,f){return{instance:l,listener:o,currentTarget:f}}function Wm(l,o){for(var f=o+"Capture",x=[];l!==null;){var w=l,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Md(l,f),w!=null&&x.unshift(mu(l,w,S)),w=Md(l,o),w!=null&&x.push(mu(l,w,S))),l.tag===3)return x;l=l.return}return[]}function EU(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function QC(l,o,f,x,w){for(var S=o._reactName,A=[];f!==null&&f!==x;){var R=f,H=R.alternate,ce=R.stateNode;if(R=R.tag,H!==null&&H===x)break;R!==5&&R!==26&&R!==27||ce===null||(H=ce,w?(ce=Md(f,S),ce!=null&&A.unshift(mu(f,ce,H))):w||(ce=Md(f,S),ce!=null&&A.push(mu(f,ce,H)))),f=f.return}A.length!==0&&l.push({event:o,listeners:A})}var AU=/\r\n?/g,kU=/\u0000|\uFFFD/g;function XC(l){return(typeof l=="string"?l:""+l).replace(AU,`
`).replace(kU,"")}function ZC(l,o){return o=XC(o),XC(l)===o}function Mt(l,o,f,x,w,S){switch(f){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||ec(l,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&ec(l,""+x);break;case"className":Jf(l,"class",x);break;case"tabIndex":Jf(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Jf(l,f,x);break;case"style":ZS(l,x,S);break;case"data":if(o!=="object"){Jf(l,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||f!=="href")){l.removeAttribute(f);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(f);break}x=tm(""+x),l.setAttribute(f,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(o!=="input"&&Mt(l,o,"name",w.name,w,null),Mt(l,o,"formEncType",w.formEncType,w,null),Mt(l,o,"formMethod",w.formMethod,w,null),Mt(l,o,"formTarget",w.formTarget,w,null)):(Mt(l,o,"encType",w.encType,w,null),Mt(l,o,"method",w.method,w,null),Mt(l,o,"target",w.target,w,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(f);break}x=tm(""+x),l.setAttribute(f,x);break;case"onClick":x!=null&&(l.onclick=Ia);break;case"onScroll":x!=null&&lt("scroll",l);break;case"onScrollEnd":x!=null&&lt("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(f=x.__html,f!=null){if(w.children!=null)throw Error(r(60));l.innerHTML=f}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}f=tm(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(f,""+x):l.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(f,""):l.removeAttribute(f);break;case"capture":case"download":x===!0?l.setAttribute(f,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(f,x):l.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(f,x):l.removeAttribute(f);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(f):l.setAttribute(f,x);break;case"popover":lt("beforetoggle",l),lt("toggle",l),Zf(l,"popover",x);break;case"xlinkActuate":Pa(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Pa(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Pa(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Pa(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Pa(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Pa(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Pa(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Pa(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Pa(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Zf(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=s8.get(f)||f,Zf(l,f,x))}}function jv(l,o,f,x,w,S){switch(f){case"style":ZS(l,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(f=x.__html,f!=null){if(w.children!=null)throw Error(r(60));l.innerHTML=f}}break;case"children":typeof x=="string"?ec(l,x):(typeof x=="number"||typeof x=="bigint")&&ec(l,""+x);break;case"onScroll":x!=null&&lt("scroll",l);break;case"onScrollEnd":x!=null&&lt("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!HS.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),o=f.slice(2,w?f.length-7:void 0),S=l[Ls]||null,S=S!=null?S[f]:null,typeof S=="function"&&l.removeEventListener(o,S,w),typeof x=="function")){typeof S!="function"&&S!==null&&(f in l?l[f]=null:l.hasAttribute(f)&&l.removeAttribute(f)),l.addEventListener(o,x,w);break e}f in l?l[f]=x:x===!0?l.setAttribute(f,""):Zf(l,f,x)}}}function is(l,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",l),lt("load",l);var x=!1,w=!1,S;for(S in f)if(f.hasOwnProperty(S)){var A=f[S];if(A!=null)switch(S){case"src":x=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(l,o,S,A,f,null)}}w&&Mt(l,o,"srcSet",f.srcSet,f,null),x&&Mt(l,o,"src",f.src,f,null);return;case"input":lt("invalid",l);var R=S=A=w=null,H=null,ce=null;for(x in f)if(f.hasOwnProperty(x)){var be=f[x];if(be!=null)switch(x){case"name":w=be;break;case"type":A=be;break;case"checked":H=be;break;case"defaultChecked":ce=be;break;case"value":S=be;break;case"defaultValue":R=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,o));break;default:Mt(l,o,x,be,f,null)}}YS(l,S,R,H,ce,A,w,!1);return;case"select":lt("invalid",l),x=A=S=null;for(w in f)if(f.hasOwnProperty(w)&&(R=f[w],R!=null))switch(w){case"value":S=R;break;case"defaultValue":A=R;break;case"multiple":x=R;default:Mt(l,o,w,R,f,null)}o=S,f=A,l.multiple=!!x,o!=null?Jo(l,!!x,o,!1):f!=null&&Jo(l,!!x,f,!0);return;case"textarea":lt("invalid",l),S=w=x=null;for(A in f)if(f.hasOwnProperty(A)&&(R=f[A],R!=null))switch(A){case"value":x=R;break;case"defaultValue":w=R;break;case"children":S=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Mt(l,o,A,R,f,null)}QS(l,x,w,S);return;case"option":for(H in f)f.hasOwnProperty(H)&&(x=f[H],x!=null)&&(H==="selected"?l.selected=x&&typeof x!="function"&&typeof x!="symbol":Mt(l,o,H,x,f,null));return;case"dialog":lt("beforetoggle",l),lt("toggle",l),lt("cancel",l),lt("close",l);break;case"iframe":case"object":lt("load",l);break;case"video":case"audio":for(x=0;x<fu.length;x++)lt(fu[x],l);break;case"image":lt("error",l),lt("load",l);break;case"details":lt("toggle",l);break;case"embed":case"source":case"link":lt("error",l),lt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in f)if(f.hasOwnProperty(ce)&&(x=f[ce],x!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(l,o,ce,x,f,null)}return;default:if(Pg(o)){for(be in f)f.hasOwnProperty(be)&&(x=f[be],x!==void 0&&jv(l,o,be,x,f,void 0));return}}for(R in f)f.hasOwnProperty(R)&&(x=f[R],x!=null&&Mt(l,o,R,x,f,null))}function DU(l,o,f,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,A=null,R=null,H=null,ce=null,be=null;for(xe in f){var Se=f[xe];if(f.hasOwnProperty(xe)&&Se!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":H=Se;default:x.hasOwnProperty(xe)||Mt(l,o,xe,null,x,Se)}}for(var ue in x){var xe=x[ue];if(Se=f[ue],x.hasOwnProperty(ue)&&(xe!=null||Se!=null))switch(ue){case"type":S=xe;break;case"name":w=xe;break;case"checked":ce=xe;break;case"defaultChecked":be=xe;break;case"value":A=xe;break;case"defaultValue":R=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:xe!==Se&&Mt(l,o,ue,xe,x,Se)}}Rg(l,A,R,H,ce,be,S,w);return;case"select":xe=A=R=ue=null;for(S in f)if(H=f[S],f.hasOwnProperty(S)&&H!=null)switch(S){case"value":break;case"multiple":xe=H;default:x.hasOwnProperty(S)||Mt(l,o,S,null,x,H)}for(w in x)if(S=x[w],H=f[w],x.hasOwnProperty(w)&&(S!=null||H!=null))switch(w){case"value":ue=S;break;case"defaultValue":R=S;break;case"multiple":A=S;default:S!==H&&Mt(l,o,w,S,x,H)}o=R,f=A,x=xe,ue!=null?Jo(l,!!f,ue,!1):!!x!=!!f&&(o!=null?Jo(l,!!f,o,!0):Jo(l,!!f,f?[]:"",!1));return;case"textarea":xe=ue=null;for(R in f)if(w=f[R],f.hasOwnProperty(R)&&w!=null&&!x.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Mt(l,o,R,null,x,w)}for(A in x)if(w=x[A],S=f[A],x.hasOwnProperty(A)&&(w!=null||S!=null))switch(A){case"value":ue=w;break;case"defaultValue":xe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&Mt(l,o,A,w,x,S)}WS(l,ue,xe);return;case"option":for(var Pe in f)ue=f[Pe],f.hasOwnProperty(Pe)&&ue!=null&&!x.hasOwnProperty(Pe)&&(Pe==="selected"?l.selected=!1:Mt(l,o,Pe,null,x,ue));for(H in x)ue=x[H],xe=f[H],x.hasOwnProperty(H)&&ue!==xe&&(ue!=null||xe!=null)&&(H==="selected"?l.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":Mt(l,o,H,ue,x,xe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in f)ue=f[Ge],f.hasOwnProperty(Ge)&&ue!=null&&!x.hasOwnProperty(Ge)&&Mt(l,o,Ge,null,x,ue);for(ce in x)if(ue=x[ce],xe=f[ce],x.hasOwnProperty(ce)&&ue!==xe&&(ue!=null||xe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Mt(l,o,ce,ue,x,xe)}return;default:if(Pg(o)){for(var Pt in f)ue=f[Pt],f.hasOwnProperty(Pt)&&ue!==void 0&&!x.hasOwnProperty(Pt)&&jv(l,o,Pt,void 0,x,ue);for(be in x)ue=x[be],xe=f[be],!x.hasOwnProperty(be)||ue===xe||ue===void 0&&xe===void 0||jv(l,o,be,ue,x,xe);return}}for(var ee in f)ue=f[ee],f.hasOwnProperty(ee)&&ue!=null&&!x.hasOwnProperty(ee)&&Mt(l,o,ee,null,x,ue);for(Se in x)ue=x[Se],xe=f[Se],!x.hasOwnProperty(Se)||ue===xe||ue==null&&xe==null||Mt(l,o,Se,ue,x,xe)}function JC(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OU(){if(typeof performance.getEntriesByType=="function"){for(var l=0,o=0,f=performance.getEntriesByType("resource"),x=0;x<f.length;x++){var w=f[x],S=w.transferSize,A=w.initiatorType,R=w.duration;if(S&&R&&JC(A)){for(A=0,R=w.responseEnd,x+=1;x<f.length;x++){var H=f[x],ce=H.startTime;if(ce>R)break;var be=H.transferSize,Se=H.initiatorType;be&&JC(Se)&&(H=H.responseEnd,A+=be*(H<R?1:(R-ce)/(H-ce)))}if(--x,o+=8*(S+A)/(w.duration/1e3),l++,10<l)break}}if(0<l)return o/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var wv=null,Nv=null;function Qm(l){return l.nodeType===9?l:l.ownerDocument}function e5(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t5(l,o){if(l===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&o==="foreignObject"?0:l}function Sv(l,o){return l==="textarea"||l==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _v=null;function TU(){var l=window.event;return l&&l.type==="popstate"?l===_v?!1:(_v=l,!0):(_v=null,!1)}var n5=typeof setTimeout=="function"?setTimeout:void 0,RU=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,MU=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(l){return s5.resolve(null).then(l).catch(PU)}:n5;function PU(l){setTimeout(function(){throw l})}function Vi(l){return l==="head"}function r5(l,o){var f=o,x=0;do{var w=f.nextSibling;if(l.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(x===0){l.removeChild(w),Oc(o);return}x--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")x++;else if(f==="html")hu(l.ownerDocument.documentElement);else if(f==="head"){f=l.ownerDocument.head,hu(f);for(var S=f.firstChild;S;){var A=S.nextSibling,R=S.nodeName;S[Td]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=A}}else f==="body"&&hu(l.ownerDocument.body);f=w}while(f);Oc(o)}function a5(l,o){var f=l;l=0;do{var x=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(l===0)break;l--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||l++;f=x}while(f)}function Cv(l){var o=l.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Cv(f),Og(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}l.removeChild(f)}}function IU(l,o,f,x){for(;l.nodeType===1;){var w=f;if(l.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[Td])switch(o){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(S=l.getAttribute("rel"),S==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(S!==w.rel||l.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||l.getAttribute("title")!==(w.title==null?null:w.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(S=l.getAttribute("src"),(S!==(w.src==null?null:w.src)||l.getAttribute("type")!==(w.type==null?null:w.type)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(o==="input"&&l.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&l.getAttribute("name")===S)return l}else return l;if(l=jr(l.nextSibling),l===null)break}return null}function LU(l,o,f){if(o==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=jr(l.nextSibling),l===null))return null;return l}function i5(l,o){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!o||(l=jr(l.nextSibling),l===null))return null;return l}function Ev(l){return l.data==="$?"||l.data==="$~"}function Av(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function zU(l,o){var f=l.ownerDocument;if(l.data==="$~")l._reactRetry=o;else if(l.data!=="$?"||f.readyState!=="loading")o();else{var x=function(){o(),f.removeEventListener("DOMContentLoaded",x)};f.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function jr(l){for(;l!=null;l=l.nextSibling){var o=l.nodeType;if(o===1||o===3)break;if(o===8){if(o=l.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return l}var kv=null;function l5(l){l=l.nextSibling;for(var o=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"||f==="/&"){if(o===0)return jr(l.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}l=l.nextSibling}return null}function o5(l){l=l.previousSibling;for(var o=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return l;o--}else f!=="/$"&&f!=="/&"||o++}l=l.previousSibling}return null}function c5(l,o,f){switch(o=Qm(f),l){case"html":if(l=o.documentElement,!l)throw Error(r(452));return l;case"head":if(l=o.head,!l)throw Error(r(453));return l;case"body":if(l=o.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function hu(l){for(var o=l.attributes;o.length;)l.removeAttributeNode(o[0]);Og(l)}var wr=new Map,d5=new Set;function Xm(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Za=L.d;L.d={f:UU,r:BU,D:qU,C:$U,L:HU,m:FU,X:GU,S:VU,M:KU};function UU(){var l=Za.f(),o=$m();return l||o}function BU(l){var o=Qo(l);o!==null&&o.tag===5&&o.type==="form"?E_(o):Za.r(l)}var Ac=typeof document>"u"?null:document;function u5(l,o,f){var x=Ac;if(x&&typeof o=="string"&&o){var w=hr(o);w='link[rel="'+l+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),d5.has(w)||(d5.add(w),l={rel:l,crossOrigin:f,href:o},x.querySelector(w)===null&&(o=x.createElement("link"),is(o,"link",l),Kn(o),x.head.appendChild(o)))}}function qU(l){Za.D(l),u5("dns-prefetch",l,null)}function $U(l,o){Za.C(l,o),u5("preconnect",l,o)}function HU(l,o,f){Za.L(l,o,f);var x=Ac;if(x&&l&&o){var w='link[rel="preload"][as="'+hr(o)+'"]';o==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+hr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+hr(f.imageSizes)+'"]')):w+='[href="'+hr(l)+'"]';var S=w;switch(o){case"style":S=kc(l);break;case"script":S=Dc(l)}wr.has(S)||(l=p({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:l,as:o},f),wr.set(S,l),x.querySelector(w)!==null||o==="style"&&x.querySelector(pu(S))||o==="script"&&x.querySelector(xu(S))||(o=x.createElement("link"),is(o,"link",l),Kn(o),x.head.appendChild(o)))}}function FU(l,o){Za.m(l,o);var f=Ac;if(f&&l){var x=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+hr(x)+'"][href="'+hr(l)+'"]',S=w;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Dc(l)}if(!wr.has(S)&&(l=p({rel:"modulepreload",href:l},o),wr.set(S,l),f.querySelector(w)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(xu(S)))return}x=f.createElement("link"),is(x,"link",l),Kn(x),f.head.appendChild(x)}}}function VU(l,o,f){Za.S(l,o,f);var x=Ac;if(x&&l){var w=Xo(x).hoistableStyles,S=kc(l);o=o||"default";var A=w.get(S);if(!A){var R={loading:0,preload:null};if(A=x.querySelector(pu(S)))R.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":o},f),(f=wr.get(S))&&Dv(l,f);var H=A=x.createElement("link");Kn(H),is(H,"link",l),H._p=new Promise(function(ce,be){H.onload=ce,H.onerror=be}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Zm(A,o,x)}A={type:"stylesheet",instance:A,count:1,state:R},w.set(S,A)}}}function GU(l,o){Za.X(l,o);var f=Ac;if(f&&l){var x=Xo(f).hoistableScripts,w=Dc(l),S=x.get(w);S||(S=f.querySelector(xu(w)),S||(l=p({src:l,async:!0},o),(o=wr.get(w))&&Ov(l,o),S=f.createElement("script"),Kn(S),is(S,"link",l),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(w,S))}}function KU(l,o){Za.M(l,o);var f=Ac;if(f&&l){var x=Xo(f).hoistableScripts,w=Dc(l),S=x.get(w);S||(S=f.querySelector(xu(w)),S||(l=p({src:l,async:!0,type:"module"},o),(o=wr.get(w))&&Ov(l,o),S=f.createElement("script"),Kn(S),is(S,"link",l),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(w,S))}}function f5(l,o,f,x){var w=(w=W.current)?Xm(w):null;if(!w)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=kc(f.href),f=Xo(w).hoistableStyles,x=f.get(o),x||(x={type:"style",instance:null,count:0,state:null},f.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){l=kc(f.href);var S=Xo(w).hoistableStyles,A=S.get(l);if(A||(w=w.ownerDocument||w,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(l,A),(S=w.querySelector(pu(l)))&&!S._p&&(A.instance=S,A.state.loading=5),wr.has(l)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},wr.set(l,f),S||YU(w,l,f,A.state))),o&&x===null)throw Error(r(528,""));return A}if(o&&x!==null)throw Error(r(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Dc(f),f=Xo(w).hoistableScripts,x=f.get(o),x||(x={type:"script",instance:null,count:0,state:null},f.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function kc(l){return'href="'+hr(l)+'"'}function pu(l){return'link[rel="stylesheet"]['+l+"]"}function m5(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function YU(l,o,f,x){l.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=l.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),is(o,"link",f),Kn(o),l.head.appendChild(o))}function Dc(l){return'[src="'+hr(l)+'"]'}function xu(l){return"script[async]"+l}function h5(l,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var x=l.querySelector('style[data-href~="'+hr(f.href)+'"]');if(x)return o.instance=x,Kn(x),x;var w=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),Kn(x),is(x,"style",w),Zm(x,f.precedence,l),o.instance=x;case"stylesheet":w=kc(f.href);var S=l.querySelector(pu(w));if(S)return o.state.loading|=4,o.instance=S,Kn(S),S;x=m5(f),(w=wr.get(w))&&Dv(x,w),S=(l.ownerDocument||l).createElement("link"),Kn(S);var A=S;return A._p=new Promise(function(R,H){A.onload=R,A.onerror=H}),is(S,"link",x),o.state.loading|=4,Zm(S,f.precedence,l),o.instance=S;case"script":return S=Dc(f.src),(w=l.querySelector(xu(S)))?(o.instance=w,Kn(w),w):(x=f,(w=wr.get(S))&&(x=p({},f),Ov(x,w)),l=l.ownerDocument||l,w=l.createElement("script"),Kn(w),is(w,"link",x),l.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,Zm(x,f.precedence,l));return o.instance}function Zm(l,o,f){for(var x=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=x.length?x[x.length-1]:null,S=w,A=0;A<x.length;A++){var R=x[A];if(R.dataset.precedence===o)S=R;else if(S!==w)break}S?S.parentNode.insertBefore(l,S.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(l,o.firstChild))}function Dv(l,o){l.crossOrigin==null&&(l.crossOrigin=o.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=o.referrerPolicy),l.title==null&&(l.title=o.title)}function Ov(l,o){l.crossOrigin==null&&(l.crossOrigin=o.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=o.referrerPolicy),l.integrity==null&&(l.integrity=o.integrity)}var Jm=null;function p5(l,o,f){if(Jm===null){var x=new Map,w=Jm=new Map;w.set(f,x)}else w=Jm,x=w.get(f),x||(x=new Map,w.set(f,x));if(x.has(l))return x;for(x.set(l,null),f=f.getElementsByTagName(l),w=0;w<f.length;w++){var S=f[w];if(!(S[Td]||S[ns]||l==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var A=S.getAttribute(o)||"";A=l+A;var R=x.get(A);R?R.push(S):x.set(A,[S])}}return x}function x5(l,o,f){l=l.ownerDocument||l,l.head.insertBefore(f,o==="title"?l.querySelector("head > title"):null)}function WU(l,o,f){if(f===1||o.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(l=o.disabled,typeof o.precedence=="string"&&l==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function g5(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function QU(l,o,f,x){if(f.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=kc(x.href),S=o.querySelector(pu(w));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(l.count++,l=eh.bind(l),o.then(l,l)),f.state.loading|=4,f.instance=S,Kn(S);return}S=o.ownerDocument||o,x=m5(x),(w=wr.get(w))&&Dv(x,w),S=S.createElement("link"),Kn(S);var A=S;A._p=new Promise(function(R,H){A.onload=R,A.onerror=H}),is(S,"link",x),f.instance=S}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(l.count++,f=eh.bind(l),o.addEventListener("load",f),o.addEventListener("error",f))}}var Tv=0;function XU(l,o){return l.stylesheets&&l.count===0&&nh(l,l.stylesheets),0<l.count||0<l.imgCount?function(f){var x=setTimeout(function(){if(l.stylesheets&&nh(l,l.stylesheets),l.unsuspend){var S=l.unsuspend;l.unsuspend=null,S()}},6e4+o);0<l.imgBytes&&Tv===0&&(Tv=62500*OU());var w=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&nh(l,l.stylesheets),l.unsuspend)){var S=l.unsuspend;l.unsuspend=null,S()}},(l.imgBytes>Tv?50:800)+o);return l.unsuspend=f,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(w)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var th=null;function nh(l,o){l.stylesheets=null,l.unsuspend!==null&&(l.count++,th=new Map,o.forEach(ZU,l),th=null,eh.call(l))}function ZU(l,o){if(!(o.state.loading&4)){var f=th.get(l);if(f)var x=f.get(null);else{f=new Map,th.set(l,f);for(var w=l.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var A=w[S];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(f.set(A.dataset.precedence,A),x=A)}x&&f.set(null,x)}w=o.instance,A=w.getAttribute("data-precedence"),S=f.get(A)||x,S===x&&f.set(null,w),f.set(A,w),this.count++,x=eh.bind(this),w.addEventListener("load",x),w.addEventListener("error",x),S?S.parentNode.insertBefore(w,S.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(w,l.firstChild)),o.state.loading|=4}}var gu={$$typeof:E,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function JU(l,o,f,x,w,S,A,R,H){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=x,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function v5(l,o,f,x,w,S,A,R,H,ce,be,Se){return l=new JU(l,o,f,A,H,ce,be,Se,R),o=1,S===!0&&(o|=24),S=Zs(3,null,null,o),l.current=S,S.stateNode=l,o=u0(),o.refCount++,l.pooledCache=o,o.refCount++,S.memoizedState={element:x,isDehydrated:f,cache:o},p0(S),l}function y5(l){return l?(l=lc,l):lc}function b5(l,o,f,x,w,S){w=y5(w),x.context===null?x.context=w:x.pendingContext=w,x=Mi(o),x.payload={element:f},S=S===void 0?null:S,S!==null&&(x.callback=S),f=Pi(l,x,o),f!==null&&(Hs(f,l,o),Wd(f,l,o))}function j5(l,o){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<o?f:o}}function Rv(l,o){j5(l,o),(l=l.alternate)&&j5(l,o)}function w5(l){if(l.tag===13||l.tag===31){var o=Ll(l,67108864);o!==null&&Hs(o,l,67108864),Rv(l,67108864)}}function N5(l){if(l.tag===13||l.tag===31){var o=sr();o=Ko(o);var f=Ll(l,o);f!==null&&Hs(f,l,o),Rv(l,o)}}var sh=!0;function e7(l,o,f,x){var w=U.T;U.T=null;var S=L.p;try{L.p=2,Mv(l,o,f,x)}finally{L.p=S,U.T=w}}function t7(l,o,f,x){var w=U.T;U.T=null;var S=L.p;try{L.p=8,Mv(l,o,f,x)}finally{L.p=S,U.T=w}}function Mv(l,o,f,x){if(sh){var w=Pv(x);if(w===null)bv(l,o,x,rh,f),_5(l,x);else if(s7(w,l,o,f,x))x.stopPropagation();else if(_5(l,x),o&4&&-1<n7.indexOf(l)){for(;w!==null;){var S=Qo(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var A=oa(S.pendingLanes);if(A!==0){var R=S;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var H=1<<31-Vn(A);R.entanglements[1]|=H,A&=~H}fa(S),(wt&6)===0&&(Bm=Te()+500,uu(0))}}break;case 31:case 13:R=Ll(S,2),R!==null&&Hs(R,S,2),$m(),Rv(S,2)}if(S=Pv(x),S===null&&bv(l,o,x,rh,f),S===w)break;w=S}w!==null&&x.stopPropagation()}else bv(l,o,x,null,f)}}function Pv(l){return l=Lg(l),Iv(l)}var rh=null;function Iv(l){if(rh=null,l=Wo(l),l!==null){var o=i(l);if(o===null)l=null;else{var f=o.tag;if(f===13){if(l=c(o),l!==null)return l;l=null}else if(f===31){if(l=d(o),l!==null)return l;l=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;l=null}else o!==l&&(l=null)}}return rh=l,null}function S5(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case Ts:return 2;case Bt:return 8;case aa:case ia:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Lv=!1,Gi=null,Ki=null,Yi=null,vu=new Map,yu=new Map,Wi=[],n7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _5(l,o){switch(l){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":vu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(o.pointerId)}}function bu(l,o,f,x,w,S){return l===null||l.nativeEvent!==S?(l={blockedOn:o,domEventName:f,eventSystemFlags:x,nativeEvent:S,targetContainers:[w]},o!==null&&(o=Qo(o),o!==null&&w5(o)),l):(l.eventSystemFlags|=x,o=l.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),l)}function s7(l,o,f,x,w){switch(o){case"focusin":return Gi=bu(Gi,l,o,f,x,w),!0;case"dragenter":return Ki=bu(Ki,l,o,f,x,w),!0;case"mouseover":return Yi=bu(Yi,l,o,f,x,w),!0;case"pointerover":var S=w.pointerId;return vu.set(S,bu(vu.get(S)||null,l,o,f,x,w)),!0;case"gotpointercapture":return S=w.pointerId,yu.set(S,bu(yu.get(S)||null,l,o,f,x,w)),!0}return!1}function C5(l){var o=Wo(l.target);if(o!==null){var f=i(o);if(f!==null){if(o=f.tag,o===13){if(o=c(f),o!==null){l.blockedOn=o,BS(l.priority,function(){N5(f)});return}}else if(o===31){if(o=d(f),o!==null){l.blockedOn=o,BS(l.priority,function(){N5(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ah(l){if(l.blockedOn!==null)return!1;for(var o=l.targetContainers;0<o.length;){var f=Pv(l.nativeEvent);if(f===null){f=l.nativeEvent;var x=new f.constructor(f.type,f);Ig=x,f.target.dispatchEvent(x),Ig=null}else return o=Qo(f),o!==null&&w5(o),l.blockedOn=f,!1;o.shift()}return!0}function E5(l,o,f){ah(l)&&f.delete(o)}function r7(){Lv=!1,Gi!==null&&ah(Gi)&&(Gi=null),Ki!==null&&ah(Ki)&&(Ki=null),Yi!==null&&ah(Yi)&&(Yi=null),vu.forEach(E5),yu.forEach(E5)}function ih(l,o){l.blockedOn===o&&(l.blockedOn=null,Lv||(Lv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,r7)))}var lh=null;function A5(l){lh!==l&&(lh=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lh===l&&(lh=null);for(var o=0;o<l.length;o+=3){var f=l[o],x=l[o+1],w=l[o+2];if(typeof x!="function"){if(Iv(x||f)===null)continue;break}var S=Qo(f);S!==null&&(l.splice(o,3),o-=3,P0(S,{pending:!0,data:w,method:f.method,action:x},x,w))}}))}function Oc(l){function o(H){return ih(H,l)}Gi!==null&&ih(Gi,l),Ki!==null&&ih(Ki,l),Yi!==null&&ih(Yi,l),vu.forEach(o),yu.forEach(o);for(var f=0;f<Wi.length;f++){var x=Wi[f];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Wi.length&&(f=Wi[0],f.blockedOn===null);)C5(f),f.blockedOn===null&&Wi.shift();if(f=(l.ownerDocument||l).$$reactFormReplay,f!=null)for(x=0;x<f.length;x+=3){var w=f[x],S=f[x+1],A=w[Ls]||null;if(typeof S=="function")A||A5(f);else if(A){var R=null;if(S&&S.hasAttribute("formAction")){if(w=S,A=S[Ls]||null)R=A.formAction;else if(Iv(w)!==null)continue}else R=A.action;typeof R=="function"?f[x+1]=R:(f.splice(x,3),x-=3),A5(f)}}}function k5(){function l(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(A){return w=A})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),x||setTimeout(f,20)}function f(){if(!x&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,w=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function zv(l){this._internalRoot=l}oh.prototype.render=zv.prototype.render=function(l){var o=this._internalRoot;if(o===null)throw Error(r(409));var f=o.current,x=sr();b5(f,x,l,o,null,null)},oh.prototype.unmount=zv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var o=l.containerInfo;b5(l.current,2,null,l,null,null),$m(),o[Yo]=null}};function oh(l){this._internalRoot=l}oh.prototype.unstable_scheduleHydration=function(l){if(l){var o=kg();l={blockedOn:null,target:l,priority:o};for(var f=0;f<Wi.length&&o!==0&&o<Wi[f].priority;f++);Wi.splice(f,0,l),f===0&&C5(l)}};var D5=t.version;if(D5!=="19.2.4")throw Error(r(527,D5,"19.2.4"));L.findDOMNode=function(l){var o=l._reactInternals;if(o===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=h(o),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var a7={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Ma=ch.inject(a7),En=ch}catch{}}return wu.createRoot=function(l,o){if(!a(l))throw Error(r(299));var f=!1,x="",w=L_,S=z_,A=U_;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=v5(l,1,!1,null,null,f,x,null,w,S,A,k5),l[Yo]=o.current,yv(l),new zv(o)},wu.hydrateRoot=function(l,o,f){if(!a(l))throw Error(r(299));var x=!1,w="",S=L_,A=z_,R=U_,H=null;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(A=f.onCaughtError),f.onRecoverableError!==void 0&&(R=f.onRecoverableError),f.formState!==void 0&&(H=f.formState)),o=v5(l,1,!0,o,f??null,x,w,H,S,A,R,k5),o.context=y5(null),f=o.current,x=sr(),x=Ko(x),w=Mi(x),w.callback=null,Pi(f,w,x),f=x,o.current.lanes=f,un(o,f),fa(o),l[Yo]=o.current,yv(l),new oh(o)},wu.version="19.2.4",wu}var B5;function x7(){if(B5)return qv.exports;B5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qv.exports=p7(),qv.exports}var g7=x7();var q5="popstate";function v7(e={}){function t(r,a){let{pathname:i,search:c,hash:d}=r.location;return Wb("",{pathname:i,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Gu(a)}return b7(t,n,null,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function y7(){return Math.random().toString(36).substring(2,10)}function $5(e,t){return{usr:e.state,key:e.key,idx:t}}function Wb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dd(t):t,state:n,key:t&&t.key||r||y7()}}function Gu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function dd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function b7(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,c=a.history,d="POP",u=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function p(){d="POP";let j=m(),_=j==null?null:j-h;h=j,u&&u({action:d,location:N.location,delta:_})}function g(j,_){d="PUSH";let C=Wb(N.location,j,_);h=m()+1;let E=$5(C,h),k=N.createHref(C);try{c.pushState(E,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(k)}i&&u&&u({action:d,location:N.location,delta:1})}function v(j,_){d="REPLACE";let C=Wb(N.location,j,_);h=m();let E=$5(C,h),k=N.createHref(C);c.replaceState(E,"",k),i&&u&&u({action:d,location:N.location,delta:0})}function y(j){return j7(j)}let N={get action(){return d},get location(){return e(a,c)},listen(j){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(q5,p),u=j,()=>{a.removeEventListener(q5,p),u=null}},createHref(j){return t(a,j)},createURL:y,encodeLocation(j){let _=y(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:v,go(j){return c.go(j)}};return N}function j7(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Gu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kO(e,t,n="/"){return w7(e,t,n,!1)}function w7(e,t,n,r){let a=typeof t=="string"?dd(t):t,i=oi(a.pathname||"/",n);if(i==null)return null;let c=DO(e);N7(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let h=M7(i);d=T7(c[u],h,r)}return d}function DO(e,t=[],n=[],r="",a=!1){let i=(c,d,u=a,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;cn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=ri([r,m.relativePath]),g=n.concat(m);c.children&&c.children.length>0&&(cn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),DO(c.children,t,g,p,u)),!(c.path==null&&!c.index)&&t.push({path:p,score:D7(p,c.index),routesMeta:g})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))i(c,d);else for(let u of OO(c.path))i(c,d,!0,u)}),t}function OO(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let c=OO(r.join("/")),d=[];return d.push(...c.map(u=>u===""?i:[i,u].join("/"))),a&&d.push(...c),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function N7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:O7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var S7=/^:[\w-]+$/,_7=3,C7=2,E7=1,A7=10,k7=-2,H5=e=>e==="*";function D7(e,t){let n=e.split("/"),r=n.length;return n.some(H5)&&(r+=k7),t&&(r+=C7),n.filter(a=>!H5(a)).reduce((a,i)=>a+(S7.test(i)?_7:i===""?E7:A7),r)}function O7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function T7(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],h=d===r.length-1,m=i==="/"?t:t.slice(i.length)||"/",p=Zh({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),g=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Zh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(a,p.params),c.push({params:a,pathname:ri([i,p.pathname]),pathnameBase:z7(ri([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=ri([i,p.pathnameBase]))}return c}function Zh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R7(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:p},g)=>{if(m==="*"){let y=d[g]||"";c=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=d[g];return p&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:c,pattern:e}}function R7(e,t=!1,n=!0){kr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function M7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function oi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var P7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function I7(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?dd(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=F5(n.substring(1),"/"):i=F5(n,t)):i=t,{pathname:i,search:U7(r),hash:B7(a)}}function F5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ew(e){let t=L7(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Aw(e,t,n,r=!1){let a;typeof e=="string"?a=dd(e):(a={...e},cn(!a.pathname||!a.pathname.includes("?"),Vv("?","pathname","search",a)),cn(!a.pathname||!a.pathname.includes("#"),Vv("#","pathname","hash",a)),cn(!a.search||!a.search.includes("#"),Vv("#","search","hash",a)));let i=e===""||a.pathname==="",c=i?"/":a.pathname,d;if(c==null)d=n;else{let p=t.length-1;if(!r&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}d=p>=0?t[p]:"/"}let u=I7(a,d),h=c&&c!=="/"&&c.endsWith("/"),m=(i||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var ri=e=>e.join("/").replace(/\/\/+/g,"/"),z7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,B7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,q7=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function H7(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var TO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RO(e,t){let n=e;if(typeof n!="string"||!P7.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(TO)try{let i=new URL(window.location.href),c=n.startsWith("//")?new URL(i.protocol+n):new URL(n),d=oi(c.pathname,t);c.origin===i.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{kr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MO=["POST","PUT","PATCH","DELETE"];new Set(MO);var F7=["GET",...MO];new Set(F7);var ud=b.createContext(null);ud.displayName="DataRouter";var px=b.createContext(null);px.displayName="DataRouterState";var V7=b.createContext(!1),PO=b.createContext({isTransitioning:!1});PO.displayName="ViewTransition";var G7=b.createContext(new Map);G7.displayName="Fetchers";var K7=b.createContext(null);K7.displayName="Await";var dr=b.createContext(null);dr.displayName="Navigation";var gf=b.createContext(null);gf.displayName="Location";var na=b.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var kw=b.createContext(null);kw.displayName="RouteError";var IO="REACT_ROUTER_ERROR",Y7="REDIRECT",W7="ROUTE_ERROR_RESPONSE";function Q7(e){if(e.startsWith(`${IO}:${Y7}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function X7(e){if(e.startsWith(`${IO}:${W7}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new q7(t.status,t.statusText,t.data)}catch{}}function Z7(e,{relative:t}={}){cn(fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(dr),{hash:a,pathname:i,search:c}=vf(e,{relative:t}),d=i;return n!=="/"&&(d=i==="/"?n:ri([n,i])),r.createHref({pathname:d,search:c,hash:a})}function fd(){return b.useContext(gf)!=null}function Oa(){return cn(fd(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(gf).location}var LO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zO(e){b.useContext(dr).static||b.useLayoutEffect(e)}function Ut(){let{isDataRoute:e}=b.useContext(na);return e?uB():J7()}function J7(){cn(fd(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(ud),{basename:t,navigator:n}=b.useContext(dr),{matches:r}=b.useContext(na),{pathname:a}=Oa(),i=JSON.stringify(Ew(r)),c=b.useRef(!1);return zO(()=>{c.current=!0}),b.useCallback((u,h={})=>{if(kr(c.current,LO),!c.current)return;if(typeof u=="number"){n.go(u);return}let m=Aw(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ri([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,i,a,e])}b.createContext(null);function Nl(){let{matches:e}=b.useContext(na),t=e[e.length-1];return t?t.params:{}}function vf(e,{relative:t}={}){let{matches:n}=b.useContext(na),{pathname:r}=Oa(),a=JSON.stringify(Ew(n));return b.useMemo(()=>Aw(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function eB(e,t){return UO(e,t)}function UO(e,t,n,r,a){cn(fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(dr),{matches:c}=b.useContext(na),d=c[c.length-1],u=d?d.params:{},h=d?d.pathname:"/",m=d?d.pathnameBase:"/",p=d&&d.route;{let C=p&&p.path||"";qO(h,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Oa(),v;if(t){let C=typeof t=="string"?dd(t):t;cn(m==="/"||C.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=g;let y=v.pathname||"/",N=y;if(m!=="/"){let C=m.replace(/^\//,"").split("/");N="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=kO(e,{pathname:N});kr(p||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),kr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=aB(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:ri([m,i.encodeLocation?i.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:ri([m,i.encodeLocation?i.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,n,r,a);return t&&_?b.createElement(gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function tB(){let e=dB(),t=$7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,c)}var nB=b.createElement(tB,null),BO=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=X7(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(na.Provider,{value:this.props.routeContext},b.createElement(kw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(sB,{error:e},t):t}};BO.contextType=V7;var Gv=new WeakMap;function sB({children:e,error:t}){let{basename:n}=b.useContext(dr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Q7(t.digest);if(r){let a=Gv.get(t);if(a)throw a;let i=RO(r.location,n);if(TO&&!Gv.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Gv.set(t,c),c}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function rB({routeContext:e,match:t,children:n}){let r=b.useContext(ud);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(na.Provider,{value:e},n)}function aB(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,c=n?.errors;if(c!=null){let m=i.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);cn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let d=!1,u=-1;if(n)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:g,errors:v}=n,y=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let h=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:H7(n.matches),errorInfo:p})}:void 0;return i.reduceRight((m,p,g)=>{let v,y=!1,N=null,j=null;n&&(v=c&&p.route.id?c[p.route.id]:void 0,N=p.route.errorElement||nB,d&&(u<0&&g===0?(qO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):u===g&&(y=!0,j=p.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,g+1)),C=()=>{let E;return v?E=N:y?E=j:p.route.Component?E=b.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=m,b.createElement(rB,{match:p,routeContext:{outlet:m,matches:_,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?b.createElement(BO,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):C()},null)}function Dw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iB(e){let t=b.useContext(ud);return cn(t,Dw(e)),t}function lB(e){let t=b.useContext(px);return cn(t,Dw(e)),t}function oB(e){let t=b.useContext(na);return cn(t,Dw(e)),t}function Ow(e){let t=oB(e),n=t.matches[t.matches.length-1];return cn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cB(){return Ow("useRouteId")}function dB(){let e=b.useContext(kw),t=lB("useRouteError"),n=Ow("useRouteError");return e!==void 0?e:t.errors?.[n]}function uB(){let{router:e}=iB("useNavigate"),t=Ow("useNavigate"),n=b.useRef(!1);return zO(()=>{n.current=!0}),b.useCallback(async(a,i={})=>{kr(n.current,LO),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var V5={};function qO(e,t,n){!t&&!V5[e]&&(V5[e]=!0,kr(!1,n))}b.memo(fB);function fB({routes:e,future:t,state:n,onError:r}){return UO(e,void 0,n,r,t)}function oo({to:e,replace:t,state:n,relative:r}){cn(fd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(dr);kr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(na),{pathname:c}=Oa(),d=Ut(),u=Aw(e,Ew(i),c,r==="path"),h=JSON.stringify(u);return b.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function tt(e){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mB({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:c}){cn(!fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:d,navigator:a,static:i,unstable_useTransitions:c,future:{}}),[d,a,i,c]);typeof n=="string"&&(n=dd(n));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:v="default"}=n,y=b.useMemo(()=>{let N=oi(h,d);return N==null?null:{location:{pathname:N,search:m,hash:p,state:g,key:v},navigationType:r}},[d,h,m,p,g,v,r]);return kr(y!=null,`<Router basename="${d}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:b.createElement(dr.Provider,{value:u},b.createElement(gf.Provider,{children:t,value:y}))}function hB({children:e,location:t}){return eB(Qb(e),t)}function Qb(e,t=[]){let n=[];return b.Children.forEach(e,(r,a)=>{if(!b.isValidElement(r))return;let i=[...t,a];if(r.type===b.Fragment){n.push.apply(n,Qb(r.props.children,i));return}cn(r.type===tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Qb(r.props.children,i)),n.push(c)}),n}var Lh="get",zh="application/x-www-form-urlencoded";function xx(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function pB(e){return xx(e)&&e.tagName.toLowerCase()==="button"}function xB(e){return xx(e)&&e.tagName.toLowerCase()==="form"}function gB(e){return xx(e)&&e.tagName.toLowerCase()==="input"}function vB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yB(e,t){return e.button===0&&(!t||t==="_self")&&!vB(e)}function Xb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function bB(e,t){let n=Xb(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}var dh=null;function jB(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var wB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kv(e){return e!=null&&!wB.has(e)?(kr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):e}function NB(e,t){let n,r,a,i,c;if(xB(e)){let d=e.getAttribute("action");r=d?oi(d,t):null,n=e.getAttribute("method")||Lh,a=Kv(e.getAttribute("enctype"))||zh,i=new FormData(e)}else if(pB(e)||gB(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(r=u?oi(u,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Lh,a=Kv(e.getAttribute("formenctype"))||Kv(d.getAttribute("enctype"))||zh,i=new FormData(d,e),!jB()){let{name:h,type:m,value:p}=e;if(m==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,p)}}else{if(xx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,r=null,a=zh,c=e}return i&&a==="text/plain"&&(c=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function SB(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&oi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function _B(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function EB(e,t,n){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let c=await _B(i,n);return c.links?c.links():[]}return[]}));return OB(r.flat(1).filter(CB).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function G5(e,t,n,r,a,i){let c=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,d=(u,h)=>n[h].pathname!==u.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,h)=>c(u,h)||d(u,h)):i==="data"?t.filter((u,h)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(c(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function AB(e,t,{includeHydrateFallback:n}={}){return kB(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function kB(e){return[...new Set(e)]}function DB(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function OB(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(DB(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function $O(){let e=b.useContext(ud);return Tw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TB(){let e=b.useContext(px);return Tw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rw=b.createContext(void 0);Rw.displayName="FrameworkContext";function HO(){let e=b.useContext(Rw);return Tw(e,"You must render this element inside a <HydratedRouter> element"),e}function RB(e,t){let n=b.useContext(Rw),[r,a]=b.useState(!1),[i,c]=b.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=t,g=b.useRef(null);b.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=_=>{_.forEach(C=>{c(C.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),b.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let v=()=>{a(!0)},y=()=>{a(!1),c(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Nu(d,v),onBlur:Nu(u,y),onMouseEnter:Nu(h,v),onMouseLeave:Nu(m,y),onTouchStart:Nu(p,v)}]:[!1,g,{}]}function Nu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function MB({page:e,...t}){let{router:n}=$O(),r=b.useMemo(()=>kO(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(IB,{page:e,matches:r,...t}):null}function PB(e){let{manifest:t,routeModules:n}=HO(),[r,a]=b.useState([]);return b.useEffect(()=>{let i=!1;return EB(e,t,n).then(c=>{i||a(c)}),()=>{i=!0}},[e,t,n]),r}function IB({page:e,matches:t,...n}){let r=Oa(),{future:a,manifest:i,routeModules:c}=HO(),{basename:d}=$O(),{loaderData:u,matches:h}=TB(),m=b.useMemo(()=>G5(e,t,h,i,r,"data"),[e,t,h,i,r]),p=b.useMemo(()=>G5(e,t,h,i,r,"assets"),[e,t,h,i,r]),g=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,j=!1;if(t.forEach(C=>{let E=i.routes[C.route.id];!E||!E.hasLoader||(!m.some(k=>k.route.id===C.route.id)&&C.route.id in u&&c[C.route.id]?.shouldRevalidate||E.hasClientLoader?j=!0:N.add(C.route.id))}),N.size===0)return[];let _=SB(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return j&&N.size>0&&_.searchParams.set("_routes",t.filter(C=>N.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[d,a.unstable_trailingSlashAwareDataRequests,u,r,i,m,t,e,c]),v=b.useMemo(()=>AB(p,i),[p,i]),y=PB(p);return b.createElement(b.Fragment,null,g.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),v.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),y.map(({key:N,link:j})=>b.createElement("link",{key:N,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function LB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var zB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zB&&(window.__reactRouterVersion="7.13.0")}catch{}function UB({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=b.useRef();a.current==null&&(a.current=v7({window:r,v5Compat:!0}));let i=a.current,[c,d]=b.useState({action:i.action,location:i.location}),u=b.useCallback(h=>{n===!1?d(h):b.startTransition(()=>d(h))},[n]);return b.useLayoutEffect(()=>i.listen(u),[i,u]),b.createElement(mB,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:i,unstable_useTransitions:n})}var FO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:c,state:d,target:u,to:h,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:g,...v},y){let{basename:N,unstable_useTransitions:j}=b.useContext(dr),_=typeof h=="string"&&FO.test(h),C=RO(h,N);h=C.to;let E=Z7(h,{relative:a}),[k,O,T]=RB(r,v),D=$B(h,{replace:c,state:d,target:u,preventScrollReset:m,relative:a,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:j});function P(ae){t&&t(ae),ae.defaultPrevented||D(ae)}let X=b.createElement("a",{...v,...T,href:C.absoluteURL||E,onClick:C.isExternal||i?t:P,ref:LB(y,O),target:u,"data-discover":!_&&n==="render"?"true":void 0});return k&&!_?b.createElement(b.Fragment,null,X,b.createElement(MB,{page:E})):X});fn.displayName="Link";var VO=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:c,viewTransition:d,children:u,...h},m){let p=vf(c,{relative:h.relative}),g=Oa(),v=b.useContext(px),{navigator:y,basename:N}=b.useContext(dr),j=v!=null&&KB(p)&&d===!0,_=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,C=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&N&&(E=oi(E,N)||E);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=C===_||!a&&C.startsWith(_)&&C.charAt(k)==="/",T=E!=null&&(E===_||!a&&E.startsWith(_)&&E.charAt(_.length)==="/"),D={isActive:O,isPending:T,isTransitioning:j},P=O?t:void 0,X;typeof r=="function"?X=r(D):X=[r,O?"active":null,T?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let ae=typeof i=="function"?i(D):i;return b.createElement(fn,{...h,"aria-current":P,className:X,ref:m,style:ae,to:c,viewTransition:d},typeof u=="function"?u(D):u)});VO.displayName="NavLink";var BB=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:c=Lh,action:d,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:g,...v},y)=>{let{unstable_useTransitions:N}=b.useContext(dr),j=VB(),_=GB(d,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&FO.test(d),k=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let T=O.nativeEvent.submitter,D=T?.getAttribute("formmethod")||c,P=()=>j(T||O.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:a,state:i,relative:h,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:g});N&&n!==!1?b.startTransition(()=>P()):P()};return b.createElement("form",{ref:y,method:C,action:_,onSubmit:r?u:k,...v,"data-discover":!E&&e==="render"?"true":void 0})});BB.displayName="Form";function qB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GO(e){let t=b.useContext(ud);return cn(t,qB(e)),t}function $B(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:u}={}){let h=Ut(),m=Oa(),p=vf(e,{relative:i});return b.useCallback(g=>{if(yB(g,t)){g.preventDefault();let v=n!==void 0?n:Gu(m)===Gu(p),y=()=>h(e,{replace:v,state:r,preventScrollReset:a,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:d});u?b.startTransition(()=>y()):y()}},[m,h,p,n,r,t,e,a,i,c,d,u])}function Mw(e){kr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Xb(e)),n=b.useRef(!1),r=Oa(),a=b.useMemo(()=>bB(r.search,n.current?null:t.current),[r.search]),i=Ut(),c=b.useCallback((d,u)=>{const h=Xb(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,i("?"+h,u)},[i,a]);return[a,c]}var HB=0,FB=()=>`__${String(++HB)}__`;function VB(){let{router:e}=GO("useSubmit"),{basename:t}=b.useContext(dr),n=cB(),r=e.fetch,a=e.navigate;return b.useCallback(async(i,c={})=>{let{action:d,method:u,encType:h,formData:m,body:p}=NB(i,t);if(c.navigate===!1){let g=c.fetcherKey||FB();await r(g,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||u,formEncType:c.encType||h,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||u,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function GB(e,{relative:t}={}){let{basename:n}=b.useContext(dr),r=b.useContext(na);cn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...vf(e||".",{relative:t})},c=Oa();if(e==null){i.search=c.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(m=>m==="")){d.delete("index"),u.filter(p=>p).forEach(p=>d.append("index",p));let m=d.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ri([n,i.pathname])),Gu(i)}function KB(e,{relative:t}={}){let n=b.useContext(PO);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GO("useViewTransitionState"),a=vf(e,{relative:t});if(!n.isTransitioning)return!1;let i=oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zh(a.pathname,c)!=null||Zh(a.pathname,i)!=null}var go=AO();const YB=Da(go);var md=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WB={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},QB=class{#e=WB;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ro=new QB;function XB(e){setTimeout(e,0)}var vo=typeof window>"u"||"Deno"in globalThis;function Ns(){}function ZB(e,t){return typeof e=="function"?e(t):e}function Zb(e){return typeof e=="number"&&e>=0&&e!==1/0}function KO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function il(e,t){return typeof e=="function"?e(t):e}function Er(e,t){return typeof e=="function"?e(t):e}function K5(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:c,stale:d}=e;if(c){if(r){if(t.queryHash!==Pw(c,t.options))return!1}else if(!Ku(t.queryKey,c))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||i&&!i(t))}function Y5(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(yo(t.options.mutationKey)!==yo(i))return!1}else if(!Ku(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Pw(e,t){return(t?.queryKeyHashFn||yo)(e)}function yo(e){return JSON.stringify(e,(t,n)=>Jb(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Ku(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ku(e[n],t[n])):!1}var JB=Object.prototype.hasOwnProperty;function YO(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=W5(e)&&W5(t);if(!r&&!(Jb(e)&&Jb(t)))return t;const i=(r?e:Object.keys(e)).length,c=r?t:Object.keys(t),d=c.length,u=r?new Array(d):{};let h=0;for(let m=0;m<d;m++){const p=r?m:c[m],g=e[p],v=t[p];if(g===v){u[p]=g,(r?m<i:JB.call(e,p))&&h++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){u[p]=v;continue}const y=YO(g,v,n+1);u[p]=y,y===g&&h++}return i===d&&h===i?e:u}function Jh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function W5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jb(e){if(!Q5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Q5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Q5(e){return Object.prototype.toString.call(e)==="[object Object]"}function e9(e){return new Promise(t=>{ro.setTimeout(t,e)})}function ej(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?YO(e,t):t}function t9(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function n9(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Iw=Symbol();function WO(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Iw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Lw(e,t){return typeof e=="function"?e(...t):!!e}function s9(e,t,n){let r=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=t(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var r9=class extends md{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!vo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zw=new r9;function tj(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}var a9=XB;function i9(){let e=[],t=0,n=d=>{d()},r=d=>{d()},a=a9;const i=d=>{t?e.push(d):a(()=>{n(d)})},c=()=>{const d=e;e=[],d.length&&a(()=>{r(()=>{d.forEach(u=>{n(u)})})})};return{batch:d=>{let u;t++;try{u=d()}finally{t--,t||c()}return u},batchCalls:d=>(...u)=>{i(()=>{d(...u)})},schedule:i,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var zn=i9(),l9=class extends md{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!vo&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},ep=new l9;function o9(e){return Math.min(1e3*2**e,3e4)}function QO(e){return(e??"online")==="online"?ep.isOnline():!0}var nj=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function XO(e){let t=!1,n=0,r;const a=tj(),i=()=>a.status!=="pending",c=N=>{if(!i()){const j=new nj(N);g(j),e.onCancel?.(j)}},d=()=>{t=!0},u=()=>{t=!1},h=()=>zw.isFocused()&&(e.networkMode==="always"||ep.isOnline())&&e.canRun(),m=()=>QO(e.networkMode)&&e.canRun(),p=N=>{i()||(r?.(),a.resolve(N))},g=N=>{i()||(r?.(),a.reject(N))},v=()=>new Promise(N=>{r=j=>{(i()||h())&&N(j)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),y=()=>{if(i())return;let N;const j=n===0?e.initialPromise:void 0;try{N=j??e.fn()}catch(_){N=Promise.reject(_)}Promise.resolve(N).then(p).catch(_=>{if(i())return;const C=e.retry??(vo?0:3),E=e.retryDelay??o9,k=typeof E=="function"?E(n,_):E,O=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,_);if(t||!O){g(_);return}n++,e.onFail?.(n,_),e9(k).then(()=>h()?void 0:v()).then(()=>{t?g(_):y()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:d,continueRetry:u,canStart:m,start:()=>(m()?y():v().then(y),a)}}var ZO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zb(this.gcTime)&&(this.#e=ro.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ro.clearTimeout(this.#e),this.#e=void 0)}},c9=class extends ZO{#e;#t;#n;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Z5(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Z5(this.options);t.data!==void 0&&(this.setState(X5(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=ej(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Ns).catch(Ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Er(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>il(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!KO(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(u=>u.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},a=()=>{const d=WO(this.options,t),h=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#l=!1,this.options.persister?this.options.persister(d,h,this):d(h)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:a};return r(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=XO({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof nj&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,u)=>{this.#a({type:"failed",failureCount:d,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#s.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof nj){if(d.silent)return this.#s.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#a({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...JO(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...X5(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function JO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QO(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function X5(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Z5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var d9=class extends md{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#l=tj(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#l;#a;#p;#f;#m;#c;#d;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),J5(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Er(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!Jh(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&eE(this.#t,n,this.options,t)&&this.#u(),this.updateResult(),r&&(this.#t!==n||Er(this.options.enabled,this.#t)!==Er(t.enabled,this.#t)||il(this.options.staleTime,this.#t)!==il(t.staleTime,this.#t))&&this.#x();const a=this.#g();r&&(this.#t!==n||Er(this.options.enabled,this.#t)!==Er(t.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return f9(this,n)&&(this.#r=n,this.#i=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ns)),t}#x(){this.#b();const e=il(this.options.staleTime,this.#t);if(vo||this.#r.isStale||!Zb(e))return;const n=KO(this.#r.dataUpdatedAt,e)+1;this.#c=ro.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#j(),this.#o=e,!(vo||Er(this.options.enabled,this.#t)===!1||!Zb(this.#o)||this.#o===0)&&(this.#d=ro.setInterval(()=>{(this.options.refetchIntervalInBackground||zw.isFocused())&&this.#u()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(ro.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(ro.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const n=this.#t,r=this.options,a=this.#r,i=this.#s,c=this.#i,u=e!==n?e.state:this.#n,{state:h}=e;let m={...h},p=!1,g;if(t._optimisticResults){const P=this.hasListeners(),X=!P&&J5(e,t),ae=P&&eE(e,n,t,r);(X||ae)&&(m={...m,...JO(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:N}=m;g=m.data;let j=!1;if(t.placeholderData!==void 0&&g===void 0&&N==="pending"){let P;a?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(P=a.data,j=!0):P=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,P!==void 0&&(N="success",g=ej(a?.data,P,t),p=!0)}if(t.select&&g!==void 0&&!j)if(a&&g===i?.data&&t.select===this.#p)g=this.#f;else try{this.#p=t.select,g=t.select(g),g=ej(a?.data,g,t),this.#f=g,this.#a=null}catch(P){this.#a=P}this.#a&&(v=this.#a,g=this.#f,y=Date.now(),N="error");const _=m.fetchStatus==="fetching",C=N==="pending",E=N==="error",k=C&&_,O=g!==void 0,D={status:N,fetchStatus:m.fetchStatus,isPending:C,isSuccess:N==="success",isError:E,isInitialLoading:k,isLoading:k,data:g,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!C,isLoadingError:E&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&O,isStale:Uw(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Er(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=D.data!==void 0,X=D.status==="error"&&!P,ae=Y=>{X?Y.reject(D.error):P&&Y.resolve(D.data)},G=()=>{const Y=this.#l=D.promise=tj();ae(Y)},M=this.#l;switch(M.status){case"pending":e.queryHash===n.queryHash&&ae(M);break;case"fulfilled":(X||D.data!==M.value)&&G();break;case"rejected":(!X||D.error!==M.reason)&&G();break}}return D}updateResult(){const e=this.#r,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#m=this.#t),Jh(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#h.size)return!0;const i=new Set(a??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(c=>{const d=c;return this.#r[d]!==e[d]&&i.has(d)})};this.#N({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){zn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function u9(e,t){return Er(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function J5(e,t){return u9(e,t)||e.state.data!==void 0&&sj(e,t,t.refetchOnMount)}function sj(e,t,n){if(Er(t.enabled,e)!==!1&&il(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Uw(e,t)}return!1}function eE(e,t,n,r){return(e!==t||Er(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Uw(e,n)}function Uw(e,t){return Er(t.enabled,e)!==!1&&e.isStaleByTime(il(t.staleTime,e))}function f9(e,t){return!Jh(e.getCurrentResult(),t)}function tE(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},u=0;const h=async()=>{let m=!1;const p=y=>{s9(y,()=>t.signal,()=>m=!0)},g=WO(t.options,t.fetchOptions),v=async(y,N,j)=>{if(m)return Promise.reject();if(N==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return p(T),T})(),E=await g(C),{maxPages:k}=t.options,O=j?n9:t9;return{pages:O(y.pages,E,k),pageParams:O(y.pageParams,N,k)}};if(a&&i.length){const y=a==="backward",N=y?m9:nE,j={pages:i,pageParams:c},_=N(r,j);d=await v(j,_,y)}else{const y=e??i.length;do{const N=u===0?c[0]??r.initialPageParam:nE(r,d);if(u>0&&N==null)break;d=await v(d,N),u++}while(u<y)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function nE(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function m9(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var h9=class extends ZO{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||eT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=XO({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,c)=>{this.#s({type:"failed",failureCount:i,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",a=!this.#r.canStart();try{if(r)t();else{this.#s({type:"pending",variables:e,isPaused:a}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const c=await this.options.onMutate?.(e,n);c!==this.state.context&&this.#s({type:"pending",context:c,variables:e,isPaused:a})}const i=await this.#r.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#s({type:"success",data:i}),i}catch(i){try{await this.#n.config.onError?.(i,e,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onError?.(i,e,this.state.context,n)}catch(c){Promise.reject(c)}try{await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,n)}catch(c){Promise.reject(c)}throw this.#s({type:"error",error:i}),i}finally{this.#n.runNext(this)}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function eT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var p9=class extends md{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new h9({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=uh(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=uh(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=uh(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=uh(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Y5(t,n))}findAll(e={}){return this.getAll().filter(t=>Y5(e,t))}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ns))))}};function uh(e){return e.options.scope?.id}var x9=class extends md{#e;#t=void 0;#n;#r;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Jh(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&yo(n.mutationKey)!==yo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#s(){const t=this.#n?.state??eT();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){zn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#r.onSuccess?.(t.data,n,r,a)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(t.data,null,n,r,a)}catch(i){Promise.reject(i)}}else if(t?.type==="error"){try{this.#r.onError?.(t.error,n,r,a)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(void 0,t.error,n,r,a)}catch(i){Promise.reject(i)}}}this.listeners.forEach(n=>{n(this.#t)})})}},g9=class extends md{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,a=t.queryHash??Pw(r,t);let i=this.get(a);return i||(i=new c9({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>K5(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>K5(e,n)):t}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},v9=class{#e;#t;#n;#r;#s;#i;#l;#a;constructor(e={}){this.#e=e.queryCache||new g9,this.#t=e.mutationCache||new p9,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=zw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(il(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,c=ZB(t,i);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return zn.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;zn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return zn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=zn.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Ns).catch(Ns)}invalidateQueries(e,t={}){return zn.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=zn.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ns)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ns)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(il(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ns).catch(Ns)}fetchInfiniteQuery(e){return e.behavior=tE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ns).catch(Ns)}ensureInfiniteQueryData(e){return e.behavior=tE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ep.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(yo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Ku(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#s.set(yo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{Ku(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Pw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Iw&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},tT=b.createContext(void 0),Ae=e=>{const t=b.useContext(tT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},y9=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(tT.Provider,{value:e,children:t})),nT=b.createContext(!1),b9=()=>b.useContext(nT);nT.Provider;function j9(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var w9=b.createContext(j9()),N9=()=>b.useContext(w9),S9=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?Lw(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},_9=e=>{b.useEffect(()=>{e.clearReset()},[e])},C9=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||Lw(n,[e.error,r])),E9=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},A9=(e,t)=>e.isLoading&&e.isFetching&&!t,k9=(e,t)=>e?.suspense&&t.isPending,sE=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function D9(e,t,n){const r=b9(),a=N9(),i=Ae(),c=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const d=i.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",E9(c),S9(c,a,d),_9(a);const u=!i.getQueryCache().get(c.queryHash),[h]=b.useState(()=>new t(i,c)),m=h.getOptimisticResult(c),p=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(g=>{const v=p?h.subscribe(zn.batchCalls(g)):Ns;return h.updateResult(),v},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(c)},[c,h]),k9(c,m))throw sE(c,h,a);if(C9({result:m,errorResetBoundary:a,throwOnError:c.throwOnError,query:d,suspense:c.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!vo&&A9(m,r)&&(u?sE(c,h,a):d?.promise)?.catch(Ns).finally(()=>{h.updateResult()}),c.notifyOnChangeProps?m:h.trackResult(m)}function qe(e,t){return D9(e,d9)}function Ee(e,t){const n=Ae(),[r]=b.useState(()=>new x9(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const a=b.useSyncExternalStore(b.useCallback(c=>r.subscribe(zn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((c,d)=>{r.mutate(c,d).catch(Ns)},[r]);if(a.error&&Lw(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function O9(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const T9=e=>{switch(e){case"success":return P9;case"info":return L9;case"warning":return I9;case"error":return z9;default:return null}},R9=Array(12).fill(0),M9=({visible:e,className:t})=>_e.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},_e.createElement("div",{className:"sonner-spinner"},R9.map((n,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),P9=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I9=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),L9=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),z9=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U9=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),B9=()=>{const[e,t]=_e.useState(document.hidden);return _e.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let rj=1;class q9{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...a}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:rj++,c=this.toasts.find(u=>u.id===i),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:r}),{...u,...t,id:i,dismissible:d,title:r}):u):this.addToast({title:r,...a,dismissible:d,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,c;const d=a.then(async h=>{if(c=["resolve",h],_e.isValidElement(h))i=!1,this.create({id:r,type:"default",message:h});else if(H9(h)&&!h.ok){i=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,y=typeof p=="object"&&!_e.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,...y})}else if(h instanceof Error){i=!1;const p=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,y=typeof p=="object"&&!_e.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,...y})}else if(n.success!==void 0){i=!1;const p=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,y=typeof p=="object"&&!_e.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:g,...y})}}).catch(async h=>{if(c=["reject",h],n.error!==void 0){i=!1;const m=typeof n.error=="function"?await n.error(h):n.error,p=typeof n.description=="function"?await n.description(h):n.description,v=typeof m=="object"&&!_e.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...v})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((h,m)=>d.then(()=>c[0]==="reject"?m(c[1]):h(c[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,n)=>{const r=n?.id||rj++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fs=new q9,$9=(e,t)=>{const n=t?.id||rj++;return Fs.addToast({title:e,...t,id:n}),n},H9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",F9=$9,V9=()=>Fs.toasts,G9=()=>Fs.getActiveToasts(),J=Object.assign(F9,{success:Fs.success,info:Fs.info,warning:Fs.warning,error:Fs.error,custom:Fs.custom,message:Fs.message,promise:Fs.promise,dismiss:Fs.dismiss,loading:Fs.loading},{getHistory:V9,getToasts:G9});O9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function fh(e){return e.label!==void 0}const K9=3,Y9="24px",W9="16px",rE=4e3,Q9=356,X9=14,Z9=45,J9=200;function ma(...e){return e.filter(Boolean).join(" ")}function eq(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const tq=e=>{var t,n,r,a,i,c,d,u,h;const{invert:m,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:N,heights:j,index:_,toasts:C,expanded:E,removeToast:k,defaultRichColors:O,closeButton:T,style:D,cancelButtonStyle:P,actionButtonStyle:X,className:ae="",descriptionClassName:G="",duration:M,position:Y,gap:Z,expandByDefault:fe,classNames:U,icons:L,closeButtonAriaLabel:I="Close toast"}=e,[se,ye]=_e.useState(null),[z,V]=_e.useState(null),[re,$]=_e.useState(!1),[ve,W]=_e.useState(!1),[we,De]=_e.useState(!1),[pe,Me]=_e.useState(!1),[Ie,F]=_e.useState(!1),[Ke,te]=_e.useState(0),[ke,et]=_e.useState(0),ft=_e.useRef(p.duration||M||rE),Pn=_e.useRef(null),ie=_e.useRef(null),Ne=_===0,st=_+1<=N,Oe=p.type,he=p.dismissible!==!1,Te=p.className||"",rt=p.descriptionClassName||"",Ts=_e.useMemo(()=>j.findIndex(Qe=>Qe.toastId===p.id)||0,[j,p.id]),Bt=_e.useMemo(()=>{var Qe;return(Qe=p.closeButton)!=null?Qe:T},[p.closeButton,T]),aa=_e.useMemo(()=>p.duration||M||rE,[p.duration,M]),ia=_e.useRef(0),Lr=_e.useRef(0),Go=_e.useRef(0),la=_e.useRef(null),[Ma,En]=Y.split("-"),Rs=_e.useMemo(()=>j.reduce((Qe,en,Gn)=>Gn>=Ts?Qe:Qe+en.height,0),[j,Ts]),Vn=B9(),Od=p.invert||m,Ol=Oe==="loading";Lr.current=_e.useMemo(()=>Ts*Z+Rs,[Ts,Rs]),_e.useEffect(()=>{ft.current=aa},[aa]),_e.useEffect(()=>{$(!0)},[]),_e.useEffect(()=>{const Qe=ie.current;if(Qe){const en=Qe.getBoundingClientRect().height;return et(en),y(Gn=>[{toastId:p.id,height:en,position:p.position},...Gn]),()=>y(Gn=>Gn.filter(ms=>ms.toastId!==p.id))}},[y,p.id]),_e.useLayoutEffect(()=>{if(!re)return;const Qe=ie.current,en=Qe.style.height;Qe.style.height="auto";const Gn=Qe.getBoundingClientRect().height;Qe.style.height=en,et(Gn),y(ms=>ms.find(un=>un.toastId===p.id)?ms.map(un=>un.toastId===p.id?{...un,height:Gn}:un):[{toastId:p.id,height:Gn,position:p.position},...ms])},[re,p.title,p.description,y,p.id,p.jsx,p.action,p.cancel]);const fr=_e.useCallback(()=>{W(!0),te(Lr.current),y(Qe=>Qe.filter(en=>en.toastId!==p.id)),setTimeout(()=>{k(p)},J9)},[p,k,y,Lr]);_e.useEffect(()=>{if(p.promise&&Oe==="loading"||p.duration===1/0||p.type==="loading")return;let Qe;return E||v||Vn?(()=>{if(Go.current<ia.current){const ms=new Date().getTime()-ia.current;ft.current=ft.current-ms}Go.current=new Date().getTime()})():ft.current!==1/0&&(ia.current=new Date().getTime(),Qe=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),fr()},ft.current)),()=>clearTimeout(Qe)},[E,v,p,Oe,Vn,fr]),_e.useEffect(()=>{p.delete&&(fr(),p.onDismiss==null||p.onDismiss.call(p,p))},[fr,p.delete]);function de(){var Qe;if(L?.loading){var en;return _e.createElement("div",{className:ma(U?.loader,p==null||(en=p.classNames)==null?void 0:en.loader,"sonner-loader"),"data-visible":Oe==="loading"},L.loading)}return _e.createElement(M9,{className:ma(U?.loader,p==null||(Qe=p.classNames)==null?void 0:Qe.loader),visible:Oe==="loading"})}const Ft=p.icon||L?.[Oe]||T9(Oe);var zr,oa;return _e.createElement("li",{tabIndex:0,ref:ie,className:ma(ae,Te,U?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,U?.default,U?.[Oe],p==null||(n=p.classNames)==null?void 0:n[Oe]),"data-sonner-toast":"","data-rich-colors":(zr=p.richColors)!=null?zr:O,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":re,"data-promise":!!p.promise,"data-swiped":Ie,"data-removed":ve,"data-visible":st,"data-y-position":Ma,"data-x-position":En,"data-index":_,"data-front":Ne,"data-swiping":we,"data-dismissible":he,"data-type":Oe,"data-invert":Od,"data-swipe-out":pe,"data-swipe-direction":z,"data-expanded":!!(E||fe&&re),"data-testid":p.testId,style:{"--index":_,"--toasts-before":_,"--z-index":C.length-_,"--offset":`${ve?Ke:Lr.current}px`,"--initial-height":fe?"auto":`${ke}px`,...D,...p.style},onDragEnd:()=>{De(!1),ye(null),la.current=null},onPointerDown:Qe=>{Qe.button!==2&&(Ol||!he||(Pn.current=new Date,te(Lr.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(De(!0),la.current={x:Qe.clientX,y:Qe.clientY})))},onPointerUp:()=>{var Qe,en,Gn;if(pe||!he)return;la.current=null;const ms=Number(((Qe=ie.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ci=Number(((en=ie.current)==null?void 0:en.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),un=new Date().getTime()-((Gn=Pn.current)==null?void 0:Gn.getTime()),Ms=se==="x"?ms:Ci,Tl=Math.abs(Ms)/un;if(Math.abs(Ms)>=Z9||Tl>.11){te(Lr.current),p.onDismiss==null||p.onDismiss.call(p,p),V(se==="x"?ms>0?"right":"left":Ci>0?"down":"up"),fr(),Me(!0);return}else{var Ps,Is;(Ps=ie.current)==null||Ps.style.setProperty("--swipe-amount-x","0px"),(Is=ie.current)==null||Is.style.setProperty("--swipe-amount-y","0px")}F(!1),De(!1),ye(null)},onPointerMove:Qe=>{var en,Gn,ms;if(!la.current||!he||((en=window.getSelection())==null?void 0:en.toString().length)>0)return;const un=Qe.clientY-la.current.y,Ms=Qe.clientX-la.current.x;var Tl;const Ps=(Tl=e.swipeDirections)!=null?Tl:eq(Y);!se&&(Math.abs(Ms)>1||Math.abs(un)>1)&&ye(Math.abs(Ms)>Math.abs(un)?"x":"y");let Is={x:0,y:0};const Ko=Ur=>1/(1.5+Math.abs(Ur)/20);if(se==="y"){if(Ps.includes("top")||Ps.includes("bottom"))if(Ps.includes("top")&&un<0||Ps.includes("bottom")&&un>0)Is.y=un;else{const Ur=un*Ko(un);Is.y=Math.abs(Ur)<Math.abs(un)?Ur:un}}else if(se==="x"&&(Ps.includes("left")||Ps.includes("right")))if(Ps.includes("left")&&Ms<0||Ps.includes("right")&&Ms>0)Is.x=Ms;else{const Ur=Ms*Ko(Ms);Is.x=Math.abs(Ur)<Math.abs(Ms)?Ur:Ms}(Math.abs(Is.x)>0||Math.abs(Is.y)>0)&&F(!0),(Gn=ie.current)==null||Gn.style.setProperty("--swipe-amount-x",`${Is.x}px`),(ms=ie.current)==null||ms.style.setProperty("--swipe-amount-y",`${Is.y}px`)}},Bt&&!p.jsx&&Oe!=="loading"?_e.createElement("button",{"aria-label":I,"data-disabled":Ol,"data-close-button":!0,onClick:Ol||!he?()=>{}:()=>{fr(),p.onDismiss==null||p.onDismiss.call(p,p)},className:ma(U?.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(oa=L?.close)!=null?oa:U9):null,(Oe||p.icon||p.promise)&&p.icon!==null&&(L?.[Oe]!==null||p.icon)?_e.createElement("div",{"data-icon":"",className:ma(U?.icon,p==null||(a=p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||de():null,p.type!=="loading"?Ft:null):null,_e.createElement("div",{"data-content":"",className:ma(U?.content,p==null||(i=p.classNames)==null?void 0:i.content)},_e.createElement("div",{"data-title":"",className:ma(U?.title,p==null||(c=p.classNames)==null?void 0:c.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?_e.createElement("div",{"data-description":"",className:ma(G,rt,U?.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),_e.isValidElement(p.cancel)?p.cancel:p.cancel&&fh(p.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:Qe=>{fh(p.cancel)&&he&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Qe),fr())},className:ma(U?.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,_e.isValidElement(p.action)?p.action:p.action&&fh(p.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||X,onClick:Qe=>{fh(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Qe),!Qe.defaultPrevented&&fr())},className:ma(U?.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function aE(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function nq(e,t){const n={};return[e,t].forEach((r,a)=>{const i=a===1,c=i?"--mobile-offset":"--offset",d=i?W9:Y9;function u(h){["top","right","bottom","left"].forEach(m=>{n[`${c}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${c}-${h}`]=d:n[`${c}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):u(d)}),n}const sq=_e.forwardRef(function(t,n){const{id:r,invert:a,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:u,className:h,offset:m,mobileOffset:p,theme:g="light",richColors:v,duration:y,style:N,visibleToasts:j=K9,toastOptions:_,dir:C=aE(),gap:E=X9,icons:k,containerAriaLabel:O="Notifications"}=t,[T,D]=_e.useState([]),P=_e.useMemo(()=>r?T.filter(re=>re.toasterId===r):T.filter(re=>!re.toasterId),[T,r]),X=_e.useMemo(()=>Array.from(new Set([i].concat(P.filter(re=>re.position).map(re=>re.position)))),[P,i]),[ae,G]=_e.useState([]),[M,Y]=_e.useState(!1),[Z,fe]=_e.useState(!1),[U,L]=_e.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=_e.useRef(null),se=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ye=_e.useRef(null),z=_e.useRef(!1),V=_e.useCallback(re=>{D($=>{var ve;return(ve=$.find(W=>W.id===re.id))!=null&&ve.delete||Fs.dismiss(re.id),$.filter(({id:W})=>W!==re.id)})},[]);return _e.useEffect(()=>Fs.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{D($=>$.map(ve=>ve.id===re.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{YB.flushSync(()=>{D($=>{const ve=$.findIndex(W=>W.id===re.id);return ve!==-1?[...$.slice(0,ve),{...$[ve],...re},...$.slice(ve+1)]:[re,...$]})})})}),[T]),_e.useEffect(()=>{if(g!=="system"){L(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:$})=>{L($?"dark":"light")})}catch{re.addListener(({matches:ve})=>{try{L(ve?"dark":"light")}catch(W){console.error(W)}})}},[g]),_e.useEffect(()=>{T.length<=1&&Y(!1)},[T]),_e.useEffect(()=>{const re=$=>{var ve;if(c.every(De=>$[De]||$.code===De)){var we;Y(!0),(we=I.current)==null||we.focus()}$.code==="Escape"&&(document.activeElement===I.current||(ve=I.current)!=null&&ve.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[c]),_e.useEffect(()=>{if(I.current)return()=>{ye.current&&(ye.current.focus({preventScroll:!0}),ye.current=null,z.current=!1)}},[I.current]),_e.createElement("section",{ref:n,"aria-label":`${O} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},X.map((re,$)=>{var ve;const[W,we]=re.split("-");return P.length?_e.createElement("ol",{key:re,dir:C==="auto"?aE():C,tabIndex:-1,ref:I,className:h,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":W,"data-x-position":we,style:{"--front-toast-height":`${((ve=ae[0])==null?void 0:ve.height)||0}px`,"--width":`${Q9}px`,"--gap":`${E}px`,...N,...nq(m,p)},onBlur:De=>{z.current&&!De.currentTarget.contains(De.relatedTarget)&&(z.current=!1,ye.current&&(ye.current.focus({preventScroll:!0}),ye.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||z.current||(z.current=!0,ye.current=De.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{Z||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},P.filter(De=>!De.position&&$===0||De.position===re).map((De,pe)=>{var Me,Ie;return _e.createElement(tq,{key:De.id,icons:k,index:pe,toast:De,defaultRichColors:v,duration:(Me=_?.duration)!=null?Me:y,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:a,visibleToasts:j,closeButton:(Ie=_?.closeButton)!=null?Ie:u,interacting:Z,position:re,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:V,toasts:P.filter(F=>F.position==De.position),heights:ae.filter(F=>F.position==De.position),setHeights:G,expandByDefault:d,gap:E,expanded:M,swipeDirections:t.swipeDirections})})):null}))}),xs="https://api.cliniclink.health/api";class rq{baseUrl;constructor(t){this.baseUrl=t}getToken(){return localStorage.getItem("cliniclink_token")}async request(t,n={}){const r=this.getToken(),a={"Content-Type":"application/json",Accept:"application/json",...n.headers||{}};r&&(a.Authorization=`Bearer ${r}`);const i=await fetch(`${this.baseUrl}${t}`,{...n,headers:a});if(i.status===401)throw localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),window.location.href="/login",new Error("Unauthorized");if(!i.ok){const c=await i.json().catch(()=>({})),d=c.message||c.error||`Request failed (${i.status})`,u=new Error(d);throw u.status=i.status,u.errors=c.errors||{},u}return i.status===204?{}:i.json()}get(t){return this.request(t)}post(t,n){return this.request(t,{method:"POST",body:n?JSON.stringify(n):void 0})}put(t,n){return this.request(t,{method:"PUT",body:n?JSON.stringify(n):void 0})}delete(t){return this.request(t,{method:"DELETE"})}async upload(t,n){const r=this.getToken(),a={Accept:"application/json"};r&&(a.Authorization=`Bearer ${r}`);const i=await fetch(`${this.baseUrl}${t}`,{method:"POST",headers:a,body:n});if(i.status===401)throw localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),window.location.href="/login",new Error("Unauthorized");if(!i.ok){const c=await i.json().catch(()=>({})),d=c.message||c.error||`Request failed (${i.status})`,u=new Error(d);throw u.status=i.status,u.errors=c.errors||{},u}return i.status===204?{}:i.json()}}const ne=new rq(xs),Ss={register:e=>ne.post("/auth/register",e),login:e=>ne.post("/auth/login",e),me:()=>ne.get("/auth/me"),logout:()=>ne.post("/auth/logout"),updateProfile:e=>ne.put("/auth/profile",e),forgotPassword:e=>ne.post("/auth/forgot-password",{email:e}),resetPassword:e=>ne.post("/auth/reset-password",e),completeOnboarding:e=>ne.post("/auth/complete-onboarding",e),mfaStatus:()=>ne.get("/auth/mfa/status"),mfaSetup:()=>ne.post("/auth/mfa/setup"),mfaConfirm:e=>ne.post("/auth/mfa/confirm",{code:e}),mfaDisable:e=>ne.post("/auth/mfa/disable",{password:e}),mfaBackupCodes:e=>ne.post("/auth/mfa/backup-codes",{password:e}),mfaVerify:(e,t)=>ne.post("/auth/mfa/verify",{mfa_token:e,code:t})},To={list:e=>{const t=new URLSearchParams;return e?.search&&t.set("search",e.search),e?.specialty&&t.set("specialty",e.specialty),e?.state&&t.set("state",e.state),e?.page&&t.set("page",String(e.page)),ne.get(`/sites?${t}`)},get:e=>ne.get(`/sites/${e}`),create:e=>ne.post("/sites",e),update:(e,t)=>ne.put(`/sites/${e}`,t),delete:e=>ne.delete(`/sites/${e}`),mine:()=>ne.get("/my-sites")},yf={list:e=>{const t=new URLSearchParams;return e?.search&&t.set("search",e.search),e?.specialty&&t.set("specialty",e.specialty),e?.status&&t.set("status",e.status),e?.cost_type&&t.set("cost_type",e.cost_type),e?.site_id&&t.set("site_id",e.site_id),e?.page&&t.set("page",String(e.page)),ne.get(`/slots?${t}`)},get:e=>ne.get(`/slots/${e}`),create:e=>ne.post("/slots",e),update:(e,t)=>ne.put(`/slots/${e}`,t),delete:e=>ne.delete(`/slots/${e}`),preceptors:()=>ne.get("/preceptor-options")},aq={list:()=>ne.get("/my-preceptors")},Na={list:()=>ne.get("/site-invites"),create:e=>ne.post("/site-invites",e),bulkCreate:e=>ne.post("/site-invites/bulk",e),validate:e=>ne.get(`/invite/${e}`),accept:e=>ne.post(`/invite/${e}/accept`),resend:e=>ne.post(`/site-invites/${e}/resend`,{}),revoke:e=>ne.delete(`/site-invites/${e}`),myPending:()=>ne.get("/my-pending-invites")},gx={list:()=>ne.get("/applications"),get:e=>ne.get(`/applications/${e}`),create:e=>ne.post("/applications",e),review:(e,t)=>ne.put(`/applications/${e}/review`,t),withdraw:e=>ne.put(`/applications/${e}/withdraw`)},bf={list:()=>ne.get("/hour-logs"),create:e=>ne.post("/hour-logs",e),update:(e,t)=>ne.put(`/hour-logs/${e}`,t),review:(e,t)=>ne.put(`/hour-logs/${e}/review`,t),delete:e=>ne.delete(`/hour-logs/${e}`),summary:()=>ne.get("/hour-logs/summary")},sT={list:()=>ne.get("/evaluations"),get:e=>ne.get(`/evaluations/${e}`),create:e=>ne.post("/evaluations",e),update:(e,t)=>ne.put(`/evaluations/${e}`,t)},Ro={profile:()=>ne.get("/student/profile"),updateProfile:e=>ne.put("/student/profile",e),credentials:()=>ne.get("/student/credentials"),addCredential:e=>ne.post("/student/credentials",e),updateCredential:(e,t)=>ne.put(`/student/credentials/${e}`,t),deleteCredential:e=>ne.delete(`/student/credentials/${e}`),uploadCredentialFile:(e,t)=>{const n=new FormData;return n.append("file",t),ne.upload(`/student/credentials/${e}/upload`,n)},downloadCredentialUrl:e=>{const t=localStorage.getItem("cliniclink_token");return`${xs}/student/credentials/${e}/download?token=${t}`}},iq={list:()=>ne.get("/my-students")},rT={setPriorHours:(e,t)=>ne.put(`/students/${e}/prior-hours`,{prior_hours:t}),bulkSetPriorHours:e=>ne.post("/students/bulk-prior-hours",{students:e}),updateProgram:(e,t)=>ne.put(`/programs/${e}`,t),createProgram:(e,t)=>ne.post(`/universities/${e}/programs`,t),assignStudentProgram:(e,t)=>ne.post("/students/assign-program",{student_id:e,program_id:t})},lq={stats:()=>ne.get("/dashboard/stats")},hd={list:()=>ne.get("/certificates"),get:e=>ne.get(`/certificates/${e}`),create:e=>ne.post("/certificates",e),eligibility:(e,t)=>ne.get(`/certificates/eligibility/${e}/${t}`),revoke:(e,t)=>ne.put(`/certificates/${e}/revoke`,t),getPdfUrl:e=>{const t=localStorage.getItem("cliniclink_token");return`${xs}/certificates/${e}/pdf?token=${t}`},publicVerify:e=>ne.get(`/verify/${e}`)},ul={list:e=>{const t=new URLSearchParams;return e?.search&&t.set("search",e.search),e?.state&&t.set("state",e.state),e?.page&&t.set("page",String(e.page)),ne.get(`/universities?${t}`)},get:e=>ne.get(`/universities/${e}`),programs:e=>ne.get(`/universities/${e}/programs`)},jf={list:e=>{const t=new URLSearchParams;return e?.status&&t.set("status",e.status),e?.university_id&&t.set("university_id",e.university_id),e?.site_id&&t.set("site_id",e.site_id),ne.get(`/agreements?${t}`)},create:e=>ne.post("/agreements",e),update:(e,t)=>ne.put(`/agreements/${e}`,t),uploadDocument:(e,t)=>{const n=new FormData;return n.append("file",t),ne.upload(`/agreements/${e}/upload`,n)},downloadUrl:e=>`${xs}/agreements/${e}/download`},Pr={users:e=>{const t=new URLSearchParams;return e?.search&&t.set("search",e.search),e?.role&&t.set("role",e.role),e?.page&&t.set("page",String(e.page)),ne.get(`/admin/users?${t}`)},getUser:e=>ne.get(`/admin/users/${e}`),updateUser:(e,t)=>ne.put(`/admin/users/${e}`,t),deleteUser:e=>ne.delete(`/admin/users/${e}`),resetUserPassword:e=>ne.post(`/admin/users/${e}/reset-password`,{}),createUser:e=>ne.post("/admin/users",e),bulkInvite:e=>ne.post("/admin/users/bulk-invite",e),createUniversity:e=>ne.post("/admin/universities",e),updateUniversity:(e,t)=>ne.put(`/admin/universities/${e}`,t),deleteUniversity:e=>ne.delete(`/admin/universities/${e}`),assignPreceptorToSites:(e,t)=>ne.post(`/admin/users/${e}/assign-sites`,{site_ids:t}),removePreceptorFromSite:(e,t)=>ne.delete(`/admin/users/${e}/remove-site/${t}`)},vx={list:e=>{const t=new URLSearchParams;return e?.site_id&&t.set("site_id",e.site_id),ne.get(`/onboarding-templates?${t}`)},get:e=>ne.get(`/onboarding-templates/${e}`),create:e=>ne.post("/onboarding-templates",e),update:(e,t)=>ne.put(`/onboarding-templates/${e}`,t),delete:e=>ne.delete(`/onboarding-templates/${e}`)},Sl={list:e=>{const t=new URLSearchParams;return e?.application_id&&t.set("application_id",e.application_id),ne.get(`/onboarding-tasks?${t}`)},complete:e=>ne.put(`/onboarding-tasks/${e}/complete`),uncomplete:e=>ne.put(`/onboarding-tasks/${e}/uncomplete`),verify:(e,t)=>ne.put(`/onboarding-tasks/${e}/verify`,t),unverify:e=>ne.put(`/onboarding-tasks/${e}/unverify`),applicationProgress:e=>ne.get(`/applications/${e}/onboarding-progress`),uploadFile:(e,t)=>{const n=new FormData;return n.append("file",t),ne.upload(`/onboarding-tasks/${e}/upload`,n)},downloadFileUrl:e=>`${xs}/onboarding-tasks/${e}/download`},pd={list:e=>{const t=new URLSearchParams;return e?.page&&t.set("page",String(e.page)),ne.get(`/notifications?${t}`)},unreadCount:()=>ne.get("/notifications/unread-count"),markAsRead:e=>ne.put(`/notifications/${e}/read`),markAllAsRead:()=>ne.put("/notifications/read-all"),getPreferences:()=>ne.get("/notifications/preferences"),updatePreferences:e=>ne.put("/notifications/preferences",e)},xd={create:e=>ne.post("/site-join-requests",e),mine:()=>ne.get("/site-join-requests/mine"),list:e=>{const t=new URLSearchParams;return e?.status&&t.set("status",e.status),ne.get(`/site-join-requests?${t}`)},withdraw:e=>ne.put(`/site-join-requests/${e}/withdraw`),approve:(e,t)=>ne.put(`/site-join-requests/${e}/approve`,t),deny:(e,t)=>ne.put(`/site-join-requests/${e}/deny`,t)},Bw={site:e=>ne.get(`/compliance/site/${e}`),student:e=>ne.get(`/compliance/student/${e}`),overview:()=>ne.get("/compliance/overview")},aT={get:e=>ne.get(`/universities/${e}/ce-policy`),upsert:(e,t)=>ne.put(`/universities/${e}/ce-policy`,t)},_l={list:e=>{const t=new URLSearchParams;return e?.university_id&&t.set("university_id",e.university_id),ne.get(`/ce-certificates?${t}`)},get:e=>ne.get(`/ce-certificates/${e}`),approve:e=>ne.put(`/ce-certificates/${e}/approve`),reject:(e,t)=>ne.put(`/ce-certificates/${e}/reject`,t),revoke:(e,t)=>ne.put(`/ce-certificates/${e}/revoke`,t),auditTrail:e=>ne.get(`/ce-certificates/${e}/audit-trail`),downloadUrl:e=>{const t=localStorage.getItem("cliniclink_token");return`${xs}/ce-certificates/${e}/download?token=${t}`},eligibility:e=>ne.get(`/ce-eligibility/${e}`),publicVerify:e=>ne.get(`/verify-ce/${e}`)},oq={complete:e=>ne.put(`/applications/${e}/complete`)},Mo={conversations:e=>{const t=new URLSearchParams;return e?.page&&t.set("page",String(e.page)),ne.get(`/messages/conversations?${t}`)},messages:(e,t)=>{const n=new URLSearchParams;return t?.page&&n.set("page",String(t.page)),ne.get(`/messages/conversations/${e}?${n}`)},send:(e,t)=>ne.post(`/messages/conversations/${e}`,{body:t}),createConversation:e=>ne.post("/messages/conversations",e),unreadCount:()=>ne.get("/messages/unread-count"),searchUsers:e=>ne.get(`/messages/users?search=${encodeURIComponent(e)}`),broadcast:e=>ne.post("/messages/broadcast",e)},cq={events:(e,t)=>ne.get(`/calendar/events?start=${e}&end=${t}`)},iT={toggle:e=>ne.post(`/slots/${e}/bookmark`),list:e=>{const t=new URLSearchParams;return e?.page&&t.set("page",String(e.page)),ne.get(`/slots/bookmarks?${t}`)}},yx={list:()=>ne.get("/saved-searches"),create:e=>ne.post("/saved-searches",e),update:(e,t)=>ne.put(`/saved-searches/${e}`,t),delete:e=>ne.delete(`/saved-searches/${e}`)},bx={list:e=>{const t=new URLSearchParams;return e?.university_id&&t.set("university_id",e.university_id),e?.type&&t.set("type",e.type),e?.active_only&&t.set("active_only","1"),ne.get(`/evaluation-templates?${t}`)},create:e=>ne.post("/evaluation-templates",e),update:(e,t)=>ne.put(`/evaluation-templates/${e}`,t),delete:e=>ne.delete(`/evaluation-templates/${e}`)},qw={list:()=>ne.get("/agreement-templates"),create:e=>ne.post("/agreement-templates",e),update:(e,t)=>ne.put(`/agreement-templates/${e}`,t),delete:e=>ne.delete(`/agreement-templates/${e}`),uploadDocument:(e,t)=>{const n=new FormData;return n.append("file",t),ne.upload(`/agreement-templates/${e}/upload`,n)},downloadUrl:e=>`${xs}/agreement-templates/${e}/download`},lT={directory:e=>{const t=new URLSearchParams;return e?.search&&t.set("search",e.search),e?.specialty&&t.set("specialty",e.specialty),e?.availability&&t.set("availability",e.availability),e?.page&&t.set("page",String(e.page)),ne.get(`/preceptor-profiles?${t}`)},show:e=>ne.get(`/preceptor-profiles/${e}`),update:e=>ne.put("/preceptor-profiles",e),refreshBadges:e=>ne.post(`/preceptor-profiles/${e}/refresh-badges`),leaderboard:()=>ne.get("/preceptor-profiles/leaderboard")},wf={summary:()=>ne.get("/analytics/summary"),platform:e=>{const t=new URLSearchParams;return e?.period&&t.set("period",e.period),e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to),ne.get(`/analytics/platform?${t}`)},university:(e,t)=>{const n=new URLSearchParams;return t?.period&&n.set("period",t.period),t?.from&&n.set("from",t.from),t?.to&&n.set("to",t.to),ne.get(`/analytics/university/${e}?${n}`)},site:(e,t)=>{const n=new URLSearchParams;return t?.period&&n.set("period",t.period),t?.from&&n.set("from",t.from),t?.to&&n.set("to",t.to),ne.get(`/analytics/site/${e}?${n}`)},demandHeatMap:()=>ne.get("/analytics/demand-map"),specialtyDemand:()=>ne.get("/analytics/specialty-demand")},jx={list:e=>{const t=new URLSearchParams;return e?.university_id&&t.set("university_id",e.university_id),e?.page&&t.set("page",String(e.page)),ne.get(`/accreditation-reports?${t}`)},generate:e=>ne.post("/accreditation-reports",e),preview:e=>ne.get(`/accreditation-reports/${e}/preview`),downloadUrl:e=>{const t=localStorage.getItem("cliniclink_token");return`${xs}/accreditation-reports/${e}/download?token=${t}`},delete:e=>ne.delete(`/accreditation-reports/${e}`)},Yc={hourLogsCsvUrl:e=>{const t=localStorage.getItem("cliniclink_token"),n=new URLSearchParams;return t&&n.set("token",t),e?.status&&n.set("status",e.status),e?.slot_id&&n.set("slot_id",e.slot_id),e?.date_from&&n.set("date_from",e.date_from),e?.date_to&&n.set("date_to",e.date_to),`${xs}/exports/hour-logs/csv?${n}`},hourLogsPdfUrl:e=>{const t=localStorage.getItem("cliniclink_token"),n=new URLSearchParams;return t&&n.set("token",t),e?.status&&n.set("status",e.status),e?.slot_id&&n.set("slot_id",e.slot_id),e?.date_from&&n.set("date_from",e.date_from),e?.date_to&&n.set("date_to",e.date_to),`${xs}/exports/hour-logs/pdf?${n}`},evaluationsCsvUrl:e=>{const t=localStorage.getItem("cliniclink_token"),n=new URLSearchParams;return t&&n.set("token",t),e?.type&&n.set("type",e.type),`${xs}/exports/evaluations/csv?${n}`},evaluationsPdfUrl:e=>{const t=localStorage.getItem("cliniclink_token"),n=new URLSearchParams;return t&&n.set("token",t),e?.type&&n.set("type",e.type),`${xs}/exports/evaluations/pdf?${n}`},complianceCsvUrl:e=>{const t=localStorage.getItem("cliniclink_token"),n=new URLSearchParams;return t&&n.set("token",t),e?.site_id&&n.set("site_id",e.site_id),`${xs}/exports/compliance/csv?${n}`},compliancePdfUrl:e=>{const t=localStorage.getItem("cliniclink_token"),n=new URLSearchParams;return t&&n.set("token",t),e?.site_id&&n.set("site_id",e.site_id),`${xs}/exports/compliance/pdf?${n}`}},oT=b.createContext(null);function aj(e){return{id:e.id,email:e.email,username:e.username||void 0,firstName:e.first_name,lastName:e.last_name,role:e.role,phone:e.phone||void 0,avatar:e.avatar_url||void 0,createdAt:e.created_at,onboardingCompleted:e.onboarding_completed??!1,universityId:e.student_profile?.university_id||void 0,programId:e.student_profile?.program_id||void 0}}const dq={student:{id:"demo-student-1",email:"student@cliniclink.health",firstName:"Sarah",lastName:"Chen",role:"student",createdAt:new Date().toISOString(),onboardingCompleted:!0},preceptor:{id:"demo-preceptor-1",email:"preceptor@cliniclink.health",firstName:"Dr. James",lastName:"Wilson",role:"preceptor",createdAt:new Date().toISOString(),onboardingCompleted:!0},site_manager:{id:"demo-site-1",email:"site@cliniclink.health",firstName:"Maria",lastName:"Garcia",role:"site_manager",createdAt:new Date().toISOString(),onboardingCompleted:!0},coordinator:{id:"demo-coord-1",email:"coordinator@cliniclink.health",firstName:"Dr. Lisa",lastName:"Thompson",role:"coordinator",createdAt:new Date().toISOString(),onboardingCompleted:!0},professor:{id:"demo-prof-1",email:"professor@cliniclink.health",firstName:"Prof. Robert",lastName:"Martinez",role:"professor",createdAt:new Date().toISOString(),onboardingCompleted:!0},admin:{id:"demo-admin-1",email:"admin@cliniclink.health",firstName:"Admin",lastName:"User",role:"admin",createdAt:new Date().toISOString(),onboardingCompleted:!0}},Tc={user:null,token:null,isAuthenticated:!1,isLoading:!1,mfaPending:!1,mfaToken:null};function Yv(e,t){const n=aj(e.user);if(localStorage.setItem("cliniclink_token",e.token),localStorage.setItem("cliniclink_user",JSON.stringify(n)),t({user:n,token:e.token,isAuthenticated:!0,isLoading:!1,mfaPending:!1,mfaToken:null}),e.accepted_invites?.length){const r=e.accepted_invites.length,a=e.accepted_invites.map(i=>i.site_name).join(", ");J.success(r===1?`Welcome to ${a}! You've been linked as a preceptor.`:`You've been linked to ${r} clinical sites: ${a}`,{duration:6e3,description:"Your pending site invitations were automatically accepted."})}}function uq({children:e}){const[t,n]=b.useState(()=>{const m=localStorage.getItem("cliniclink_token"),p=localStorage.getItem("cliniclink_user");if(m&&p)try{return{...Tc,user:JSON.parse(p),token:m,isAuthenticated:!0}}catch{localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user")}return Tc});b.useEffect(()=>{t.token&&!t.token.startsWith("demo-")&&Ss.me().then(m=>{const p=aj(m);localStorage.setItem("cliniclink_user",JSON.stringify(p)),n(g=>({...g,user:p}))}).catch(()=>{localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),n(Tc)})},[]);const r=b.useCallback(async(m,p)=>{n(g=>({...g,isLoading:!0}));try{const g=await Ss.login({login:m,password:p});if("mfa_required"in g&&g.mfa_required){n(v=>({...v,isLoading:!1,mfaPending:!0,mfaToken:g.mfa_token}));return}Yv(g,n)}catch(g){throw n(v=>({...v,isLoading:!1})),g}},[]),a=b.useCallback(async m=>{if(!t.mfaToken)throw new Error("No MFA session active.");n(p=>({...p,isLoading:!0}));try{const p=await Ss.mfaVerify(t.mfaToken,m);Yv(p,n)}catch(p){throw n(g=>({...g,isLoading:!1})),p}},[t.mfaToken]),i=b.useCallback(()=>{n(Tc)},[]),c=b.useCallback(async m=>{n(p=>({...p,isLoading:!0}));try{await Ss.register({first_name:m.firstName,last_name:m.lastName,email:m.email,username:m.username,password:m.password,password_confirmation:m.password,role:m.role,university_id:m.universityId,program_id:m.programId}),n(p=>({...p,isLoading:!1}))}catch(p){throw n(g=>({...g,isLoading:!1})),p}},[]),d=b.useCallback(()=>{const m=localStorage.getItem("cliniclink_token");localStorage.removeItem("cliniclink_token"),localStorage.removeItem("cliniclink_user"),n(Tc),m&&!m.startsWith("demo-")&&Ss.logout().catch(()=>{})},[]),u=b.useCallback(async m=>{n(g=>({...g,isLoading:!0}));const p={student:"student@cliniclink.health",preceptor:"preceptor@cliniclink.health",site_manager:"site@cliniclink.health",coordinator:"coordinator@cliniclink.health",professor:"professor@cliniclink.health",admin:"admin@cliniclink.health"};try{const g=await Ss.login({login:p[m],password:"password"});if("mfa_required"in g&&g.mfa_required){n(v=>({...v,isLoading:!1,mfaPending:!0,mfaToken:g.mfa_token}));return}Yv(g,n)}catch{const g=dq[m],v="demo-token-"+Date.now();localStorage.setItem("cliniclink_token",v),localStorage.setItem("cliniclink_user",JSON.stringify(g)),n({...Tc,user:g,token:v,isAuthenticated:!0})}},[]),h=b.useCallback(async m=>{const p=await Ss.completeOnboarding(m),g=aj(p.user);localStorage.setItem("cliniclink_user",JSON.stringify(g)),n(v=>({...v,user:g}))},[]);return s.jsx(oT.Provider,{value:{...t,login:r,verifyMfa:a,cancelMfa:i,register:c,logout:d,demoLogin:u,completeOnboarding:h},children:e})}function Je(){const e=b.useContext(oT);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const cT=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const fq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const iE=e=>{const t=mq(e);return t.charAt(0).toUpperCase()+t.slice(1)};var hq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const xq=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:c,...d},u)=>b.createElement("svg",{ref:u,...hq,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:cT("lucide",a),...!i&&!pq(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,m])=>b.createElement(h,m)),...Array.isArray(i)?i:[i]]));const Ce=(e,t)=>{const n=b.forwardRef(({className:r,...a},i)=>b.createElement(xq,{ref:i,iconNode:t,className:cT(`lucide-${fq(iE(e))}`,`lucide-${e}`,r),...a}));return n.displayName=iE(e),n};const gq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tp=Ce("activity",gq);const vq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dr=Ce("arrow-left",vq);const yq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tl=Ce("arrow-right",yq);const bq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],jq=Ce("at-sign",bq);const wq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mn=Ce("award",wq);const Nq=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zr=Ce("badge-check",Nq);const Sq=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],no=Ce("ban",Sq);const _q=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Cq=Ce("bell-off",_q);const Eq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$w=Ce("bell",Eq);const Aq=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],an=Ce("book-open",Aq);const kq=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],Dq=Ce("bookmark",kq);const Oq=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Tq=Ce("brain",Oq);const Rq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Mq=Ce("briefcase",Rq);const Pq=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Le=Ce("building-2",Pq);const Iq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],fl=Ce("calendar-days",Iq);const Lq=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],zq=Ce("calendar-range",Lq);const Uq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jt=Ce("calendar",Uq);const Bq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ml=Ce("chart-column",Bq);const qq=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],$q=Ce("check-check",qq);const Hq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nf=Ce("check",Hq);const Fq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ks=Ce("chevron-down",Fq);const Vq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wx=Ce("chevron-left",Vq);const Gq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],As=Ce("chevron-right",Gq);const Kq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hl=Ce("chevron-up",Kq);const Yq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yr=Ce("circle-alert",Yq);const Wq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ze=Ce("circle-check-big",Wq);const Qq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vs=Ce("circle-check",Qq);const Xq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rn=Ce("circle-x",Xq);const Zq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dT=Ce("circle",Zq);const Jq=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Zn=Ce("clipboard-check",Jq);const e$=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],uT=Ce("clipboard-list",e$);const t$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ye=Ce("clock",t$);const n$=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hw=Ce("copy",n$);const s$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],np=Ce("dollar-sign",s$);const r$=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ys=Ce("download",r$);const a$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fw=Ce("eye-off",a$);const i$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sa=Ce("eye",i$);const l$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],fT=Ce("file-chart-column-increasing",l$);const o$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Yu=Ce("file-check",o$);const c$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],lE=Ce("file-spreadsheet",c$);const d$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],At=Ce("file-text",d$);const u$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Vw=Ce("funnel",u$);const f$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_a=Ce("globe",f$);const m$=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],pt=Ce("graduation-cap",m$);const h$=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],mT=Ce("grip-vertical",h$);const p$=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Wu=Ce("handshake",p$);const x$=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Gw=Ce("hash",x$);const g$=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],co=Ce("heart",g$);const v$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Kw=Ce("history",v$);const y$=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],b$=Ce("hourglass",y$);const j$=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Nx=Ce("inbox",j$);const w$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hT=Ce("info",w$);const N$=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],oE=Ce("key-round",N$);const S$=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Wv=Ce("key",S$);const _$=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],C$=Ce("layout-dashboard",_$);const E$=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],pT=Ce("layout-grid",E$);const A$=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],cE=Ce("link-2",A$);const k$=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xT=Ce("list",k$);const D$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Et=Ce("loader-circle",D$);const O$=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wc=Ce("lock",O$);const T$=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Uh=Ce("log-in",T$);const R$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],M$=Ce("log-out",R$);const P$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wr=Ce("mail",P$);const I$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Tt=Ce("map-pin",I$);const L$=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],sp=Ce("megaphone",L$);const z$=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],U$=Ce("menu",z$);const B$=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rp=Ce("message-square",B$);const q$=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Qc=Ce("paperclip",q$);const $$=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],H$=Ce("pen-line",$$);const F$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Qr=Ce("pencil",F$);const V$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Or=Ce("phone",V$);const G$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ct=Ce("plus",G$);const K$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sf=Ce("save",K$);const Y$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kt=Ce("search",Y$);const W$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gr=Ce("send",W$);const Q$=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ap=Ce("settings-2",Q$);const X$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sx=Ce("settings",X$);const Z$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cs=Ce("shield-check",Z$);const J$=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],eH=Ce("shield-off",J$);const tH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],gT=Ce("shield-x",tH);const nH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dn=Ce("shield",nH);const sH=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],rH=Ce("smartphone",sH);const aH=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vT=Ce("sparkles",aH);const iH=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Un=Ce("star",iH);const lH=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],St=Ce("stethoscope",lH);const oH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ij=Ce("target",oH);const cH=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],yT=Ce("toggle-left",cH);const dH=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],bT=Ce("toggle-right",dH);const uH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hn=Ce("trash-2",uH);const fH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xc=Ce("trending-up",fH);const mH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fs=Ce("triangle-alert",mH);const hH=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pH=Ce("trophy",hH);const xH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Jr=Ce("upload",xH);const gH=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jT=Ce("user-check",gH);const vH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ll=Ce("user-plus",vH);const yH=[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]],lj=Ce("user-search",yH);const bH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],jH=Ce("user-x",bH);const wH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cn=Ce("user",wH);const NH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ut=Ce("users",NH);const SH=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],_H=Ce("wand-sparkles",SH);const CH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],us=Ce("x",CH);const EH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AH=Ce("zap",EH);function gd(){return qe({queryKey:["dashboard-stats"],queryFn:()=>lq.stats()})}function Po(e){return qe({queryKey:["slots",e],queryFn:()=>yf.list(e)})}function kH(){const e=Ae();return Ee({mutationFn:yf.create,onSuccess:()=>{e.invalidateQueries({queryKey:["slots"]})}})}function DH(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>yf.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["slots"]})}})}function OH(){const e=Ae();return Ee({mutationFn:yf.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["slots"]})}})}function TH(){return qe({queryKey:["preceptors"],queryFn:()=>yf.preceptors()})}function _f(e){return qe({queryKey:["sites",e],queryFn:()=>To.list(e)})}function RH(e){return qe({queryKey:["site",e],queryFn:()=>To.get(e),enabled:!!e})}function Ta(){return qe({queryKey:["my-sites"],queryFn:()=>To.mine()})}function wT(){const e=Ae();return Ee({mutationFn:To.create,onSuccess:()=>{e.invalidateQueries({queryKey:["sites"]}),e.invalidateQueries({queryKey:["my-sites"]})}})}function NT(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>To.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["sites"]}),e.invalidateQueries({queryKey:["my-sites"]})}})}function Ws(){return qe({queryKey:["applications"],queryFn:()=>gx.list()})}function MH(){const e=Ae();return Ee({mutationFn:gx.create,onSuccess:()=>{e.invalidateQueries({queryKey:["applications"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function PH(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>gx.review(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["applications"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function IH(){const e=Ae();return Ee({mutationFn:gx.withdraw,onSuccess:()=>{e.invalidateQueries({queryKey:["applications"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function Yw(){return qe({queryKey:["hour-logs"],queryFn:()=>bf.list()})}function LH(){return qe({queryKey:["hour-summary"],queryFn:()=>bf.summary()})}function zH(){const e=Ae();return Ee({mutationFn:bf.create,onSuccess:()=>{e.invalidateQueries({queryKey:["hour-logs"]}),e.invalidateQueries({queryKey:["hour-summary"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function UH(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>bf.review(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["hour-logs"]}),e.invalidateQueries({queryKey:["hour-summary"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function BH(){const e=Ae();return Ee({mutationFn:bf.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["hour-logs"]}),e.invalidateQueries({queryKey:["hour-summary"]})}})}function _x(){return qe({queryKey:["evaluations"],queryFn:()=>sT.list()})}function qH(){const e=Ae();return Ee({mutationFn:sT.create,onSuccess:()=>{e.invalidateQueries({queryKey:["evaluations"]})}})}function $H(){return qe({queryKey:["certificates"],queryFn:()=>hd.list()})}function HH(){const e=Ae();return Ee({mutationFn:hd.create,onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function FH(e,t){return qe({queryKey:["certificate-eligibility",e,t],queryFn:()=>hd.eligibility(e,t),enabled:!!e&&!!t})}function VH(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>hd.revoke(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]})}})}function Ww(){return qe({queryKey:["my-students"],queryFn:()=>iq.list()})}function GH(){return qe({queryKey:["student-profile"],queryFn:()=>Ro.profile()})}function KH(){const e=Ae();return Ee({mutationFn:Ro.updateProfile,onSuccess:()=>{e.invalidateQueries({queryKey:["student-profile"]})}})}function ST(){return qe({queryKey:["credentials"],queryFn:()=>Ro.credentials()})}function YH(){const e=Ae();return Ee({mutationFn:Ro.addCredential,onSuccess:()=>{e.invalidateQueries({queryKey:["credentials"]})}})}function WH(){const e=Ae();return Ee({mutationFn:Ro.deleteCredential,onSuccess:()=>{e.invalidateQueries({queryKey:["credentials"]})}})}function QH(){const e=Ae();return Ee({mutationFn:({id:t,file:n})=>Ro.uploadCredentialFile(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["credentials"]})}})}function XH(e){return qe({queryKey:["admin-users",e],queryFn:()=>Pr.users(e)})}function ZH(e){return qe({queryKey:["admin-user",e],queryFn:()=>Pr.getUser(e),enabled:!!e})}function _T(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>Pr.updateUser(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),e.invalidateQueries({queryKey:["admin-user"]})}})}function JH(){const e=Ae();return Ee({mutationFn:Pr.createUser,onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]})}})}function CT(){const e=Ae();return Ee({mutationFn:Pr.deleteUser,onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]})}})}function eF(){return Ee({mutationFn:Pr.resetUserPassword})}function tF(){const e=Ae();return Ee({mutationFn:Pr.bulkInvite,onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]})}})}function nF(){const e=Ae();return Ee({mutationFn:({userId:t,siteIds:n})=>Pr.assignPreceptorToSites(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-user"]}),e.invalidateQueries({queryKey:["admin-users"]})}})}function sF(){const e=Ae();return Ee({mutationFn:({userId:t,siteId:n})=>Pr.removePreceptorFromSite(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-user"]}),e.invalidateQueries({queryKey:["admin-users"]})}})}function Io(e){return qe({queryKey:["universities",e],queryFn:()=>ul.list(e)})}function rF(){const e=Ae();return Ee({mutationFn:Pr.createUniversity,onSuccess:()=>{e.invalidateQueries({queryKey:["universities"]})}})}function aF(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>Pr.updateUniversity(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["universities"]})}})}function ET(){const e=Ae();return Ee({mutationFn:({universityId:t,data:n})=>rT.createProgram(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["universities"]}),e.invalidateQueries({queryKey:["university-programs"]})}})}function AT(){const e=Ae();return Ee({mutationFn:({studentId:t,programId:n})=>rT.assignStudentProgram(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["my-students"]}),e.invalidateQueries({queryKey:["university-programs"]}),e.invalidateQueries({queryKey:["admin-user"]})}})}function iF(){const e=Ae();return Ee({mutationFn:Pr.deleteUniversity,onSuccess:()=>{e.invalidateQueries({queryKey:["universities"]})}})}function lF(e){return qe({queryKey:["university",e],queryFn:()=>ul.get(e),enabled:!!e})}function oF(){return qe({queryKey:["mfa-status"],queryFn:()=>Ss.mfaStatus()})}function cF(){return Ee({mutationFn:()=>Ss.mfaSetup()})}function dF(){const e=Ae();return Ee({mutationFn:t=>Ss.mfaConfirm(t),onSuccess:()=>{e.invalidateQueries({queryKey:["mfa-status"]})}})}function uF(){const e=Ae();return Ee({mutationFn:t=>Ss.mfaDisable(t),onSuccess:()=>{e.invalidateQueries({queryKey:["mfa-status"]})}})}function fF(){const e=Ae();return Ee({mutationFn:t=>Ss.mfaBackupCodes(t),onSuccess:()=>{e.invalidateQueries({queryKey:["mfa-status"]})}})}function mF(e){return qe({queryKey:["notifications",e],queryFn:()=>pd.list(e)})}function hF(){return qe({queryKey:["unread-count"],queryFn:()=>pd.unreadCount(),refetchInterval:3e4})}function pF(){const e=Ae();return Ee({mutationFn:pd.markAsRead,onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["unread-count"]})}})}function xF(){const e=Ae();return Ee({mutationFn:pd.markAllAsRead,onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]}),e.invalidateQueries({queryKey:["unread-count"]})}})}function gF(){return qe({queryKey:["notification-preferences"],queryFn:()=>pd.getPreferences()})}function vF(){const e=Ae();return Ee({mutationFn:pd.updatePreferences,onSuccess:()=>{e.invalidateQueries({queryKey:["notification-preferences"]})}})}function yF(){const e=Ae();return Ee({mutationFn:xd.create,onSuccess:()=>{e.invalidateQueries({queryKey:["my-join-requests"]}),e.invalidateQueries({queryKey:["site-join-requests"]})}})}function kT(){return qe({queryKey:["my-join-requests"],queryFn:()=>xd.mine()})}function Qw(e){return qe({queryKey:["site-join-requests",e],queryFn:()=>xd.list(e)})}function bF(){const e=Ae();return Ee({mutationFn:xd.withdraw,onSuccess:()=>{e.invalidateQueries({queryKey:["my-join-requests"]}),e.invalidateQueries({queryKey:["site-join-requests"]})}})}function jF(){const e=Ae();return Ee({mutationFn:({id:t,notes:n})=>xd.approve(t,{notes:n}),onSuccess:()=>{e.invalidateQueries({queryKey:["site-join-requests"]}),e.invalidateQueries({queryKey:["site-preceptors"]}),e.invalidateQueries({queryKey:["site-invites"]})}})}function wF(){const e=Ae();return Ee({mutationFn:({id:t,notes:n})=>xd.deny(t,{notes:n}),onSuccess:()=>{e.invalidateQueries({queryKey:["site-join-requests"]})}})}function NF(e){return qe({queryKey:["onboarding-templates",e],queryFn:()=>vx.list(e)})}function SF(){const e=Ae();return Ee({mutationFn:vx.create,onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-templates"]})}})}function _F(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>vx.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-templates"]})}})}function CF(){const e=Ae();return Ee({mutationFn:vx.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-templates"]})}})}function DT(e){return qe({queryKey:["onboarding-tasks",e],queryFn:()=>Sl.list(e)})}function EF(){const e=Ae();return Ee({mutationFn:Sl.complete,onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-tasks"]}),e.invalidateQueries({queryKey:["onboarding-progress"]})}})}function AF(){const e=Ae();return Ee({mutationFn:Sl.uncomplete,onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-tasks"]}),e.invalidateQueries({queryKey:["onboarding-progress"]})}})}function kF(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>Sl.verify(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-tasks"]}),e.invalidateQueries({queryKey:["onboarding-progress"]})}})}function DF(){const e=Ae();return Ee({mutationFn:Sl.unverify,onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-tasks"]}),e.invalidateQueries({queryKey:["onboarding-progress"]})}})}function OF(){const e=Ae();return Ee({mutationFn:({taskId:t,file:n})=>Sl.uploadFile(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["onboarding-tasks"]}),e.invalidateQueries({queryKey:["onboarding-progress"]})}})}function TF(e){return qe({queryKey:["agreements",e],queryFn:()=>jf.list(e)})}function RF(){const e=Ae();return Ee({mutationFn:jf.create,onSuccess:()=>{e.invalidateQueries({queryKey:["agreements"]})}})}function MF(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>jf.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["agreements"]})}})}function PF(){const e=Ae();return Ee({mutationFn:({id:t,file:n})=>jf.uploadDocument(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["agreements"]})}})}function IF(){return qe({queryKey:["site-preceptors"],queryFn:()=>aq.list()})}function LF(){return qe({queryKey:["site-invites"],queryFn:()=>Na.list()})}function zF(){const e=Ae();return Ee({mutationFn:Na.create,onSuccess:()=>{e.invalidateQueries({queryKey:["site-invites"]})}})}function UF(){const e=Ae();return Ee({mutationFn:Na.bulkCreate,onSuccess:()=>{e.invalidateQueries({queryKey:["site-invites"]})}})}function BF(){return qe({queryKey:["my-pending-invites"],queryFn:()=>Na.myPending()})}function qF(){const e=Ae();return Ee({mutationFn:Na.accept,onSuccess:()=>{e.invalidateQueries({queryKey:["my-pending-invites"]}),e.invalidateQueries({queryKey:["site-invites"]}),e.invalidateQueries({queryKey:["my-sites"]})}})}function $F(){return Ee({mutationFn:Na.resend})}function HF(){const e=Ae();return Ee({mutationFn:Na.revoke,onSuccess:()=>{e.invalidateQueries({queryKey:["site-invites"]})}})}function FF(e){return qe({queryKey:["compliance-site",e],queryFn:()=>Bw.site(e),enabled:!!e})}function VF(e){return qe({queryKey:["compliance-student",e],queryFn:()=>Bw.student(e),enabled:!!e})}function GF(){return qe({queryKey:["compliance-overview"],queryFn:()=>Bw.overview()})}function OT(e){return qe({queryKey:["ce-policy",e],queryFn:()=>aT.get(e),enabled:!!e})}function KF(){const e=Ae();return Ee({mutationFn:({universityId:t,data:n})=>aT.upsert(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["ce-policy"]})}})}function Cx(e){return qe({queryKey:["ce-certificates",e],queryFn:()=>_l.list(e)})}function YF(){const e=Ae();return Ee({mutationFn:_l.approve,onSuccess:()=>{e.invalidateQueries({queryKey:["ce-certificates"]})}})}function WF(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>_l.reject(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["ce-certificates"]})}})}function QF(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>_l.revoke(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["ce-certificates"]})}})}function XF(e){return qe({queryKey:["ce-audit-trail",e],queryFn:()=>_l.auditTrail(e),enabled:!!e})}function TT(e){return qe({queryKey:["ce-eligibility",e],queryFn:()=>_l.eligibility(e),enabled:!!e})}function RT(){const e=Ae();return Ee({mutationFn:oq.complete,onSuccess:()=>{e.invalidateQueries({queryKey:["applications"]}),e.invalidateQueries({queryKey:["ce-certificates"]}),e.invalidateQueries({queryKey:["dashboard-stats"]})}})}function ZF(e){return qe({queryKey:["conversations",e],queryFn:()=>Mo.conversations(e)})}function JF(e){return qe({queryKey:["conversation",e],queryFn:()=>Mo.messages(e),enabled:!!e,refetchInterval:1e4})}function eV(){const e=Ae();return Ee({mutationFn:({conversationId:t,body:n})=>Mo.send(t,n),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["conversation",n.conversationId]}),e.invalidateQueries({queryKey:["conversations"]})}})}function tV(){const e=Ae();return Ee({mutationFn:Mo.createConversation,onSuccess:()=>{e.invalidateQueries({queryKey:["conversations"]})}})}function nV(){return qe({queryKey:["message-unread-count"],queryFn:()=>Mo.unreadCount(),refetchInterval:3e4})}function sV(e){return qe({queryKey:["messageable-users",e],queryFn:()=>Mo.searchUsers(e),enabled:e.length>=2})}function rV(){const e=Ae();return Ee({mutationFn:Mo.broadcast,onSuccess:()=>{e.invalidateQueries({queryKey:["conversations"]})}})}function aV(e,t){return qe({queryKey:["calendar-events",e,t],queryFn:()=>cq.events(e,t),enabled:!!e&&!!t})}function iV(e){return qe({queryKey:["bookmarked-slots",e],queryFn:()=>iT.list(e)})}function lV(){const e=Ae();return Ee({mutationFn:iT.toggle,onSuccess:()=>{e.invalidateQueries({queryKey:["bookmarked-slots"]}),e.invalidateQueries({queryKey:["slots"]})}})}function oV(){return qe({queryKey:["saved-searches"],queryFn:()=>yx.list()})}function cV(){const e=Ae();return Ee({mutationFn:yx.create,onSuccess:()=>{e.invalidateQueries({queryKey:["saved-searches"]})}})}function dV(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>yx.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["saved-searches"]})}})}function uV(){const e=Ae();return Ee({mutationFn:yx.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["saved-searches"]})}})}function MT(e){return qe({queryKey:["evaluation-templates",e],queryFn:()=>bx.list(e)})}function fV(){const e=Ae();return Ee({mutationFn:bx.create,onSuccess:()=>{e.invalidateQueries({queryKey:["evaluation-templates"]})}})}function mV(){const e=Ae();return Ee({mutationFn:({id:t,data:n})=>bx.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["evaluation-templates"]})}})}function hV(){const e=Ae();return Ee({mutationFn:bx.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["evaluation-templates"]})}})}function pV(){return qe({queryKey:["agreement-templates"],queryFn:()=>qw.list()})}function xV(){const e=Ae();return Ee({mutationFn:qw.create,onSuccess:()=>{e.invalidateQueries({queryKey:["agreement-templates"]})}})}function gV(){const e=Ae();return Ee({mutationFn:qw.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["agreement-templates"]})}})}function vV(e){return qe({queryKey:["preceptor-directory",e],queryFn:()=>lT.directory(e)})}function yV(){return qe({queryKey:["preceptor-leaderboard"],queryFn:()=>lT.leaderboard()})}function bV(){return qe({queryKey:["analytics-summary"],queryFn:()=>wf.summary()})}function jV(e){return qe({queryKey:["platform-analytics",e],queryFn:()=>wf.platform(e)})}function wV(e,t){return qe({queryKey:["university-analytics",e,t],queryFn:()=>wf.university(e,t),enabled:!!e})}function NV(e,t){return qe({queryKey:["site-analytics",e,t],queryFn:()=>wf.site(e,t),enabled:!!e})}function SV(){return qe({queryKey:["specialty-demand"],queryFn:()=>wf.specialtyDemand()})}function _V(e){return qe({queryKey:["accreditation-reports",e],queryFn:()=>jx.list(e)})}function CV(){const e=Ae();return Ee({mutationFn:jx.generate,onSuccess:()=>{e.invalidateQueries({queryKey:["accreditation-reports"]})}})}function EV(){const e=Ae();return Ee({mutationFn:jx.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["accreditation-reports"]})}})}function AV(e){const t=new Date,n=new Date(e),r=Math.floor((t.getTime()-n.getTime())/1e3);if(r<60)return"just now";const a=Math.floor(r/60);if(a<60)return`${a}m ago`;const i=Math.floor(a/60);if(i<24)return`${i}h ago`;const c=Math.floor(i/24);return c<7?`${c}d ago`:n.toLocaleDateString()}function dE(){const[e,t]=b.useState(!1),n=b.useRef(null),r=Ut(),{data:a}=hF(),{data:i}=mF(),c=pF(),d=xF(),u=a?.count??0,h=i?.data??[];b.useEffect(()=>{function p(g){n.current&&!n.current.contains(g.target)&&t(!1)}return e&&document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]);function m(p){p.read_at||c.mutate(p.id),p.data.link&&r(p.data.link),t(!1)}return s.jsxs("div",{className:"relative",ref:n,children:[s.jsxs("button",{onClick:()=>t(!e),className:"relative p-2 rounded-lg text-stone-500 hover:text-stone-700 hover:bg-stone-100 transition-colors","aria-label":"Notifications",children:[s.jsx($w,{className:"w-5 h-5"}),u>0&&s.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:u>99?"99+":u})]}),e&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-lg border border-stone-200 z-50 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-stone-100",children:[s.jsx("h3",{className:"font-semibold text-sm text-stone-900",children:"Notifications"}),u>0&&s.jsxs("button",{onClick:()=>d.mutate(),className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[s.jsx($q,{className:"w-3.5 h-3.5"}),"Mark all read"]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:h.length===0?s.jsx("div",{className:"px-4 py-8 text-center text-sm text-stone-400",children:"No notifications yet"}):h.map(p=>s.jsxs("button",{onClick:()=>m(p),className:`w-full text-left px-4 py-3 border-b border-stone-50 hover:bg-stone-50 transition-colors flex gap-3 ${p.read_at?"":"bg-primary-50/40"}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:`text-sm truncate ${p.read_at?"font-medium text-stone-700":"font-semibold text-stone-900"}`,children:p.data.title}),!p.read_at&&s.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 shrink-0"})]}),s.jsx("p",{className:"text-xs text-stone-500 mt-0.5 line-clamp-2",children:p.data.message}),s.jsx("p",{className:"text-[11px] text-stone-400 mt-1",children:AV(p.created_at)})]}),!p.read_at&&s.jsx("button",{onClick:g=>{g.stopPropagation(),c.mutate(p.id)},className:"shrink-0 p-1 rounded text-stone-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Mark as read",children:s.jsx(Nf,{className:"w-3.5 h-3.5"})})]},p.id))})]})]})}const kV=[{label:"Dashboard",path:"/dashboard",icon:s.jsx(C$,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]},{label:"Search Rotations",path:"/rotations",icon:s.jsx(Kt,{className:"w-5 h-5"}),roles:["student"]},{label:"My Applications",path:"/applications",icon:s.jsx(At,{className:"w-5 h-5"}),roles:["student"]},{label:"Hour Log",path:"/hours",icon:s.jsx(Ye,{className:"w-5 h-5"}),roles:["student","preceptor"]},{label:"Evaluations",path:"/evaluations",icon:s.jsx(Zn,{className:"w-5 h-5"}),roles:["student","preceptor"]},{label:"Certificates",path:"/certificates",icon:s.jsx(mn,{className:"w-5 h-5"}),roles:["student","preceptor","coordinator","admin"]},{label:"CE Credits",path:"/ce-credits",icon:s.jsx(Zr,{className:"w-5 h-5"}),roles:["preceptor","coordinator","admin"]},{label:"Onboarding",path:"/onboarding-checklists",icon:s.jsx(uT,{className:"w-5 h-5"}),roles:["student","site_manager"]},{label:"Agreements",path:"/agreements",icon:s.jsx(Wu,{className:"w-5 h-5"}),roles:["coordinator","site_manager","admin"]},{label:"Eval Templates",path:"/evaluation-templates",icon:s.jsx(Zn,{className:"w-5 h-5"}),roles:["coordinator","admin"]},{label:"Messages",path:"/messages",icon:s.jsx(rp,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]},{label:"Calendar",path:"/calendar",icon:s.jsx(Jt,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]},{label:"Compliance",path:"/compliance",icon:s.jsx(cs,{className:"w-5 h-5"}),roles:["student","site_manager","coordinator","professor","admin"]},{label:"My Site",path:"/site",icon:s.jsx(Le,{className:"w-5 h-5"}),roles:["site_manager"]},{label:"Rotation Slots",path:"/slots",icon:s.jsx(fl,{className:"w-5 h-5"}),roles:["site_manager","admin"]},{label:"Preceptors",path:"/preceptors",icon:s.jsx(jT,{className:"w-5 h-5"}),roles:["site_manager"]},{label:"Applications",path:"/site-applications",icon:s.jsx(At,{className:"w-5 h-5"}),roles:["site_manager","admin"]},{label:"My Students",path:"/students",icon:s.jsx(ut,{className:"w-5 h-5"}),roles:["preceptor","coordinator","professor"]},{label:"My University",path:"/programs",icon:s.jsx(an,{className:"w-5 h-5"}),roles:["coordinator"]},{label:"Placements",path:"/placements",icon:s.jsx(pt,{className:"w-5 h-5"}),roles:["coordinator","professor"]},{label:"Sites Directory",path:"/sites",icon:s.jsx(St,{className:"w-5 h-5"}),roles:["coordinator","admin"]},{label:"Universities",path:"/universities",icon:s.jsx(an,{className:"w-5 h-5"}),roles:["admin"]},{label:"All Users",path:"/admin/users",icon:s.jsx(ut,{className:"w-5 h-5"}),roles:["admin"]},{label:"Preceptor Directory",path:"/preceptor-directory",icon:s.jsx(lj,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","admin"]},{label:"Analytics",path:"/analytics",icon:s.jsx(ml,{className:"w-5 h-5"}),roles:["coordinator","site_manager","admin"]},{label:"Reports",path:"/accreditation-reports",icon:s.jsx(fT,{className:"w-5 h-5"}),roles:["coordinator","admin"]},{label:"Settings",path:"/settings",icon:s.jsx(Sx,{className:"w-5 h-5"}),roles:["student","preceptor","site_manager","coordinator","professor","admin"]}];function DV(){const[e,t]=b.useState(!1),{user:n,logout:r}=Je(),a=Oa();b.useEffect(()=>{t(!1)},[a.pathname]),b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]);const{data:i}=nV(),c=kV.filter(h=>n&&h.roles.includes(n.role)),d={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"},u=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-stone-200",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-bold text-lg bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(dE,{})}),s.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-1.5 rounded-lg text-stone-400 hover:text-stone-600 hover:bg-stone-100 transition-colors",children:s.jsx(us,{className:"w-5 h-5"})})]})]}),n&&s.jsx("div",{className:"px-4 py-3 border-b border-stone-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[n.firstName[0],n.lastName[0]]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900 truncate",children:[n.firstName," ",n.lastName]}),s.jsx("p",{className:"text-xs text-stone-500",children:d[n.role]})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-3 px-2 space-y-1",children:c.map(h=>s.jsxs(VO,{to:h.path,className:({isActive:m})=>`flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${m||a.pathname===h.path?"bg-primary-50 text-primary-700":"text-stone-600 hover:bg-stone-50 hover:text-stone-900"}`,children:[h.icon,s.jsx("span",{className:"flex-1",children:h.label}),h.path==="/messages"&&(i?.count??0)>0&&s.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-600 text-white text-xs font-bold flex items-center justify-center",children:i.count>9?"9+":i.count})]},h.path))}),s.jsx("div",{className:"border-t border-stone-200 p-2",children:s.jsxs("button",{onClick:r,className:"flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-stone-600 hover:bg-red-50 hover:text-red-600 transition-all w-full",children:[s.jsx(M$,{className:"w-5 h-5"}),s.jsx("span",{children:"Logout"})]})})]});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-stone-200 flex items-center justify-between px-4 z-30",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>t(!0),className:"p-2 -ml-2 rounded-lg text-stone-600 hover:bg-stone-100 transition-colors","aria-label":"Open menu",children:s.jsx(U$,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[s.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"font-bold text-base bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]})]}),s.jsx(dE,{})]}),e&&s.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>t(!1)}),s.jsx("aside",{className:`lg:hidden fixed left-0 top-0 h-screen w-72 bg-white flex flex-col z-50 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,children:u}),s.jsx("aside",{className:"hidden lg:flex fixed left-0 top-0 h-screen w-64 bg-white border-r border-stone-200 flex-col z-40",children:u})]})}function PT({children:e}){return s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx(DV,{}),s.jsx("main",{className:"lg:ml-64 min-h-screen pt-14 lg:pt-0",children:s.jsx("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto",children:e})})]})}function q({variant:e="primary",size:t="md",children:n,isLoading:r,className:a="",disabled:i,...c}){const d="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 shadow-glow-primary hover:-translate-y-0.5",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500 shadow-glow-secondary hover:-translate-y-0.5",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-stone-600 hover:bg-stone-100 focus:ring-stone-400",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"},h={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-5 py-2.5 text-sm gap-2",lg:"px-7 py-3 text-base gap-2.5"};return s.jsxs("button",{className:`${d} ${u[e]} ${h[t]} ${a}`,disabled:i||r,...c,children:[r&&s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),n]})}function Q({children:e,hover:t=!1,glass:n=!1,padding:r="md",className:a="",...i}){const c={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return s.jsx("div",{className:`rounded-2xl border border-stone-200 shadow-sm ${n?"glass":"bg-white"} ${t?"hover-lift cursor-pointer":""} ${c[r]} ${a}`,...i,children:e})}function ge({children:e,variant:t="default",size:n="sm"}){const r={default:"bg-stone-100 text-stone-700",primary:"bg-primary-100 text-primary-700",secondary:"bg-secondary-100 text-secondary-700",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700"},a={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return s.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${r[t]} ${a[n]}`,children:e})}function OV(){const e=Ut(),{demoLogin:t}=Je(),{data:n}=Po({status:"open"}),r=(n?.data||[]).slice(0,6),a=i=>{t(i),e("/dashboard")};return s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-stone-200/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm font-medium text-stone-600",children:[s.jsx("button",{onClick:()=>e("/rotations"),className:"hover:text-primary-600 transition-colors",children:"Browse Rotations"}),s.jsx("a",{href:"#how-it-works",className:"hover:text-primary-600 transition-colors",children:"How It Works"}),s.jsx("a",{href:"#features",className:"hover:text-primary-600 transition-colors",children:"Features"}),s.jsx("a",{href:"#roles",className:"hover:text-primary-600 transition-colors",children:"Who It's For"}),s.jsx("a",{href:"#demo",className:"hover:text-primary-600 transition-colors",children:"Demo"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>e("/login"),children:"Sign In"}),s.jsx(q,{size:"sm",onClick:()=>e("/register"),children:"Get Started"})]})]})}),s.jsxs("header",{className:"relative overflow-hidden pt-16",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-600 via-primary-500 to-secondary-500"}),s.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 25% 25%, white 1px, transparent 1px), radial-gradient(circle at 75% 75%, white 1px, transparent 1px)",backgroundSize:"50px 50px"}}),s.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-28",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/15 backdrop-blur-sm rounded-full px-4 py-1.5 mb-6",children:[s.jsx(vT,{className:"w-4 h-4 text-accent-300"}),s.jsx("span",{className:"text-sm font-medium text-white/90",children:"The Future of Clinical Education"})]}),s.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-extrabold text-white mb-6 leading-tight",children:["From Placement to",s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-accent-300 to-amber-300 bg-clip-text text-transparent",children:"Verified Credential"})]}),s.jsxs("p",{className:"text-base sm:text-xl text-white/80 max-w-3xl mx-auto mb-4",children:["The all-in-one platform that handles the ",s.jsx("strong",{className:"text-white",children:"entire clinical education lifecycle"}),"  from finding a rotation to earning digitally verified credentials."]}),s.jsx("div",{className:"flex items-center justify-center gap-1 sm:gap-2 my-8 flex-wrap",children:["Discover","Apply","Onboard","Track","Evaluate","Certify"].map((i,c)=>s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx("span",{className:"px-2 sm:px-3 py-1 rounded-full bg-white/20 text-white text-xs sm:text-sm font-medium backdrop-blur-sm",children:i}),c<5&&s.jsx(As,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white/50"})]},i))}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 mt-8",children:[s.jsxs(q,{size:"lg",className:"bg-white text-primary-600 hover:bg-white/90 w-full sm:w-auto",onClick:()=>e("/register"),children:["Start Free Today ",s.jsx(tl,{className:"w-5 h-5"})]}),s.jsx(q,{size:"lg",variant:"outline",className:"border-white/50 text-white hover:bg-white/10 w-full sm:w-auto",onClick:()=>e("/rotations"),children:"Browse Open Rotations"})]})]})}),s.jsx("div",{className:"relative z-10 border-t border-white/10",children:s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:[{label:"Role-Based Dashboards",value:"6",icon:Le},{label:"Lifecycle Stages",value:"7",icon:pt},{label:"Compliance Tracking",value:"",icon:an},{label:"Hour Logging & Approval",value:"",icon:Ye}].map(i=>s.jsxs("div",{className:"text-center",children:[s.jsx(i.icon,{className:"w-5 h-5 text-white/60 mx-auto mb-1"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white",children:i.value}),s.jsx("p",{className:"text-xs text-white/60",children:i.label})]},i.label))})})})]}),s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10 sm:mb-14",children:[s.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-red-50 text-red-600 text-sm font-medium mb-4",children:"The Problem"}),s.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Clinical Education is Broken"}),s.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto",children:"500,000+ healthcare students need placements every year. The process is manual, opaque, and stuck in the past."})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 max-w-5xl mx-auto",children:[{problem:"Coordinators cold-call sites & manage Excel spreadsheets",icon:""},{problem:"Students have zero visibility into available rotations",icon:""},{problem:"Compliance docs scattered across email, fax, and filing cabinets",icon:""},{problem:"Clinical hours logged on paper  easily lost or falsified",icon:""},{problem:"No way to verify a student actually completed 500 clinical hours",icon:""},{problem:"Universities pay $5K-$50K/year for clunky legacy tools",icon:""}].map(i=>s.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-red-50/50 border border-red-100",children:[s.jsx("span",{className:"text-xl shrink-0",children:i.icon}),s.jsx("p",{className:"text-sm text-stone-700",children:i.problem})]},i.problem))})]})}),s.jsx("section",{id:"how-it-works",className:"py-12 sm:py-20 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[s.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary-50 text-primary-600 text-sm font-medium mb-4",children:"How It Works"}),s.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Three Steps to Your Next Rotation"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:s.jsx(Kt,{className:"w-8 h-8"}),title:"Discover & Apply",desc:"Browse rotations by specialty, location, dates, and cost. Apply instantly with your profile and credentials. Filter across multiple criteria to find your perfect match.",step:"01"},{icon:s.jsx(Zn,{className:"w-8 h-8"}),title:"Track & Complete",desc:"Log hours digitally with preceptor approval. Receive mid-rotation and final evaluations. Complete onboarding checklists. Everything your program needs.",step:"02"},{icon:s.jsx(mn,{className:"w-8 h-8"}),title:"Certify & Advance",desc:"Earn digital certificates with unique verification links. Build a verified credential portfolio that employers and schools can confirm instantly.",step:"03"}].map(i=>s.jsxs(Q,{hover:!0,className:"relative overflow-hidden",children:[s.jsx("span",{className:"absolute top-4 right-4 text-5xl font-black text-primary-50",children:i.step}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary-50 to-secondary-50 text-primary-600 flex items-center justify-center mb-4",children:i.icon}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-2",children:i.title}),s.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:i.desc})]})]},i.title))})]})}),r.length>0&&s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10 sm:mb-14",children:[s.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-green-50 text-green-600 text-sm font-medium mb-4",children:"Open Now"}),s.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Available Rotations"}),s.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto",children:"Browse real rotation opportunities posted by clinical sites. Sign up to apply."})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.map(i=>{const c=Math.round((new Date(i.end_date).getTime()-new Date(i.start_date).getTime())/6048e5),d=i.capacity-i.filled;return s.jsxs(Q,{hover:!0,onClick:()=>e("/rotations"),className:"cursor-pointer",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(St,{className:"w-5 h-5"})}),s.jsxs(ge,{variant:"success",size:"sm",children:[d," spot",d!==1?"s":""," left"]})]}),s.jsx("h3",{className:"font-semibold text-stone-900 mb-1 line-clamp-1",children:i.title}),s.jsx("p",{className:"text-sm text-stone-500 mb-2",children:i.site?.name}),s.jsx("p",{className:"text-xs text-stone-500 line-clamp-2 mb-3",children:i.description}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[s.jsx(ge,{variant:"primary",size:"sm",children:i.specialty}),s.jsx(ge,{variant:i.cost_type==="free"?"success":"warning",size:"sm",children:i.cost_type==="free"?"Free":`$${i.cost}`}),s.jsxs(ge,{variant:"default",size:"sm",children:[c,"w"]})]}),s.jsxs("div",{className:"space-y-1 text-xs text-stone-500",children:[i.site&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Tt,{className:"w-3 h-3"}),i.site.city,", ",i.site.state]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Jt,{className:"w-3 h-3"}),new Date(i.start_date).toLocaleDateString()," - ",new Date(i.end_date).toLocaleDateString()]})]})]},i.id)})}),s.jsx("div",{className:"text-center mt-8",children:s.jsxs(q,{size:"lg",onClick:()=>e("/rotations"),children:["View All Rotations ",s.jsx(tl,{className:"w-5 h-5"})]})})]})}),s.jsx("section",{id:"features",className:"py-12 sm:py-20 px-4 sm:px-6 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[s.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-secondary-50 text-secondary-600 text-sm font-medium mb-4",children:"Platform Features"}),s.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Everything You Need, Nothing You Don't"}),s.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto",children:"From search to certification, every step is digitized, tracked, and verifiable."})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:s.jsx(Kt,{className:"w-6 h-6"}),title:"Smart Rotation Search",desc:"Filter by specialty, location, dates, cost, and availability. Find your ideal placement across multiple criteria.",color:"primary"},{icon:s.jsx(Yu,{className:"w-6 h-6"}),title:"Credential Vault",desc:"Upload and track all credentials with expiry alerts. Monitor compliance status with traffic-light dashboards.",color:"green"},{icon:s.jsx(Ye,{className:"w-6 h-6"}),title:"Digital Hour Logging",desc:"Log hours online with preceptor approval workflow. Track progress toward required hours with a complete audit trail.",color:"secondary"},{icon:s.jsx(Zn,{className:"w-6 h-6"}),title:"Structured Evaluations",desc:"Mid-rotation and final evaluations with standardized rubrics (1-5 scale). Draft, submit, and review evaluations digitally.",color:"amber"},{icon:s.jsx(Wc,{className:"w-6 h-6"}),title:"Verified Credentials",desc:"Earn completion certificates with unique verification links. Employers and schools can verify credentials instantly.",color:"purple"},{icon:s.jsx(Kt,{className:"w-6 h-6"}),title:"Multi-Criteria Search",desc:"Filter rotations by specialty, schedule, location, cost, and availability to find the right match for your program.",color:"rose"},{icon:s.jsx(ml,{className:"w-6 h-6"}),title:"Compliance Dashboard",desc:"Real-time placement tracking, hour summaries, credential status, and compliance overview for every stakeholder.",color:"indigo"},{icon:s.jsx(AH,{className:"w-6 h-6"}),title:"Compliance Tracking",desc:"Manage affiliation agreements, onboarding checklists, and credential requirements with status tracking dashboards.",color:"orange"},{icon:s.jsx(rH,{className:"w-6 h-6"}),title:"Responsive Design",desc:"Works on any device  desktop, tablet, or phone. Manage rotations, log hours, and review applications on the go.",color:"teal"}].map(i=>s.jsxs(Q,{hover:!0,children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-${i.color}-50 text-${i.color}-600 flex items-center justify-center mb-4`,children:i.icon}),s.jsx("h3",{className:"font-semibold text-stone-900 mb-2",children:i.title}),s.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:i.desc})]},i.title))})]})}),s.jsx("section",{id:"roles",className:"py-12 sm:py-20 px-4 sm:px-6 bg-gradient-to-br from-primary-50 via-white to-secondary-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[s.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary-50 text-primary-600 text-sm font-medium mb-4",children:"For Everyone"}),s.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-stone-900 mb-4",children:"Built For Every Role in Clinical Education"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[{icon:s.jsx(pt,{className:"w-6 h-6"}),role:"Students",tagline:"Find, apply, and complete rotations with ease",features:["Filter-based rotation search","One-click applications","Digital hour logging","Credential tracking with alerts","Verified completion certificates"],color:"primary"},{icon:s.jsx(Le,{className:"w-6 h-6"}),role:"Clinical Sites",tagline:"Fill slots faster, manage students effortlessly",features:["Create rotation listings","Review applications in bulk","Track student compliance","Manage preceptor assignments","Onboarding checklists"],color:"secondary"},{icon:s.jsx(an,{className:"w-6 h-6"}),role:"Universities",tagline:"Monitor, comply, and report  automatically",features:["Real-time placement dashboards","Credential tracking with alerts","Manage affiliation agreements","Student compliance overview","Program and roster management"],color:"accent"},{icon:s.jsx(dn,{className:"w-6 h-6"}),role:"Preceptors",tagline:"Teach, evaluate, and earn recognition",features:["Approve hours digitally","Structured evaluation rubrics","Earn CE credit hours","Grow your precepting experience","Track your precepting activity"],color:"primary"}].map(i=>s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl bg-${i.color}-50 text-${i.color}-600 flex items-center justify-center shrink-0`,children:i.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:i.role}),s.jsx("p",{className:"text-sm text-stone-500 mb-3",children:i.tagline}),s.jsx("ul",{className:"space-y-1.5",children:i.features.map(c=>s.jsxs("li",{className:"flex items-center gap-2 text-sm text-stone-600",children:[s.jsx(Ze,{className:"w-4 h-4 text-green-500 shrink-0"}),c]},c))})]})]})},i.role))})]})}),s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-stone-900 text-white",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-4",children:"Why ClinicLink Wins"}),s.jsx("p",{className:"text-lg text-stone-400 mb-10 max-w-2xl mx-auto",children:"Legacy platforms like Exxat and Core ELMS charge $5K-$50K/year and do half of what we offer."}),s.jsx("div",{className:"grid sm:grid-cols-3 gap-6",children:[{title:"All-in-One",desc:"Search, apply, track, evaluate, certify  no more stitching together 5 tools",icon:s.jsx(_a,{className:"w-6 h-6"})},{title:"Instantly Verifiable",desc:"Every certificate includes a unique verification link  employers can confirm credentials in seconds",icon:s.jsx(Wc,{className:"w-6 h-6"})},{title:"Purpose-Built",desc:"Designed specifically for clinical education with role-specific workflows for students, preceptors, sites, and universities",icon:s.jsx(Tq,{className:"w-6 h-6"})}].map(i=>s.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-500/20 text-primary-400 flex items-center justify-center mx-auto mb-4",children:i.icon}),s.jsx("h3",{className:"font-semibold text-white mb-2",children:i.title}),s.jsx("p",{className:"text-sm text-stone-400",children:i.desc})]},i.title))})]})}),s.jsx("section",{className:"py-12 sm:py-16 px-4 sm:px-6 bg-white",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsx("div",{className:"grid sm:grid-cols-3 gap-8",children:[{quote:"Imagine eliminating your placement scramble. Students browse and apply for rotations themselves.",author:"University Coordinator",title:"Example use case",icon:s.jsx(an,{className:"w-5 h-5"})},{quote:"Search available rotations, apply with one click, and track your hours  all in one place.",author:"Nursing Student",title:"Example use case",icon:s.jsx(pt,{className:"w-5 h-5"})},{quote:"Manage all your rotation slots, review applications, and track student compliance from one dashboard.",author:"Site Manager",title:"Example use case",icon:s.jsx(Le,{className:"w-5 h-5"})}].map(i=>s.jsxs(Q,{children:[s.jsx("div",{className:"flex gap-1 mb-3",children:s.jsx(ge,{variant:"default",size:"sm",children:"Demo Example"})}),s.jsxs("p",{className:"text-sm text-stone-700 mb-4 italic",children:['"',i.quote,'"']}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-primary-50 text-primary-600 flex items-center justify-center",children:i.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:i.author}),s.jsx("p",{className:"text-xs text-stone-500",children:i.title})]})]})]},i.author))})})}),s.jsx("section",{id:"demo",className:"py-12 sm:py-20 px-4 sm:px-6 bg-stone-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary-50 text-primary-600 text-sm font-medium mb-4",children:"Live Demo"}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-stone-900 mb-4",children:"See It In Action  No Sign Up Required"}),s.jsx("p",{className:"text-base sm:text-lg text-stone-600 mb-8 sm:mb-10",children:"Explore ClinicLink instantly as any role"}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{role:"student",label:"Student",icon:s.jsx(pt,{className:"w-5 h-5"}),desc:"Search rotations, apply, track hours"},{role:"site_manager",label:"Site Manager",icon:s.jsx(Le,{className:"w-5 h-5"}),desc:"Create slots, review applications"},{role:"preceptor",label:"Preceptor",icon:s.jsx(St,{className:"w-5 h-5"}),desc:"Approve hours, write evaluations"},{role:"coordinator",label:"Coordinator",icon:s.jsx(an,{className:"w-5 h-5"}),desc:"Monitor placements, run reports"},{role:"professor",label:"Professor",icon:s.jsx(ut,{className:"w-5 h-5"}),desc:"Track student progress"},{role:"admin",label:"Admin",icon:s.jsx(dn,{className:"w-5 h-5"}),desc:"Platform management"}].map(i=>s.jsxs("button",{onClick:()=>a(i.role),className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-stone-200 hover:border-primary-300 hover:shadow-glow-primary transition-all duration-300 text-left group",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center group-hover:bg-primary-100 transition-colors",children:i.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-stone-900 text-sm",children:i.label}),s.jsx("p",{className:"text-xs text-stone-500",children:i.desc})]}),s.jsx(tl,{className:"w-4 h-4 text-stone-300 group-hover:text-primary-500 ml-auto transition-colors"})]},i.role))})]})}),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-gradient-to-br from-primary-600 to-secondary-500 text-white text-center",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-2xl sm:text-4xl font-bold mb-4",children:"Ready to Transform Clinical Education?"}),s.jsx("p",{className:"text-lg text-white/80 mb-8",children:"Join students, clinical sites, and universities building the future of clinical education."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsxs(q,{size:"lg",className:"bg-white text-primary-600 hover:bg-white/90 w-full sm:w-auto",onClick:()=>e("/register"),children:["Create Free Account ",s.jsx(tl,{className:"w-5 h-5"})]}),s.jsx(q,{size:"lg",variant:"outline",className:"border-white/50 text-white hover:bg-white/10 w-full sm:w-auto",onClick:()=>e("/login"),children:"Sign In"})]})]})}),s.jsx("footer",{className:"bg-stone-900 text-stone-400 py-8 sm:py-12 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid sm:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(St,{className:"w-5 h-5 text-primary-400"}),s.jsx("span",{className:"font-semibold text-white",children:"ClinicLink"})]}),s.jsx("p",{className:"text-sm text-stone-500",children:"The all-in-one clinical rotation platform."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white text-sm mb-3",children:"Platform"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/rotations"),className:"hover:text-white transition-colors",children:"Search Rotations"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/register"),className:"hover:text-white transition-colors",children:"Create Account"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/login"),className:"hover:text-white transition-colors",children:"Sign In"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white text-sm mb-3",children:"For"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Students"})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Clinical Sites"})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Universities"})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Preceptors"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white text-sm mb-3",children:"Company"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"About"})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx("span",{className:"hover:text-white transition-colors cursor-default",children:"Contact"})})]})]})]}),s.jsxs("div",{className:"border-t border-stone-800 pt-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsx("p",{className:"text-xs",children:" 2026 ClinicLink. All rights reserved."}),s.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"})," Miami, FL"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_a,{className:"w-3 h-3"})," USA"]})]})]})]})})]})}function $e({label:e,error:t,icon:n,className:r="",...a}){return s.jsxs("div",{className:"space-y-1.5",children:[e&&s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:e}),s.jsxs("div",{className:"relative",children:[n&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:n}),s.jsx("input",{className:`w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200 ${n?"pl-10":""} ${t?"border-red-400 focus:border-red-500 focus:ring-red-500/20":""} ${r}`,...a})]}),t&&s.jsx("p",{className:"text-sm text-red-500",children:t})]})}function TV(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(!1),{login:c,verifyMfa:d,cancelMfa:u,mfaPending:h,isLoading:m,isAuthenticated:p}=Je(),g=Ut(),[v]=Mw(),y=v.get("redirect"),[N,j]=b.useState(""),[_,C]=b.useState(!1);b.useEffect(()=>{p&&g(y||"/dashboard")},[p,g,y]);const E=async T=>{T.preventDefault();try{await c(e,n)}catch(D){const P=D instanceof Error?D.message:"Login failed. Please check your credentials.";J.error(P)}},k=async T=>{if(T.preventDefault(),!!N.trim())try{await d(N.trim())}catch(D){const P=D instanceof Error?D.message:"Invalid verification code.";J.error(P)}},O=T=>{j(_?T:T.replace(/\D/g,"").slice(0,6))};return h?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center mx-auto mb-4",children:s.jsx(cs,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-stone-500 mt-1",children:_?"Enter one of your backup codes":"Enter the 6-digit code from your authenticator app"})]}),s.jsxs(Q,{children:[s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[_?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Backup Code"}),s.jsx("input",{type:"text",value:N,onChange:T=>O(T.target.value),placeholder:"XXXX-XXXX",autoFocus:!0,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-3 text-base font-mono tracking-wider text-center focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Verification Code"}),s.jsx("input",{type:"text",inputMode:"numeric",value:N,onChange:T=>O(T.target.value),placeholder:"000000",maxLength:6,autoFocus:!0,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-3 text-2xl font-mono tracking-[0.5em] text-center focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs(q,{type:"submit",isLoading:m,className:"w-full",disabled:!N.trim(),children:[s.jsx(cs,{className:"w-4 h-4"})," Verify"]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>{u(),j(""),C(!1)},className:"text-sm text-stone-500 hover:text-stone-700 flex items-center gap-1",children:[s.jsx(Dr,{className:"w-3.5 h-3.5"})," Back to login"]}),s.jsx("button",{onClick:()=>{C(!_),j("")},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:_?"Use authenticator app":"Use a backup code"})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(fn,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Welcome back"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Sign in to your account"})]}),s.jsxs(Q,{children:[s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsx($e,{label:"Email, Username, or Phone",type:"text",placeholder:"you@university.edu, username, or phone",value:e,onChange:T=>t(T.target.value),icon:s.jsx(Cn,{className:"w-4 h-4"}),required:!0}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:s.jsx(Wc,{className:"w-4 h-4"})}),s.jsx("input",{type:a?"text":"password",placeholder:"Enter your password",value:n,onChange:T=>r(T.target.value),required:!0,className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-10 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-stone-400 hover:text-stone-600",children:a?s.jsx(Fw,{className:"w-4 h-4"}):s.jsx(Sa,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(fn,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Forgot password?"})}),s.jsx(q,{type:"submit",isLoading:m,className:"w-full",children:"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-stone-500",children:["Don't have an account?"," ",s.jsx(fn,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Register"})]})})]}),s.jsx("p",{className:"text-center text-xs text-stone-400 mt-6",children:"Demo: student@cliniclink.health / password (or any demo role email)"})]})})}const RV=[{value:"student",label:"Student",desc:"I need clinical rotation hours"},{value:"site_manager",label:"Site Manager",desc:"I manage a clinical facility"},{value:"preceptor",label:"Preceptor",desc:"I supervise students clinically"},{value:"coordinator",label:"University Coordinator",desc:"I manage student placements"},{value:"professor",label:"Professor / Faculty",desc:"I oversee students in my program"}];function MV(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ",t="abcdefghjkmnpqrstuvwxyz",n="23456789",r="!@#$%&*?",a=e+t+n+r;let i="";i+=e[Math.floor(Math.random()*e.length)],i+=t[Math.floor(Math.random()*t.length)],i+=n[Math.floor(Math.random()*n.length)],i+=r[Math.floor(Math.random()*r.length)];for(let c=4;c<16;c++)i+=a[Math.floor(Math.random()*a.length)];return i.split("").sort(()=>Math.random()-.5).join("")}function PV(e){if(!e)return{score:0,label:"",color:""};let t=0;return e.length>=12&&t++,e.length>=16&&t++,/[a-z]/.test(e)&&/[A-Z]/.test(e)&&t++,/\d/.test(e)&&t++,/[^a-zA-Z0-9]/.test(e)&&t++,t<=1?{score:1,label:"Weak",color:"bg-red-500"}:t<=2?{score:2,label:"Fair",color:"bg-orange-500"}:t<=3?{score:3,label:"Good",color:"bg-amber-500"}:t<=4?{score:4,label:"Strong",color:"bg-green-500"}:{score:5,label:"Very Strong",color:"bg-emerald-500"}}function IV(){const[e]=Mw(),t=e.get("email")||"",n=e.get("role")||"student",[r,a]=b.useState({firstName:"",lastName:"",email:t,username:"",password:"",role:n,universityId:"",programId:""}),[i,c]=b.useState(!1),[d,u]=b.useState(!1),{register:h,isLoading:m}=Je(),[p,g]=b.useState(""),[v,y]=b.useState([]),[N,j]=b.useState(!1),[_,C]=b.useState(null),[E,k]=b.useState(!1),O=b.useRef(null),T=b.useRef(null),[D,P]=b.useState([]),[X,ae]=b.useState(!1),G=["student","preceptor","coordinator","professor"].includes(r.role),M=r.role==="student"&&r.universityId;b.useEffect(()=>{if(!r.universityId||r.role!=="student"){P([]);return}ae(!0),ne.get(`/universities/${r.universityId}/programs`).then(L=>P(Array.isArray(L)?L:[])).catch(()=>P([])).finally(()=>ae(!1))},[r.universityId,r.role]),b.useEffect(()=>{if(!p.trim()||p.length<2){y([]);return}j(!0),T.current&&clearTimeout(T.current),T.current=setTimeout(async()=>{try{const L=await ul.list({search:p});y((L.data||[]).map(I=>({id:I.id,name:I.name,city:I.city,state:I.state})))}catch{y([])}finally{j(!1)}},300)},[p]),b.useEffect(()=>{const L=I=>{O.current&&!O.current.contains(I.target)&&k(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const Y=b.useMemo(()=>PV(r.password),[r.password]),Z=b.useMemo(()=>[{label:"At least 12 characters",pass:r.password.length>=12},{label:"Uppercase letter",pass:/[A-Z]/.test(r.password)},{label:"Lowercase letter",pass:/[a-z]/.test(r.password)},{label:"Number",pass:/\d/.test(r.password)},{label:"Special character (!@#$%)",pass:/[^a-zA-Z0-9]/.test(r.password)}],[r.password]),fe=()=>{const L=MV();a(I=>({...I,password:L})),c(!0),J.success("Strong password generated! Make sure to save it.")},U=async L=>{if(L.preventDefault(),r.password.length<12){J.error("Password must be at least 12 characters");return}try{await h({...r,universityId:r.universityId||void 0,programId:r.programId||void 0}),u(!0)}catch(I){const se=I instanceof Error?I.message:"Registration failed. Please try again.";J.error(se)}};return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-teal-50 px-4 py-12",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 text-green-500 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-xl font-bold text-stone-900 mb-2",children:"Registration Submitted!"}),s.jsxs("p",{className:"text-stone-600 mb-4",children:["Thank you for registering, ",s.jsx("strong",{children:r.firstName}),". Your account is pending approval by an administrator."]}),s.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl px-4 py-3 text-sm mb-6",children:["You will receive an email at ",s.jsx("strong",{children:r.email})," once your account has been approved and activated."]}),s.jsx(fn,{to:"/login",children:s.jsx(q,{variant:"outline",className:"w-full",children:"Go to Login"})})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(fn,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Create your account"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Join the clinical placement network"})]}),s.jsxs(Q,{children:[s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx($e,{label:"First Name",placeholder:"Sarah",value:r.firstName,onChange:L=>a({...r,firstName:L.target.value}),icon:s.jsx(Cn,{className:"w-4 h-4"}),required:!0}),s.jsx($e,{label:"Last Name",placeholder:"Chen",value:r.lastName,onChange:L=>a({...r,lastName:L.target.value}),required:!0})]}),s.jsx($e,{label:"Username",placeholder:"sarahchen",value:r.username,onChange:L=>a({...r,username:L.target.value.toLowerCase().replace(/[^a-z0-9._-]/g,"")}),icon:s.jsx(jq,{className:"w-4 h-4"}),required:!0}),s.jsx($e,{label:"Email",type:"email",placeholder:"you@university.edu",value:r.email,onChange:L=>a({...r,email:L.target.value}),icon:s.jsx(Wr,{className:"w-4 h-4"}),required:!0}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Password"}),s.jsxs("button",{type:"button",onClick:fe,className:"inline-flex items-center gap-1 text-xs font-medium text-primary-600 hover:text-primary-700 transition-colors",children:[s.jsx(_H,{className:"w-3 h-3"})," Suggest strong password"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:s.jsx(Wc,{className:"w-4 h-4"})}),s.jsx("input",{type:i?"text":"password",placeholder:"Create a password (min 12 chars)",value:r.password,onChange:L=>a({...r,password:L.target.value}),required:!0,className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-10 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),s.jsx("button",{type:"button",onClick:()=>c(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-stone-400 hover:text-stone-600",children:i?s.jsx(Fw,{className:"w-4 h-4"}):s.jsx(Sa,{className:"w-4 h-4"})})]}),r.password&&s.jsxs("div",{className:"space-y-2 pt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-stone-200 rounded-full overflow-hidden flex gap-0.5",children:[1,2,3,4,5].map(L=>s.jsx("div",{className:`flex-1 rounded-full transition-colors ${L<=Y.score?Y.color:"bg-stone-200"}`},L))}),s.jsx("span",{className:`text-xs font-medium ${Y.score<=1?"text-red-600":Y.score<=2?"text-orange-600":Y.score<=3?"text-amber-600":"text-green-600"}`,children:Y.label})]}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Z.map(L=>s.jsxs("div",{className:"flex items-center gap-1.5",children:[L.pass?s.jsx(Nf,{className:"w-3 h-3 text-green-500"}):s.jsx(us,{className:"w-3 h-3 text-stone-300"}),s.jsx("span",{className:`text-xs ${L.pass?"text-green-600":"text-stone-400"}`,children:L.label})]},L.label))})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"I am a..."}),s.jsx("div",{className:"space-y-2",children:RV.map(L=>s.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${r.role===L.value?"border-primary-500 bg-primary-50 ring-2 ring-primary-500/20":"border-stone-200 hover:border-stone-300"}`,children:[s.jsx("input",{type:"radio",name:"role",value:L.value,checked:r.role===L.value,onChange:()=>a({...r,role:L.value}),className:"sr-only"}),s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${r.role===L.value?"border-primary-500":"border-stone-300"}`,children:r.role===L.value&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:L.label}),s.jsx("p",{className:"text-xs text-stone-500",children:L.desc})]})]},L.value))})]}),G&&s.jsxs("div",{className:"space-y-1.5",ref:O,children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:r.role==="student"?"Your School / University":"Affiliated Organization"}),_?s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border border-primary-300 bg-primary-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-primary-600"}),s.jsx("span",{className:"text-sm font-medium text-stone-900",children:_.name})]}),s.jsx("button",{type:"button",onClick:()=>{C(null),a(L=>({...L,universityId:"",programId:""})),g(""),P([])},className:"text-stone-400 hover:text-red-500",children:s.jsx(us,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:N?s.jsx(Et,{className:"w-4 h-4 animate-spin"}):s.jsx(Kt,{className:"w-4 h-4"})}),s.jsx("input",{type:"text",value:p,onChange:L=>{g(L.target.value),k(!0)},onFocus:()=>v.length>0&&k(!0),placeholder:"Search for your school or organization...",className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-4 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),E&&v.length>0&&s.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-stone-200 rounded-xl shadow-lg max-h-48 overflow-y-auto",children:v.map(L=>s.jsxs("button",{type:"button",onClick:()=>{C({id:L.id,name:L.name}),a(I=>({...I,universityId:L.id,programId:""})),k(!1),g("")},className:"w-full text-left px-4 py-2.5 hover:bg-primary-50 transition-colors border-b border-stone-100 last:border-0",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:L.name}),(L.city||L.state)&&s.jsx("p",{className:"text-xs text-stone-500",children:[L.city,L.state].filter(Boolean).join(", ")})]},L.id))}),E&&p.length>=2&&!N&&v.length===0&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white border border-stone-200 rounded-xl shadow-lg p-4 text-center",children:[s.jsxs("p",{className:"text-sm text-stone-500",children:['No organizations found for "',p,'"']}),s.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"You can add your organization after registration"})]})]}),s.jsx("p",{className:"text-xs text-stone-400",children:r.role==="student"?"Select the school you are enrolled in":"Select the school or organization you are affiliated with"})]}),M&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Your Program"}),X?s.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl border border-stone-200",children:[s.jsx(Et,{className:"w-4 h-4 animate-spin text-stone-400"}),s.jsx("span",{className:"text-sm text-stone-500",children:"Loading programs..."})]}):D.length===0?s.jsxs("div",{className:"p-3 rounded-xl border border-stone-200 bg-stone-50",children:[s.jsx("p",{className:"text-sm text-stone-500",children:"No programs found for this university."}),s.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Your coordinator can assign you to a program later."})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:s.jsx(an,{className:"w-4 h-4"})}),s.jsxs("select",{value:r.programId,onChange:L=>a(I=>({...I,programId:L.target.value})),className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-4 py-2.5 text-sm text-stone-900 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200 appearance-none",children:[s.jsx("option",{value:"",children:"-- Select your program --"}),D.map(L=>s.jsxs("option",{value:L.id,children:[L.name," (",L.degree_type,") - ",L.required_hours,"h"]},L.id))]})]}),s.jsx("p",{className:"text-xs text-stone-400",children:"Select the clinical program you are enrolled in"})]}),s.jsx(q,{type:"submit",isLoading:m,className:"w-full",children:"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-stone-500",children:["Already have an account?"," ",s.jsx(fn,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})})]})]})})}function vd(){return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}function Gt({icon:e,label:t,value:n,color:r="primary"}){const a={primary:"bg-primary-50 text-primary-600",secondary:"bg-secondary-50 text-secondary-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",accent:"bg-accent-50 text-accent-600"};return s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a[r]||a.primary}`,children:e}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:n}),s.jsx("p",{className:"text-xs text-stone-500",children:t})]})]})})}function ys({title:e,actionLabel:t,onAction:n}){return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:e}),t&&n&&s.jsxs("button",{onClick:n,className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[t," ",s.jsx(As,{className:"w-4 h-4"})]})]})}function yd({items:e}){const t=e.filter(n=>n.count>0);return t.length===0?null:s.jsx(Q,{className:"border-2 border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0",children:s.jsx(fs,{className:"w-5 h-5 text-amber-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-amber-800 text-lg",children:"Action Required"}),s.jsx("div",{className:"mt-2 space-y-2",children:t.map((n,r)=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-amber-200 text-amber-800 text-xs font-bold flex-shrink-0",children:n.count}),s.jsx("span",{className:"text-sm text-amber-700",children:n.label})]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:n.onClick,className:"flex-shrink-0 border-amber-300 text-amber-800 hover:bg-amber-100",children:[n.buttonLabel," ",s.jsx(tl,{className:"w-3.5 h-3.5 ml-1"})]})]},r))})]})]})})}function uE(){const e=Ut(),{user:t}=Je(),{data:n,isLoading:r}=gd(),{data:a}=Ws(),{data:i}=Yw(),{data:c}=_x(),{data:d}=ST(),u=a?.data||[],h=i?.data||[],m=c?.data||[],p=d?.credentials||[],g=h.reduce((P,X)=>P+(Number(X.hours_worked)||0),0),v=h.filter(P=>P.status==="approved").reduce((P,X)=>P+(Number(X.hours_worked)||0),0),y=n?.prior_hours||0,N=y+v,j=n?.hours_required||0,_=h.filter(P=>P.status==="pending").length,C=j>0?Math.min(Math.round(N/j*100),100):0,E=u.filter(P=>P.status==="accepted"),k=p.filter(P=>P.status==="expired"),O=p.filter(P=>P.status==="expiring_soon"),T=k.length>0?"red":O.length>0?"yellow":"green",D=T==="red"?"Action Required":T==="yellow"?"Expiring Soon":"All Current";return r?s.jsx(vd,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Student","!"]}),s.jsx("p",{className:"text-stone-500",children:"Track your clinical rotation progress and manage your placements."})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Gt,{icon:s.jsx(Ye,{className:"w-5 h-5"}),label:"Hours Completed",value:j>0?`${N}/${j}`:"No program",color:"primary"}),s.jsx(Gt,{icon:s.jsx(At,{className:"w-5 h-5"}),label:"Applications",value:n?.applications_count||u.length,color:"secondary"}),s.jsx(Gt,{icon:s.jsx(Ze,{className:"w-5 h-5"}),label:"Active Rotations",value:n?.active_rotations||E.length,color:"green"}),s.jsx(Gt,{icon:s.jsx(Yr,{className:"w-5 h-5"}),label:"Pending Review",value:_,color:"amber"})]}),s.jsx(yd,{items:[{label:"credential(s) expired or expiring",count:k.length+O.length,onClick:()=>e("/settings"),buttonLabel:"Update"},{label:"hour log(s) pending review",count:_,onClick:()=>e("/hours"),buttonLabel:"View"}]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:"Clinical Hours Progress"}),s.jsx("span",{className:"text-sm font-medium text-primary-600",children:j>0?`${C}%`:"N/A"})]}),s.jsx("div",{className:"w-full h-4 bg-stone-100 rounded-full overflow-hidden",children:j>0?s.jsxs("div",{className:"h-full flex",children:[y>0&&s.jsx("div",{className:"h-full bg-stone-400 transition-all duration-500",style:{width:`${Math.min(y/j*100,100)}%`}}),s.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-500",style:{width:`${Math.min(v/j*100,100-y/j*100)}%`}})]}):s.jsx("div",{className:"h-full bg-stone-200 rounded-full"})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-2 text-xs text-stone-500 gap-1",children:[y>0&&s.jsxs("span",{children:[y," prior"]}),s.jsxs("span",{children:[v," approved",y>0?" on platform":""]}),s.jsx("span",{children:g-v>0?`${g-v} pending`:""}),s.jsx("span",{children:j>0?`${Math.max(j-N,0)} remaining`:"No program assigned"})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx(ys,{title:"Credential Compliance",actionLabel:"Manage",onAction:()=>e("/settings")}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl ${T==="red"?"bg-red-50 border border-red-200":T==="yellow"?"bg-amber-50 border border-amber-200":"bg-green-50 border border-green-200"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${T==="red"?"bg-red-100 text-red-600":T==="yellow"?"bg-amber-100 text-amber-600":"bg-green-100 text-green-600"}`,children:s.jsx(dn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:`font-semibold ${T==="red"?"text-red-800":T==="yellow"?"text-amber-800":"text-green-800"}`,children:D}),s.jsx("p",{className:`text-sm ${T==="red"?"text-red-600":T==="yellow"?"text-amber-600":"text-green-600"}`,children:k.length>0?`${k.length} credential(s) expired`:O.length>0?`${O.length} credential(s) expiring soon`:`${p.length} credential(s) on file`})]})]}),(k.length>0||O.length>0)&&s.jsx("div",{className:"mt-3 space-y-2",children:[...k,...O].slice(0,3).map(P=>s.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-stone-50 rounded-lg",children:[s.jsx("span",{className:"text-stone-700",children:P.name}),s.jsx(ge,{variant:P.status==="expired"?"danger":"warning",children:P.status==="expired"?"Expired":"Expiring"})]},P.id))})]})]}),s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>e("/rotations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[s.jsx(Kt,{className:"w-6 h-6 text-primary-600"}),s.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Search Rotations"})]}),s.jsxs("button",{onClick:()=>e("/hours"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[s.jsx(Ye,{className:"w-6 h-6 text-secondary-600"}),s.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Log Hours"})]}),s.jsxs("button",{onClick:()=>e("/applications"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[s.jsx(At,{className:"w-6 h-6 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-700",children:"My Applications"})]}),s.jsxs("button",{onClick:()=>e("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[s.jsx(Zn,{className:"w-6 h-6 text-amber-600"}),s.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Evaluations"})]})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx(ys,{title:"Active Rotations",actionLabel:"All Applications",onAction:()=>e("/applications")}),s.jsxs("div",{className:"mt-4 space-y-3",children:[E.length===0&&s.jsx("p",{className:"text-sm text-stone-400",children:"No active rotations. Search for rotations to get started!"}),E.slice(0,3).map(P=>s.jsxs("div",{className:"p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:P.slot?.title||"Rotation"}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",P.slot?.site?.name]})]}),s.jsx(ge,{variant:"success",children:"Active"})]}),P.slot&&s.jsxs("div",{className:"flex items-center gap-3 text-xs text-stone-400 mt-1",children:[s.jsx("span",{children:P.slot.specialty}),s.jsxs("span",{children:[new Date(P.slot.start_date).toLocaleDateString()," - ",new Date(P.slot.end_date).toLocaleDateString()]})]})]},P.id))]})]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>e("/evaluations")}),s.jsxs("div",{className:"mt-4 space-y-3",children:[m.length===0&&s.jsx("p",{className:"text-sm text-stone-400",children:"No evaluations yet. They will appear here once your preceptor submits one."}),m.slice(0,3).map(P=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[P.type==="mid_rotation"?"Mid-Rotation":P.type==="final"?"Final":"Feedback"," Evaluation"]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[P.slot?.title||"Rotation"," ",P.preceptor?` ${P.preceptor.first_name} ${P.preceptor.last_name}`:""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-primary-600",children:P.overall_score?`${P.overall_score}/5`:""}),s.jsx(ge,{variant:P.is_submitted?"success":"warning",size:"sm",children:P.is_submitted?"Complete":"Pending"})]})]},P.id))]})]})]})]})}function LV(){const e=Ut(),{user:t}=Je(),{data:n,isLoading:r}=gd(),{data:a}=Ws(),{data:i}=Po(),{data:c}=Ta(),{data:d}=Qw({status:"pending"}),u=d?.join_requests||[],h=a?.data||[],m=h.filter(N=>N.status==="pending"),p=h.filter(N=>N.status==="accepted"),g=i?.data||[],v=g.filter(N=>N.status==="open"),y=c?.sites||[];return r?s.jsx(vd,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Manager","!"]}),s.jsx("p",{className:"text-stone-500",children:"Manage your clinical sites, rotation slots, and student placements."})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(Gt,{icon:s.jsx(Le,{className:"w-5 h-5"}),label:"My Sites",value:n?.total_sites||y.length,color:"primary"}),s.jsx(Gt,{icon:s.jsx(fl,{className:"w-5 h-5"}),label:"Open Slots",value:n?.open_slots||v.length,color:"secondary"}),s.jsx(Gt,{icon:s.jsx(At,{className:"w-5 h-5"}),label:"Pending Apps",value:n?.pending_applications||m.length,color:"amber"}),s.jsx(Gt,{icon:s.jsx(ut,{className:"w-5 h-5"}),label:"Active Students",value:n?.active_students||p.length,color:"green"}),s.jsx(Gt,{icon:s.jsx(Un,{className:"w-5 h-5"}),label:"Avg Rating",value:y.length>0?(y.reduce((N,j)=>N+(j.rating||0),0)/y.length).toFixed(1):"",color:"accent"})]}),s.jsx(yd,{items:[{label:"application(s) to review",count:m.length,onClick:()=>e("/site-applications"),buttonLabel:"Review"},{label:"join request(s) to approve",count:u.length,onClick:()=>e("/preceptors"),buttonLabel:"Review"}]}),g.length>0&&s.jsxs(Q,{children:[s.jsx(ys,{title:"Slot Occupancy",actionLabel:"Manage Slots",onAction:()=>e("/slots")}),s.jsx("div",{className:"mt-4 space-y-3",children:g.slice(0,5).map(N=>{const j=N.capacity>0?Math.round(N.filled/N.capacity*100):0;return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:N.title}),s.jsxs("span",{className:"text-xs text-stone-500 ml-2",children:[N.filled,"/",N.capacity]})]}),s.jsx("div",{className:"w-full h-2 bg-stone-100 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all ${j>=100?"bg-red-400":j>=75?"bg-amber-400":"bg-green-400"}`,style:{width:`${Math.min(j,100)}%`}})})]}),s.jsx(ge,{variant:N.status==="open"?"success":N.status==="filled"?"warning":"default",children:N.status})]},N.id)})})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>e("/slots"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[s.jsx(Ct,{className:"w-6 h-6 text-primary-600"}),s.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Create Slot"})]}),s.jsxs("button",{onClick:()=>e("/site-applications"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors relative",children:[s.jsx(At,{className:"w-6 h-6 text-secondary-600"}),s.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Review Apps"}),m.length>0&&s.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:m.length})]}),s.jsxs("button",{onClick:()=>e("/site"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[s.jsx(Le,{className:"w-6 h-6 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-700",children:"Manage Sites"})]}),s.jsxs("button",{onClick:()=>e("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[s.jsx(Sx,{className:"w-6 h-6 text-amber-600"}),s.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Settings"})]})]})]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"Pending Applications",actionLabel:"View All",onAction:()=>e("/site-applications")}),s.jsxs("div",{className:"mt-4 space-y-3",children:[m.length===0&&s.jsx("p",{className:"text-sm text-stone-400",children:"No pending applications at this time."}),m.slice(0,4).map(N=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[N.student?.first_name," ",N.student?.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[N.slot?.title,"  ",N.slot?.specialty]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ge,{variant:"warning",children:"Pending"})})]},N.id))]})]})]}),p.length>0&&s.jsxs(Q,{children:[s.jsx(ys,{title:"Active Students"}),s.jsx("div",{className:"mt-4 space-y-3",children:p.slice(0,5).map(N=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-sm font-bold",children:(N.student?.first_name?.[0]||"")+(N.student?.last_name?.[0]||"")}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[N.student?.first_name," ",N.student?.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[N.slot?.title,"  ",N.slot?.specialty]})]})]}),s.jsx(ge,{variant:"success",children:"Active"})]},N.id))})]})]})}function zV(){const e=Ut(),{user:t}=Je(),{data:n,isLoading:r}=gd(),{data:a}=Yw(),{data:i}=_x(),{data:c}=Ta(),{data:d}=BF(),u=qF(),h=a?.data||[],m=i?.data||[],p=h.filter(j=>j.status==="pending"),g=m.filter(j=>!j.is_submitted),v=c?.sites||[],y=d?.invites||[],N=async(j,_)=>{try{await u.mutateAsync(j),J.success(`You have joined ${_}!`)}catch{J.error("Failed to accept invite")}};return r?s.jsx(vd,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Preceptor","!"]}),s.jsx("p",{className:"text-stone-500",children:"Manage your students, review hours, and complete evaluations."})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Gt,{icon:s.jsx(ut,{className:"w-5 h-5"}),label:"Current Students",value:n?.active_students||0,color:"primary"}),s.jsx(Gt,{icon:s.jsx(Ye,{className:"w-5 h-5"}),label:"Hours to Review",value:n?.pending_hour_reviews||p.length,color:"amber"}),s.jsx(Gt,{icon:s.jsx(Zn,{className:"w-5 h-5"}),label:"Evaluations Due",value:n?.pending_evaluations||g.length,color:"secondary"}),s.jsx(Gt,{icon:s.jsx(mn,{className:"w-5 h-5"}),label:"Total Hours Supervised",value:h.filter(j=>j.status==="approved").reduce((j,_)=>j+(Number(_.hours_worked)||0),0),color:"green"})]}),s.jsx(yd,{items:[{label:"hour log(s) to review",count:p.length,onClick:()=>e("/hours"),buttonLabel:"Review"},{label:"evaluation(s) to complete",count:g.length,onClick:()=>e("/evaluations"),buttonLabel:"Complete"},{label:"site invite(s) pending",count:y.length,onClick:()=>{},buttonLabel:"View Below"}]}),y.length>0&&s.jsx("div",{className:"space-y-3",children:y.map(j=>s.jsx(Q,{className:"border-2 border-violet-200 bg-gradient-to-r from-violet-50 to-purple-50",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0",children:s.jsx(Le,{className:"w-6 h-6 text-violet-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-semibold text-violet-600 uppercase tracking-wider mb-0.5",children:"Site Invitation"}),s.jsx("p",{className:"font-semibold text-stone-900 text-lg",children:j.site.name}),s.jsxs("p",{className:"text-sm text-stone-500",children:[j.site.city,", ",j.site.state,j.invited_by&&s.jsxs("span",{children:["  Invited by ",j.invited_by]})]}),j.site.specialties?.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:j.site.specialties.slice(0,4).map(_=>s.jsx(ge,{variant:"secondary",children:_},_))})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(q,{onClick:()=>N(j.token,j.site.name),isLoading:u.isPending,children:[s.jsx(Ze,{className:"w-4 h-4"})," Accept & Join"]})})]})},j.id))}),v.length>0&&s.jsxs(Q,{children:[s.jsx(ys,{title:"My Site Affiliation",actionLabel:"View Site",onAction:()=>e("/site")}),s.jsx("div",{className:"mt-4 space-y-3",children:v.map(j=>{const _=j.slots?.filter(C=>C.status==="open")||[];return s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-stone-50 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center flex-shrink-0",children:s.jsx(Le,{className:"w-5 h-5 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-stone-900",children:j.name}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-stone-500 mt-0.5",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"}),s.jsxs("span",{children:[j.city,", ",j.state]})]}),j.specialties?.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:j.specialties.slice(0,4).map(C=>s.jsx(ge,{variant:"secondary",children:C},C))})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("p",{className:"text-lg font-bold text-primary-600",children:_.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Active Slots"})]})]},j.id)})})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>e("/hours"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors relative",children:[s.jsx(Ye,{className:"w-6 h-6 text-amber-600"}),s.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Review Hours"}),p.length>0&&s.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:p.length})]}),s.jsxs("button",{onClick:()=>e("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors relative",children:[s.jsx(Zn,{className:"w-6 h-6 text-secondary-600"}),s.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Evaluations"}),g.length>0&&s.jsx("span",{className:"absolute top-2 right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:g.length})]}),s.jsxs("button",{onClick:()=>e("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[s.jsx(ut,{className:"w-6 h-6 text-primary-600"}),s.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),s.jsxs("button",{onClick:()=>e("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[s.jsx(Sx,{className:"w-6 h-6 text-stone-600"}),s.jsx("span",{className:"text-xs font-medium text-stone-700",children:"Settings"})]})]})]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"Pending Hour Reviews",actionLabel:"Review All",onAction:()=>e("/hours")}),s.jsxs("div",{className:"mt-4 space-y-3",children:[p.length===0&&s.jsx("p",{className:"text-sm text-stone-400",children:"All caught up! No hours pending review."}),p.slice(0,5).map(j=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[j.hours_worked,"h  ",j.category.replace("_"," ")]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[new Date(j.date).toLocaleDateString(),"  ",j.slot?.title]})]}),s.jsx(ge,{variant:"warning",children:"Pending"})]},j.id))]})]})]}),m.length>0&&s.jsxs(Q,{children:[s.jsx(ys,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>e("/evaluations")}),s.jsx("div",{className:"mt-4 space-y-3",children:m.slice(0,4).map(j=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[j.student?.first_name," ",j.student?.last_name,"  ",j.type==="mid_rotation"?"Mid-Rotation":j.type==="final"?"Final":"Feedback"]}),s.jsx("p",{className:"text-xs text-stone-500",children:j.slot?.title})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[j.overall_score&&s.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[j.overall_score,"/5"]}),s.jsx(ge,{variant:j.is_submitted?"success":"warning",children:j.is_submitted?"Submitted":"Draft"})]})]},j.id))})]})]})}function UV(){const e=Ut(),{user:t}=Je(),{data:n,isLoading:r}=gd(),{data:a}=Ws(),{data:i}=Po(),{data:c}=Cx(),d=a?.data||[],u=i?.data||[],m=(c?.ce_certificates||[]).filter(_=>_.status==="pending"),p=d.filter(_=>_.status==="pending"),g=d.filter(_=>_.status==="accepted"),v=n?.total_students||0,y=n?.active_placements||g.length,N=Math.max(v-y,0),j=v>0?Math.round(y/v*100):0;return r?s.jsx(vd,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Coordinator","!"]}),s.jsx("p",{className:"text-stone-500",children:"Monitor student placements, program compliance, and site partnerships."})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(Gt,{icon:s.jsx(pt,{className:"w-5 h-5"}),label:"Total Students",value:v,color:"primary"}),s.jsx(Gt,{icon:s.jsx(Ze,{className:"w-5 h-5"}),label:"Active Placements",value:y,color:"green"}),s.jsx(Gt,{icon:s.jsx(Yr,{className:"w-5 h-5"}),label:"Unplaced",value:N,color:N>0?"amber":"green"}),s.jsx(Gt,{icon:s.jsx(At,{className:"w-5 h-5"}),label:"Pending Apps",value:n?.pending_applications||p.length,color:"secondary"}),s.jsx(Gt,{icon:s.jsx(fl,{className:"w-5 h-5"}),label:"Available Slots",value:n?.available_slots||u.filter(_=>_.status==="open").length,color:"accent"})]}),s.jsx(yd,{items:[{label:"unplaced student(s)",count:N,onClick:()=>e("/placements"),buttonLabel:"Place"},{label:"CE certificate(s) to review",count:m.length,onClick:()=>e("/ce-credits"),buttonLabel:"Review"}]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"Placement Pipeline"}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-stone-600",children:"Placement Rate"}),s.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[j,"%"]})]}),s.jsx("div",{className:"w-full h-4 bg-stone-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-green-500 rounded-full transition-all duration-500",style:{width:`${j}%`}})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-xl",children:[s.jsx("p",{className:"text-xl font-bold text-green-700",children:y}),s.jsx("p",{className:"text-xs text-green-600",children:"Placed"})]}),s.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-xl",children:[s.jsx("p",{className:"text-xl font-bold text-amber-700",children:p.length}),s.jsx("p",{className:"text-xs text-amber-600",children:"Pending"})]}),s.jsxs("div",{className:"text-center p-3 bg-stone-50 rounded-xl",children:[s.jsx("p",{className:"text-xl font-bold text-stone-700",children:N}),s.jsx("p",{className:"text-xs text-stone-600",children:"Unplaced"})]})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>e("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[s.jsx(ut,{className:"w-6 h-6 text-primary-600"}),s.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),s.jsxs("button",{onClick:()=>e("/placements"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[s.jsx(pt,{className:"w-6 h-6 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-700",children:"Placements"})]}),s.jsxs("button",{onClick:()=>e("/programs"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[s.jsx(an,{className:"w-6 h-6 text-secondary-600"}),s.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Programs"})]}),s.jsxs("button",{onClick:()=>e("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[s.jsx(Le,{className:"w-6 h-6 text-amber-600"}),s.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Sites Directory"})]})]})]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"Recent Applications",actionLabel:"View All",onAction:()=>e("/placements")}),s.jsxs("div",{className:"mt-4 space-y-3",children:[d.length===0&&s.jsx("p",{className:"text-sm text-stone-400",children:"No applications to review."}),d.slice(0,5).map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[_.student?.first_name," ",_.student?.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[_.slot?.title,"  ",_.slot?.site?.name]})]}),s.jsx(ge,{variant:_.status==="accepted"?"success":_.status==="pending"?"warning":_.status==="declined"?"danger":"default",children:_.status})]},_.id))]})]})]})]})}function BV(){const e=Ut(),{user:t}=Je(),{data:n,isLoading:r}=gd(),{data:a}=Ws(),{data:i}=_x(),c=a?.data||[],d=i?.data||[],u=c.filter(g=>g.status==="accepted"),h=n?.total_students||0,m=n?.active_placements||u.length,p=Math.max(h-m,0);return r?s.jsx(vd,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome back, ",t?.firstName||"Professor","!"]}),s.jsx("p",{className:"text-stone-500",children:"Monitor your students' clinical progress, evaluations, and placements."})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Gt,{icon:s.jsx(pt,{className:"w-5 h-5"}),label:"Total Students",value:n?.total_students||0,color:"primary"}),s.jsx(Gt,{icon:s.jsx(Ze,{className:"w-5 h-5"}),label:"Active Placements",value:n?.active_placements||u.length,color:"green"}),s.jsx(Gt,{icon:s.jsx(Zn,{className:"w-5 h-5"}),label:"Evaluations",value:d.length,color:"secondary"}),s.jsx(Gt,{icon:s.jsx(Xc,{className:"w-5 h-5"}),label:"Available Slots",value:n?.available_slots||0,color:"accent"})]}),s.jsx(yd,{items:[{label:"unplaced student(s)",count:p,onClick:()=>e("/students"),buttonLabel:"View"}]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>e("/students"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[s.jsx(ut,{className:"w-6 h-6 text-primary-600"}),s.jsx("span",{className:"text-xs font-medium text-primary-700",children:"My Students"})]}),s.jsxs("button",{onClick:()=>e("/evaluations"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[s.jsx(Zn,{className:"w-6 h-6 text-secondary-600"}),s.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Evaluations"})]}),s.jsxs("button",{onClick:()=>e("/placements"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[s.jsx(Sa,{className:"w-6 h-6 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-700",children:"Placements"})]}),s.jsxs("button",{onClick:()=>e("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors",children:[s.jsx(Le,{className:"w-6 h-6 text-amber-600"}),s.jsx("span",{className:"text-xs font-medium text-amber-700",children:"Sites Directory"})]})]})]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"Student Placements",actionLabel:"View All",onAction:()=>e("/students")}),s.jsxs("div",{className:"mt-4 space-y-3",children:[u.length===0&&s.jsx("p",{className:"text-sm text-stone-400",children:"No active student placements to monitor."}),u.slice(0,5).map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-sm font-bold",children:(g.student?.first_name?.[0]||"")+(g.student?.last_name?.[0]||"")}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[g.student?.first_name," ",g.student?.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[g.slot?.title,"  ",g.slot?.site?.name]})]})]}),s.jsx(ge,{variant:"success",children:"Active"})]},g.id))]})]})]}),d.length>0&&s.jsxs(Q,{children:[s.jsx(ys,{title:"Recent Evaluations",actionLabel:"View All",onAction:()=>e("/evaluations")}),s.jsx("div",{className:"mt-4 space-y-3",children:d.slice(0,4).map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[g.student?.first_name," ",g.student?.last_name,"  ",g.type==="mid_rotation"?"Mid-Rotation":g.type==="final"?"Final":"Feedback"]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[g.slot?.title,"  by ",g.preceptor?.first_name," ",g.preceptor?.last_name]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g.overall_score&&s.jsxs("span",{className:"text-sm font-bold text-primary-600",children:[g.overall_score,"/5"]}),s.jsx(ge,{variant:g.is_submitted?"success":"warning",children:g.is_submitted?"Complete":"Pending"})]})]},g.id))})]})]})}function qV(){const e=Ut(),{user:t}=Je(),{data:n,isLoading:r}=gd(),{data:a}=Po(),{data:i}=Ws(),{data:c}=Ta(),{data:d}=Qw({status:"pending"}),u=a?.data||[],h=i?.data||[],m=c?.sites||[],p=d?.join_requests||[],g=u.filter(y=>y.status==="open").length,v=h.filter(y=>y.status==="pending").length;return r?s.jsx(vd,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:["Welcome, ",t?.firstName||"Admin","!"]}),s.jsx("p",{className:"text-stone-500",children:"Platform overview  manage users, sites, and monitor system health."})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Gt,{icon:s.jsx(ut,{className:"w-5 h-5"}),label:"Total Users",value:n?.total_users||0,color:"primary"}),s.jsx(Gt,{icon:s.jsx(Le,{className:"w-5 h-5"}),label:"Active Sites",value:n?.total_sites||m.length,color:"secondary"}),s.jsx(Gt,{icon:s.jsx(an,{className:"w-5 h-5"}),label:"Universities",value:n?.total_universities||0,color:"accent"}),s.jsx(Gt,{icon:s.jsx(fl,{className:"w-5 h-5"}),label:"Total Slots",value:n?.total_slots||u.length,color:"green"})]}),s.jsx(yd,{items:[{label:"application(s) pending review",count:v,onClick:()=>e("/site-applications"),buttonLabel:"Review"},{label:"join request(s) pending",count:p.length,onClick:()=>e("/preceptors"),buttonLabel:"Review"}]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"Platform Activity"}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-primary-50 rounded-xl",children:[s.jsx(tp,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xl font-bold text-stone-900",children:n?.recent_applications||h.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Applications"})]}),s.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-xl",children:[s.jsx(At,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xl font-bold text-stone-900",children:v}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending Review"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[s.jsx(fl,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xl font-bold text-stone-900",children:g}),s.jsx("p",{className:"text-xs text-stone-500",children:"Open Slots"})]}),s.jsxs("div",{className:"text-center p-4 bg-secondary-50 rounded-xl",children:[s.jsx(jT,{className:"w-6 h-6 text-secondary-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xl font-bold text-stone-900",children:h.filter(y=>y.status==="accepted").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Active Placements"})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-primary-50 hover:bg-primary-100 transition-colors",children:[s.jsx(ut,{className:"w-6 h-6 text-primary-600"}),s.jsx("span",{className:"text-xs font-medium text-primary-700",children:"Manage Users"})]}),s.jsxs("button",{onClick:()=>e("/sites"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[s.jsx(Le,{className:"w-6 h-6 text-secondary-600"}),s.jsx("span",{className:"text-xs font-medium text-secondary-700",children:"Sites Directory"})]}),s.jsxs("button",{onClick:()=>e("/slots"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors",children:[s.jsx(ml,{className:"w-6 h-6 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-700",children:"All Slots"})]}),s.jsxs("button",{onClick:()=>e("/settings"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-stone-50 hover:bg-stone-100 transition-colors",children:[s.jsx(Sx,{className:"w-6 h-6 text-stone-600"}),s.jsx("span",{className:"text-xs font-medium text-stone-700",children:"Platform Settings"})]})]})]}),s.jsxs(Q,{children:[s.jsx(ys,{title:"System Health"}),s.jsx("div",{className:"mt-4 space-y-3",children:[{label:"API Status",value:"Operational",color:"green"},{label:"Database",value:"Connected",color:"green"},{label:"Auth Service",value:"Active",color:"green"},{label:"Email Service",value:"Active",color:"green"}].map(y=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsx("span",{className:"text-sm text-stone-700",children:y.label}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${y.color==="green"?"bg-green-500":y.color==="amber"?"bg-amber-500":"bg-red-500"}`}),s.jsx("span",{className:`text-sm font-medium ${y.color==="green"?"text-green-700":y.color==="amber"?"text-amber-700":"text-red-700"}`,children:y.value})]})]},y.label))})]})]}),m.length>0&&s.jsxs(Q,{children:[s.jsx(ys,{title:"Sites Overview",actionLabel:"View All",onAction:()=>e("/sites")}),s.jsx("div",{className:"mt-4 space-y-3",children:m.slice(0,4).map(y=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-600 flex items-center justify-center",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:y.name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[y.city,", ",y.state,"  ",y.specialties?.slice(0,2).join(", ")]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y.is_verified&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"}),y.rating>0&&s.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[s.jsx(Un,{className:"w-3 h-3 fill-current"}),y.rating]})]})]},y.id))})]})]})}function $V(){const{user:e}=Je();if(!e)return null;switch(e.role){case"student":return s.jsx(uE,{});case"site_manager":return s.jsx(LV,{});case"coordinator":return s.jsx(UV,{});case"professor":return s.jsx(BV,{});case"preceptor":return s.jsx(zV,{});case"admin":return s.jsx(qV,{});default:return s.jsx(uE,{})}}function We({isOpen:e,onClose:t,title:n,children:r,size:a="md"}){if(b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:`relative bg-white rounded-t-2xl sm:rounded-2xl shadow-2xl w-full ${i[a]} max-h-[92vh] sm:max-h-[90vh] flex flex-col`,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-stone-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:n}),s.jsx("button",{onClick:t,className:"p-1.5 rounded-lg hover:bg-stone-100 transition-colors text-stone-500",children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"px-4 sm:px-6 py-4 overflow-y-auto flex-1",children:r})]})]})}function HV({onClose:e,onLoadSearch:t}){const{data:n,isLoading:r}=oV(),a=uV(),i=dV(),c=d=>{i.mutate({id:d.id,data:{alerts_enabled:!d.alerts_enabled}})};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-stone-200 w-full max-w-sm",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-stone-200",children:[s.jsx("h3",{className:"font-semibold text-stone-900 text-sm",children:"Saved Searches"}),s.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-stone-100 text-stone-400",children:s.jsx(us,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Et,{className:"w-5 h-5 animate-spin text-stone-400"})}):!n||n.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(Kt,{className:"w-8 h-8 text-stone-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-stone-500",children:"No saved searches yet"}),s.jsx("p",{className:"text-xs text-stone-400 mt-1",children:'Use "Save Search" to save your current filters'})]}):s.jsx("div",{className:"divide-y divide-stone-100",children:n.map(d=>s.jsx("div",{className:"px-4 py-3 hover:bg-stone-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("button",{onClick:()=>{t(d.filters),e()},className:"flex-1 text-left",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:d.name}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[d.filters.search&&s.jsxs("span",{className:"text-xs bg-stone-100 text-stone-600 px-1.5 py-0.5 rounded",children:['"',d.filters.search,'"']}),d.filters.specialty&&s.jsx("span",{className:"text-xs bg-primary-50 text-primary-700 px-1.5 py-0.5 rounded",children:d.filters.specialty}),d.filters.cost_type&&s.jsx("span",{className:"text-xs bg-green-50 text-green-700 px-1.5 py-0.5 rounded",children:d.filters.cost_type})]})]}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx("button",{onClick:()=>c(d),className:`p-1.5 rounded-lg transition-colors ${d.alerts_enabled?"text-primary-600 bg-primary-50":"text-stone-400 hover:bg-stone-100"}`,title:d.alerts_enabled?"Alerts on":"Alerts off",children:d.alerts_enabled?s.jsx($w,{className:"w-3.5 h-3.5"}):s.jsx(Cq,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>a.mutate(d.id),className:"p-1.5 rounded-lg text-stone-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete",children:s.jsx(hn,{className:"w-3.5 h-3.5"})})]})]})},d.id))})})]})}function FV(){const{isAuthenticated:e,user:t}=Je(),n=Ut(),[r,a]=b.useState(""),[i,c]=b.useState(""),[d,u]=b.useState("all"),[h,m]=b.useState("all"),[p,g]=b.useState(null),[v,y]=b.useState(!1),[N,j]=b.useState(!1),[_,C]=b.useState(""),[E,k]=b.useState("list"),[O,T]=b.useState("all"),[D,P]=b.useState(!1),[X,ae]=b.useState(""),[G,M]=b.useState(!1),Y=t?.role==="student",Z=lV(),{data:fe}=iV(),U=new Set((fe?.data||[]).map(F=>F.id)),L=cV(),{data:I,isLoading:se}=Po({search:r||void 0,specialty:i||void 0,status:h!=="all"?h:void 0,cost_type:d!=="all"?d:void 0}),ye=MH(),z=(F,Ke)=>{if(Ke?.stopPropagation(),!e){n("/login?redirect=/rotations");return}Z.mutate(F,{onSuccess:te=>J.success(te.bookmarked?"Bookmarked!":"Removed bookmark")})},V=()=>{X.trim()&&L.mutate({name:X,filters:{...r?{search:r}:{},...i?{specialty:i}:{},...d!=="all"?{cost_type:d}:{}},alerts_enabled:!0},{onSuccess:()=>{J.success("Search saved!"),P(!1),ae("")},onError:F=>J.error(F.message)})},re=F=>{a(F.search||""),c(F.specialty||""),u(F.cost_type||"all"),m(F.status||"all"),T("all")},$=I?.data||[],ve=O==="saved"?$.filter(F=>U.has(F.id)):$,W=b.useMemo(()=>{const F=new Set($.map(Ke=>Ke.specialty));return Array.from(F).sort()},[$]),we=async()=>{if(p)try{await ye.mutateAsync({slot_id:p.id,cover_letter:_||void 0}),J.success("Application submitted successfully! You'll hear back within 5-7 business days."),j(!1),C(""),g(null),y(!1)}catch(F){const Ke=F instanceof Error?F.message:"Failed to submit application";J.error(Ke)}},De=F=>{g(F),y(!0)},pe=(F,Ke)=>{if(Ke?.stopPropagation(),!e){n("/login?redirect=/rotations");return}g(F),j(!0)},Me=F=>{const Ke=new Date(F),te=new Date;return Math.ceil((Ke.getTime()-te.getTime())/(1e3*60*60*24))},Ie=(F,Ke)=>{const te=new Date(F),ke=new Date(Ke);return Math.round((ke.getTime()-te.getTime())/(1e3*60*60*24*7))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Search Rotations"}),s.jsx("p",{className:"text-stone-500",children:"Find your perfect clinical placement"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx($e,{placeholder:"Search by specialty, site name, or city...",value:r,onChange:F=>a(F.target.value),icon:s.jsx(Kt,{className:"w-4 h-4"})})}),s.jsxs("div",{className:"grid grid-cols-2 sm:flex gap-3",children:[s.jsxs("select",{value:i,onChange:F=>c(F.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none col-span-2 sm:col-span-1",children:[s.jsx("option",{value:"",children:"All Specialties"}),W.map(F=>s.jsx("option",{value:F,children:F},F))]}),s.jsxs("select",{value:d,onChange:F=>u(F.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"all",children:"Any Cost"}),s.jsx("option",{value:"free",children:"Free"}),s.jsx("option",{value:"paid",children:"Paid"})]}),s.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"all",children:"Any Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"filled",children:"Filled"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[e&&Y&&s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>T("all"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${O==="all"?"bg-primary-100 text-primary-700":"text-stone-500 hover:bg-stone-100"}`,children:["All (",$.length,")"]}),s.jsxs("button",{onClick:()=>T("saved"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ${O==="saved"?"bg-primary-100 text-primary-700":"text-stone-500 hover:bg-stone-100"}`,children:[s.jsx(co,{className:"w-3 h-3"})," Saved (",U.size,")"]})]}),s.jsx("p",{className:"text-sm text-stone-500",children:se?"Searching...":`${ve.length} rotation${ve.length!==1?"s":""} found`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e&&Y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsxs(q,{size:"sm",variant:"outline",onClick:()=>M(!G),children:[s.jsx(Dq,{className:"w-3.5 h-3.5"})," Saved Searches"]}),G&&s.jsx("div",{className:"absolute right-0 top-full mt-2 z-30",children:s.jsx(HV,{onClose:()=>M(!1),onLoadSearch:re})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(q,{size:"sm",variant:"outline",onClick:()=>P(!D),children:[s.jsx(Sf,{className:"w-3.5 h-3.5"})," Save Search"]}),D&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 z-30 bg-white rounded-xl shadow-xl border border-stone-200 p-4 w-72",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900 mb-2",children:"Save Current Search"}),s.jsx("input",{type:"text",value:X,onChange:F=>ae(F.target.value),placeholder:"Name this search...",className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm mb-3 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",onKeyDown:F=>F.key==="Enter"&&V()}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{size:"sm",variant:"ghost",onClick:()=>{P(!1),ae("")},children:"Cancel"}),s.jsx(q,{size:"sm",onClick:V,disabled:!X.trim()||L.isPending,children:"Save"})]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>k("list"),className:`p-1.5 rounded-lg transition-colors ${E==="list"?"bg-primary-50 text-primary-600":"text-stone-400 hover:text-stone-600"}`,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("button",{onClick:()=>k("grid"),className:`p-1.5 rounded-lg transition-colors ${E==="grid"?"bg-primary-50 text-primary-600":"text-stone-400 hover:text-stone-600"}`,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})]})]})]}),se&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}),!se&&E==="list"&&s.jsx("div",{className:"space-y-4",children:ve.map(F=>{const Ke=Me(F.start_date),te=Ie(F.start_date,F.end_date);return s.jsx(Q,{hover:!0,onClick:()=>De(F),children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:F.title}),s.jsx(As,{className:"w-4 h-4 text-stone-400 hidden sm:block"})]}),s.jsx("p",{className:"text-sm text-stone-500",children:F.site?.name})]})]}),s.jsx("p",{className:"text-sm text-stone-600 mb-3 line-clamp-2",children:F.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx(ge,{variant:"primary",children:F.specialty}),s.jsx(ge,{variant:F.cost_type==="free"?"success":"warning",children:F.cost_type==="free"?"Free":`$${F.cost}`}),s.jsx(ge,{variant:F.status==="open"?"success":"danger",children:F.status==="open"?"Open":"Filled"}),s.jsxs(ge,{variant:"default",children:[te," weeks"]}),Ke>0&&Ke<=30&&s.jsxs(ge,{variant:"warning",children:["Starts in ",Ke," days"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"}),F.site?.city,", ",F.site?.state]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(F.start_date).toLocaleDateString()," - ",new Date(F.end_date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ut,{className:"w-3.5 h-3.5"}),F.filled,"/",F.capacity," spots filled"]}),F.shift_schedule&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3.5 h-3.5"}),F.shift_schedule]}),F.site&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Un,{className:"w-3.5 h-3.5 text-amber-500"}),F.site.rating," (",F.site.review_count," reviews)"]})]})]}),s.jsxs("div",{className:"flex lg:flex-col gap-2 shrink-0",children:[e&&Y&&s.jsx("button",{onClick:ke=>z(F.id,ke),className:"p-2 rounded-xl hover:bg-stone-100 transition-colors self-end",title:U.has(F.id)?"Remove bookmark":"Bookmark",children:s.jsx(co,{className:`w-5 h-5 ${U.has(F.id)?"text-red-500 fill-red-500":"text-stone-400"}`})}),s.jsx(q,{size:"sm",disabled:F.status!=="open",onClick:ke=>pe(F,ke),children:e?s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4"})," Apply"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uh,{className:"w-4 h-4"})," Sign In to Apply"]})}),s.jsx(q,{size:"sm",variant:"outline",onClick:ke=>{ke.stopPropagation(),De(F)},children:"Details"})]})]})},F.id)})}),!se&&E==="grid"&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:ve.map(F=>{const Ke=Ie(F.start_date,F.end_date),te=F.capacity-F.filled;return s.jsxs(Q,{hover:!0,onClick:()=>De(F),padding:"none",children:[s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(St,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[e&&Y&&s.jsx("button",{onClick:ke=>z(F.id,ke),className:"p-1 rounded-lg hover:bg-stone-100 transition-colors",children:s.jsx(co,{className:`w-4 h-4 ${U.has(F.id)?"text-red-500 fill-red-500":"text-stone-400"}`})}),s.jsx(ge,{variant:F.status==="open"?"success":"danger",size:"sm",children:F.status==="open"?`${te} spot${te!==1?"s":""} left`:"Filled"})]})]}),s.jsx("h3",{className:"font-semibold text-stone-900 mb-1 line-clamp-1",children:F.title}),s.jsx("p",{className:"text-sm text-stone-500 mb-2",children:F.site?.name}),s.jsx("p",{className:"text-xs text-stone-500 line-clamp-2 mb-3",children:F.description}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[s.jsx(ge,{variant:"primary",size:"sm",children:F.specialty}),s.jsx(ge,{variant:F.cost_type==="free"?"success":"warning",size:"sm",children:F.cost_type==="free"?"Free":`$${F.cost}`}),s.jsxs(ge,{variant:"default",size:"sm",children:[Ke,"w"]})]}),s.jsxs("div",{className:"space-y-1.5 text-xs text-stone-500",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Tt,{className:"w-3 h-3"}),F.site?.city,", ",F.site?.state]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Jt,{className:"w-3 h-3"}),new Date(F.start_date).toLocaleDateString()," - ",new Date(F.end_date).toLocaleDateString()]}),F.site&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Un,{className:"w-3 h-3 text-amber-500"}),s.jsxs("span",{children:[F.site.rating,"/5 (",F.site.review_count," reviews)"]})]})]})]}),s.jsx("div",{className:"border-t border-stone-100 px-5 py-3",children:s.jsx(q,{size:"sm",className:"w-full",disabled:F.status!=="open",onClick:ke=>pe(F,ke),children:e?s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4"})," Apply Now"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uh,{className:"w-4 h-4"})," Sign In to Apply"]})})})]},F.id)})}),ve.length===0&&!se&&s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(Kt,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No rotations found"}),s.jsx("p",{className:"text-stone-500",children:"Try adjusting your search filters"})]}),s.jsx(We,{isOpen:v,onClose:()=>{y(!1),g(null)},title:"Rotation Details",size:"xl",children:p&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-white shadow-sm text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-bold text-stone-900",children:p.title}),s.jsx("p",{className:"text-stone-600",children:p.site?.name}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx(ge,{variant:"primary",size:"md",children:p.specialty}),s.jsx(ge,{variant:p.status==="open"?"success":"danger",size:"md",children:p.status==="open"?"Open for Applications":"Filled"}),s.jsx(ge,{variant:p.cost_type==="free"?"success":"warning",size:"md",children:p.cost_type==="free"?"No Cost":`$${p.cost}`})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[s.jsx(Jt,{className:"w-5 h-5 text-primary-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs text-stone-500",children:"Duration"}),s.jsxs("p",{className:"font-semibold text-stone-900 text-sm",children:[Ie(p.start_date,p.end_date)," weeks"]})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[s.jsx(ut,{className:"w-5 h-5 text-primary-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs text-stone-500",children:"Capacity"}),s.jsxs("p",{className:"font-semibold text-stone-900 text-sm",children:[p.filled,"/",p.capacity," filled"]})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[s.jsx(Un,{className:"w-5 h-5 text-amber-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs text-stone-500",children:"Site Rating"}),s.jsxs("p",{className:"font-semibold text-stone-900 text-sm",children:[p.site?.rating||"N/A","/5"]})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-center",children:[s.jsx(np,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs text-stone-500",children:"Cost"}),s.jsx("p",{className:"font-semibold text-stone-900 text-sm",children:p.cost_type==="free"?"Free":`$${p.cost}`})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-primary-500"})," Description"]}),s.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:p.description})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary-500"})," Schedule"]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Start Date"}),s.jsx("span",{className:"font-medium text-stone-900",children:new Date(p.start_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"End Date"}),s.jsx("span",{className:"font-medium text-stone-900",children:new Date(p.end_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),p.shift_schedule&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Shift Schedule"}),s.jsx("span",{className:"font-medium text-stone-900",children:p.shift_schedule})]})]})]}),p.requirements.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(dn,{className:"w-4 h-4 text-primary-500"})," Requirements"]}),s.jsx("div",{className:"space-y-2",children:p.requirements.map(F=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(vs,{className:"w-4 h-4 text-green-500 shrink-0"}),s.jsx("span",{className:"text-stone-700",children:F})]},F))})]}),p.site&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-primary-500"})," Site Information"]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-stone-200 flex items-center justify-center text-primary-600 shrink-0",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-stone-900",children:p.site.name}),p.site.is_verified&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[s.jsx(vs,{className:"w-3 h-3"})," Verified Site"]})]})]}),p.site.description&&s.jsx("p",{className:"text-sm text-stone-600",children:p.site.description}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Tt,{className:"w-4 h-4 text-stone-400"}),p.site.address,", ",p.site.city,", ",p.site.state," ",p.site.zip]}),p.site.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Or,{className:"w-4 h-4 text-stone-400"}),p.site.phone]}),p.site.website&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(_a,{className:"w-4 h-4 text-stone-400"}),s.jsx("span",{className:"text-primary-600 truncate",children:p.site.website})]}),p.site.ehr_system&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(St,{className:"w-4 h-4 text-stone-400"}),"EHR: ",p.site.ehr_system]})]}),p.site.specialties&&p.site.specialties.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1.5",children:"Site Specialties"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:p.site.specialties.map(F=>s.jsx(ge,{variant:"default",size:"sm",children:F},F))})]}),s.jsx("div",{className:"flex items-center gap-4 pt-1",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Un,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),s.jsx("span",{className:"font-semibold text-stone-900",children:p.site.rating}),s.jsxs("span",{className:"text-sm text-stone-500",children:["(",p.site.review_count," reviews)"]})]})})]})]}),p.preceptor&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-primary-500"})," Your Preceptor"]}),s.jsxs("div",{className:"flex items-center gap-3 bg-stone-50 rounded-xl p-4",children:[s.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-sm",children:[p.preceptor.first_name[0],p.preceptor.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-stone-900",children:[p.preceptor.first_name," ",p.preceptor.last_name]}),s.jsx("p",{className:"text-sm text-stone-500",children:p.preceptor.email})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1.5",children:[s.jsx("span",{className:"text-stone-500",children:"Spots Available"}),s.jsxs("span",{className:"font-medium text-stone-900",children:[p.capacity-p.filled," of ",p.capacity," remaining"]})]}),s.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${p.filled>=p.capacity?"bg-red-500":p.filled>=p.capacity*.8?"bg-amber-500":"bg-green-500"}`,style:{width:`${p.filled/p.capacity*100}%`}})})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2 border-t border-stone-200",children:[s.jsxs(q,{variant:"ghost",onClick:()=>{y(!1),g(null)},children:[s.jsx(Dr,{className:"w-4 h-4"})," Back to Search"]}),s.jsx(q,{disabled:p.status!=="open",onClick:()=>{if(!e){n("/login?redirect=/rotations");return}y(!1),j(!0)},children:e?s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4"})," Apply for This Rotation"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uh,{className:"w-4 h-4"})," Sign In to Apply"]})})]})]})}),s.jsx(We,{isOpen:N,onClose:()=>j(!1),title:"Apply for Rotation",size:"lg",children:p&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-primary-50 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-primary-900",children:p.title}),s.jsxs("p",{className:"text-sm text-primary-700",children:[p.site?.name," - ",p.site?.city,", ",p.site?.state]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx(ge,{variant:"primary",size:"sm",children:p.specialty}),s.jsxs(ge,{variant:"default",size:"sm",children:[Ie(p.start_date,p.end_date)," weeks"]}),s.jsxs(ge,{variant:"default",size:"sm",children:[new Date(p.start_date).toLocaleDateString()," - ",new Date(p.end_date).toLocaleDateString()]})]})]}),p.requirements.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-stone-700 mb-2",children:"Requirements (ensure you meet these before applying)"}),s.jsx("div",{className:"space-y-1.5",children:p.requirements.map(F=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-600",children:[s.jsx(vs,{className:"w-4 h-4 text-green-500 shrink-0"}),F]},F))})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Cover Letter / Statement of Interest *"}),s.jsx("textarea",{value:_,onChange:F=>C(F.target.value),rows:6,placeholder:"Tell the site why you're interested in this rotation and what you hope to learn. Include relevant experience and clinical goals...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"}),s.jsxs("p",{className:"text-xs text-stone-400",children:[_.length,"/2000 characters"]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 text-sm text-amber-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Before you apply:"}),s.jsxs("ul",{className:"text-xs space-y-0.5 text-amber-700",children:[s.jsx("li",{children:"- Ensure all your credentials are current in Settings"}),s.jsx("li",{children:"- Review the site requirements above"}),s.jsx("li",{children:"- You'll receive a response within 5-7 business days"})]})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[s.jsx(q,{variant:"ghost",onClick:()=>j(!1),children:"Cancel"}),s.jsxs(q,{onClick:we,isLoading:ye.isPending,children:[s.jsx(Gr,{className:"w-4 h-4"})," Submit Application"]})]})]})})]})}function VV(){const e=Ut(),{data:t,isLoading:n}=Ws(),r=IH(),[a,i]=b.useState(null),[c,d]=b.useState(!1),[u,h]=b.useState(!1),[m,p]=b.useState("all"),g=t?.data||[],v={pending:0,waitlisted:1,accepted:2,declined:3,withdrawn:4},y=[...g].sort((D,P)=>(v[D.status]||5)-(v[P.status]||5)),N=m==="all"?y:y.filter(D=>D.status===m),j={all:g.length,pending:g.filter(D=>D.status==="pending").length,accepted:g.filter(D=>D.status==="accepted").length,waitlisted:g.filter(D=>D.status==="waitlisted").length,declined:g.filter(D=>D.status==="declined").length,withdrawn:g.filter(D=>D.status==="withdrawn").length},_=async D=>{try{await r.mutateAsync(D),J.success("Application withdrawn"),h(!1),d(!1),i(null)}catch{J.error("Failed to withdraw application")}},C=D=>{i(D),d(!0)},E=D=>{switch(D){case"accepted":return s.jsx(vs,{className:"w-5 h-5 text-green-500"});case"pending":return s.jsx(Ye,{className:"w-5 h-5 text-amber-500"});case"waitlisted":return s.jsx(Yr,{className:"w-5 h-5 text-primary-500"});case"declined":return s.jsx(rn,{className:"w-5 h-5 text-red-500"});case"withdrawn":return s.jsx(us,{className:"w-5 h-5 text-stone-400"});default:return s.jsx(Ye,{className:"w-5 h-5 text-stone-400"})}},k=D=>{switch(D){case"accepted":return"success";case"pending":return"warning";case"waitlisted":return"primary";case"declined":return"danger";default:return"default"}},O=D=>{switch(D){case"accepted":return"Congratulations! Your application has been accepted.";case"pending":return"Your application is being reviewed by the site.";case"waitlisted":return"You have been placed on the waitlist. You will be notified if a spot opens.";case"declined":return"Unfortunately, this application was not accepted.";case"withdrawn":return"You withdrew this application.";default:return""}},T=D=>{switch(D){case"accepted":return["Review the site requirements and complete any outstanding items","Check your credentials are up to date in Settings","Prepare for your rotation start date","You can now log hours for this rotation under Hour Log"];case"pending":return["Ensure your profile and credentials are complete","The site typically responds within 5-7 business days","You can withdraw your application if needed"];case"waitlisted":return["You will be automatically notified if a spot opens","Continue applying to other rotations as backup","Keep your credentials up to date"];case"declined":return["Don't be discouraged  explore other available rotations","Review the site requirements to improve future applications","Consider applying to similar rotations at other sites"];default:return[]}};return n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Applications"}),s.jsxs("p",{className:"text-stone-500",children:[g.length," application",g.length!==1?"s":""," submitted"]})]}),s.jsxs(q,{onClick:()=>e("/rotations"),children:[s.jsx(Gr,{className:"w-4 h-4"})," Find Rotations"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Pending",count:j.pending,icon:s.jsx(Ye,{className:"w-5 h-5"}),color:"amber"},{label:"Accepted",count:j.accepted,icon:s.jsx(vs,{className:"w-5 h-5"}),color:"green"},{label:"Waitlisted",count:j.waitlisted,icon:s.jsx(Yr,{className:"w-5 h-5"}),color:"primary"},{label:"Declined",count:j.declined,icon:s.jsx(rn,{className:"w-5 h-5"}),color:"red"}].map(D=>s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl bg-${D.color}-50 text-${D.color}-600 flex items-center justify-center`,children:D.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:D.count}),s.jsx("p",{className:"text-xs text-stone-500",children:D.label})]})]})},D.label))}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:["all","pending","accepted","waitlisted","declined","withdrawn"].map(D=>s.jsxs("button",{onClick:()=>p(D),className:`px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${m===D?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[D.charAt(0).toUpperCase()+D.slice(1),j[D]>0&&s.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-xs ${m===D?"bg-white/20":"bg-stone-200"}`,children:j[D]})]},D))}),s.jsxs("div",{className:"space-y-3",children:[N.length===0&&s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(At,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:m==="all"?"No applications yet":`No ${m} applications`}),s.jsx("p",{className:"text-stone-500",children:m==="all"?"Search for rotations and submit your first application":"Try a different filter"})]}),N.map(D=>s.jsx(Q,{hover:!0,onClick:()=>C(D),children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:D.slot?.title||"Rotation"}),s.jsx(As,{className:"w-4 h-4 text-stone-400 hidden sm:block"})]}),s.jsx("p",{className:"text-sm text-stone-500 mb-2",children:D.slot?.site?.name}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-stone-500",children:[D.slot?.site&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"}),D.slot.site.city,", ",D.slot.site.state]}),D.slot&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(D.slot.start_date).toLocaleDateString()," - ",new Date(D.slot.end_date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(At,{className:"w-3.5 h-3.5"}),"Applied ",new Date(D.submitted_at).toLocaleDateString()]}),D.slot?.specialty&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(St,{className:"w-3.5 h-3.5"}),D.slot.specialty]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ge,{variant:k(D.status),size:"md",children:D.status.charAt(0).toUpperCase()+D.status.slice(1)}),s.jsx(q,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),C(D)},children:s.jsx(Sa,{className:"w-4 h-4"})})]})]})},D.id))]}),s.jsx(We,{isOpen:c,onClose:()=>{d(!1),i(null)},title:"Application Details",size:"xl",children:a&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:`rounded-xl p-4 ${a.status==="accepted"?"bg-green-50 border border-green-200":a.status==="pending"?"bg-amber-50 border border-amber-200":a.status==="waitlisted"?"bg-primary-50 border border-primary-200":a.status==="declined"?"bg-red-50 border border-red-200":"bg-stone-50 border border-stone-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[E(a.status),s.jsxs("div",{children:[s.jsx("p",{className:`font-semibold ${a.status==="accepted"?"text-green-900":a.status==="pending"?"text-amber-900":a.status==="waitlisted"?"text-primary-900":a.status==="declined"?"text-red-900":"text-stone-900"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)}),s.jsx("p",{className:"text-sm text-stone-600 mt-0.5",children:O(a.status)})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-stone-900 mb-3",children:"Application Timeline"}),s.jsxs("div",{className:"relative pl-6",children:[s.jsx("div",{className:"absolute left-2 top-1 bottom-1 w-0.5 bg-stone-200"}),s.jsxs("div",{className:"relative pb-4",children:[s.jsx("div",{className:"absolute left-[-18px] w-4 h-4 rounded-full bg-green-500 border-2 border-white"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Application Submitted"}),s.jsx("p",{className:"text-xs text-stone-500",children:new Date(a.submitted_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"relative pb-4",children:[s.jsx("div",{className:`absolute left-[-18px] w-4 h-4 rounded-full border-2 border-white ${a.status!=="pending"?"bg-green-500":"bg-amber-500 animate-pulse"}`}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Under Review"}),s.jsx("p",{className:"text-xs text-stone-500",children:a.status==="pending"?"Currently being reviewed by the site":"Review completed"})]}),a.status!=="pending"&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute left-[-18px] w-4 h-4 rounded-full border-2 border-white ${a.status==="accepted"?"bg-green-500":a.status==="waitlisted"?"bg-primary-500":a.status==="declined"?"bg-red-500":"bg-stone-400"}`}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:a.status==="accepted"?"Accepted":a.status==="waitlisted"?"Waitlisted":a.status==="declined"?"Declined":"Withdrawn"}),s.jsx("p",{className:"text-xs text-stone-500",children:a.reviewed_at?new Date(a.reviewed_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Date unavailable"})]})]})]}),a.slot&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-primary-500"})," Rotation Details"]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-stone-200 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-stone-900",children:a.slot.title}),s.jsx("p",{className:"text-sm text-stone-500",children:a.slot.site?.name})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(St,{className:"w-4 h-4 text-stone-400"}),a.slot.specialty]}),a.slot.site&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Tt,{className:"w-4 h-4 text-stone-400"}),a.slot.site.city,", ",a.slot.site.state]}),s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Jt,{className:"w-4 h-4 text-stone-400"}),new Date(a.slot.start_date).toLocaleDateString()," - ",new Date(a.slot.end_date).toLocaleDateString()]}),a.slot.shift_schedule&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Ye,{className:"w-4 h-4 text-stone-400"}),a.slot.shift_schedule]}),s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(ut,{className:"w-4 h-4 text-stone-400"}),a.slot.filled,"/",a.slot.capacity," spots filled"]}),a.slot.site&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Un,{className:"w-4 h-4 text-amber-500"}),a.slot.site.rating,"/5 (",a.slot.site.review_count," reviews)"]})]}),a.slot.description&&s.jsx("p",{className:"text-sm text-stone-600 pt-1 border-t border-stone-200",children:a.slot.description})]})]}),a.cover_letter&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-primary-500"})," Your Cover Letter"]}),s.jsx("div",{className:"bg-stone-50 rounded-xl p-4",children:s.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-wrap leading-relaxed",children:a.cover_letter})})]}),a.notes&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4 text-primary-500"})," Site Response"]}),s.jsx("div",{className:`rounded-xl p-4 ${a.status==="accepted"?"bg-green-50 border border-green-200":a.status==="declined"?"bg-red-50 border border-red-200":"bg-stone-50 border border-stone-200"}`,children:s.jsx("p",{className:"text-sm text-stone-700 italic",children:a.notes})})]}),a.slot?.requirements&&a.slot.requirements.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(dn,{className:"w-4 h-4 text-primary-500"})," Site Requirements"]}),s.jsx("div",{className:"space-y-2",children:a.slot.requirements.map(D=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(vs,{className:"w-4 h-4 text-green-500 shrink-0"}),s.jsx("span",{className:"text-stone-700",children:D})]},D))})]}),a.status!=="withdrawn"&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(tl,{className:"w-4 h-4 text-primary-500"})," Next Steps"]}),s.jsx("div",{className:"space-y-2",children:T(a.status).map((D,P)=>s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-xs font-medium shrink-0",children:P+1}),s.jsx("span",{className:"text-stone-700",children:D})]},P))})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2 border-t border-stone-200",children:[s.jsx(q,{variant:"ghost",onClick:()=>{d(!1),i(null)},children:"Close"}),a.status==="accepted"&&s.jsxs(q,{onClick:()=>e("/hours"),children:[s.jsx(Ye,{className:"w-4 h-4"})," Go to Hour Log"]}),a.status==="pending"&&s.jsxs(q,{variant:"danger",onClick:()=>h(!0),children:[s.jsx(us,{className:"w-4 h-4"})," Withdraw Application"]}),(a.status==="declined"||a.status==="withdrawn")&&s.jsxs(q,{onClick:()=>{d(!1),e("/rotations")},children:[s.jsx(Gr,{className:"w-4 h-4"})," Find More Rotations"]})]})]})}),s.jsx(We,{isOpen:u,onClose:()=>h(!1),title:"Withdraw Application",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-red-50 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Yr,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Are you sure you want to withdraw?"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. You would need to submit a new application if you change your mind."})]})]})}),a&&s.jsxs("div",{className:"text-sm text-stone-600",children:[s.jsx("p",{className:"font-medium",children:a.slot?.title}),s.jsx("p",{className:"text-stone-500",children:a.slot?.site?.name})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(q,{variant:"ghost",onClick:()=>h(!1),children:"Keep Application"}),s.jsxs(q,{variant:"danger",onClick:()=>a&&_(a.id),isLoading:r.isPending,children:[s.jsx(us,{className:"w-4 h-4"})," Withdraw"]})]})]})})]})}function GV(){const{user:e}=Je(),t=e?.role==="preceptor"||e?.role==="site_manager",[n,r]=b.useState(!1),[a,i]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState(!1),[m,p]=b.useState(!1),[g,v]=b.useState("approved"),[y,N]=b.useState(""),[j,_]=b.useState("all"),[C,E]=b.useState(t?"pending":"all"),[k,O]=b.useState(null),[T,D]=b.useState(!1),[P,X]=b.useState({slot_id:"",date:new Date().toISOString().split("T")[0],hours_worked:"8",category:"direct_care",description:""}),{data:ae,isLoading:G}=Yw(),{data:M}=LH(),{data:Y}=Ws(),Z=zH(),fe=BH(),U=UH(),L=ae?.data||[],I=(Y?.data||[]).filter(ie=>ie.status==="accepted"),se=M?.platform_hours||L.reduce((ie,Ne)=>ie+Number(Ne.hours_worked),0),ye=M?.approved_hours||L.filter(ie=>ie.status==="approved").reduce((ie,Ne)=>ie+Number(Ne.hours_worked),0),z=M?.pending_hours||L.filter(ie=>ie.status==="pending").reduce((ie,Ne)=>ie+Number(Ne.hours_worked),0),V=L.filter(ie=>ie.status==="rejected").reduce((ie,Ne)=>ie+Number(Ne.hours_worked),0),re=M?.prior_hours||0,$=M?.total_hours||re+ye,ve=M?.hours_required||0,W=M?.progress_percent||(ve>0?Math.min(100,Math.round($/ve*100)):0),we={direct_care:"Direct Patient Care",indirect_care:"Indirect Care",simulation:"Simulation",observation:"Observation",other:"Other"},De={direct_care:"bg-primary-500",indirect_care:"bg-secondary-500",simulation:"bg-amber-500",observation:"bg-green-500",other:"bg-stone-400"},pe=C==="all"?L:L.filter(ie=>ie.status===C),Me=b.useMemo(()=>{const ie=new Map;for(const Ne of L){const st=Ne.slot_id;ie.has(st)||ie.set(st,{slotTitle:Ne.slot?.title||"Unknown Rotation",siteName:Ne.slot?.site?.name||"",hours:[],total:0,approved:0,pending:0});const Oe=ie.get(st);Oe.hours.push(Ne),Oe.total+=Number(Ne.hours_worked),Ne.status==="approved"&&(Oe.approved+=Number(Ne.hours_worked)),Ne.status==="pending"&&(Oe.pending+=Number(Ne.hours_worked))}return Array.from(ie.entries())},[L]),Ie=b.useMemo(()=>{if(!t)return[];const ie=new Map;for(const Ne of L){const st=Ne.student_id;ie.has(st)||ie.set(st,{studentName:Ne.student?`${Ne.student.first_name} ${Ne.student.last_name}`:"Unknown Student",hours:[],total:0,approved:0,pending:0});const Oe=ie.get(st);Oe.hours.push(Ne),Oe.total+=Number(Ne.hours_worked),Ne.status==="approved"&&(Oe.approved+=Number(Ne.hours_worked)),Ne.status==="pending"&&(Oe.pending+=Number(Ne.hours_worked))}return Array.from(ie.entries())},[L,t]),F=b.useMemo(()=>{const ie={};for(const Ne of L)ie[Ne.category]=(ie[Ne.category]||0)+Number(Ne.hours_worked);return Object.entries(ie).sort((Ne,st)=>st[1]-Ne[1])},[L]),Ke=b.useMemo(()=>{const ie=new Map;for(const Ne of L){const st=new Date(Ne.date),Oe=new Date(st);Oe.setDate(st.getDate()-st.getDay());const he=Oe.toISOString().split("T")[0];ie.set(he,(ie.get(he)||0)+Number(Ne.hours_worked))}return Array.from(ie.entries()).sort((Ne,st)=>st[0].localeCompare(Ne[0])).slice(0,8)},[L]),te=async()=>{if(!P.slot_id){J.error("Please select a rotation");return}if(parseFloat(P.hours_worked)<=0||parseFloat(P.hours_worked)>24){J.error("Hours must be between 0.5 and 24");return}try{await Z.mutateAsync({slot_id:P.slot_id,date:P.date,hours_worked:parseFloat(P.hours_worked),category:P.category,description:P.description}),J.success("Hours logged successfully! Awaiting preceptor approval."),r(!1),X({slot_id:"",date:new Date().toISOString().split("T")[0],hours_worked:"8",category:"direct_care",description:""})}catch(ie){const Ne=ie instanceof Error?ie.message:"Failed to log hours";J.error(Ne)}},ke=async ie=>{try{await fe.mutateAsync(ie),J.success("Hour entry deleted"),h(!1),i(!1),d(null)}catch{J.error("Failed to delete entry")}},et=async()=>{if(c){if(g==="rejected"&&!y.trim()){J.error("Please provide a reason for rejection");return}try{await U.mutateAsync({id:c.id,data:{status:g,rejection_reason:g==="rejected"?y:void 0}}),J.success(g==="approved"?"Hours approved successfully":"Hours rejected"),p(!1),i(!1),d(null),N("")}catch(ie){const Ne=ie instanceof Error?ie.message:"Failed to review hours";J.error(Ne)}}},ft=(ie,Ne)=>{d(ie),v(Ne),N(""),p(!0)},Pn=ie=>{d(ie),i(!0)};return G?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:t?"Hour Log Review":"Clinical Hour Log"}),s.jsx("p",{className:"text-stone-500",children:t?"Review and approve student clinical hours":"Track and manage your clinical hours"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(q,{variant:"secondary",onClick:()=>D(!T),children:[s.jsx(Ys,{className:"w-4 h-4"})," Export"]}),T&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>D(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white rounded-xl shadow-lg border border-stone-200 py-1 z-20",children:[s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Yc.hourLogsCsvUrl()),D(!1)},children:"Download CSV"}),s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Yc.hourLogsPdfUrl()),D(!1)},children:"Download PDF"})]})]})]}),!t&&s.jsxs(q,{onClick:()=>r(!0),children:[s.jsx(Ct,{className:"w-4 h-4"})," Log Hours"]})]})]}),!t&&s.jsx(Q,{className:"bg-gradient-to-r from-primary-50 to-secondary-50 border-primary-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ij,{className:"w-5 h-5 text-primary-600"}),s.jsx("h3",{className:"font-semibold text-stone-900",children:"Hours Progress"})]}),s.jsx("p",{className:"text-sm text-stone-600 mb-3",children:ve>0?`${$} of ${ve} required hours completed`:"No program assigned"}),s.jsx("div",{className:"w-full bg-white/60 rounded-full h-3 mb-2",children:s.jsxs("div",{className:"h-3 flex rounded-full overflow-hidden",children:[re>0&&s.jsx("div",{className:"h-full bg-stone-400 transition-all duration-500",style:{width:`${ve>0?Math.min(re/ve*100,100):0}%`}}),s.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-500",style:{width:`${ve>0?Math.min(ye/ve*100,100-re/ve*100):0}%`}})]})}),s.jsxs("div",{className:"flex justify-between text-xs text-stone-500",children:[s.jsxs("span",{children:[W,"% complete"]}),s.jsx("span",{children:ve-$>0?`${ve-$} hours remaining`:ve>0?"Requirement met!":""})]})]}),s.jsxs("div",{className:"flex gap-4 sm:gap-6",children:[re>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-500",children:re}),s.jsx("p",{className:"text-xs text-stone-500",children:"Prior"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:se}),s.jsx("p",{className:"text-xs text-stone-500",children:"Platform"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:ye}),s.jsx("p",{className:"text-xs text-stone-500",children:"Approved"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:z}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]})]})]})}),t&&s.jsx(Q,{className:"bg-gradient-to-r from-primary-50 to-secondary-50 border-primary-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Zn,{className:"w-5 h-5 text-primary-600"}),s.jsx("h3",{className:"font-semibold text-stone-900",children:"Review Summary"})]}),s.jsxs("p",{className:"text-sm text-stone-600",children:["You have ",L.filter(ie=>ie.status==="pending").length," hour entries pending review"]})]}),s.jsxs("div",{className:"flex gap-4 sm:gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:L.filter(ie=>ie.status==="pending").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:L.filter(ie=>ie.status==="approved").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Approved"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:L.filter(ie=>ie.status==="rejected").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Rejected"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:$}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center",children:s.jsx(Cn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:Ie.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Students"})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-600 flex items-center justify-center",children:s.jsx(Yr,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:z}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending Hours"})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-600 flex items-center justify-center",children:s.jsx(Ze,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:ye}),s.jsx("p",{className:"text-xs text-stone-500",children:"Approved Hours"})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-600 flex items-center justify-center",children:s.jsx(Xc,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:L.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Entries"})]})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:$}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-600 flex items-center justify-center",children:s.jsx(Ze,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:ye}),s.jsx("p",{className:"text-xs text-stone-500",children:"Approved"})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-600 flex items-center justify-center",children:s.jsx(Yr,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:z}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-600 flex items-center justify-center",children:s.jsx(Xc,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:L.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Entries"})]})]})})]})}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[{key:"all",label:t?"All Submissions":"All Entries",icon:s.jsx(Ye,{className:"w-4 h-4"})},{key:"by-rotation",label:t?"By Student":"By Rotation",icon:t?s.jsx(Cn,{className:"w-4 h-4"}):s.jsx(Le,{className:"w-4 h-4"})},{key:"summary",label:"Summary",icon:s.jsx(ml,{className:"w-4 h-4"})}].map(ie=>s.jsxs("button",{onClick:()=>_(ie.key),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${j===ie.key?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[ie.icon," ",ie.label]},ie.key))}),j==="all"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vw,{className:"w-4 h-4 text-stone-400"}),["all","pending","approved","rejected"].map(ie=>s.jsxs("button",{onClick:()=>E(ie),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${C===ie?"bg-primary-100 text-primary-700":"bg-stone-50 text-stone-500 hover:bg-stone-100"}`,children:[ie.charAt(0).toUpperCase()+ie.slice(1),ie!=="all"&&` (${L.filter(Ne=>Ne.status===ie).length})`]},ie))]}),s.jsx(Q,{padding:"none",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-stone-200 bg-stone-50",children:[t&&s.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Student"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Date"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Hours"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase hidden sm:table-cell",children:"Category"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase hidden md:table-cell",children:"Rotation"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase hidden lg:table-cell",children:"Description"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Status"}),s.jsx("th",{className:"text-right px-4 sm:px-6 py-3 text-xs font-medium text-stone-500 uppercase",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-stone-100",children:[pe.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:t?8:7,className:"px-6 py-8 text-center text-stone-400",children:t?C==="all"?"No hour submissions from students yet.":`No ${C} entries found.`:C==="all"?'No hours logged yet. Click "Log Hours" to get started.':`No ${C} entries found.`})}),pe.map(ie=>s.jsxs("tr",{className:"hover:bg-stone-50 transition-colors cursor-pointer",onClick:()=>Pn(ie),children:[t&&s.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-900 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-xs font-semibold shrink-0",children:[ie.student?.first_name?.[0],ie.student?.last_name?.[0]]}),s.jsxs("span",{className:"font-medium",children:[ie.student?.first_name," ",ie.student?.last_name]})]})}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-900 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"w-4 h-4 text-stone-400 hidden sm:block"}),new Date(ie.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})}),s.jsxs("td",{className:"px-4 sm:px-6 py-4 text-sm font-semibold text-stone-900",children:[ie.hours_worked,"h"]}),s.jsx("td",{className:"px-4 sm:px-6 py-4 hidden sm:table-cell",children:s.jsx(ge,{variant:"default",children:we[ie.category]||ie.category})}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-600 hidden md:table-cell",children:s.jsx("span",{className:"truncate max-w-[150px] block",children:ie.slot?.title||"-"})}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-stone-600 max-w-xs truncate hidden lg:table-cell",children:ie.description||"-"}),s.jsx("td",{className:"px-4 sm:px-6 py-4",children:s.jsx(ge,{variant:ie.status==="approved"?"success":ie.status==="pending"?"warning":"danger",children:ie.status})}),s.jsx("td",{className:"px-4 sm:px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),Pn(ie)},className:"p-1.5 rounded-lg hover:bg-stone-100 text-stone-400 hover:text-stone-600 transition-colors",children:s.jsx(Sa,{className:"w-4 h-4"})}),t&&ie.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),ft(ie,"approved")},className:"p-1.5 rounded-lg hover:bg-green-50 text-stone-400 hover:text-green-600 transition-colors",title:"Approve",children:s.jsx(Ze,{className:"w-4 h-4"})}),s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),ft(ie,"rejected")},className:"p-1.5 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",title:"Reject",children:s.jsx(rn,{className:"w-4 h-4"})})]}),!t&&ie.status==="pending"&&s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),d(ie),h(!0)},className:"p-1.5 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",children:s.jsx(hn,{className:"w-4 h-4"})})]})})]},ie.id))]})]})})})]}),j==="by-rotation"&&s.jsx("div",{className:"space-y-4",children:t?s.jsxs(s.Fragment,{children:[Ie.length===0&&s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(Cn,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No student hours yet"}),s.jsx("p",{className:"text-stone-500",children:"Student hour submissions will appear here for review"})]}),Ie.map(([ie,Ne])=>{const st=k===ie;return s.jsxs(Q,{padding:"none",children:[s.jsx("div",{className:"p-4 sm:p-5 cursor-pointer hover:bg-stone-50/50 transition-colors",onClick:()=>O(st?null:ie),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-sm shrink-0",children:Ne.studentName.split(" ").map(Oe=>Oe[0]).join("")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:Ne.studentName}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[s.jsxs("span",{className:"text-sm font-medium text-stone-900",children:[Ne.total,"h total"]}),s.jsxs("span",{className:"text-sm text-green-600",children:[Ne.approved,"h approved"]}),Ne.pending>0&&s.jsxs("span",{className:"text-sm text-amber-600",children:[Ne.pending,"h pending"]})]}),s.jsx("div",{className:"w-full bg-stone-200 rounded-full h-1.5 mt-2",children:s.jsx("div",{className:"h-1.5 rounded-full bg-green-500",style:{width:`${Ne.total>0?Ne.approved/Ne.total*100:0}%`}})})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[Ne.pending>0&&s.jsxs(ge,{variant:"warning",children:[Ne.pending,"h pending"]}),s.jsxs(ge,{variant:"default",children:[Ne.hours.length," entries"]}),st?s.jsx(hl,{className:"w-5 h-5 text-stone-400"}):s.jsx(Ks,{className:"w-5 h-5 text-stone-400"})]})]})}),st&&s.jsx("div",{className:"border-t border-stone-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-stone-50",children:[s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Date"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Hours"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden sm:table-cell",children:"Category"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden md:table-cell",children:"Rotation"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Status"}),s.jsx("th",{className:"text-right px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-stone-100",children:Ne.hours.sort((Oe,he)=>new Date(he.date).getTime()-new Date(Oe.date).getTime()).map(Oe=>s.jsxs("tr",{className:"hover:bg-stone-50/50 cursor-pointer",onClick:()=>Pn(Oe),children:[s.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-900",children:new Date(Oe.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsxs("td",{className:"px-4 sm:px-6 py-3 text-sm font-semibold text-stone-900",children:[Oe.hours_worked,"h"]}),s.jsx("td",{className:"px-4 sm:px-6 py-3 hidden sm:table-cell",children:s.jsx(ge,{variant:"default",size:"sm",children:we[Oe.category]||Oe.category})}),s.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-600 hidden md:table-cell",children:Oe.slot?.title||"-"}),s.jsx("td",{className:"px-4 sm:px-6 py-3",children:s.jsx(ge,{variant:Oe.status==="approved"?"success":Oe.status==="pending"?"warning":"danger",size:"sm",children:Oe.status})}),s.jsx("td",{className:"px-4 sm:px-6 py-3 text-right",children:Oe.status==="pending"&&s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("button",{onClick:he=>{he.stopPropagation(),ft(Oe,"approved")},className:"p-1 rounded-lg hover:bg-green-50 text-stone-400 hover:text-green-600 transition-colors",children:s.jsx(Ze,{className:"w-4 h-4"})}),s.jsx("button",{onClick:he=>{he.stopPropagation(),ft(Oe,"rejected")},className:"p-1 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",children:s.jsx(rn,{className:"w-4 h-4"})})]})})]},Oe.id))})]})})})]},ie)})]}):s.jsxs(s.Fragment,{children:[Me.length===0&&s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No rotation hours yet"}),s.jsx("p",{className:"text-stone-500",children:"Start logging hours for your accepted rotations"})]}),Me.map(([ie,Ne])=>{const st=k===ie;return s.jsxs(Q,{padding:"none",children:[s.jsx("div",{className:"p-4 sm:p-5 cursor-pointer hover:bg-stone-50/50 transition-colors",onClick:()=>O(st?null:ie),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:Ne.slotTitle}),s.jsx("p",{className:"text-sm text-stone-500",children:Ne.siteName}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[s.jsxs("span",{className:"text-sm font-medium text-stone-900",children:[Ne.total,"h total"]}),s.jsxs("span",{className:"text-sm text-green-600",children:[Ne.approved,"h approved"]}),Ne.pending>0&&s.jsxs("span",{className:"text-sm text-amber-600",children:[Ne.pending,"h pending"]})]}),s.jsx("div",{className:"w-full bg-stone-200 rounded-full h-1.5 mt-2",children:s.jsx("div",{className:"h-1.5 rounded-full bg-green-500",style:{width:`${Ne.total>0?Ne.approved/Ne.total*100:0}%`}})})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsxs(ge,{variant:"default",children:[Ne.hours.length," entries"]}),st?s.jsx(hl,{className:"w-5 h-5 text-stone-400"}):s.jsx(Ks,{className:"w-5 h-5 text-stone-400"})]})]})}),st&&s.jsx("div",{className:"border-t border-stone-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-stone-50",children:[s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Date"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Hours"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden sm:table-cell",children:"Category"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500 hidden md:table-cell",children:"Description"}),s.jsx("th",{className:"text-left px-4 sm:px-6 py-2 text-xs font-medium text-stone-500",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-stone-100",children:Ne.hours.sort((Oe,he)=>new Date(he.date).getTime()-new Date(Oe.date).getTime()).map(Oe=>s.jsxs("tr",{className:"hover:bg-stone-50/50 cursor-pointer",onClick:()=>Pn(Oe),children:[s.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-900",children:new Date(Oe.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsxs("td",{className:"px-4 sm:px-6 py-3 text-sm font-semibold text-stone-900",children:[Oe.hours_worked,"h"]}),s.jsx("td",{className:"px-4 sm:px-6 py-3 hidden sm:table-cell",children:s.jsx(ge,{variant:"default",size:"sm",children:we[Oe.category]||Oe.category})}),s.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm text-stone-600 truncate max-w-xs hidden md:table-cell",children:Oe.description||"-"}),s.jsx("td",{className:"px-4 sm:px-6 py-3",children:s.jsx(ge,{variant:Oe.status==="approved"?"success":Oe.status==="pending"?"warning":"danger",size:"sm",children:Oe.status})})]},Oe.id))})]})})})]},ie)})]})}),j==="summary"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Hours by Category"}),F.length===0?s.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):s.jsx("div",{className:"space-y-3",children:F.map(([ie,Ne])=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-stone-700",children:we[ie]||ie}),s.jsxs("span",{className:"font-medium text-stone-900",children:[Ne,"h (",$>0?Math.round(Ne/$*100):0,"%)"]})]}),s.jsx("div",{className:"w-full bg-stone-100 rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full ${De[ie]||"bg-stone-400"}`,style:{width:`${$>0?Ne/$*100:0}%`}})})]},ie))})]}),s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Weekly Hours"}),Ke.length===0?s.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):s.jsx("div",{className:"space-y-2",children:Ke.map(([ie,Ne])=>{const st=Math.max(...Ke.map(he=>he[1])),Oe=new Date(ie);return Oe.setDate(Oe.getDate()+6),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs text-stone-500 w-28 shrink-0",children:[new Date(ie).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",Oe.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),s.jsx("div",{className:"flex-1 bg-stone-100 rounded-full h-5 relative",children:s.jsx("div",{className:"h-5 rounded-full bg-gradient-to-r from-primary-400 to-primary-500 flex items-center justify-end pr-2",style:{width:`${st>0?Math.max(20,Ne/st*100):0}%`},children:s.jsxs("span",{className:"text-xs font-medium text-white",children:[Ne,"h"]})})})]},ie)})})]}),s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Status Overview"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[ye,"h"]}),s.jsx("p",{className:"text-xs text-green-700",children:"Approved"}),s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[L.filter(ie=>ie.status==="approved").length," entries"]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-xl p-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:[z,"h"]}),s.jsx("p",{className:"text-xs text-amber-700",children:"Pending"}),s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[L.filter(ie=>ie.status==="pending").length," entries"]})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[V,"h"]}),s.jsx("p",{className:"text-xs text-red-700",children:"Rejected"}),s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[L.filter(ie=>ie.status==="rejected").length," entries"]})]})]})]}),s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:t?"Hours by Student":"Hours by Rotation"}),t?Ie.length===0?s.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):s.jsx("div",{className:"space-y-3",children:Ie.map(([ie,Ne])=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-stone-200",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-xs shrink-0",children:Ne.studentName.split(" ").map(st=>st[0]).join("")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:Ne.studentName}),Ne.pending>0&&s.jsxs("p",{className:"text-xs text-amber-600",children:[Ne.pending,"h pending review"]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsxs("p",{className:"text-sm font-bold text-stone-900",children:[Ne.total,"h"]}),s.jsxs("p",{className:"text-xs text-green-600",children:[Ne.approved,"h approved"]})]})]},ie))}):Me.length===0?s.jsx("p",{className:"text-sm text-stone-400 text-center py-8",children:"No data yet"}):s.jsx("div",{className:"space-y-3",children:Me.map(([ie,Ne])=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-stone-200",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:Ne.slotTitle}),s.jsx("p",{className:"text-xs text-stone-500",children:Ne.siteName})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsxs("p",{className:"text-sm font-bold text-stone-900",children:[Ne.total,"h"]}),s.jsxs("p",{className:"text-xs text-green-600",children:[Ne.approved,"h approved"]})]})]},ie))})]})]}),s.jsx(We,{isOpen:a,onClose:()=>{i(!1),d(null)},title:"Hour Entry Details",size:"md",children:c&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`rounded-xl p-4 ${c.status==="approved"?"bg-green-50 border border-green-200":c.status==="pending"?"bg-amber-50 border border-amber-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{variant:c.status==="approved"?"success":c.status==="pending"?"warning":"danger",size:"md",children:c.status.charAt(0).toUpperCase()+c.status.slice(1)}),s.jsxs("span",{className:"text-2xl font-bold text-stone-900",children:[c.hours_worked,"h"]})]})}),s.jsxs("div",{className:"space-y-3",children:[t&&c.student&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Student"}),s.jsxs("span",{className:"font-medium text-stone-900",children:[c.student.first_name," ",c.student.last_name]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Date"}),s.jsx("span",{className:"font-medium text-stone-900",children:new Date(c.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Category"}),s.jsx(ge,{variant:"default",children:we[c.category]||c.category})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Rotation"}),s.jsx("span",{className:"font-medium text-stone-900",children:c.slot?.title||"-"})]}),c.slot?.site&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Site"}),s.jsx("span",{className:"font-medium text-stone-900",children:c.slot.site.name})]}),c.approver&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Reviewed By"}),s.jsxs("span",{className:"font-medium text-stone-900",children:[c.approver.first_name," ",c.approver.last_name]})]}),c.approved_at&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-stone-500",children:"Reviewed On"}),s.jsx("span",{className:"font-medium text-stone-900",children:new Date(c.approved_at).toLocaleDateString()})]})]}),c.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-700 mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-stone-600 bg-stone-50 rounded-xl p-3",children:c.description})]}),c.rejection_reason&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:"Rejection Reason"}),s.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-xl p-3 border border-red-200",children:c.rejection_reason})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2 border-t border-stone-200",children:[s.jsx(q,{variant:"ghost",onClick:()=>{i(!1),d(null)},children:"Close"}),t&&c.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"danger",size:"sm",onClick:()=>{i(!1),ft(c,"rejected")},children:[s.jsx(rn,{className:"w-4 h-4"})," Reject"]}),s.jsxs(q,{size:"sm",onClick:()=>{i(!1),ft(c,"approved")},children:[s.jsx(Ze,{className:"w-4 h-4"})," Approve"]})]}),!t&&c.status==="pending"&&s.jsxs(q,{variant:"danger",size:"sm",onClick:()=>h(!0),children:[s.jsx(hn,{className:"w-4 h-4"})," Delete Entry"]})]})]})}),s.jsx(We,{isOpen:m,onClose:()=>{p(!1),N("")},title:g==="approved"?"Approve Hours":"Reject Hours",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`rounded-xl p-4 ${g==="approved"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[g==="approved"?s.jsx(Ze,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}):s.jsx(rn,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${g==="approved"?"text-green-900":"text-red-900"}`,children:g==="approved"?"Approve this hour entry?":"Reject this hour entry?"}),s.jsx("p",{className:`text-sm mt-1 ${g==="approved"?"text-green-700":"text-red-700"}`,children:g==="approved"?"These hours will count toward the student's requirement.":"The student will be notified and can re-submit corrected hours."})]})]})}),c&&s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Student"}),s.jsxs("span",{className:"font-medium text-stone-900",children:[c.student?.first_name," ",c.student?.last_name]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Date"}),s.jsx("span",{className:"text-stone-900",children:new Date(c.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Hours"}),s.jsxs("span",{className:"font-semibold text-stone-900",children:[c.hours_worked,"h"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Category"}),s.jsx("span",{className:"text-stone-900",children:we[c.category]})]}),c.description&&s.jsxs("div",{className:"pt-1 border-t border-stone-200 mt-1",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Description:"}),s.jsx("p",{className:"text-stone-700",children:c.description})]})]}),g==="rejected"&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-red-700",children:"Reason for Rejection *"}),s.jsx("textarea",{value:y,onChange:ie=>N(ie.target.value),rows:3,placeholder:"Explain why these hours are being rejected...",className:"w-full rounded-xl border border-red-200 px-4 py-3 text-sm focus:border-red-500 focus:ring-2 focus:ring-red-500/20 focus:outline-none resize-none bg-red-50/50"})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(q,{variant:"ghost",onClick:()=>{p(!1),N("")},children:"Cancel"}),s.jsx(q,{variant:g==="approved"?"primary":"danger",onClick:et,isLoading:U.isPending,children:g==="approved"?s.jsxs(s.Fragment,{children:[s.jsx(Ze,{className:"w-4 h-4"})," Approve"]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4"})," Reject"]})})]})]})}),!t&&s.jsx(We,{isOpen:u,onClose:()=>h(!1),title:"Delete Hour Entry",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-red-50 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Yr,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Delete this hour entry?"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone."})]})]})}),c&&s.jsx("div",{className:"text-sm text-stone-600",children:s.jsxs("p",{children:[new Date(c.date).toLocaleDateString()," - ",c.hours_worked,"h (",we[c.category],")"]})}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(q,{variant:"ghost",onClick:()=>h(!1),children:"Cancel"}),s.jsxs(q,{variant:"danger",onClick:()=>c&&ke(c.id),isLoading:fe.isPending,children:[s.jsx(hn,{className:"w-4 h-4"})," Delete"]})]})]})}),!t&&s.jsx(We,{isOpen:n,onClose:()=>r(!1),title:"Log Clinical Hours",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Rotation *"}),s.jsxs("select",{value:P.slot_id,onChange:ie=>X({...P,slot_id:ie.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select a rotation..."}),I.map(ie=>s.jsxs("option",{value:ie.slot_id,children:[ie.slot?.title||"Rotation"," - ",ie.slot?.site?.name]},ie.slot_id))]}),I.length===0&&s.jsx("p",{className:"text-xs text-amber-600",children:"No accepted applications yet. Apply for rotations first."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx($e,{label:"Date *",type:"date",value:P.date,onChange:ie=>X({...P,date:ie.target.value})}),s.jsx($e,{label:"Hours Worked *",type:"number",placeholder:"8",min:"0.5",max:"24",step:"0.5",value:P.hours_worked,onChange:ie=>X({...P,hours_worked:ie.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Category *"}),s.jsxs("select",{value:P.category,onChange:ie=>X({...P,category:ie.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"direct_care",children:"Direct Patient Care"}),s.jsx("option",{value:"indirect_care",children:"Indirect Care"}),s.jsx("option",{value:"simulation",children:"Simulation"}),s.jsx("option",{value:"observation",children:"Observation"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description *"}),s.jsx("textarea",{value:P.description,onChange:ie=>X({...P,description:ie.target.value}),rows:3,placeholder:"Describe what you did during this clinical time...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-xs text-stone-500",children:[s.jsx("p",{className:"font-medium text-stone-700 mb-1",children:"Tips for logging hours:"}),s.jsxs("ul",{className:"space-y-0.5",children:[s.jsx("li",{children:"- Log hours daily for the most accurate records"}),s.jsx("li",{children:"- Include specific activities in your description"}),s.jsx("li",{children:"- Hours will be sent to your preceptor for approval"})]})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[s.jsx(q,{variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),s.jsxs(q,{onClick:te,isLoading:Z.isPending,children:[s.jsx(Ct,{className:"w-4 h-4"})," Submit Hours"]})]})]})})]})}const KV=e=>{const t=[{id:"welcome",title:"Welcome to ClinicLink",subtitle:"Let's set up your profile",icon:s.jsx(vT,{className:"w-7 h-7"}),gradient:"from-amber-400 via-orange-300 to-rose-300",iconBg:"from-amber-500 to-orange-500"},{id:"personal",title:"Personal Information",subtitle:"Tell us about yourself",icon:s.jsx(Cn,{className:"w-7 h-7"}),gradient:"from-orange-300 via-rose-300 to-pink-300",iconBg:"from-rose-500 to-pink-500"}];return e==="student"?t.push({id:"academic",title:"Academic Details",subtitle:"Your university and program",icon:s.jsx(pt,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"},{id:"interests",title:"Clinical Interests",subtitle:"What specialties excite you?",icon:s.jsx(co,{className:"w-7 h-7"}),gradient:"from-purple-300 via-indigo-300 to-blue-300",iconBg:"from-indigo-500 to-blue-500"},{id:"credentials",title:"Credentials",subtitle:"Upload your certifications",icon:s.jsx(cs,{className:"w-7 h-7"}),gradient:"from-indigo-300 via-blue-300 to-cyan-300",iconBg:"from-blue-500 to-cyan-500"}):e==="preceptor"?t.push({id:"site",title:"Clinical Site",subtitle:"Select your affiliated site",icon:s.jsx(Le,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"},{id:"clinical",title:"Clinical Specialties",subtitle:"Your areas of expertise",icon:s.jsx(St,{className:"w-7 h-7"}),gradient:"from-purple-300 via-indigo-300 to-blue-300",iconBg:"from-indigo-500 to-blue-500"}):e==="site_manager"?t.push({id:"facility",title:"Facility Setup",subtitle:"About your clinical site",icon:s.jsx(Le,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"},{id:"specialties",title:"Specialties & EHR",subtitle:"What your facility offers",icon:s.jsx(tp,{className:"w-7 h-7"}),gradient:"from-purple-300 via-indigo-300 to-blue-300",iconBg:"from-indigo-500 to-blue-500"}):(e==="coordinator"||e==="professor")&&t.push({id:"university",title:"University Details",subtitle:"Your institution and department",icon:s.jsx(an,{className:"w-7 h-7"}),gradient:"from-rose-300 via-purple-300 to-indigo-300",iconBg:"from-purple-500 to-indigo-500"}),t.push({id:"complete",title:"You're All Set!",subtitle:"Welcome to ClinicLink",icon:s.jsx(Ze,{className:"w-7 h-7"}),gradient:"from-emerald-300 via-teal-300 to-cyan-300",iconBg:"from-emerald-500 to-teal-500"}),t},fE=["Emergency Medicine","ICU/Critical Care","Medical-Surgical","Pediatrics","Family Practice","Behavioral Health","OB/GYN","Oncology","Geriatrics","Physical Therapy","Occupational Therapy","Clinical Social Work","Urgent Care","Surgery","Internal Medicine","Community Health","Psychiatry","Cardiology","Neurology","Orthopedics"],YV=["Epic","Cerner","Athenahealth","eClinicalWorks","NextGen","Allscripts","Meditech","Other"];function WV(){const e=["#f59e0b","#0ea5e9","#22c55e","#f97316","#a855f7","#ec4899","#14b8a6"],t=Array.from({length:50},(n,r)=>({id:r,left:Math.random()*100,delay:Math.random()*.8,duration:1.5+Math.random()*1.5,color:e[r%e.length],rotation:Math.random()*360,size:4+Math.random()*6}));return s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:t.map(n=>s.jsx("div",{className:"absolute animate-confetti",style:{left:`${n.left}%`,top:"-10px",width:`${n.size}px`,height:`${n.size*1.5}px`,backgroundColor:n.color,borderRadius:n.id%3===0?"50%":"2px",animationDelay:`${n.delay}s`,animationDuration:`${n.duration}s`,transform:`rotate(${n.rotation}deg)`}},n.id))})}function QV(){return s.jsxs("div",{className:"relative w-28 h-28 mx-auto",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-emerald-400 to-teal-500 animate-scale-in shadow-2xl shadow-emerald-500/30"}),s.jsx("svg",{className:"absolute inset-0 w-full h-full p-6",viewBox:"0 0 50 50",children:s.jsx("path",{className:"animate-draw-check",d:"M14 27 L22 35 L37 16",fill:"none",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsx("div",{className:"absolute inset-0 rounded-full animate-ping-slow opacity-20 bg-emerald-400"})]})}const mE="onboarding-styles";function XV(){if(document.getElementById(mE))return;const e=document.createElement("style");e.id=mE,e.textContent=`
    @keyframes confetti-fall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    .animate-confetti {
      animation: confetti-fall linear forwards;
    }

    @keyframes scale-in {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); opacity: 1; }
    }
    .animate-scale-in {
      animation: scale-in 0.6s ease-out forwards;
    }

    @keyframes draw-check {
      0% { stroke-dashoffset: 50; }
      100% { stroke-dashoffset: 0; }
    }
    .animate-draw-check {
      stroke-dasharray: 50;
      stroke-dashoffset: 50;
      animation: draw-check 0.6s ease-out 0.3s forwards;
    }

    @keyframes ping-slow {
      0% { transform: scale(1); opacity: 0.25; }
      100% { transform: scale(1.8); opacity: 0; }
    }
    .animate-ping-slow {
      animation: ping-slow 1.5s ease-out infinite;
    }

    @keyframes slide-up-fade {
      0% { transform: translateY(24px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }
    .animate-slide-up {
      animation: slide-up-fade 0.4s ease-out forwards;
    }

    @keyframes float-slow {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
    }
    .animate-float {
      animation: float-slow 4s ease-in-out infinite;
    }

    @keyframes float-slow-2 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-8px) rotate(3deg); }
    }
    .animate-float-2 {
      animation: float-slow-2 5s ease-in-out infinite;
    }

    @keyframes progress-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    .animate-progress-pulse {
      animation: progress-pulse 2s ease-in-out infinite;
    }

    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .animate-gradient {
      background-size: 200% 200%;
      animation: gradient-shift 8s ease infinite;
    }
  `,document.head.appendChild(e)}function ZV(){const{user:e,completeOnboarding:t}=Je(),n=Ut(),[r,a]=b.useState(0),[i,c]=b.useState("forward"),[d,u]=b.useState(!1),[h,m]=b.useState(!1),[p,g]=b.useState(""),[v,y]=b.useState(""),[N,j]=b.useState([]),[_,C]=b.useState([]),[E,k]=b.useState(""),[O,T]=b.useState(""),[D,P]=b.useState(""),[X,ae]=b.useState(""),[G,M]=b.useState(""),[Y,Z]=b.useState([]),[fe,U]=b.useState([]),[L,I]=b.useState(""),[se,ye]=b.useState(""),[z,V]=b.useState(""),[re,$]=b.useState(""),[ve,W]=b.useState(""),[we,De]=b.useState(""),[pe,Me]=b.useState(""),[Ie,F]=b.useState(""),[Ke,te]=b.useState(""),[ke,et]=b.useState([]),[ft,Pn]=b.useState(""),[ie,Ne]=b.useState(""),[st,Oe]=b.useState(""),[he,Te]=b.useState("");b.useEffect(()=>{XV()},[]),b.useEffect(()=>{ul.list({page:1}).then(de=>{j(de.data||[])}).catch(()=>{})},[]),b.useEffect(()=>{if(!E){C([]);return}ul.programs(E).then(de=>{C(Array.isArray(de)?de:[])}).catch(()=>{})},[E]),b.useEffect(()=>{e?.role==="preceptor"&&To.list().then(de=>{U(de.data||[])}).catch(()=>{})},[e?.role]);const rt=e?.role||"student",Ts=KV(rt),Bt=Ts[r],aa=r===0,ia=r===Ts.length-1,Lr=r===Ts.length-2,Go=r/(Ts.length-1)*100,la=b.useCallback(de=>{Z(Ft=>Ft.includes(de)?Ft.filter(zr=>zr!==de):[...Ft,de])},[]),Ma=b.useCallback(de=>{et(Ft=>Ft.includes(de)?Ft.filter(zr=>zr!==de):[...Ft,de])},[]),En=N.filter(de=>de.name.toLowerCase().includes((rt==="student"?D:st).toLowerCase())),Rs=fe.filter(de=>de.name.toLowerCase().includes(L.toLowerCase())||de.city?.toLowerCase().includes(L.toLowerCase())||de.state?.toLowerCase().includes(L.toLowerCase())),Vn=()=>Bt.id==="personal"?!!p.trim():Bt.id==="academic"?!!E:Bt.id==="facility"?!!z.trim():Bt.id==="university"?!!ie:!0,Od=async()=>{u(!0);try{const de={phone:p};rt==="student"?(de.bio=v||void 0,de.university_id=E||void 0,de.program_id=O||void 0,de.graduation_date=X||void 0,de.gpa=G?parseFloat(G):void 0,de.clinical_interests=Y):rt==="preceptor"?(de.clinical_interests=Y,de.site_id=se||void 0):rt==="site_manager"?(de.facility_name=z,de.facility_address=re,de.facility_city=ve,de.facility_state=we,de.facility_zip=pe,de.facility_phone=Ie,de.facility_description=Ke,de.facility_specialties=ke,de.ehr_system=ft||void 0):(rt==="coordinator"||rt==="professor")&&(de.university_id=ie||void 0,de.department=he||void 0),await t(de),J.success("Profile saved successfully!")}catch{return J.error("Failed to save  please try again"),u(!1),!1}return u(!1),!0},Ol=async()=>{if(ia){n("/dashboard");return}if(Lr){if(!await Od())return;m(!0),setTimeout(()=>m(!1),4e3)}c("forward"),a(de=>de+1)},fr=()=>{r>0&&(c("back"),a(de=>de-1))};return e?s.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${Bt.gradient} animate-gradient transition-all duration-700 relative overflow-hidden`,children:[h&&s.jsx(WV,{}),s.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 rounded-full bg-white/10 blur-3xl animate-float pointer-events-none"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 rounded-full bg-white/10 blur-3xl animate-float-2 pointer-events-none"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-white/5 blur-3xl pointer-events-none"}),s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-1.5 bg-white/20 backdrop-blur-sm",children:s.jsx("div",{className:"h-full bg-white/90 shadow-lg shadow-white/20 transition-all duration-700 ease-out animate-progress-pulse rounded-r-full",style:{width:`${Go}%`}})}),s.jsx("div",{className:"pt-10 pb-4 px-4",children:s.jsx("div",{className:"max-w-xl mx-auto flex items-center justify-center gap-1.5 sm:gap-3",children:Ts.map((de,Ft)=>s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[s.jsxs("div",{className:`relative flex items-center justify-center transition-all duration-500 ${Ft===r?"w-10 h-10 sm:w-11 sm:h-11":"w-8 h-8 sm:w-9 sm:h-9"}`,children:[Ft===r&&s.jsx("div",{className:"absolute inset-0 rounded-full bg-white/30 animate-ping-slow"}),s.jsx("div",{className:`relative w-full h-full rounded-full flex items-center justify-center text-xs font-bold transition-all duration-500 ${Ft<r?"bg-white text-emerald-600 shadow-lg shadow-white/30 scale-90":Ft===r?"bg-white text-stone-800 shadow-xl shadow-white/40 ring-4 ring-white/30":"bg-white/20 text-white/60 backdrop-blur-sm"}`,children:Ft<r?s.jsx(Ze,{className:"w-4 h-4"}):Ft+1})]}),Ft<Ts.length-1&&s.jsx("div",{className:`hidden sm:block w-8 md:w-12 h-0.5 rounded-full transition-all duration-500 ${Ft<r?"bg-white/80":"bg-white/20"}`})]},de.id))})}),s.jsx("div",{className:"px-4 pb-8",children:s.jsxs("div",{className:"max-w-xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-6 animate-slide-up",children:[s.jsx("div",{className:`w-18 h-18 sm:w-20 sm:h-20 rounded-2xl mx-auto mb-4 flex items-center justify-center text-white shadow-2xl shadow-black/10 bg-gradient-to-br ${Bt.iconBg} transition-all duration-500`,children:Bt.icon}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-white drop-shadow-sm",children:Bt.title}),s.jsx("p",{className:"text-white/70 mt-1 text-sm sm:text-base",children:Bt.subtitle})]},`header-${Bt.id}`),s.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl shadow-black/10 border border-white/50 p-6 sm:p-8 mb-6 animate-slide-up",style:{animationDelay:"0.05s"},children:[Bt.id==="welcome"&&s.jsxs("div",{className:"text-center space-y-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center shadow-lg shadow-amber-500/30 animate-float",children:s.jsx(St,{className:"w-8 h-8 text-white"})}),s.jsx("span",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-amber-600 via-orange-500 to-rose-500 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsxs("p",{className:"text-stone-600 leading-relaxed max-w-md mx-auto text-base",children:["Welcome, ",s.jsx("strong",{className:"text-stone-900",children:e.firstName}),"!"," ",rt==="student"&&"We'll help you find the perfect clinical rotations, track your hours, and build your professional portfolio.",rt==="preceptor"&&"We'll connect you with motivated students and make clinical supervision seamless.",rt==="site_manager"&&"We'll help you manage rotation opportunities, review applications, and track students at your facility.",(rt==="coordinator"||rt==="professor")&&"We'll give you full visibility into student placements, compliance, and clinical progress.",rt==="admin"&&"Welcome to the ClinicLink admin panel. Let's complete your profile."]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-sm mx-auto",children:[rt==="student"&&[{icon:s.jsx(Kt,{className:"w-4 h-4"}),label:"Search Rotations"},{icon:s.jsx(At,{className:"w-4 h-4"}),label:"Apply Instantly"},{icon:s.jsx(Ye,{className:"w-4 h-4"}),label:"Track Hours"},{icon:s.jsx(mn,{className:"w-4 h-4"}),label:"Earn Certificates"}].map(de=>s.jsxs("div",{className:"flex items-center gap-2 bg-amber-50 rounded-xl px-3 py-2.5 text-sm font-medium text-amber-800 border border-amber-200/50",children:[s.jsx("span",{className:"text-amber-500",children:de.icon})," ",de.label]},de.label)),rt==="preceptor"&&[{icon:s.jsx(ut,{className:"w-4 h-4"}),label:"Review Students"},{icon:s.jsx(Ye,{className:"w-4 h-4"}),label:"Approve Hours"},{icon:s.jsx(Un,{className:"w-4 h-4"}),label:"Write Evaluations"},{icon:s.jsx(mn,{className:"w-4 h-4"}),label:"Track Progress"}].map(de=>s.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 rounded-xl px-3 py-2.5 text-sm font-medium text-blue-800 border border-blue-200/50",children:[s.jsx("span",{className:"text-blue-500",children:de.icon})," ",de.label]},de.label)),rt==="site_manager"&&[{icon:s.jsx(Mq,{className:"w-4 h-4"}),label:"List Slots"},{icon:s.jsx(At,{className:"w-4 h-4"}),label:"Review Apps"},{icon:s.jsx(ut,{className:"w-4 h-4"}),label:"Track Students"},{icon:s.jsx(tp,{className:"w-4 h-4"}),label:"Analytics"}].map(de=>s.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 rounded-xl px-3 py-2.5 text-sm font-medium text-purple-800 border border-purple-200/50",children:[s.jsx("span",{className:"text-purple-500",children:de.icon})," ",de.label]},de.label)),(rt==="coordinator"||rt==="professor")&&[{icon:s.jsx(_a,{className:"w-4 h-4"}),label:"Track Placements"},{icon:s.jsx(dn,{className:"w-4 h-4"}),label:"Compliance"},{icon:s.jsx(At,{className:"w-4 h-4"}),label:"Reports"},{icon:s.jsx(Le,{className:"w-4 h-4"}),label:"Agreements"}].map(de=>s.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 rounded-xl px-3 py-2.5 text-sm font-medium text-indigo-800 border border-indigo-200/50",children:[s.jsx("span",{className:"text-indigo-500",children:de.icon})," ",de.label]},de.label))]})]}),Bt.id==="personal"&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-gradient-to-r from-stone-50 to-stone-100 rounded-2xl p-5 flex items-center gap-4",children:[s.jsxs("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 text-white flex items-center justify-center font-bold text-lg shadow-lg shadow-amber-500/20 flex-shrink-0",children:[e.firstName[0],e.lastName[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-stone-900 text-lg",children:[e.firstName," ",e.lastName]}),s.jsx("p",{className:"text-sm text-stone-500",children:e.email}),s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 rounded-full bg-amber-100 text-amber-700 text-xs font-semibold capitalize",children:rt.replace("_"," ")})]})]}),s.jsx($e,{label:"Phone Number *",type:"tel",placeholder:"(305) 555-0100",value:p,onChange:de=>g(de.target.value),icon:s.jsx(Or,{className:"w-4 h-4"})}),rt==="student"&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"About You"}),s.jsx("textarea",{value:v,onChange:de=>y(de.target.value),rows:3,placeholder:"Tell clinical sites about yourself, your experience, and what makes you a great candidate...",className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-rose-400 focus:ring-2 focus:ring-rose-400/20 focus:outline-none resize-none transition-all duration-200"})]})]}),Bt.id==="academic"&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"University *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search universities...",value:D,onChange:de=>{P(de.target.value),k(""),T("")},className:"w-full rounded-2xl border border-stone-200 pl-10 pr-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200"})]}),D&&!E&&En.length>0&&s.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-lg max-h-48 overflow-y-auto",children:En.map(de=>s.jsxs("button",{onClick:()=>{k(de.id),P(de.name),T("")},className:"w-full text-left px-4 py-3 text-sm hover:bg-purple-50 transition-colors flex items-center gap-3 border-b border-stone-100 last:border-0",children:[s.jsx(pt,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}),s.jsx("span",{children:de.name})]},de.id))}),E&&s.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 text-purple-700 rounded-xl px-3 py-2 text-sm font-medium border border-purple-200/50",children:[s.jsx(pt,{className:"w-4 h-4"}),D,s.jsx("button",{onClick:()=>{k(""),P(""),T("")},className:"ml-auto text-purple-400 hover:text-purple-600",children:""})]})]}),E&&_.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"Program"}),s.jsxs("select",{value:O,onChange:de=>T(de.target.value),className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select a program..."}),_.map(de=>s.jsxs("option",{value:de.id,children:[de.name," (",de.degree_type,")"]},de.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"Expected Graduation"}),s.jsx("input",{type:"date",value:X,onChange:de=>ae(de.target.value),className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200"})]}),s.jsx($e,{label:"Current GPA",type:"number",placeholder:"3.85",min:"0",max:"4.0",step:"0.01",value:G,onChange:de=>M(de.target.value)})]})]}),(Bt.id==="interests"||Bt.id==="clinical")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-stone-500",children:rt==="student"?"Select specialties you're interested in. We'll use these to recommend rotations.":"Select your areas of clinical expertise. Students will find you based on these."}),s.jsx("div",{className:"flex flex-wrap gap-2",children:fE.map(de=>s.jsx("button",{onClick:()=>la(de),className:`px-4 py-2 rounded-2xl text-sm font-medium transition-all duration-300 ${Y.includes(de)?"bg-gradient-to-r from-indigo-500 to-blue-500 text-white shadow-lg shadow-indigo-500/20 scale-105":"bg-stone-100 text-stone-600 hover:bg-stone-200 hover:scale-102"}`,children:de},de))}),Y.length>0&&s.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 rounded-xl px-3 py-2 text-sm font-semibold border border-indigo-200/50",children:[s.jsx(co,{className:"w-4 h-4"}),Y.length," ",Y.length===1?"specialty":"specialties"," selected"]})]}),Bt.id==="credentials"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-stone-500",children:"Most rotation sites require these credentials. You can upload them now or later from your profile."}),[{name:"BLS/CPR Certification",icon:s.jsx(co,{className:"w-4 h-4"})},{name:"Background Check",icon:s.jsx(dn,{className:"w-4 h-4"})},{name:"Drug Screen",icon:s.jsx(tp,{className:"w-4 h-4"})},{name:"Immunization Records",icon:s.jsx(cs,{className:"w-4 h-4"})},{name:"Liability Insurance",icon:s.jsx(At,{className:"w-4 h-4"})},{name:"HIPAA Training",icon:s.jsx(mn,{className:"w-4 h-4"})}].map(de=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-stone-50 to-stone-100 rounded-2xl border border-stone-200/50 hover:shadow-md transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center",children:de.icon}),s.jsx("span",{className:"text-sm font-medium text-stone-700",children:de.name})]}),s.jsxs(q,{size:"sm",variant:"outline",className:"!rounded-xl",children:[s.jsx(Jr,{className:"w-3.5 h-3.5"})," Upload"]})]},de.name)),s.jsxs("p",{className:"text-xs text-stone-400 text-center bg-stone-50 rounded-xl p-3",children:["You can always upload or update these later from ",s.jsx("strong",{children:"Settings  Credentials"})]})]}),Bt.id==="site"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-stone-500",children:"Select the clinical site you're affiliated with. If your site isn't listed, your site manager can invite you."}),s.jsxs("div",{className:"relative",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search sites by name or location...",value:L,onChange:de=>I(de.target.value),className:"w-full rounded-2xl border border-stone-200 pl-10 pr-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200"})]}),s.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:[Rs.length===0&&s.jsx("p",{className:"text-center text-sm text-stone-400 py-6",children:L?"No sites match your search":"No sites available  ask your site manager for an invite link"}),Rs.map(de=>s.jsx("button",{onClick:()=>ye(de.id===se?"":de.id),className:`w-full text-left p-4 rounded-2xl border transition-all duration-300 ${se===de.id?"bg-gradient-to-r from-purple-50 to-indigo-50 border-purple-300 shadow-md shadow-purple-500/10 scale-[1.01]":"bg-white/50 border-stone-200 hover:border-stone-300 hover:shadow-sm"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-300 ${se===de.id?"bg-gradient-to-br from-purple-500 to-indigo-500 text-white":"bg-stone-100 text-stone-500"}`,children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-semibold text-stone-900 text-sm",children:de.name}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1 mt-0.5",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",de.city,", ",de.state]}),de.specialties?.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[de.specialties.slice(0,3).map(Ft=>s.jsx("span",{className:"text-xs bg-stone-100 text-stone-600 rounded-full px-2 py-0.5",children:Ft},Ft)),de.specialties.length>3&&s.jsxs("span",{className:"text-xs text-stone-400",children:["+",de.specialties.length-3]})]})]}),se===de.id&&s.jsx(Ze,{className:"w-5 h-5 text-purple-500 flex-shrink-0 ml-auto"})]})},de.id))]})]}),Bt.id==="facility"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{label:"Facility Name *",placeholder:"Mercy General Hospital",value:z,onChange:de=>V(de.target.value),icon:s.jsx(Le,{className:"w-4 h-4"})}),s.jsx($e,{label:"Address",placeholder:"2175 Rosaline Ave",value:re,onChange:de=>$(de.target.value),icon:s.jsx(Tt,{className:"w-4 h-4"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx($e,{label:"City",placeholder:"Miami",value:ve,onChange:de=>W(de.target.value)}),s.jsx($e,{label:"State",placeholder:"FL",maxLength:2,value:we,onChange:de=>De(de.target.value)}),s.jsx($e,{label:"ZIP",placeholder:"33136",value:pe,onChange:de=>Me(de.target.value)})]}),s.jsx($e,{label:"Facility Phone",type:"tel",placeholder:"(305) 555-0100",value:Ie,onChange:de=>F(de.target.value)}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"Description"}),s.jsx("textarea",{value:Ke,onChange:de=>te(de.target.value),rows:3,placeholder:"Describe your facility and what makes it a great clinical learning environment...",className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none resize-none transition-all duration-200"})]})]}),Bt.id==="specialties"&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"EHR System"}),s.jsxs("select",{value:ft,onChange:de=>Pn(de.target.value),className:"w-full rounded-2xl border border-stone-200 px-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 focus:outline-none transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select EHR system..."}),YV.map(de=>s.jsx("option",{value:de,children:de},de))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700 mb-2",children:"Specialties Offered"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:fE.map(de=>s.jsx("button",{onClick:()=>Ma(de),className:`px-4 py-2 rounded-2xl text-sm font-medium transition-all duration-300 ${ke.includes(de)?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg shadow-purple-500/20 scale-105":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:de},de))}),ke.length>0&&s.jsxs("p",{className:"mt-2 text-sm text-purple-600 font-semibold",children:[ke.length," specialties selected"]})]}),z&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-4 border border-purple-200/50",children:[s.jsx("p",{className:"text-xs text-purple-500 font-semibold mb-2 uppercase tracking-wider",children:"Preview  How students will see your site"}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-500 text-white flex items-center justify-center",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-stone-900",children:z}),(ve||we)&&s.jsx("p",{className:"text-xs text-stone-500",children:[ve,we].filter(Boolean).join(", ")}),ke.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ke.slice(0,4).map(de=>s.jsx("span",{className:"text-xs bg-white rounded-full px-2 py-0.5 text-purple-600",children:de},de))})]})]})]})]}),Bt.id==="university"&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-700",children:"University *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search universities...",value:st,onChange:de=>{Oe(de.target.value),Ne("")},className:"w-full rounded-2xl border border-stone-200 pl-10 pr-4 py-3 text-sm bg-white/80 backdrop-blur-sm focus:border-indigo-400 focus:ring-2 focus:ring-indigo-400/20 focus:outline-none transition-all duration-200"})]}),st&&!ie&&En.length>0&&s.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-lg max-h-48 overflow-y-auto",children:En.map(de=>s.jsxs("button",{onClick:()=>{Ne(de.id),Oe(de.name)},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 transition-colors flex items-center gap-3 border-b border-stone-100 last:border-0",children:[s.jsx(an,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),s.jsx("span",{children:de.name})]},de.id))}),ie&&s.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 rounded-xl px-3 py-2 text-sm font-medium border border-indigo-200/50",children:[s.jsx(an,{className:"w-4 h-4"}),st,s.jsx("button",{onClick:()=>{Ne(""),Oe("")},className:"ml-auto text-indigo-400 hover:text-indigo-600",children:""})]})]}),s.jsx($e,{label:"Department / Program",placeholder:"School of Nursing and Health Studies",value:he,onChange:de=>Te(de.target.value),icon:s.jsx(pt,{className:"w-4 h-4"})})]}),Bt.id==="complete"&&s.jsxs("div",{className:"text-center space-y-6 py-6",children:[s.jsx(QV,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h2",{className:"text-2xl font-extrabold bg-gradient-to-r from-emerald-600 to-teal-500 bg-clip-text text-transparent",children:["You're all set, ",e.firstName,"!"]}),s.jsxs("p",{className:"text-stone-500 max-w-sm mx-auto",children:[rt==="student"&&"Your profile is ready. Start exploring clinical rotations and building your portfolio!",rt==="preceptor"&&"Your profile is ready. Students will be able to find and connect with you!",rt==="site_manager"&&"Your facility is set up. Start listing rotation slots for students!",(rt==="coordinator"||rt==="professor")&&"Your profile is ready. Start managing student placements and compliance!",rt==="admin"&&"Your admin account is configured. Head to the dashboard!"]})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-emerald-50 text-emerald-700 rounded-full px-3 py-1.5 text-sm font-medium border border-emerald-200/50",children:[s.jsx(Ze,{className:"w-3.5 h-3.5"})," Profile Complete"]}),rt==="student"&&D&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-purple-50 text-purple-700 rounded-full px-3 py-1.5 text-sm font-medium border border-purple-200/50",children:[s.jsx(pt,{className:"w-3.5 h-3.5"})," ",D]}),rt==="student"&&Y.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 text-sm font-medium border border-blue-200/50",children:[s.jsx(co,{className:"w-3.5 h-3.5"})," ",Y.length," Interests"]}),rt==="site_manager"&&z&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-purple-50 text-purple-700 rounded-full px-3 py-1.5 text-sm font-medium border border-purple-200/50",children:[s.jsx(Le,{className:"w-3.5 h-3.5"})," ",z]}),rt==="preceptor"&&Y.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 text-sm font-medium border border-blue-200/50",children:[s.jsx(St,{className:"w-3.5 h-3.5"})," ",Y.length," Specialties"]})]})]})]},`card-${Bt.id}-${i}`),s.jsxs("div",{className:"flex items-center justify-between",style:{animationDelay:"0.1s"},children:[aa?s.jsx("div",{}):s.jsxs("button",{onClick:fr,className:"flex items-center gap-2 px-5 py-3 text-sm font-medium text-white/80 hover:text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-2xl transition-all duration-200",children:[s.jsx(wx,{className:"w-4 h-4"})," Back"]}),s.jsx("button",{onClick:Ol,disabled:d||!aa&&!ia&&!Vn(),className:`flex items-center gap-2 px-6 py-3 text-sm font-bold rounded-2xl shadow-xl transition-all duration-300 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 ${ia?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-emerald-500/30 hover:shadow-emerald-500/40":"bg-white text-stone-800 shadow-white/30 hover:shadow-white/50"}`,children:d?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):ia?s.jsxs(s.Fragment,{children:["Go to Dashboard ",s.jsx(tl,{className:"w-4 h-4"})]}):s.jsxs(s.Fragment,{children:["Continue ",s.jsx(As,{className:"w-4 h-4"})]})})]})]})})]}):null}var JV=Object.defineProperty,ip=Object.getOwnPropertySymbols,IT=Object.prototype.hasOwnProperty,LT=Object.prototype.propertyIsEnumerable,hE=(e,t,n)=>t in e?JV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oj=(e,t)=>{for(var n in t||(t={}))IT.call(t,n)&&hE(e,n,t[n]);if(ip)for(var n of ip(t))LT.call(t,n)&&hE(e,n,t[n]);return e},cj=(e,t)=>{var n={};for(var r in e)IT.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ip)for(var r of ip(e))t.indexOf(r)<0&&LT.call(e,r)&&(n[r]=e[r]);return n};var bo;(e=>{const t=class ot{constructor(u,h,m,p){if(this.version=u,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],u<ot.MIN_VERSION||u>ot.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let g=[];for(let y=0;y<this.size;y++)g.push(!1);for(let y=0;y<this.size;y++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(m);if(this.drawCodewords(v),p==-1){let y=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const j=this.getPenaltyScore();j<y&&(p=N,y=j),this.applyMask(N)}}a(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(u,h){const m=e.QrSegment.makeSegments(u);return ot.encodeSegments(m,h)}static encodeBinary(u,h){const m=e.QrSegment.makeBytes(u);return ot.encodeSegments([m],h)}static encodeSegments(u,h,m=1,p=40,g=-1,v=!0){if(!(ot.MIN_VERSION<=m&&m<=p&&p<=ot.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let y,N;for(y=m;;y++){const E=ot.getNumDataCodewords(y,h)*8,k=c.getTotalBits(u,y);if(k<=E){N=k;break}if(y>=p)throw new RangeError("Data too long")}for(const E of[ot.Ecc.MEDIUM,ot.Ecc.QUARTILE,ot.Ecc.HIGH])v&&N<=ot.getNumDataCodewords(y,E)*8&&(h=E);let j=[];for(const E of u){n(E.mode.modeBits,4,j),n(E.numChars,E.mode.numCharCountBits(y),j);for(const k of E.getData())j.push(k)}a(j.length==N);const _=ot.getNumDataCodewords(y,h)*8;a(j.length<=_),n(0,Math.min(4,_-j.length),j),n(0,(8-j.length%8)%8,j),a(j.length%8==0);for(let E=236;j.length<_;E^=253)n(E,8,j);let C=[];for(;C.length*8<j.length;)C.push(0);return j.forEach((E,k)=>C[k>>>3]|=E<<7-(k&7)),new ot(y,h,C,g)}getModule(u,h){return 0<=u&&u<this.size&&0<=h&&h<this.size&&this.modules[h][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),h=u.length;for(let m=0;m<h;m++)for(let p=0;p<h;p++)m==0&&p==0||m==0&&p==h-1||m==h-1&&p==0||this.drawAlignmentPattern(u[m],u[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const h=this.errorCorrectionLevel.formatBits<<3|u;let m=h;for(let g=0;g<10;g++)m=m<<1^(m>>>9)*1335;const p=(h<<10|m)^21522;a(p>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(p,g));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(p,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(p,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(p,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let m=0;m<12;m++)u=u<<1^(u>>>11)*7973;const h=this.version<<12|u;a(h>>>18==0);for(let m=0;m<18;m++){const p=r(h,m),g=this.size-11+m%3,v=Math.floor(m/3);this.setFunctionModule(g,v,p),this.setFunctionModule(v,g,p)}}drawFinderPattern(u,h){for(let m=-4;m<=4;m++)for(let p=-4;p<=4;p++){const g=Math.max(Math.abs(p),Math.abs(m)),v=u+p,y=h+m;0<=v&&v<this.size&&0<=y&&y<this.size&&this.setFunctionModule(v,y,g!=2&&g!=4)}}drawAlignmentPattern(u,h){for(let m=-2;m<=2;m++)for(let p=-2;p<=2;p++)this.setFunctionModule(u+p,h+m,Math.max(Math.abs(p),Math.abs(m))!=1)}setFunctionModule(u,h,m){this.modules[h][u]=m,this.isFunction[h][u]=!0}addEccAndInterleave(u){const h=this.version,m=this.errorCorrectionLevel;if(u.length!=ot.getNumDataCodewords(h,m))throw new RangeError("Invalid argument");const p=ot.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h],g=ot.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h],v=Math.floor(ot.getNumRawDataModules(h)/8),y=p-v%p,N=Math.floor(v/p);let j=[];const _=ot.reedSolomonComputeDivisor(g);for(let E=0,k=0;E<p;E++){let O=u.slice(k,k+N-g+(E<y?0:1));k+=O.length;const T=ot.reedSolomonComputeRemainder(O,_);E<y&&O.push(0),j.push(O.concat(T))}let C=[];for(let E=0;E<j[0].length;E++)j.forEach((k,O)=>{(E!=N-g||O>=y)&&C.push(k[E])});return a(C.length==v),C}drawCodewords(u){if(u.length!=Math.floor(ot.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let p=0;p<this.size;p++)for(let g=0;g<2;g++){const v=m-g,N=(m+1&2)==0?this.size-1-p:p;!this.isFunction[N][v]&&h<u.length*8&&(this.modules[N][v]=r(u[h>>>3],7-(h&7)),h++)}}a(h==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let m=0;m<this.size;m++){let p;switch(u){case 0:p=(m+h)%2==0;break;case 1:p=h%2==0;break;case 2:p=m%3==0;break;case 3:p=(m+h)%3==0;break;case 4:p=(Math.floor(m/3)+Math.floor(h/2))%2==0;break;case 5:p=m*h%2+m*h%3==0;break;case 6:p=(m*h%2+m*h%3)%2==0;break;case 7:p=((m+h)%2+m*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][m]&&p&&(this.modules[h][m]=!this.modules[h][m])}}getPenaltyScore(){let u=0;for(let g=0;g<this.size;g++){let v=!1,y=0,N=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[g][j]==v?(y++,y==5?u+=ot.PENALTY_N1:y>5&&u++):(this.finderPenaltyAddHistory(y,N),v||(u+=this.finderPenaltyCountPatterns(N)*ot.PENALTY_N3),v=this.modules[g][j],y=1);u+=this.finderPenaltyTerminateAndCount(v,y,N)*ot.PENALTY_N3}for(let g=0;g<this.size;g++){let v=!1,y=0,N=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][g]==v?(y++,y==5?u+=ot.PENALTY_N1:y>5&&u++):(this.finderPenaltyAddHistory(y,N),v||(u+=this.finderPenaltyCountPatterns(N)*ot.PENALTY_N3),v=this.modules[j][g],y=1);u+=this.finderPenaltyTerminateAndCount(v,y,N)*ot.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let v=0;v<this.size-1;v++){const y=this.modules[g][v];y==this.modules[g][v+1]&&y==this.modules[g+1][v]&&y==this.modules[g+1][v+1]&&(u+=ot.PENALTY_N2)}let h=0;for(const g of this.modules)h=g.reduce((v,y)=>v+(y?1:0),h);const m=this.size*this.size,p=Math.ceil(Math.abs(h*20-m*10)/m)-1;return a(0<=p&&p<=9),u+=p*ot.PENALTY_N4,a(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let m=[6];for(let p=this.size-7;m.length<u;p-=h)m.splice(1,0,p);return m}}static getNumRawDataModules(u){if(u<ot.MIN_VERSION||u>ot.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*u+128)*u+64;if(u>=2){const m=Math.floor(u/7)+2;h-=(25*m-10)*m-55,u>=7&&(h-=36)}return a(208<=h&&h<=29648),h}static getNumDataCodewords(u,h){return Math.floor(ot.getNumRawDataModules(u)/8)-ot.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u]*ot.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let h=[];for(let p=0;p<u-1;p++)h.push(0);h.push(1);let m=1;for(let p=0;p<u;p++){for(let g=0;g<h.length;g++)h[g]=ot.reedSolomonMultiply(h[g],m),g+1<h.length&&(h[g]^=h[g+1]);m=ot.reedSolomonMultiply(m,2)}return h}static reedSolomonComputeRemainder(u,h){let m=h.map(p=>0);for(const p of u){const g=p^m.shift();m.push(0),h.forEach((v,y)=>m[y]^=ot.reedSolomonMultiply(v,g))}return m}static reedSolomonMultiply(u,h){if(u>>>8||h>>>8)throw new RangeError("Byte out of range");let m=0;for(let p=7;p>=0;p--)m=m<<1^(m>>>7)*285,m^=(h>>>p&1)*u;return a(m>>>8==0),m}finderPenaltyCountPatterns(u){const h=u[1];a(h<=this.size*3);const m=h>0&&u[2]==h&&u[3]==h*3&&u[4]==h&&u[5]==h;return(m&&u[0]>=h*4&&u[6]>=h?1:0)+(m&&u[6]>=h*4&&u[0]>=h?1:0)}finderPenaltyTerminateAndCount(u,h,m){return u&&(this.finderPenaltyAddHistory(h,m),h=0),h+=this.size,this.finderPenaltyAddHistory(h,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(u,h){h[0]==0&&(u+=this.size),h.pop(),h.unshift(u)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(d,u,h){if(u<0||u>31||d>>>u)throw new RangeError("Value out of range");for(let m=u-1;m>=0;m--)h.push(d>>>m&1)}function r(d,u){return(d>>>u&1)!=0}function a(d){if(!d)throw new Error("Assertion error")}const i=class yn{constructor(u,h,m){if(this.mode=u,this.numChars=h,this.bitData=m,h<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(u){let h=[];for(const m of u)n(m,8,h);return new yn(yn.Mode.BYTE,u.length,h)}static makeNumeric(u){if(!yn.isNumeric(u))throw new RangeError("String contains non-numeric characters");let h=[];for(let m=0;m<u.length;){const p=Math.min(u.length-m,3);n(parseInt(u.substring(m,m+p),10),p*3+1,h),m+=p}return new yn(yn.Mode.NUMERIC,u.length,h)}static makeAlphanumeric(u){if(!yn.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],m;for(m=0;m+2<=u.length;m+=2){let p=yn.ALPHANUMERIC_CHARSET.indexOf(u.charAt(m))*45;p+=yn.ALPHANUMERIC_CHARSET.indexOf(u.charAt(m+1)),n(p,11,h)}return m<u.length&&n(yn.ALPHANUMERIC_CHARSET.indexOf(u.charAt(m)),6,h),new yn(yn.Mode.ALPHANUMERIC,u.length,h)}static makeSegments(u){return u==""?[]:yn.isNumeric(u)?[yn.makeNumeric(u)]:yn.isAlphanumeric(u)?[yn.makeAlphanumeric(u)]:[yn.makeBytes(yn.toUtf8ByteArray(u))]}static makeEci(u){let h=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)n(u,8,h);else if(u<16384)n(2,2,h),n(u,14,h);else if(u<1e6)n(6,3,h),n(u,21,h);else throw new RangeError("ECI assignment value out of range");return new yn(yn.Mode.ECI,0,h)}static isNumeric(u){return yn.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return yn.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,h){let m=0;for(const p of u){const g=p.mode.numCharCountBits(h);if(p.numChars>=1<<g)return 1/0;m+=4+g+p.bitData.length}return m}static toUtf8ByteArray(u){u=encodeURI(u);let h=[];for(let m=0;m<u.length;m++)u.charAt(m)!="%"?h.push(u.charCodeAt(m)):(h.push(parseInt(u.substring(m+1,m+3),16)),m+=2);return h}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=i;e.QrSegment=i})(bo||(bo={}));(e=>{(t=>{const n=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(bo||(bo={}));(e=>{(t=>{const n=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(bo||(bo={}));var Uc=bo;var eG={L:Uc.QrCode.Ecc.LOW,M:Uc.QrCode.Ecc.MEDIUM,Q:Uc.QrCode.Ecc.QUARTILE,H:Uc.QrCode.Ecc.HIGH},zT=128,UT="L",BT="#FFFFFF",qT="#000000",$T=!1,HT=1,tG=4,nG=0,sG=.1;function FT(e,t=0){const n=[];return e.forEach(function(r,a){let i=null;r.forEach(function(c,d){if(!c&&i!==null){n.push(`M${i+t} ${a+t}h${d-i}v1H${i+t}z`),i=null;return}if(d===r.length-1){if(!c)return;i===null?n.push(`M${d+t},${a+t} h1v1H${d+t}z`):n.push(`M${i+t},${a+t} h${d+1-i}v1H${i+t}z`);return}c&&i===null&&(i=d)})}),n.join("")}function VT(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function rG(e,t,n,r){if(r==null)return null;const a=e.length+n*2,i=Math.floor(t*sG),c=a/t,d=(r.width||i)*c,u=(r.height||i)*c,h=r.x==null?e.length/2-d/2:r.x*c,m=r.y==null?e.length/2-u/2:r.y*c,p=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let y=Math.floor(h),N=Math.floor(m),j=Math.ceil(d+h-y),_=Math.ceil(u+m-N);g={x:y,y:N,w:j,h:_}}const v=r.crossOrigin;return{x:h,y:m,h:u,w:d,excavation:g,opacity:p,crossOrigin:v}}function aG(e,t){return t!=null?Math.max(Math.floor(t),0):e?tG:nG}function GT({value:e,level:t,minVersion:n,includeMargin:r,marginSize:a,imageSettings:i,size:c,boostLevel:d}){let u=_e.useMemo(()=>{const y=(Array.isArray(e)?e:[e]).reduce((N,j)=>(N.push(...Uc.QrSegment.makeSegments(j)),N),[]);return Uc.QrCode.encodeSegments(y,eG[t],n,void 0,void 0,d)},[e,t,n,d]);const{cells:h,margin:m,numCells:p,calculatedImageSettings:g}=_e.useMemo(()=>{let v=u.getModules();const y=aG(r,a),N=v.length+y*2,j=rG(v,c,y,i);return{cells:v,margin:y,numCells:N,calculatedImageSettings:j}},[u,c,i,r,a]);return{qrcode:u,margin:m,cells:h,numCells:p,calculatedImageSettings:g}}var iG=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),lG=_e.forwardRef(function(t,n){const r=t,{value:a,size:i=zT,level:c=UT,bgColor:d=BT,fgColor:u=qT,includeMargin:h=$T,minVersion:m=HT,boostLevel:p,marginSize:g,imageSettings:v}=r,N=cj(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=N,_=cj(N,["style"]),C=v?.src,E=_e.useRef(null),k=_e.useRef(null),O=_e.useCallback(Z=>{E.current=Z,typeof n=="function"?n(Z):n&&(n.current=Z)},[n]),[T,D]=_e.useState(!1),{margin:P,cells:X,numCells:ae,calculatedImageSettings:G}=GT({value:a,level:c,minVersion:m,boostLevel:p,includeMargin:h,marginSize:g,imageSettings:v,size:i});_e.useEffect(()=>{if(E.current!=null){const Z=E.current,fe=Z.getContext("2d");if(!fe)return;let U=X;const L=k.current,I=G!=null&&L!==null&&L.complete&&L.naturalHeight!==0&&L.naturalWidth!==0;I&&G.excavation!=null&&(U=VT(X,G.excavation));const se=window.devicePixelRatio||1;Z.height=Z.width=i*se;const ye=i/ae*se;fe.scale(ye,ye),fe.fillStyle=d,fe.fillRect(0,0,ae,ae),fe.fillStyle=u,iG?fe.fill(new Path2D(FT(U,P))):X.forEach(function(z,V){z.forEach(function(re,$){re&&fe.fillRect($+P,V+P,1,1)})}),G&&(fe.globalAlpha=G.opacity),I&&fe.drawImage(L,G.x+P,G.y+P,G.w,G.h)}}),_e.useEffect(()=>{D(!1)},[C]);const M=oj({height:i,width:i},j);let Y=null;return C!=null&&(Y=_e.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{D(!0)},ref:k,crossOrigin:G?.crossOrigin})),_e.createElement(_e.Fragment,null,_e.createElement("canvas",oj({style:M,height:i,width:i,ref:O,role:"img"},_)),Y)});lG.displayName="QRCodeCanvas";var KT=_e.forwardRef(function(t,n){const r=t,{value:a,size:i=zT,level:c=UT,bgColor:d=BT,fgColor:u=qT,includeMargin:h=$T,minVersion:m=HT,boostLevel:p,title:g,marginSize:v,imageSettings:y}=r,N=cj(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:_,numCells:C,calculatedImageSettings:E}=GT({value:a,level:c,minVersion:m,boostLevel:p,includeMargin:h,marginSize:v,imageSettings:y,size:i});let k=_,O=null;y!=null&&E!=null&&(E.excavation!=null&&(k=VT(_,E.excavation)),O=_e.createElement("image",{href:y.src,height:E.h,width:E.w,x:E.x+j,y:E.y+j,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const T=FT(k,j);return _e.createElement("svg",oj({height:i,width:i,viewBox:`0 0 ${C} ${C}`,ref:n,role:"img"},N),!!g&&_e.createElement("title",null,g),_e.createElement("path",{fill:d,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),_e.createElement("path",{fill:u,d:T,shapeRendering:"crispEdges"}),O)});KT.displayName="QRCodeSVG";const oG=[{key:"profile",label:"Profile",icon:Cn},{key:"academic",label:"Academic",icon:pt,roles:["student"]},{key:"credentials",label:"Credentials",icon:Yu,roles:["student"]},{key:"security",label:"Security",icon:dn},{key:"notifications",label:"Notifications",icon:$w}],cG=["Emergency Medicine","Family Practice","Internal Medicine","Pediatrics","OB/GYN","Surgery","Orthopedics","Cardiology","Neurology","Psychiatry","Dermatology","Oncology","ICU/Critical Care","Geriatrics","Physical Therapy","Social Work","Urgent Care","Rehabilitation","Community Health","Telehealth"];function dG(){const{user:e}=Je(),[t,n]=b.useState("profile"),r=oG.filter(a=>!a.roles||a.roles.includes(e?.role||""));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Settings"}),s.jsx("p",{className:"text-stone-500",children:"Manage your account and preferences"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-56 shrink-0",children:s.jsx(Q,{padding:"sm",children:s.jsx("nav",{className:"flex lg:flex-col gap-1 overflow-x-auto",children:r.map(a=>{const i=a.icon;return s.jsxs("button",{onClick:()=>n(a.key),className:`flex items-center gap-2.5 px-3 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ${t===a.key?"bg-primary-50 text-primary-700":"text-stone-600 hover:bg-stone-50"}`,children:[s.jsx(i,{className:"w-4 h-4 shrink-0"}),a.label]},a.key)})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[t==="profile"&&s.jsx(uG,{}),t==="academic"&&s.jsx(fG,{}),t==="credentials"&&s.jsx(mG,{}),t==="security"&&s.jsx(hG,{}),t==="notifications"&&s.jsx(xG,{})]})]})]})}function uG(){const{user:e}=Je(),[t,n]=b.useState({first_name:e?.firstName||"",last_name:e?.lastName||"",phone:e?.phone||""}),[r,a]=b.useState(!1),i=async()=>{a(!0);try{await Ss.updateProfile(t),J.success("Profile updated successfully")}catch(d){const u=d instanceof Error?d.message:"Failed to update profile";J.error(u)}finally{a(!1)}},c=`${e?.firstName?.charAt(0)||""}${e?.lastName?.charAt(0)||""}`.toUpperCase();return s.jsxs(Q,{children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Personal Information"}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-400 to-secondary-500 flex items-center justify-center text-white text-xl font-bold",children:c}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-stone-900",children:[e?.firstName," ",e?.lastName]}),s.jsx(ge,{variant:"primary",children:e?.role?.replace("_"," ")})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx($e,{label:"First Name",value:t.first_name,onChange:d=>n({...t,first_name:d.target.value}),icon:s.jsx(Cn,{className:"w-4 h-4"})}),s.jsx($e,{label:"Last Name",value:t.last_name,onChange:d=>n({...t,last_name:d.target.value})})]}),s.jsx($e,{label:"Email",type:"email",value:e?.email||"",disabled:!0,icon:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsx($e,{label:"Phone",type:"tel",placeholder:"(555) 123-4567",value:t.phone,onChange:d=>n({...t,phone:d.target.value}),icon:s.jsx(Or,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex justify-end pt-2",children:s.jsxs(q,{onClick:i,isLoading:r,children:[s.jsx(Sf,{className:"w-4 h-4"})," Save Changes"]})})]})]})}function fG(){const{data:e,isLoading:t}=GH(),n=KH(),{data:r}=Io(),a=r?.data||[],i=e?.profile,[c,d]=b.useState({university_id:"",program_id:"",bio:"",graduation_date:"",gpa:"",clinical_interests:[]}),[u,h]=b.useState([]),[m,p]=b.useState(!1);i&&!m&&(d({university_id:i.university_id||"",program_id:i.program_id||"",bio:i.bio||"",graduation_date:i.graduation_date||"",gpa:i.gpa?String(i.gpa):"",clinical_interests:i.clinical_interests||[]}),i.university_id&&ul.programs(i.university_id).then(h),p(!0));const g=async N=>{if(d(j=>({...j,university_id:N,program_id:""})),h([]),N){const j=await ul.programs(N);h(j)}},v=N=>{d(j=>({...j,clinical_interests:j.clinical_interests.includes(N)?j.clinical_interests.filter(_=>_!==N):[...j.clinical_interests,N]}))},y=async()=>{try{await n.mutateAsync({university_id:c.university_id||null,program_id:c.program_id||null,bio:c.bio||null,graduation_date:c.graduation_date||null,gpa:c.gpa?parseFloat(c.gpa):null,clinical_interests:c.clinical_interests}),J.success("Academic info updated")}catch(N){const j=N instanceof Error?N.message:"Failed to update";J.error(j)}};return t?s.jsx(Q,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Q,{children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Academic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"University"}),s.jsxs("select",{value:c.university_id,onChange:N=>g(N.target.value),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select university..."}),a.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Program"}),s.jsxs("select",{value:c.program_id,onChange:N=>d(j=>({...j,program_id:N.target.value})),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",disabled:!c.university_id,children:[s.jsx("option",{value:"",children:c.university_id?"Select program...":"Select university first"}),u.map(N=>s.jsxs("option",{value:N.id,children:[N.name," (",N.degree_type,") - ",N.required_hours,"h required"]},N.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx($e,{label:"Expected Graduation",type:"date",value:c.graduation_date,onChange:N=>d({...c,graduation_date:N.target.value})}),s.jsx($e,{label:"GPA",type:"number",step:"0.01",min:"0",max:"4.0",placeholder:"3.50",value:c.gpa,onChange:N=>d({...c,gpa:N.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Bio"}),s.jsx("textarea",{value:c.bio,onChange:N=>d({...c,bio:N.target.value}),rows:3,placeholder:"Tell preceptors about yourself...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]})]})]}),s.jsxs(Q,{children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Clinical Interests"}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Select the specialties you're interested in"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:cG.map(N=>s.jsx("button",{onClick:()=>v(N),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${c.clinical_interests.includes(N)?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:N},N))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(q,{onClick:y,isLoading:n.isPending,children:[s.jsx(Sf,{className:"w-4 h-4"})," Save Academic Info"]})})]})}function mG(){const{data:e,isLoading:t}=ST(),n=YH(),r=WH(),a=QH(),[i,c]=b.useState(!1),[d,u]=b.useState({type:"cpr",name:"",expiration_date:""}),h=new Map,m=e?.credentials||[],p=async()=>{if(!d.name){J.error("Please enter a credential name");return}try{await n.mutateAsync({type:d.type,name:d.name,expiration_date:d.expiration_date||null,status:"pending"}),J.success("Credential added"),c(!1),u({type:"cpr",name:"",expiration_date:""})}catch(j){const _=j instanceof Error?j.message:"Failed to add";J.error(_)}},g=async j=>{try{await r.mutateAsync(j),J.success("Credential removed")}catch(_){const C=_ instanceof Error?_.message:"Failed to remove";J.error(C)}},v=async(j,_)=>{if(_.size>20971520){J.error("File too large. Maximum size is 20MB.");return}try{await a.mutateAsync({id:j,file:_}),J.success("Document uploaded successfully")}catch(E){const k=E instanceof Error?E.message:"Failed to upload";J.error(k)}},y=j=>{switch(j){case"valid":return"success";case"expiring_soon":return"warning";case"expired":return"danger";default:return"default"}},N=j=>j<1024?j+" B":j<1024*1024?(j/1024).toFixed(1)+" KB":(j/(1024*1024)).toFixed(1)+" MB";return t?s.jsx(Q,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"Credentials & Documents"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Manage your clinical credentials and upload supporting documents"})]}),s.jsxs(q,{size:"sm",onClick:()=>c(!i),children:[s.jsx(Ct,{className:"w-4 h-4"})," Add"]})]}),i&&s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 mb-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Type"}),s.jsxs("select",{value:d.type,onChange:j=>u({...d,type:j.target.value}),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"cpr",children:"CPR/BLS"}),s.jsx("option",{value:"background_check",children:"Background Check"}),s.jsx("option",{value:"immunization",children:"Immunization Records"}),s.jsx("option",{value:"liability_insurance",children:"Liability Insurance"}),s.jsx("option",{value:"drug_screen",children:"Drug Screen"}),s.jsx("option",{value:"license",children:"License/Certification"}),s.jsx("option",{value:"hipaa",children:"HIPAA Training"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsx($e,{label:"Name",placeholder:"e.g. BLS Certification",value:d.name,onChange:j=>u({...d,name:j.target.value})}),s.jsx($e,{label:"Expiration Date",type:"date",value:d.expiration_date,onChange:j=>u({...d,expiration_date:j.target.value})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:"Cancel"}),s.jsx(q,{size:"sm",onClick:p,isLoading:n.isPending,children:"Add Credential"})]})]}),s.jsxs("div",{className:"space-y-3",children:[m.length===0&&s.jsxs("div",{className:"text-center py-8 text-stone-400",children:[s.jsx(Yu,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No credentials added yet"})]}),m.map(j=>s.jsxs("div",{className:"p-4 rounded-xl border border-stone-200 hover:border-stone-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Yu,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-stone-900 text-sm",children:j.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-stone-500 capitalize",children:j.type.replace("_"," ")}),j.expiration_date&&s.jsxs("span",{className:"text-xs text-stone-400 flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3 h-3"}),"Exp: ",new Date(j.expiration_date).toLocaleDateString()]})]})]}),s.jsx(ge,{variant:y(j.status),children:j.status.replace("_"," ")}),s.jsx("button",{onClick:()=>g(j.id),className:"p-1.5 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-500 transition-colors",children:s.jsx(hn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mt-3 ml-14",children:[j.file_name?s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Qc,{className:"w-3.5 h-3.5 text-stone-400"}),s.jsx("span",{className:"text-stone-600 truncate",children:j.file_name}),j.file_size&&s.jsxs("span",{className:"text-xs text-stone-400",children:["(",N(j.file_size),")"]}),s.jsxs("a",{href:Ro.downloadCredentialUrl(j.id),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 font-medium ml-1",children:[s.jsx(Ys,{className:"w-3 h-3"})," Download"]}),s.jsxs("button",{onClick:()=>h.get(j.id)?.click(),className:"inline-flex items-center gap-1 text-xs text-stone-500 hover:text-stone-700 font-medium ml-1",children:[s.jsx(Jr,{className:"w-3 h-3"})," Replace"]})]}):s.jsxs("button",{onClick:()=>h.get(j.id)?.click(),disabled:a.isPending,className:"inline-flex items-center gap-1.5 text-xs text-primary-600 hover:text-primary-700 font-medium py-1 px-2 rounded-lg hover:bg-primary-50 transition-colors disabled:opacity-50",children:[a.isPending?s.jsx(Et,{className:"w-3 h-3 animate-spin"}):s.jsx(Jr,{className:"w-3 h-3"}),"Upload Document"]}),s.jsx("input",{ref:_=>{_&&h.set(j.id,_)},type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden",onChange:_=>{_.target.files?.[0]&&(v(j.id,_.target.files[0]),_.target.value="")}})]})]},j.id))]})]})})}function hG(){const[e,t]=b.useState({current:"",newPass:"",confirm:""}),[n,r]=b.useState(!1),a=async()=>{if(e.newPass!==e.confirm){J.error("Passwords do not match");return}if(e.newPass.length<8){J.error("Password must be at least 8 characters");return}r(!0);try{await new Promise(i=>setTimeout(i,1e3)),J.success("Password updated successfully"),t({current:"",newPass:"",confirm:""})}catch{J.error("Failed to update password")}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Q,{children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Change Password"}),s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsx($e,{label:"Current Password",type:"password",value:e.current,onChange:i=>t({...e,current:i.target.value}),placeholder:"Enter current password"}),s.jsx($e,{label:"New Password",type:"password",value:e.newPass,onChange:i=>t({...e,newPass:i.target.value}),placeholder:"Enter new password (min 8 chars)"}),s.jsx($e,{label:"Confirm New Password",type:"password",value:e.confirm,onChange:i=>t({...e,confirm:i.target.value}),placeholder:"Confirm new password"}),s.jsx("div",{className:"flex justify-end pt-2",children:s.jsxs(q,{onClick:a,isLoading:n,children:[s.jsx(dn,{className:"w-4 h-4"})," Update Password"]})})]})]}),s.jsx(pG,{})]})}function pG(){const{data:e,isLoading:t}=oF(),n=cF(),r=dF(),a=uF(),i=fF(),[c,d]=b.useState(null),[u,h]=b.useState(""),[m,p]=b.useState(null),[g,v]=b.useState(""),[y,N]=b.useState(!1),[j,_]=b.useState(!1),[C,E]=b.useState(""),[k,O]=b.useState(!1),T=e?.mfa_enabled??!1,D=async()=>{try{const Y=await n.mutateAsync();d(Y),h(""),p(null)}catch(Y){J.error(Y.message||"Failed to initiate MFA setup.")}},P=async()=>{if(u.length!==6){J.error("Please enter a 6-digit code");return}try{const Y=await r.mutateAsync(u);J.success(Y.message),p(Y.backup_codes),d(null),h("")}catch(Y){J.error(Y.message||"Invalid code.")}},X=async()=>{try{const Y=await a.mutateAsync(g);J.success(Y.message),N(!1),v(""),p(null)}catch(Y){J.error(Y.message||"Failed to disable MFA.")}},ae=async()=>{try{const Y=await i.mutateAsync(C);J.success(Y.message),p(Y.backup_codes),_(!1),E("")}catch(Y){J.error(Y.message||"Failed to regenerate backup codes.")}},G=()=>{m&&(navigator.clipboard.writeText(m.join(`
`)),O(!0),setTimeout(()=>O(!1),2e3))},M=()=>{if(!m)return;const Y=`ClinicLink Backup Codes
${"=".repeat(30)}

${m.join(`
`)}

Keep these codes in a safe place.
Each code can only be used once.`,Z=new Blob([Y],{type:"text/plain"}),fe=URL.createObjectURL(Z),U=document.createElement("a");U.href=fe,U.download="cliniclink-backup-codes.txt",U.click(),URL.revokeObjectURL(fe)};return t?s.jsx(Q,{children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})})}):m?s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-lg font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(Wv,{className:"w-5 h-5 text-primary-500"})," Backup Codes"]}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Save these codes in a safe place. Each code can only be used once to sign in if you lose access to your authenticator app."}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-w-sm mb-4",children:m.map((Y,Z)=>s.jsx("code",{className:"px-3 py-2 bg-stone-100 rounded-lg text-sm font-mono text-stone-900 text-center",children:Y},Z))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:G,children:[k?s.jsx(Nf,{className:"w-4 h-4"}):s.jsx(Hw,{className:"w-4 h-4"}),k?"Copied":"Copy All"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:M,children:[s.jsx(Ys,{className:"w-4 h-4"})," Download"]}),s.jsx(q,{size:"sm",onClick:()=>p(null),children:"Done"})]})]}):c?s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-lg font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(cs,{className:"w-5 h-5 text-primary-500"})," Set Up Two-Factor Authentication"]}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Scan the QR code below with your authenticator app (Google Authenticator, Authy, etc.), then enter the 6-digit code to verify."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-start",children:[s.jsx("div",{className:"bg-white p-4 rounded-xl border border-stone-200 shrink-0",children:s.jsx(KT,{value:c.qr_code_url,size:180})}),s.jsxs("div",{className:"space-y-4 flex-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Manual entry key"}),s.jsx("code",{className:"block px-3 py-2 bg-stone-100 rounded-lg text-sm font-mono text-stone-900 break-all select-all",children:c.secret})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Verification Code"}),s.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:u,onChange:Y=>h(Y.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full max-w-[200px] rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-lg font-mono tracking-widest text-center focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:P,isLoading:r.isPending,disabled:u.length!==6,children:[s.jsx(cs,{className:"w-4 h-4"})," Verify & Enable"]}),s.jsx(q,{variant:"outline",onClick:()=>d(null),children:"Cancel"})]})]})]})]}):T?s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-stone-900 flex items-center gap-2",children:[s.jsx(cs,{className:"w-5 h-5 text-green-500"})," Two-Factor Authentication"]}),s.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"Your account is protected with 2FA."})]}),s.jsx(ge,{variant:"success",children:"Enabled"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Authenticator App"}),s.jsxs("p",{className:"text-xs text-stone-500",children:["Enabled ",e?.mfa_confirmed_at?new Date(e.mfa_confirmed_at).toLocaleDateString():""]})]}),s.jsx(ge,{variant:"success",size:"sm",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Backup Codes"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[e?.backup_codes_remaining??0," codes remaining"]})]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>_(!0),children:[s.jsx(Wv,{className:"w-4 h-4"})," Regenerate"]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-stone-200",children:s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>N(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(eH,{className:"w-4 h-4"})," Disable 2FA"]})}),y&&s.jsxs("div",{className:"mt-4 p-4 bg-red-50 rounded-xl space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Confirm your password to disable 2FA"}),s.jsx($e,{type:"password",value:g,onChange:Y=>v(Y.target.value),placeholder:"Enter your password"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"danger",size:"sm",onClick:X,isLoading:a.isPending,children:"Disable 2FA"}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{N(!1),v("")},children:"Cancel"})]})]}),j&&s.jsxs("div",{className:"mt-4 p-4 bg-amber-50 rounded-xl space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Confirm your password to regenerate backup codes"}),s.jsx("p",{className:"text-xs text-amber-700",children:"This will invalidate all existing backup codes."}),s.jsx($e,{type:"password",value:C,onChange:Y=>E(Y.target.value),placeholder:"Enter your password"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{size:"sm",onClick:ae,isLoading:i.isPending,children:[s.jsx(Wv,{className:"w-4 h-4"})," Regenerate Codes"]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{_(!1),E("")},children:"Cancel"})]})]})]}):s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-lg font-semibold text-stone-900 mb-2 flex items-center gap-2",children:[s.jsx(dn,{className:"w-5 h-5 text-stone-400"})," Two-Factor Authentication"]}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Add an extra layer of security to your account by requiring a verification code from your authenticator app when signing in."}),s.jsx("div",{className:"bg-stone-50 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(cs,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Authenticator App"}),s.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:"Use an app like Google Authenticator, Authy, or 1Password to generate verification codes."})]})]})}),s.jsxs(q,{onClick:D,isLoading:n.isPending,children:[s.jsx(cs,{className:"w-4 h-4"})," Enable Two-Factor Authentication"]})]})}function xG(){const{user:e}=Je(),{data:t,isLoading:n}=gF(),r=vF(),[a,i]=b.useState(null),c=a??t?.preferences??{application_updates:!0,hour_log_reviews:!0,evaluations:!0,site_join_requests:!0,reminders:!0,product_updates:!1};t?.preferences&&!a&&i({...t.preferences});const d=g=>{i(v=>({...v,[g]:!v[g]}))},u=async()=>{if(a)try{await r.mutateAsync(a),J.success("Notification preferences saved")}catch(g){const v=g instanceof Error?g.message:"Failed to save preferences";J.error(v)}},h=e?.role||"student",p=[{key:"application_updates",label:"Application Updates",desc:"New applications, status changes, and review notifications"},{key:"hour_log_reviews",label:"Hour Log Reviews",desc:"Notifications when hour logs are submitted or reviewed"},{key:"evaluations",label:"Evaluations",desc:"Notifications about new evaluations"},{key:"site_join_requests",label:"Site Join Requests",desc:"Requests to join sites, approvals, and assignments"},{key:"reminders",label:"Reminders",desc:"Reminders for upcoming deadlines and tasks"},{key:"product_updates",label:"Product Updates",desc:"Hear about new features and improvements"}].filter(g=>!g.roles||g.roles.includes(h));return n?s.jsx(Q,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})})}):s.jsxs(Q,{children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Notification Preferences"}),s.jsx("div",{className:"space-y-4",children:p.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-stone-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-stone-900 text-sm",children:g.label}),s.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:g.desc})]}),s.jsx("button",{onClick:()=>d(g.key),className:`relative w-11 h-6 rounded-full transition-colors ${c[g.key]?"bg-primary-500":"bg-stone-300"}`,children:s.jsx("div",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${c[g.key]?"translate-x-5.5 left-0.5":"left-0.5"}`})})]},g.key))}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(q,{onClick:u,isLoading:r.isPending,children:[s.jsx(Sf,{className:"w-4 h-4"})," Save Preferences"]})})]})}var Ex,Ve,YT,WT,Zc,so,pE,QT,XT,lp={},ZT=[],gG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function nl(e,t){for(var n in t)e[n]=t[n];return e}function JT(e){var t=e.parentNode;t&&t.removeChild(e)}function B(e,t,n){var r,a,i,c={};for(i in t)i=="key"?r=t[i]:i=="ref"?a=t[i]:c[i]=t[i];if(arguments.length>2&&(c.children=arguments.length>3?Ex.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)c[i]===void 0&&(c[i]=e.defaultProps[i]);return Bh(e,c,r,a,null)}function Bh(e,t,n,r,a){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++YT};return a==null&&Ve.vnode!=null&&Ve.vnode(i),i}function Es(){return{current:null}}function Lt(e){return e.children}function vG(e,t,n,r,a){var i;for(i in n)i==="children"||i==="key"||i in t||op(e,i,null,n[i],r);for(i in t)a&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===t[i]||op(e,i,t[i],n[i],r)}function xE(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||gG.test(t)?n:n+"px"}function op(e,t,n,r,a){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||xE(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||xE(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?vE:gE,i):e.removeEventListener(t,i?vE:gE,i);else if(t!=="dangerouslySetInnerHTML"){if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function gE(e){Zc=!0;try{return this.l[e.type+!1](Ve.event?Ve.event(e):e)}finally{Zc=!1}}function vE(e){Zc=!0;try{return this.l[e.type+!0](Ve.event?Ve.event(e):e)}finally{Zc=!1}}function ir(e,t){this.props=e,this.context=t}function Qu(e,t){if(t==null)return e.__?Qu(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Qu(e):null}function eR(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return eR(e)}}function yG(e){Zc?setTimeout(e):QT(e)}function dj(e){(!e.__d&&(e.__d=!0)&&so.push(e)&&!cp.__r++||pE!==Ve.debounceRendering)&&((pE=Ve.debounceRendering)||yG)(cp)}function cp(){var e,t,n,r,a,i,c,d;for(so.sort(function(u,h){return u.__v.__b-h.__v.__b});e=so.shift();)e.__d&&(t=so.length,r=void 0,a=void 0,c=(i=(n=e).__v).__e,(d=n.__P)&&(r=[],(a=nl({},i)).__v=i.__v+1,Xw(d,i,a,n.__n,d.ownerSVGElement!==void 0,i.__h!=null?[c]:null,r,c??Qu(i),i.__h),aR(r,i),i.__e!=c&&eR(i)),so.length>t&&so.sort(function(u,h){return u.__v.__b-h.__v.__b}));cp.__r=0}function tR(e,t,n,r,a,i,c,d,u,h){var m,p,g,v,y,N,j,_=r&&r.__k||ZT,C=_.length;for(n.__k=[],m=0;m<t.length;m++)if((v=n.__k[m]=(v=t[m])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?Bh(null,v,null,null,v):Array.isArray(v)?Bh(Lt,{children:v},null,null,null):v.__b>0?Bh(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=n,v.__b=n.__b+1,(g=_[m])===null||g&&v.key==g.key&&v.type===g.type)_[m]=void 0;else for(p=0;p<C;p++){if((g=_[p])&&v.key==g.key&&v.type===g.type){_[p]=void 0;break}g=null}Xw(e,v,g=g||lp,a,i,c,d,u,h),y=v.__e,(p=v.ref)&&g.ref!=p&&(j||(j=[]),g.ref&&j.push(g.ref,null,v),j.push(p,v.__c||y,v)),y!=null?(N==null&&(N=y),typeof v.type=="function"&&v.__k===g.__k?v.__d=u=nR(v,u,e):u=sR(e,v,g,_,y,u),typeof n.type=="function"&&(n.__d=u)):u&&g.__e==u&&u.parentNode!=e&&(u=Qu(g))}for(n.__e=N,m=C;m--;)_[m]!=null&&(typeof n.type=="function"&&_[m].__e!=null&&_[m].__e==n.__d&&(n.__d=rR(r).nextSibling),lR(_[m],_[m]));if(j)for(m=0;m<j.length;m++)iR(j[m],j[++m],j[++m])}function nR(e,t,n){for(var r,a=e.__k,i=0;a&&i<a.length;i++)(r=a[i])&&(r.__=e,t=typeof r.type=="function"?nR(r,t,n):sR(n,r,r,a,r.__e,t));return t}function dp(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){dp(n,t)}):t.push(e)),t}function sR(e,t,n,r,a,i){var c,d,u;if(t.__d!==void 0)c=t.__d,t.__d=void 0;else if(n==null||a!=i||a.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(a),c=null;else{for(d=i,u=0;(d=d.nextSibling)&&u<r.length;u+=1)if(d==a)break e;e.insertBefore(a,i),c=i}return c!==void 0?c:a.nextSibling}function rR(e){var t,n,r;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=rR(n)))return r}return null}function Xw(e,t,n,r,a,i,c,d,u){var h,m,p,g,v,y,N,j,_,C,E,k,O,T,D,P=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,d=t.__e=n.__e,t.__h=null,i=[d]),(h=Ve.__b)&&h(t);try{e:if(typeof P=="function"){if(j=t.props,_=(h=P.contextType)&&r[h.__c],C=h?_?_.props.value:h.__:r,n.__c?N=(m=t.__c=n.__c).__=m.__E:("prototype"in P&&P.prototype.render?t.__c=m=new P(j,C):(t.__c=m=new ir(j,C),m.constructor=P,m.render=jG),_&&_.sub(m),m.props=j,m.state||(m.state={}),m.context=C,m.__n=r,p=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),P.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=nl({},m.__s)),nl(m.__s,P.getDerivedStateFromProps(j,m.__s))),g=m.props,v=m.state,m.__v=t,p)P.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(P.getDerivedStateFromProps==null&&j!==g&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(j,C),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(j,m.__s,C)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(m.props=j,m.state=m.__s,m.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(X){X&&(X.__=t)}),E=0;E<m._sb.length;E++)m.__h.push(m._sb[E]);m._sb=[],m.__h.length&&c.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(j,m.__s,C),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(g,v,y)})}if(m.context=C,m.props=j,m.__P=e,k=Ve.__r,O=0,"prototype"in P&&P.prototype.render){for(m.state=m.__s,m.__d=!1,k&&k(t),h=m.render(m.props,m.state,m.context),T=0;T<m._sb.length;T++)m.__h.push(m._sb[T]);m._sb=[]}else do m.__d=!1,k&&k(t),h=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++O<25);m.state=m.__s,m.getChildContext!=null&&(r=nl(nl({},r),m.getChildContext())),p||m.getSnapshotBeforeUpdate==null||(y=m.getSnapshotBeforeUpdate(g,v)),D=h!=null&&h.type===Lt&&h.key==null?h.props.children:h,tR(e,Array.isArray(D)?D:[D],t,n,r,a,i,c,d,u),m.base=t.__e,t.__h=null,m.__h.length&&c.push(m),N&&(m.__E=m.__=null),m.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=bG(n.__e,t,n,r,a,i,c,u);(h=Ve.diffed)&&h(t)}catch(X){t.__v=null,(u||i!=null)&&(t.__e=d,t.__h=!!u,i[i.indexOf(d)]=null),Ve.__e(X,t,n)}}function aR(e,t){Ve.__c&&Ve.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){Ve.__e(r,n.__v)}})}function bG(e,t,n,r,a,i,c,d){var u,h,m,p=n.props,g=t.props,v=t.type,y=0;if(v==="svg"&&(a=!0),i!=null){for(;y<i.length;y++)if((u=i[y])&&"setAttribute"in u==!!v&&(v?u.localName===v:u.nodeType===3)){e=u,i[y]=null;break}}if(e==null){if(v===null)return document.createTextNode(g);e=a?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,g.is&&g),i=null,d=!1}if(v===null)p===g||d&&e.data===g||(e.data=g);else{if(i=i&&Ex.call(e.childNodes),h=(p=n.props||lp).dangerouslySetInnerHTML,m=g.dangerouslySetInnerHTML,!d){if(i!=null)for(p={},y=0;y<e.attributes.length;y++)p[e.attributes[y].name]=e.attributes[y].value;(m||h)&&(m&&(h&&m.__html==h.__html||m.__html===e.innerHTML)||(e.innerHTML=m&&m.__html||""))}if(vG(e,g,p,a,d),m)t.__k=[];else if(y=t.props.children,tR(e,Array.isArray(y)?y:[y],t,n,r,a&&v!=="foreignObject",i,c,i?i[0]:n.__k&&Qu(n,0),d),i!=null)for(y=i.length;y--;)i[y]!=null&&JT(i[y]);d||("value"in g&&(y=g.value)!==void 0&&(y!==e.value||v==="progress"&&!y||v==="option"&&y!==p.value)&&op(e,"value",y,p.value,!1),"checked"in g&&(y=g.checked)!==void 0&&y!==e.checked&&op(e,"checked",y,p.checked,!1))}return e}function iR(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){Ve.__e(r,n)}}function lR(e,t,n){var r,a;if(Ve.unmount&&Ve.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||iR(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){Ve.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&lR(r[a],t,n||typeof e.type!="function");n||e.__e==null||JT(e.__e),e.__=e.__e=e.__d=void 0}function jG(e,t,n){return this.constructor(e,n)}function Xu(e,t,n){var r,a,i;Ve.__&&Ve.__(e,t),a=(r=!1)?null:t.__k,i=[],Xw(t,e=t.__k=B(Lt,null,[e]),a||lp,lp,t.ownerSVGElement!==void 0,a?null:t.firstChild?Ex.call(t.childNodes):null,i,a?a.__e:t.firstChild,r),aR(i,e)}function wG(e,t){var n={__c:t="__cC"+XT++,__:e,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,i;return this.getChildContext||(a=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&a.some(function(d){d.__e=!0,dj(d)})},this.sub=function(c){a.push(c);var d=c.componentWillUnmount;c.componentWillUnmount=function(){a.splice(a.indexOf(c),1),d&&d.call(c)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Ex=ZT.slice,Ve={__e:function(e,t,n,r){for(var a,i,c;t=t.__;)if((a=t.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(e)),c=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,r||{}),c=a.__d),c)return a.__E=a}catch(d){e=d}throw e}},YT=0,WT=function(e){return e!=null&&e.constructor===void 0},Zc=!1,ir.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=nl({},this.state),typeof e=="function"&&(e=e(nl({},n),this.props)),e&&nl(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),dj(this))},ir.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),dj(this))},ir.prototype.render=Lt,so=[],QT=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cp.__r=0,XT=0;var ga,Qv,yE,oR=[],Xv=[],bE=Ve.__b,jE=Ve.__r,wE=Ve.diffed,NE=Ve.__c,SE=Ve.unmount;function NG(){for(var e;e=oR.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(qh),e.__H.__h.forEach(uj),e.__H.__h=[]}catch(t){e.__H.__h=[],Ve.__e(t,e.__v)}}Ve.__b=function(e){ga=null,bE&&bE(e)},Ve.__r=function(e){jE&&jE(e);var t=(ga=e.__c).__H;t&&(Qv===ga?(t.__h=[],ga.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Xv,n.__N=n.i=void 0})):(t.__h.forEach(qh),t.__h.forEach(uj),t.__h=[])),Qv=ga},Ve.diffed=function(e){wE&&wE(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(oR.push(t)!==1&&yE===Ve.requestAnimationFrame||((yE=Ve.requestAnimationFrame)||SG)(NG)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Xv&&(n.__=n.__V),n.i=void 0,n.__V=Xv})),Qv=ga=null},Ve.__c=function(e,t){t.some(function(n){try{n.__h.forEach(qh),n.__h=n.__h.filter(function(r){return!r.__||uj(r)})}catch(r){t.some(function(a){a.__h&&(a.__h=[])}),t=[],Ve.__e(r,n.__v)}}),NE&&NE(e,t)},Ve.unmount=function(e){SE&&SE(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{qh(r)}catch(a){t=a}}),n.__H=void 0,t&&Ve.__e(t,n.__v))};var _E=typeof requestAnimationFrame=="function";function SG(e){var t,n=function(){clearTimeout(r),_E&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);_E&&(t=requestAnimationFrame(n))}function qh(e){var t=ga,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ga=t}function uj(e){var t=ga;e.__c=e.__(),ga=t}function _G(e,t){for(var n in t)e[n]=t[n];return e}function CE(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function EE(e){this.props=e}(EE.prototype=new ir).isPureReactComponent=!0,EE.prototype.shouldComponentUpdate=function(e,t){return CE(this.props,e)||CE(this.state,t)};var AE=Ve.__b;Ve.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),AE&&AE(e)};var CG=Ve.__e;Ve.__e=function(e,t,n,r){if(e.then){for(var a,i=t;i=i.__;)if((a=i.__c)&&a.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t)}CG(e,t,n,r)};var kE=Ve.unmount;function cR(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=_G({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return cR(r,t,n)})),e}function dR(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return dR(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function Zv(){this.__u=0,this.t=null,this.__b=null}function uR(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function mh(){this.u=null,this.o=null}Ve.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),kE&&kE(e)},(Zv.prototype=new ir).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var a=uR(r.__v),i=!1,c=function(){i||(i=!0,n.__R=null,a?a(d):d())};n.__R=c;var d=function(){if(!--r.__u){if(r.state.__a){var h=r.state.__a;r.__v.__k[0]=dR(h,h.__c.__P,h.__c.__O)}var m;for(r.setState({__a:r.__b=null});m=r.t.pop();)m.forceUpdate()}},u=t.__h===!0;r.__u++||u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(c,c)},Zv.prototype.componentWillUnmount=function(){this.t=[]},Zv.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=cR(this.__b,n,r.__O=r.__P)}this.__b=null}var a=t.__a&&B(Lt,null,e.fallback);return a&&(a.__h=null),[B(Lt,null,t.__a?null:e.children),a]};var DE=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function EG(e){return this.getChildContext=function(){return e.context},e.children}function AG(e){var t=this,n=e.i;t.componentWillUnmount=function(){Xu(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,a){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),Xu(B(EG,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function kG(e,t){var n=B(AG,{__v:e,i:t});return n.containerInfo=t,n}(mh.prototype=new ir).__a=function(e){var t=this,n=uR(t.__v),r=t.o.get(e);return r[0]++,function(a){var i=function(){t.props.revealOrder?(r.push(a),DE(t,e,r)):a()};n?n(i):i()}},mh.prototype.render=function(e){this.u=null,this.o=new Map;var t=dp(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},mh.prototype.componentDidUpdate=mh.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){DE(e,n,t)})};var DG=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,OG=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,TG=typeof document<"u",RG=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};ir.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ir.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var OE=Ve.event;function MG(){}function PG(){return this.cancelBubble}function IG(){return this.defaultPrevented}Ve.event=function(e){return OE&&(e=OE(e)),e.persist=MG,e.isPropagationStopped=PG,e.isDefaultPrevented=IG,e.nativeEvent=e};var TE={configurable:!0,get:function(){return this.class}},RE=Ve.vnode;Ve.vnode=function(e){var t=e.type,n=e.props,r=n;if(typeof t=="string"){var a=t.indexOf("-")===-1;for(var i in r={},n){var c=n[i];TG&&i==="children"&&t==="noscript"||i==="value"&&"defaultValue"in n&&c==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&c===!0?c="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!RG(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():a&&OG.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():c===null&&(c=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=c)}t=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=dp(n.children).forEach(function(d){d.props.selected=r.value.indexOf(d.props.value)!=-1})),t=="select"&&r.defaultValue!=null&&(r.value=dp(n.children).forEach(function(d){d.props.selected=r.multiple?r.defaultValue.indexOf(d.props.value)!=-1:r.defaultValue==d.props.value})),e.props=r,n.class!=n.className&&(TE.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",TE))}e.$$typeof=DG,RE&&RE(e)};var ME=Ve.__r;Ve.__r=function(e){ME&&ME(e),e.__c};const fR=[],fj=new Map;function Ax(e){fR.push(e),fj.forEach(t=>{hR(t,e)})}function LG(e){e.isConnected&&e.getRootNode&&mR(e.getRootNode())}function mR(e){let t=fj.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=UG();n&&(t.nonce=n);const r=e===document?document.head:e,a=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,a)}fj.set(e,t),zG(t)}}function zG(e){for(const t of fR)hR(e,t)}function hR(e,t){const{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((a,i)=>{a=a.trim(),a&&n.insertRule(a+"}",r+i)})}let Jv;function UG(){return Jv===void 0&&(Jv=BG()),Jv}function BG(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&mR(document);var qG=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Ax(qG);class Zw{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:n}=this;n[t]=(n[t]||0)+1,this.clearTimeout()}resume(t="",n){let{pauseDepths:r}=this;t in r&&(n?delete r[t]:(r[t]-=1,r[t]<=0&&delete r[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Jw(e){e.parentNode&&e.parentNode.removeChild(e)}function gs(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if($G(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function $G(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function HG(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let a=0;a<n.length;a+=1){let i=n[a].querySelectorAll(t);for(let c=0;c<i.length;c+=1)r.push(i[c])}return r}const FG=/(top|left|right|bottom|width|height)$/i;function Bu(e,t){for(let n in t)pR(e,n,t[n])}function pR(e,t,n){n==null?e.style[t]="":typeof n=="number"&&FG.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function xR(e){var t,n;return(n=(t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])!==null&&n!==void 0?n:e.target}let PE=0;function ol(){return PE+=1,"fc-dom-"+PE}function kx(e){e.preventDefault()}function VG(e,t){return n=>{let r=gs(n.target,e);r&&t.call(r,n,r)}}function gR(e,t,n,r){let a=VG(n,r);return e.addEventListener(t,a),()=>{e.removeEventListener(t,a)}}function GG(e,t,n,r){let a;return gR(e,"mouseover",t,(i,c)=>{if(c!==a){a=c,n(i,c);let d=u=>{a=null,r(u,c),c.removeEventListener("mouseleave",d)};c.addEventListener("mouseleave",d)}})}const IE=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function KG(e,t){let n=r=>{t(r),IE.forEach(a=>{e.removeEventListener(a,n)})};IE.forEach(r=>{e.addEventListener(r,n)})}function vR(e){return Object.assign({onClick:e},yR(e))}function yR(e){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault())}}}let LE=0;function Lo(){return LE+=1,String(LE)}function eN(){document.body.classList.add("fc-not-allowed")}function tN(){document.body.classList.remove("fc-not-allowed")}function YG(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",kx)}function WG(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",kx)}function QG(e){e.addEventListener("contextmenu",kx)}function XG(e){e.removeEventListener("contextmenu",kx)}function ZG(e){let t=[],n=[],r,a;for(typeof e=="string"?n=e.split(/\s*,\s*/):typeof e=="function"?n=[e]:Array.isArray(e)&&(n=e),r=0;r<n.length;r+=1)a=n[r],typeof a=="string"?t.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&t.push({func:a});return t}function JG(e,t,n){let r,a;for(r=0;r<n.length;r+=1)if(a=eK(e,t,n[r]),a)return a;return 0}function eK(e,t,n){return n.func?n.func(e,t):tK(e[n.field],t[n.field])*(n.order||1)}function tK(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e=="string"||typeof t=="string"?String(e).localeCompare(String(t)):e-t}function Hc(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function qu(e,t,n){return typeof e=="function"?e(...t):typeof e=="string"?t.reduce((r,a,i)=>r.replace("$"+i,a||""),e):n}function nK(e,t){return e-t}function $h(e){return e%1===0}function sK(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const zE=["years","months","days","milliseconds"],rK=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ht(e,t){return typeof e=="string"?aK(e):typeof e=="object"&&e?UE(e):typeof e=="number"?UE({[t||"milliseconds"]:e}):null}function aK(e){let t=rK.exec(e);if(t){let n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function UE(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=n*7,t.specifiedWeeks=!0),t}function iK(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function mj(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function lK(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function oK(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function cK(e){return Fc(e)/365}function dK(e){return Fc(e)/30}function Fc(e){return Kr(e)/864e5}function Kr(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function nN(e,t){let n=null;for(let r=0;r<zE.length;r+=1){let a=zE[r];if(t[a]){let i=e[a]/t[a];if(!$h(i)||n!==null&&n!==i)return null;n=i}else if(e[a])return null}return n}function hj(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function pl(e,t,n){if(e===t)return!0;let r=e.length,a;if(r!==t.length)return!1;for(a=0;a<r;a+=1)if(!(n?n(e[a],t[a]):e[a]===t[a]))return!1;return!0}const uK=["sun","mon","tue","wed","thu","fri","sat"];function BE(e,t){let n=sl(e);return n[2]+=t*7,Vs(n)}function Rn(e,t){let n=sl(e);return n[2]+=t,Vs(n)}function xl(e,t){let n=sl(e);return n[6]+=t,Vs(n)}function fK(e,t){return Cl(e,t)/7}function Cl(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function mK(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function hK(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function pK(e,t){return(t.valueOf()-e.valueOf())/1e3}function xK(e,t){let n=$t(e),r=$t(t);return{years:0,months:0,days:Math.round(Cl(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function gK(e,t){let n=up(e,t);return n!==null&&n%7===0?n/7:null}function up(e,t){return rl(e)===rl(t)?Math.round(Cl(e,t)):null}function $t(e){return Vs([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function vK(e){return Vs([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function yK(e){return Vs([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function bK(e){return Vs([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function jK(e,t,n){let r=e.getUTCFullYear(),a=ey(e,r,t,n);if(a<1)return ey(e,r-1,t,n);let i=ey(e,r+1,t,n);return i>=1?Math.min(a,i):a}function ey(e,t,n,r){let a=Vs([t,0,1+wK(t,n,r)]),i=$t(e),c=Math.round(Cl(a,i));return Math.floor(c/7)+1}function wK(e,t,n){let r=7+t-n;return-((7+Vs([e,0,r]).getUTCDay()-t)%7)+r-1}function qE(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function $E(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function sl(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function Vs(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function bR(e){return!isNaN(e.valueOf())}function rl(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function jR(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(t==null?r=r.replace("Z",""):t!==0&&(r=r.replace("Z",sN(t,!0)))),r}function Cf(e){return e.toISOString().replace(/T.*$/,"")}function NK(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function SK(e){return Hc(e.getUTCHours(),2)+":"+Hc(e.getUTCMinutes(),2)+":"+Hc(e.getUTCSeconds(),2)}function sN(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=Math.round(r%60);return t?`${n+Hc(a,2)}:${Hc(i,2)}`:`GMT${n}${a}${i?`:${Hc(i,2)}`:""}`}function Fe(e,t,n){let r,a;return function(...i){if(!r)a=e.apply(this,i);else if(!pl(r,i)){let c=e.apply(this,i);(!t||!t(c,a))&&(a=c)}return r=i,a}}function Hh(e,t,n){let r,a;return i=>(r?ea(r,i)||(a=e.call(this,i)):a=e.call(this,i),r=i,a)}const ty={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},fp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},hh=/\s*([ap])\.?m\.?/i,_K=/,/g,CK=/\s+/g,EK=/\u200e/g,AK=/UTC|GMT/;class kK{constructor(t){let n={},r={},a=9;for(let i in t)i in ty?(r[i]=t[i],ty[i]<9&&(a=Math.min(ty[i],a))):(n[i]=t[i],i in fp&&(a=Math.min(fp[i],a)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=a,this.buildFormattingFunc=Fe(HE)}format(t,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(t)}formatRange(t,n,r,a){let{standardDateProps:i,extendedSettings:c}=this,d=PK(t.marker,n.marker,r.calendarSystem);if(!d)return this.format(t,r);let u=d;u>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(u=1);let h=this.format(t,r),m=this.format(n,r);if(h===m)return h;let p=IK(i,u),g=HE(p,c,r),v=g(t),y=g(n),N=LK(h,v,m,y),j=c.separator||a||r.defaultSeparator||"";return N?N.before+v+j+y+N.after:h+j+m}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function HE(e,t,n){let r=Object.keys(e).length;return r===1&&e.timeZoneName==="short"?a=>sN(a.timeZoneOffset):r===0&&t.week?a=>MK(n.computeWeekNumber(a.marker),n.weekText,n.weekTextLong,n.locale,t.week):DK(e,t,n)}function DK(e,t,n){e=Object.assign({},e),t=Object.assign({},t),OK(e,t),e.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,e),a;if(t.omitZeroMinute){let i=Object.assign({},e);delete i.minute,a=new Intl.DateTimeFormat(n.locale.codes,i)}return i=>{let{marker:c}=i,d;a&&!c.getUTCMinutes()?d=a:d=r;let u=d.format(c);return TK(u,i,e,t,n)}}function OK(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),e.timeZoneName==="long"&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function TK(e,t,n,r,a){return e=e.replace(EK,""),n.timeZoneName==="short"&&(e=RK(e,a.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":sN(t.timeZoneOffset))),r.omitCommas&&(e=e.replace(_K,"").trim()),r.omitZeroMinute&&(e=e.replace(":00","")),r.meridiem===!1?e=e.replace(hh,"").trim():r.meridiem==="narrow"?e=e.replace(hh,(i,c)=>c.toLocaleLowerCase()):r.meridiem==="short"?e=e.replace(hh,(i,c)=>`${c.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(e=e.replace(hh,i=>i.toLocaleLowerCase())),e=e.replace(CK," "),e=e.trim(),e}function RK(e,t){let n=!1;return e=e.replace(AK,()=>(n=!0,t)),n||(e+=` ${t}`),e}function MK(e,t,n,r,a){let i=[];return a==="long"?i.push(n):(a==="short"||a==="narrow")&&i.push(t),(a==="long"||a==="short")&&i.push(" "),i.push(r.simpleNumberFormat.format(e)),r.options.direction==="rtl"&&i.reverse(),i.join("")}function PK(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:rl(e)!==rl(t)?1:0}function IK(e,t){let n={};for(let r in e)(!(r in fp)||fp[r]<=t)&&(n[r]=e[r]);return n}function LK(e,t,n,r){let a=0;for(;a<e.length;){let i=e.indexOf(t,a);if(i===-1)break;let c=e.substr(0,i);a=i+t.length;let d=e.substr(a),u=0;for(;u<n.length;){let h=n.indexOf(r,u);if(h===-1)break;let m=n.substr(0,h);u=h+r.length;let p=n.substr(u);if(c===m&&d===p)return{before:c,after:d}}}return null}function FE(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function mp(e,t,n,r){let a=FE(e,n.calendarSystem),i=t?FE(t,n.calendarSystem):null;return{date:a,start:a,end:i,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class zK{constructor(t){this.cmdStr=t}format(t,n,r){return n.cmdFormatter(this.cmdStr,mp(t,null,n,r))}formatRange(t,n,r,a){return r.cmdFormatter(this.cmdStr,mp(t,n,r,a))}}class UK{constructor(t){this.func=t}format(t,n,r){return this.func(mp(t,null,n,r))}formatRange(t,n,r,a){return this.func(mp(t,n,r,a))}}function Zt(e){return typeof e=="object"&&e?new kK(e):typeof e=="string"?new zK(e):typeof e=="function"?new UK(e):null}const VE={navLinkDayClick:me,navLinkWeekClick:me,duration:ht,bootstrapFontAwesome:me,buttonIcons:me,customButtons:me,defaultAllDayEventDuration:ht,defaultTimedEventDuration:ht,nextDayThreshold:ht,scrollTime:ht,scrollTimeReset:Boolean,slotMinTime:ht,slotMaxTime:ht,dayPopoverFormat:Zt,slotDuration:ht,snapDuration:ht,headerToolbar:me,footerToolbar:me,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Zt,dayHeaderClassNames:me,dayHeaderContent:me,dayHeaderDidMount:me,dayHeaderWillUnmount:me,dayCellClassNames:me,dayCellContent:me,dayCellDidMount:me,dayCellWillUnmount:me,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:me,weekNumbers:Boolean,weekNumberClassNames:me,weekNumberContent:me,weekNumberDidMount:me,weekNumberWillUnmount:me,editable:Boolean,viewClassNames:me,viewDidMount:me,viewWillUnmount:me,nowIndicator:Boolean,nowIndicatorSnap:me,nowIndicatorClassNames:me,nowIndicatorContent:me,nowIndicatorDidMount:me,nowIndicatorWillUnmount:me,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:me,locale:me,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:me,eventOrder:ZG,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:me,contentHeight:me,direction:String,weekNumberFormat:Zt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:me,initialDate:me,now:me,eventDataTransform:me,stickyHeaderDates:me,stickyFooterScrollbar:me,viewHeight:me,defaultAllDay:Boolean,eventSourceFailure:me,eventSourceSuccess:me,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:me,eventConstraint:me,eventAllow:me,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:me,eventContent:me,eventDidMount:me,eventWillUnmount:me,selectConstraint:me,selectOverlap:me,selectAllow:me,droppable:Boolean,unselectCancel:String,slotLabelFormat:me,slotLaneClassNames:me,slotLaneContent:me,slotLaneDidMount:me,slotLaneWillUnmount:me,slotLabelClassNames:me,slotLabelContent:me,slotLabelDidMount:me,slotLabelWillUnmount:me,dayMaxEvents:me,dayMaxEventRows:me,dayMinWidth:Number,slotLabelInterval:ht,allDayText:String,allDayClassNames:me,allDayContent:me,allDayDidMount:me,allDayWillUnmount:me,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Zt,rerenderDelay:Number,moreLinkText:me,moreLinkHint:me,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:me,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ht,hiddenDays:me,fixedWeekCount:Boolean,validRange:me,visibleRange:me,titleFormat:me,eventInteractive:Boolean,noEventsText:String,viewHint:me,navLinkHint:me,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:me,moreLinkClassNames:me,moreLinkContent:me,moreLinkDidMount:me,moreLinkWillUnmount:me,monthStartFormat:Zt,handleCustomRendering:me,customRenderingMetaMap:me,customRenderingReplaces:Boolean},$u={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},GE={datesSet:me,eventsSet:me,eventAdd:me,eventChange:me,eventRemove:me,windowResize:me,eventClick:me,eventMouseEnter:me,eventMouseLeave:me,select:me,unselect:me,loading:me,_unmount:me,_beforeprint:me,_afterprint:me,_noEventDrop:me,_noEventResize:me,_resize:me,_scrollRequest:me},KE={buttonText:me,buttonHints:me,views:me,plugins:me,initialEvents:me,events:me,eventSources:me},Xl={headerToolbar:Zl,footerToolbar:Zl,buttonText:Zl,buttonHints:Zl,buttonIcons:Zl,dateIncrement:Zl,plugins:ph,events:ph,eventSources:ph,resources:ph};function Zl(e,t){return typeof e=="object"&&typeof t=="object"&&e&&t?ea(e,t):e===t}function ph(e,t){return Array.isArray(e)&&Array.isArray(t)?pl(e,t):e===t}const BK={type:String,component:me,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:me,usesMinMaxTime:Boolean,classNames:me,content:me,didMount:me,willUnmount:me};function ny(e){return aN(e,Xl)}function rN(e,t){let n={},r={};for(let a in t)a in e&&(n[a]=t[a](e[a]));for(let a in e)a in t||(r[a]=e[a]);return{refined:n,extra:r}}function me(e){return e}const{hasOwnProperty:hp}=Object.prototype;function aN(e,t){let n={};if(t){for(let r in t)if(t[r]===Zl){let a=[];for(let i=e.length-1;i>=0;i-=1){let c=e[i][r];if(typeof c=="object"&&c)a.unshift(c);else if(c!==void 0){n[r]=c;break}}a.length&&(n[r]=aN(a))}}for(let r=e.length-1;r>=0;r-=1){let a=e[r];for(let i in a)i in n||(n[i]=a[i])}return n}function jo(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function ci(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function wR(e){let t={};for(let n of e)t[n]=!0;return t}function iN(e){let t=[];for(let n in e)t.push(e[n]);return t}function ea(e,t){if(e===t)return!0;for(let n in e)if(hp.call(e,n)&&!(n in t))return!1;for(let n in t)if(hp.call(t,n)&&e[n]!==t[n])return!1;return!0}const qK=/^on[A-Z]/;function $K(e,t){const n=HK(e,t);for(let r of n)if(!qK.test(r))return!1;return!0}function HK(e,t){let n=[];for(let r in e)hp.call(e,r)&&(r in t||n.push(r));for(let r in t)hp.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function sy(e,t,n={}){if(e===t)return!0;for(let r in t)if(!(r in e&&FK(e[r],t[r],n[r])))return!1;for(let r in e)if(!(r in t))return!1;return!0}function FK(e,t,n){return e===t||n===!0?!0:n?n(e,t):!1}function VK(e,t=0,n,r=1){let a=[];n==null&&(n=Object.keys(e).length);for(let i=t;i<n;i+=r){let c=e[i];c!==void 0&&a.push(c)}return a}let NR={};function GK(e,t){NR[e]=t}function KK(e){return new NR[e]}class YK{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return Vs(t)}markerToArray(t){return sl(t)}}GK("gregory",YK);const WK=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function QK(e){let t=WK.exec(e);if(t){let n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(bR(n)){let r=null;return t[13]&&(r=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:r}}}return null}class XK{constructor(t){let n=this.timeZone=t.timeZone,r=n!=="local"&&n!=="UTC";t.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=KK(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let n=this.createMarkerMeta(t);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Vs(qE(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let n=null;return typeof t=="number"?n=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(n=this.timestampToMarker(t))):Array.isArray(t)&&(n=Vs(t)),n===null||!bR(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let n=QK(t);if(n===null)return null;let{marker:r}=n,a=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):a=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:a}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(t,n){let r=this.calendarSystem.markerToArray(t);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(t,n){let{calendarSystem:r}=this;return rl(t)===rl(n)&&r.getMarkerDay(t)===r.getMarkerDay(n)&&r.getMarkerMonth(t)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(t):null}diffWholeMonths(t,n){let{calendarSystem:r}=this;return rl(t)===rl(n)&&r.getMarkerDay(t)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(t)+(r.getMarkerYear(n)-r.getMarkerYear(t))*12:null}greatestWholeUnit(t,n){let r=this.diffWholeYears(t,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(t,n),r!==null?{unit:"month",value:r}:(r=gK(t,n),r!==null?{unit:"week",value:r}:(r=up(t,n),r!==null?{unit:"day",value:r}:(r=mK(t,n),$h(r)?{unit:"hour",value:r}:(r=hK(t,n),$h(r)?{unit:"minute",value:r}:(r=pK(t,n),$h(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,n,r){let a;return r.years&&(a=this.diffWholeYears(t,n),a!==null)?a/cK(r):r.months&&(a=this.diffWholeMonths(t,n),a!==null)?a/dK(r):r.days&&(a=up(t,n),a!==null)?a/Fc(r):(n.valueOf()-t.valueOf())/Kr(r)}startOf(t,n){return n==="year"?this.startOfYear(t):n==="month"?this.startOfMonth(t):n==="week"?this.startOfWeek(t):n==="day"?$t(t):n==="hour"?vK(t):n==="minute"?yK(t):n==="second"?bK(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):jK(t,this.weekDow,this.weekDoy)}format(t,n,r={}){return n.format({marker:t,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,n,r,a={}){return a.isEndExclusive&&(n=xl(n,-1)),r.formatRange({marker:t,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(t)},{marker:n,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(n)},this,a.defaultSeparator)}formatIso(t,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(t)),jR(t,r,n.omitTime)}timestampToMarker(t){return this.timeZone==="local"?Vs(qE(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):Vs(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-$E(sl(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(sl(t)):null}toDate(t,n){return this.timeZone==="local"?$E(sl(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(sl(t))*1e3*60):new Date(t.valueOf()-(n||0))}}class Ef{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let n,r;if(typeof t=="object"&&t){n=Object.assign({},this.iconClasses);for(r in t)n[r]=this.applyIconOverridePrefix(t[r]);this.iconClasses=n}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let n=this.iconOverridePrefix;return n&&t.indexOf(n)!==0&&(t=n+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[t]||this.iconClasses[t]:r=this.iconClasses[t],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(t){let n;return this.iconOverrideCustomButtonOption&&(n=t[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Ef.prototype.classes={};Ef.prototype.iconClasses={};Ef.prototype.baseIconClass="";Ef.prototype.iconOverridePrefix="";function pp(e){e();let t=Ve.debounceRendering,n=[];function r(a){n.push(a)}for(Ve.debounceRendering=r,Xu(B(ZK,{}),document.createElement("div"));n.length;)n.shift()();Ve.debounceRendering=t}class ZK extends ir{render(){return B("div",{})}componentDidMount(){this.setState({})}}function SR(e){let t=wG(e),n=t.Provider;return t.Provider=function(){let r=!this.getChildContext,a=n.apply(this,arguments);if(r){let i=[];this.shouldComponentUpdate=c=>{this.props.value!==c.value&&i.forEach(d=>{d.context=c.value,d.forceUpdate()})},this.sub=c=>{i.push(c);let d=c.componentWillUnmount;c.componentWillUnmount=()=>{i.splice(i.indexOf(c),1),d&&d.call(c)}}}return a},t}class JK{constructor(t,n,r,a){this.execFunc=t,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=a,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const gi=SR({});function eY(e,t,n,r,a,i,c,d,u,h,m,p,g,v){return{dateEnv:a,nowManager:i,options:n,pluginHooks:d,emitter:m,dispatch:u,getCurrentData:h,calendarApi:p,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:c,isRtl:n.direction==="rtl",addResizeHandler(y){m.on("_resize",y)},removeResizeHandler(y){m.off("_resize",y)},createScrollResponder(y){return new JK(y,m,ht(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:g,unregisterInteractiveComponent:v}}class zo extends ir{shouldComponentUpdate(t,n){return!sy(this.props,t,this.propEquality)||!sy(this.state,n,this.stateEquality)}safeSetState(t){sy(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}zo.addPropsEquality=tY;zo.addStateEquality=nY;zo.contextType=gi;zo.prototype.propEquality={};zo.prototype.stateEquality={};class bt extends zo{}bt.contextType=gi;function tY(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function nY(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function Ca(e,t){typeof e=="function"?e(t):e&&(e.current=t)}class lN extends bt{constructor(){super(...arguments),this.id=Lo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!pj(r,n))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&Ca(this.props.elRef,t)}}render(){const{props:t,context:n}=this,{options:r}=n,{customGenerator:a,defaultGenerator:i,renderProps:c}=t,d=_R(t,[],this.handleEl);let u=!1,h,m=[],p;if(a!=null){const g=typeof a=="function"?a(c,B):a;if(g===!0)u=!0;else{const v=g&&typeof g=="object";v&&"html"in g?d.dangerouslySetInnerHTML={__html:g.html}:v&&"domNodes"in g?m=Array.prototype.slice.call(g.domNodes):(v?WT(g):typeof g!="function")?h=g:p=g}}else u=!pj(t.generatorName,r);return u&&i&&(h=i(c)),this.queuedDomNodes=m,this.currentGeneratorMeta=p,B(t.elTag,d,h)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var n;const{props:r,context:a}=this,{handleCustomRendering:i,customRenderingMetaMap:c}=a.options;if(i){const d=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:c?.[r.generatorName];d&&i(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:d},r),{elClasses:(r.elClasses||[]).filter(sY)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:n}=this,r=this.base;if(!pl(t,n)){n.forEach(Jw);for(let a of t)r.appendChild(a);this.currentDomNodes=t}}}lN.addPropsEquality({elClasses:pl,elStyle:ea,elAttrs:$K,renderProps:ea});function pj(e,t){var n;return!!(t.handleCustomRendering&&e&&(!((n=t.customRenderingMetaMap)===null||n===void 0)&&n[e]))}function _R(e,t,n){const r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function sY(e){return!!e}const CR=SR(0);class js extends ir{constructor(){super(...arguments),this.InnerContent=rY.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Ca(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,n=aY(t.classNameGenerator,t.renderProps);if(t.children){const r=_R(t,n,this.handleEl),a=t.children(this.InnerContent,t.renderProps,r);return t.elTag?B(t.elTag,r,a):a}else return B(lN,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?(n=(t=this.props).didMount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;(n=(t=this.props).willUnmount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}js.contextType=CR;function rY(e,t){const n=e.props;return B(lN,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function aY(e,t){const n=typeof e=="function"?e(t):e||[];return typeof n=="string"?[n]:n}class Zu extends bt{render(){let{props:t,context:n}=this,{options:r}=n,a={view:n.viewApi};return B(js,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:[...ER(t.viewSpec),...t.elClasses||[]],elStyle:t.elStyle,renderProps:a,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>t.children)}}function ER(e){return[`fc-${e.type}-view`,"fc-view"]}function iY(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function YE(e,t){let n=[],{start:r}=t,a,i;for(e.sort(lY),a=0;a<e.length;a+=1)i=e[a],i.start>r&&n.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<t.end&&n.push({start:r,end:t.end}),n}function lY(e,t){return e.start.valueOf()-t.start.valueOf()}function gl(e,t){let{start:n,end:r}=e,a=null;return t.start!==null&&(n===null?n=t.start:n=new Date(Math.max(n.valueOf(),t.start.valueOf()))),t.end!=null&&(r===null?r=t.end:r=new Date(Math.min(r.valueOf(),t.end.valueOf()))),(n===null||r===null||n<r)&&(a={start:n,end:r}),a}function oY(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function oN(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function Dx(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function ai(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function cY(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function AR(e){let t=Math.floor(Cl(e.start,e.end))||1,n=$t(e.start),r=Rn(n,t);return{start:n,end:r}}function cN(e,t=ht(0)){let n=null,r=null;if(e.end){r=$t(e.end);let a=e.end.valueOf()-r.valueOf();a&&a>=Kr(t)&&(r=Rn(r,1))}return e.start&&(n=$t(e.start),r&&r<=n&&(r=Rn(n,1))),{start:n,end:r}}function dY(e){let t=cN(e);return Cl(t.start,t.end)>1}function Bc(e,t,n,r){return r==="year"?ht(n.diffWholeYears(e,t),"year"):r==="month"?ht(n.diffWholeMonths(e,t),"month"):xK(e,t)}class kR{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,n,r){let{dateEnv:a}=this.props,i=a.subtract(a.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(i,-1,r)}buildNext(t,n,r){let{dateEnv:a}=this.props,i=a.add(a.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(i,1,r)}build(t,n,r=!0){let{props:a}=this,i,c,d,u,h,m;return i=this.buildValidRange(),i=this.trimHiddenDays(i),r&&(t=cY(t,i)),c=this.buildCurrentRangeInfo(t,n),d=/^(year|month|week|day)$/.test(c.unit),u=this.buildRenderRange(this.trimHiddenDays(c.range),c.unit,d),u=this.trimHiddenDays(u),h=u,a.showNonCurrentDates||(h=gl(h,c.range)),h=this.adjustActiveRange(h),h=gl(h,i),m=oN(c.range,i),ai(u,t)||(t=u.start),{currentDate:t,validRange:i,currentRange:c.range,currentRangeUnit:c.unit,isRangeAllDay:d,activeRange:h,renderRange:u,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:m,dateIncrement:this.buildDateIncrement(c.duration)}}buildValidRange(){let t=this.props.validRangeInput,n=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(t,n){let{props:r}=this,a=null,i=null,c=null,d;return r.duration?(a=r.duration,i=r.durationUnit,c=this.buildRangeFromDuration(t,n,a,i)):(d=this.props.dayCount)?(i="day",c=this.buildRangeFromDayCount(t,n,d)):(c=this.buildCustomVisibleRange(t))?i=r.dateEnv.greatestWholeUnit(c.start,c.end).unit:(a=this.getFallbackDuration(),i=hj(a).unit,c=this.buildRangeFromDuration(t,n,a,i)),{duration:a,unit:i,range:c}}getFallbackDuration(){return ht({day:1})}adjustActiveRange(t){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:a,slotMaxTime:i}=this.props,{start:c,end:d}=t;return r&&(Fc(a)<0&&(c=$t(c),c=n.add(c,a)),Fc(i)>1&&(d=$t(d),d=Rn(d,-1),d=n.add(d,i))),{start:c,end:d}}buildRangeFromDuration(t,n,r,a){let{dateEnv:i,dateAlignment:c}=this.props,d,u,h;if(!c){let{dateIncrement:p}=this.props;p&&Kr(p)<Kr(r)?c=hj(p).unit:c=a}Fc(r)<=1&&this.isHiddenDay(d)&&(d=this.skipHiddenDays(d,n),d=$t(d));function m(){d=i.startOf(t,c),u=i.add(d,r),h={start:d,end:u}}return m(),this.trimHiddenDays(h)||(t=this.skipHiddenDays(t,n),m()),h}buildRangeFromDayCount(t,n,r){let{dateEnv:a,dateAlignment:i}=this.props,c=0,d=t,u;i&&(d=a.startOf(d,i)),d=$t(d),d=this.skipHiddenDays(d,n),u=d;do u=Rn(u,1),this.isHiddenDay(u)||(c+=1);while(c<r);return{start:d,end:u}}buildCustomVisibleRange(t){let{props:n}=this,r=n.visibleRangeInput,a=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(t)):r,i=this.refineRange(a);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(t,n,r){return t}buildDateIncrement(t){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?ht(1,r):t||ht({days:1}))}refineRange(t){if(t){let n=iY(t,this.props.dateEnv);return n&&(n=cN(n)),n}return null}initHiddenDays(){let t=this.props.hiddenDays||[],n=[],r=0,a;for(this.props.weekends===!1&&t.push(0,6),a=0;a<7;a+=1)(n[a]=t.indexOf(a)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(t){let{start:n,end:r}=t;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,n=1,r=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(r?n:0)+7)%7];)t=Rn(t,n);return t}}function dN(e,t,n,r){return{instanceId:Lo(),defId:e,range:t,forcedStartTzo:n??null,forcedEndTzo:r??null}}function uY(e,t,n,r){for(let a=0;a<r.length;a+=1){let i=r[a].parse(e,n);if(i){let{allDay:c}=e;return c==null&&(c=t,c==null&&(c=i.allDayGuess,c==null&&(c=!1))),{allDay:c,duration:i.duration,typeData:i.typeData,typeId:a}}}return null}function wo(e,t,n){let{dateEnv:r,pluginHooks:a,options:i}=n,{defs:c,instances:d}=e;d=jo(d,u=>!c[u.defId].recurringDef);for(let u in c){let h=c[u];if(h.recurringDef){let{duration:m}=h.recurringDef;m||(m=h.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let p=fY(h,m,t,r,a.recurringTypes);for(let g of p){let v=dN(u,{start:g,end:r.add(g,m)});d[v.instanceId]=v}}}return{defs:c,instances:d}}function fY(e,t,n,r,a){let c=a[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(c=c.map($t)),c}const Fh={id:String,groupId:String,title:String,url:String,interactive:Boolean},DR={start:me,end:me,date:me,allDay:Boolean},mY=Object.assign(Object.assign(Object.assign({},Fh),DR),{extendedProps:me});function OR(e,t,n,r,a=uN(n),i,c){let{refined:d,extra:u}=TR(e,n,a),h=pY(t,n),m=uY(d,h,n.dateEnv,n.pluginHooks.recurringTypes);if(m){let g=xj(d,u,t?t.sourceId:"",m.allDay,!!m.duration,n,i);return g.recurringDef={typeId:m.typeId,typeData:m.typeData,duration:m.duration},{def:g,instance:null}}let p=hY(d,h,n,r);if(p){let g=xj(d,u,t?t.sourceId:"",p.allDay,p.hasEnd,n,i),v=dN(g.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return c&&g.publicId&&c[g.publicId]&&(v.instanceId=c[g.publicId]),{def:g,instance:v}}return null}function TR(e,t,n=uN(t)){return rN(e,n)}function uN(e){return Object.assign(Object.assign(Object.assign({},xp),mY),e.pluginHooks.eventRefiners)}function xj(e,t,n,r,a,i,c){let d={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(c&&e.id?c[e.id]:"")||Lo(),sourceId:n,allDay:r,hasEnd:a,interactive:e.interactive,ui:gp(e,i),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let u of i.pluginHooks.eventDefMemberAdders)Object.assign(d,u(e));return Object.freeze(d.ui.classNames),Object.freeze(d.extendedProps),d}function hY(e,t,n,r){let{allDay:a}=e,i,c=null,d=!1,u,h=null,m=e.start!=null?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(m),i)c=i.marker;else if(!r)return null;return e.end!=null&&(u=n.dateEnv.createMarkerMeta(e.end)),a==null&&(t!=null?a=t:a=(!i||i.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),a&&c&&(c=$t(c)),u&&(h=u.marker,a&&(h=$t(h)),c&&h<=c&&(h=null)),h?d=!0:r||(d=n.options.forceEventDuration||!1,h=n.dateEnv.add(c,a?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:a,hasEnd:d,range:{start:c,end:h},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function pY(e,t){let n=null;return e&&(n=e.defaultAllDay),n==null&&(n=t.options.defaultAllDay),n}function Ju(e,t,n,r,a,i){let c=lr(),d=uN(n);for(let u of e){let h=OR(u,t,n,r,d,a,i);h&&gj(h,c)}return c}function gj(e,t=lr()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function fN(e,t){let n=e.instances[t];if(n){let r=e.defs[n.defId],a=Ox(e,i=>xY(r,i));return a.defs[r.defId]=r,a.instances[n.instanceId]=n,a}return lr()}function xY(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function lr(){return{defs:{},instances:{}}}function mN(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function Ox(e,t){let n=jo(e.defs,t),r=jo(e.instances,a=>n[a.defId]);return{defs:n,instances:r}}function gY(e,t){let{defs:n,instances:r}=e,a={},i={};for(let c in n)t.defs[c]||(a[c]=n[c]);for(let c in r)!t.instances[c]&&a[r[c].defId]&&(i[c]=r[c]);return{defs:a,instances:i}}function vY(e,t){return Array.isArray(e)?Ju(e,null,t,!0):typeof e=="object"&&e?Ju([e],null,t,!0):e!=null?String(e):null}function WE(e){return Array.isArray(e)?e:typeof e=="string"?e.split(/\s+/):[]}const xp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:me,overlap:me,allow:me,className:WE,classNames:WE,color:String,backgroundColor:String,borderColor:String,textColor:String},yY={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function gp(e,t){let n=vY(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable!=null?e.startEditable:e.editable,durationEditable:e.durationEditable!=null?e.durationEditable:e.editable,constraints:n!=null?[n]:[],overlap:e.overlap!=null?e.overlap:null,allows:e.allow!=null?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function RR(e){return e.reduce(bY,yY)}function bY(e,t){return{display:t.display!=null?t.display:e.display,startEditable:t.startEditable!=null?t.startEditable:e.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const jY={id:String,defaultAllDay:Boolean,url:String,format:String,events:me,eventDataTransform:me,success:me,failure:me};function MR(e,t,n=PR(t)){let r;if(typeof e=="string"?r={url:e}:typeof e=="function"||Array.isArray(e)?r={events:e}:typeof e=="object"&&e&&(r=e),r){let{refined:a,extra:i}=rN(r,n),c=wY(a,t);if(c)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:Lo(),sourceDefId:c.sourceDefId,meta:c.meta,ui:gp(a,t),extendedProps:i}}return null}function PR(e){return Object.assign(Object.assign(Object.assign({},xp),jY),e.pluginHooks.eventSourceRefiners)}function wY(e,t){let n=t.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let i=n[r].parseMeta(e);if(i)return{sourceDefId:r,meta:i}}return null}function NY(e,t,n,r,a){switch(t.type){case"RECEIVE_EVENTS":return SY(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,a);case"RESET_RAW_EVENTS":return _Y(e,n[t.sourceId],t.rawEvents,r.activeRange,a);case"ADD_EVENTS":return CY(e,t.eventStore,r?r.activeRange:null,a);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return mN(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?wo(e,r.activeRange,a):e;case"REMOVE_EVENTS":return gY(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return LR(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ox(e,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return lr();default:return e}}function SY(e,t,n,r,a,i){if(t&&n===t.latestFetchId){let c=Ju(IR(a,t,i),t,i);return r&&(c=wo(c,r,i)),mN(LR(e,t.sourceId),c)}return e}function _Y(e,t,n,r,a){const{defIdMap:i,instanceIdMap:c}=AY(e);let d=Ju(IR(n,t,a),t,a,!1,i,c);return wo(d,r,a)}function IR(e,t,n){let r=n.options.eventDataTransform,a=t?t.eventDataTransform:null;return a&&(e=QE(e,a)),r&&(e=QE(e,r)),e}function QE(e,t){let n;if(!t)n=e;else{n=[];for(let r of e){let a=t(r);a?n.push(a):a==null&&n.push(r)}}return n}function CY(e,t,n,r){return n&&(t=wo(t,n,r)),mN(e,t)}function XE(e,t,n){let{defs:r}=e,a=ci(e.instances,i=>r[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:n.createMarker(t.toDate(i.range.start,i.forcedStartTzo)),end:n.createMarker(t.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:i.forcedEndTzo}));return{defs:r,instances:a}}function LR(e,t){return Ox(e,n=>n.sourceId!==t)}function EY(e,t){return{defs:e.defs,instances:jo(e.instances,n=>!t[n.instanceId])}}function AY(e){const{defs:t,instances:n}=e,r={},a={};for(let i in t){const c=t[i],{publicId:d}=c;d&&(r[d]=i)}for(let i in n){const c=n[i],d=t[c.defId],{publicId:u}=d;u&&(a[u]=i)}return{defIdMap:r,instanceIdMap:a}}class Tx{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,n){kY(this.handlers,t,n)}off(t,n){DY(this.handlers,t,n)}trigger(t,...n){let r=this.handlers[t]||[],a=this.options&&this.options[t],i=[].concat(a||[],r);for(let c of i)c.apply(this.thisContext,n)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function kY(e,t,n){(e[t]||(e[t]=[])).push(n)}function DY(e,t,n){n?e[t]&&(e[t]=e[t].filter(r=>r!==n)):delete e[t]}const OY={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function TY(e,t){return Ju(RY(e),null,t)}function RY(e){let t;return e===!0?t=[{}]:Array.isArray(e)?t=e.filter(n=>n.daysOfWeek):typeof e=="object"&&e?t=[e]:t=[],t=t.map(n=>Object.assign(Object.assign({},OY),n)),t}function zR(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},hN(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function MY(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function hN(e,t){let n={};for(let r of t.pluginHooks.dateSpanTransforms)Object.assign(n,r(e,t));return Object.assign(n,YY(e,t.dateEnv)),n}function ZE(e,t,n){let{dateEnv:r,options:a}=n,i=t;return e?(i=$t(i),i=r.add(i,a.defaultAllDayEventDuration)):i=r.add(i,a.defaultTimedEventDuration),i}function pN(e,t,n,r){let a=vp(e.defs,t),i=lr();for(let c in e.defs){let d=e.defs[c];i.defs[c]=PY(d,a[c],n,r)}for(let c in e.instances){let d=e.instances[c],u=i.defs[d.defId];i.instances[c]=IY(d,u,a[d.defId],n,r)}return i}function PY(e,t,n,r){let a=n.standardProps||{};a.hasEnd==null&&t.durationEditable&&(n.startDelta||n.endDelta)&&(a.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},e),a),{ui:Object.assign(Object.assign({},e.ui),a.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let c of r.pluginHooks.eventDefMutationAppliers)c(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function IY(e,t,n,r,a){let{dateEnv:i}=a,c=r.standardProps&&r.standardProps.allDay===!0,d=r.standardProps&&r.standardProps.hasEnd===!1,u=Object.assign({},e);return c&&(u.range=AR(u.range)),r.datesDelta&&n.startEditable&&(u.range={start:i.add(u.range.start,r.datesDelta),end:i.add(u.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(u.range={start:i.add(u.range.start,r.startDelta),end:u.range.end}),r.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:i.add(u.range.end,r.endDelta)}),d&&(u.range={start:u.range.start,end:ZE(t.allDay,u.range.start,a)}),t.allDay&&(u.range={start:$t(u.range.start),end:$t(u.range.end)}),u.range.end<u.range.start&&(u.range.end=ZE(t.allDay,u.range.start,a)),u}class Lc{constructor(t,n){this.context=t,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ln{constructor(t,n,r){this._context=t,this._def=n,this._instance=r||null}setProp(t,n){if(t in DR)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")n=Fh[t](n),this.mutate({standardProps:{publicId:n}});else if(t in Fh)n=Fh[t](n),this.mutate({standardProps:{[t]:n}});else if(t in xp){let r=xp[t](n);t==="color"?r={backgroundColor:n,borderColor:n}:t==="editable"?r={startEditable:n,durationEditable:n}:r={[t]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,n){this.mutate({extendedProps:{[t]:n}})}setStart(t,n={}){let{dateEnv:r}=this._context,a=r.createMarker(t);if(a&&this._instance){let i=this._instance.range,c=Bc(i.start,a,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:c}):this.mutate({startDelta:c})}}setEnd(t,n={}){let{dateEnv:r}=this._context,a;if(!(t!=null&&(a=r.createMarker(t),!a))&&this._instance)if(a){let i=Bc(this._instance.range.end,a,r,n.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,n,r={}){let{dateEnv:a}=this._context,i={allDay:r.allDay},c=a.createMarker(t),d;if(c&&!(n!=null&&(d=a.createMarker(n),!d))&&this._instance){let u=this._instance.range;r.allDay===!0&&(u=AR(u));let h=Bc(u.start,c,a,r.granularity);if(d){let m=Bc(u.end,d,a,r.granularity);iK(h,m)?this.mutate({datesDelta:h,standardProps:i}):this.mutate({startDelta:h,endDelta:m,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:h,standardProps:i})}}moveStart(t){let n=ht(t);n&&this.mutate({startDelta:n})}moveEnd(t){let n=ht(t);n&&this.mutate({endDelta:n})}moveDates(t){let n=ht(t);n&&this.mutate({datesDelta:n})}setAllDay(t,n={}){let r={allDay:t},{maintainDuration:a}=n;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(r.hasEnd=a),this.mutate({standardProps:r})}formatRange(t){let{dateEnv:n}=this._context,r=this._instance,a=Zt(t);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,a,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,a,{forcedTzo:r.forcedStartTzo})}mutate(t){let n=this._instance;if(n){let r=this._def,a=this._context,{eventStore:i}=a.getCurrentData(),c=fN(i,n.instanceId);c=pN(c,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,a);let u=new ln(a,r,n);this._def=c.defs[r.defId],this._instance=c.instances[n.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:c}),a.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:uo(c,a,n),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let t=this._context,n=UR(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:n}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:t}=this._def;return t?new Lc(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let n=this._def,{ui:r}=n,{startStr:a,endStr:i}=this,c={allDay:n.allDay};return n.title&&(c.title=n.title),a&&(c.start=a),i&&(c.end=i),n.publicId&&(c.id=n.publicId),n.groupId&&(c.groupId=n.groupId),n.url&&(c.url=n.url),r.display&&r.display!=="auto"&&(c.display=r.display),t.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?c.color=r.backgroundColor:(r.backgroundColor&&(c.backgroundColor=r.backgroundColor),r.borderColor&&(c.borderColor=r.borderColor)),r.textColor&&(c.textColor=r.textColor),r.classNames.length&&(c.classNames=r.classNames),Object.keys(n.extendedProps).length&&(t.collapseExtendedProps?Object.assign(c,n.extendedProps):c.extendedProps=n.extendedProps),c}toJSON(){return this.toPlainObject()}}function UR(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function uo(e,t,n){let{defs:r,instances:a}=e,i=[],c=n?n.instanceId:"";for(let d in a){let u=a[d],h=r[u.defId];u.instanceId!==c&&i.push(new ln(t,h,u))}return i}function vj(e,t,n,r){let a={},i={},c={},d=[],u=[],h=vp(e.defs,t);for(let m in e.defs){let p=e.defs[m];h[p.defId].display==="inverse-background"&&(p.groupId?(a[p.groupId]=[],c[p.groupId]||(c[p.groupId]=p)):i[m]=[])}for(let m in e.instances){let p=e.instances[m],g=e.defs[p.defId],v=h[g.defId],y=p.range,N=!g.allDay&&r?cN(y,r):y,j=gl(N,n);j&&(v.display==="inverse-background"?g.groupId?a[g.groupId].push(j):i[p.defId].push(j):v.display!=="none"&&(v.display==="background"?d:u).push({def:g,ui:v,instance:p,range:j,isStart:N.start&&N.start.valueOf()===j.start.valueOf(),isEnd:N.end&&N.end.valueOf()===j.end.valueOf()}))}for(let m in a){let p=a[m],g=YE(p,n);for(let v of g){let y=c[m],N=h[y.defId];d.push({def:y,ui:N,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let m in i){let p=i[m],g=YE(p,n);for(let v of g)d.push({def:e.defs[m],ui:h[m],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:d,fg:u}}function LY(e){return e.ui.display==="background"||e.ui.display==="inverse-background"}function JE(e,t){e.fcSeg=t}function Jc(e){return e.fcSeg||e.parentNode.fcSeg||null}function vp(e,t){return ci(e,n=>BR(n,t))}function BR(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),RR(n)}function xN(e,t){let n=e.map(zY);return n.sort((r,a)=>JG(r,a,t)),n.map(r=>r._seg)}function zY(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,a=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:a,end:i,duration:i-a,allDay:Number(n.allDay),_seg:e})}function UY(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:a,ui:i}=e.eventRange,c=i.startEditable;for(let d of r)c=d(c,a,i,t);return c}function BY(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function qY(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function Hu(e,t,n,r,a,i,c){let{dateEnv:d,options:u}=n,{displayEventTime:h,displayEventEnd:m}=u,p=e.eventRange.def,g=e.eventRange.instance;h==null&&(h=r!==!1),m==null&&(m=a!==!1);let v=g.range.start,y=g.range.end,N=i||e.start||e.eventRange.range.start,j=c||e.end||e.eventRange.range.end,_=$t(v).valueOf()===$t(N).valueOf(),C=$t(xl(y,-1)).valueOf()===$t(xl(j,-1)).valueOf();return h&&!p.allDay&&(_||C)?(N=_?v:N,j=C?y:j,m&&p.hasEnd?d.formatRange(N,j,t,{forcedStartTzo:i?null:g.forcedStartTzo,forcedEndTzo:c?null:g.forcedEndTzo}):d.format(N,t,{forcedTzo:i?null:g.forcedStartTzo})):""}function ii(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&ai(t,r.start)}}function $Y(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function qR(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function gN(e,t){let{def:n,instance:r}=e.eventRange,{url:a}=n;if(a)return{href:a};let{emitter:i,options:c}=t,{eventInteractive:d}=c;return d==null&&(d=n.interactive,d==null&&(d=!!i.hasHandlers("eventClick"))),d?yR(u=>{i.trigger("eventClick",{el:u.target,event:new ln(t,n,r),jsEvent:u,view:t.viewApi})}):{}}const HY={start:me,end:me,allDay:Boolean};function FY(e,t,n){let r=VY(e,t),{range:a}=r;if(!a.start)return null;if(!a.end){if(n==null)return null;a.end=t.add(a.start,n)}return r}function VY(e,t){let{refined:n,extra:r}=rN(e,HY),a=n.start?t.createMarkerMeta(n.start):null,i=n.end?t.createMarkerMeta(n.end):null,{allDay:c}=n;return c==null&&(c=a&&a.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:i?i.marker:null},allDay:c},r)}function GY(e,t){return oY(e.range,t.range)&&e.allDay===t.allDay&&KY(e,t)}function KY(e,t){for(let n in t)if(n!=="range"&&n!=="allDay"&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function YY(e,t){return Object.assign(Object.assign({},HR(e.range,t,e.allDay)),{allDay:e.allDay})}function $R(e,t,n){return Object.assign(Object.assign({},HR(e,t,n)),{timeZone:t.timeZone})}function HR(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function WY(e,t,n){let r=TR({editable:!1},n),a=xj(r.refined,r.extra,"",e.allDay,!0,n);return{def:a,ui:BR(a,t),instance:dN(a.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function QY(e,t,n){let r=!1,a=function(d){r||(r=!0,t(d))},i=function(d){r||(r=!0,n(d))},c=e(a,i);c&&typeof c.then=="function"&&c.then(a,i)}class eA extends Error{constructor(t,n){super(t),this.response=n}}function XY(e,t,n){e=e.toUpperCase();const r={method:e};return e==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(a=>{if(a.ok)return a.json().then(i=>[i,a],()=>{throw new eA("Failure parsing JSON",a)});throw new eA("Request failed",a)})}let ry;function FR(){return ry==null&&(ry=ZY()),ry}function ZY(){if(typeof document>"u")return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let n=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),n}class JY extends bt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{pp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{pp(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:n}=t,{forPrint:r}=this.state,a=r||n.height==="auto"||n.contentHeight==="auto",i=!a&&n.height!=null?n.height:"",c=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,t.theme.getClass("root")];return FR()||c.push("fc-liquid-hack"),t.children(c,i,a,r)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class bd{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function eW(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function vN(e){return{[e.component.uid]:e}}const yj={};class Uo extends ir{constructor(t,n){super(t,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:a}=n.options;a==="auto"&&(a=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let i,c;return a?(i=n.dateEnv.startOf(r,t.unit),c=n.dateEnv.add(i,ht(1,t.unit)).valueOf()-r.valueOf()):(i=r,c=1e3*60),c=Math.min(1e3*60*60*24,c),{state:{nowDate:i,todayRange:tW(i)},waitMs:c}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Uo.contextType=gi;function tW(e){let t=$t(e),n=Rn(t,1);return{start:t,end:n}}class nW{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,n){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:n})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[t]?r.emitter.on(t,n):console.warn(`Unknown listener name '${t}'`)}off(t,n){this.currentDataManager.emitter.off(t,n)}trigger(t,...n){this.currentDataManager.emitter.trigger(t,...n)}changeView(t,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,n){let r=this.getCurrentData(),a;n=n||"day",a=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),a=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),i,c;for(let d in n)a.push(d);for(i=0;i<a.length;i+=1)if(c=n[a[i]],c&&c.singleUnit===t)return c;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(t)})}incrementDate(t){let n=this.getCurrentData(),r=ht(t);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(t),Zt(n))}formatRange(t,n,r){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(t),a.createMarker(n),Zt(r),r)}formatIso(t,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(t),{omitTime:n})}select(t,n){let r;n==null?t.start!=null?r=t:r={start:t,end:null}:r={start:t,end:n};let a=this.getCurrentData(),i=FY(r,a.dateEnv,ht({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),zR(i,null,a))}unselect(t){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),MY(t,n))}addEvent(t,n){if(t instanceof ln){let c=t._def,d=t._instance;return this.getCurrentData().eventStore.defs[c.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:gj({def:c,instance:d})}),this.triggerEventAdd(t)),t}let r=this.getCurrentData(),a;if(n instanceof Lc)a=n.internalEventSource;else if(typeof n=="boolean")n&&([a]=iN(r.eventSources));else if(n!=null){let c=this.getEventSourceById(n);if(!c)return console.warn(`Could not find an event source with ID "${n}"`),null;a=c.internalEventSource}let i=OR(t,a,r,!1);if(i){let c=new ln(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:gj(i)}),this.triggerEventAdd(c),c}return null}triggerEventAdd(t){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:UR(t)})}})}getEventById(t){let n=this.getCurrentData(),{defs:r,instances:a}=n.eventStore;t=String(t);for(let i in r){let c=r[i];if(c.publicId===t){if(c.recurringDef)return new ln(n,c,null);for(let d in a){let u=a[d];if(u.defId===c.defId)return new ln(n,c,u)}}}return null}getEvents(){let t=this.getCurrentData();return uo(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),n=t.eventSources,r=[];for(let a in n)r.push(new Lc(t,n[a]));return r}getEventSourceById(t){let n=this.getCurrentData(),r=n.eventSources;t=String(t);for(let a in r)if(r[a].publicId===t)return new Lc(n,r[a]);return null}addEventSource(t){let n=this.getCurrentData();if(t instanceof Lc)return n.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let r=MR(t,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Lc(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let n=ht(t);n&&this.trigger("_scrollRequest",{time:n})}}function sW(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function VR(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function rW(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function aW(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function iW(e,t){return{left:e.left-t.left,top:e.top-t.top}}const ay=lr();class lW{constructor(){this.getKeysForEventDefs=Fe(this._getKeysForEventDefs),this.splitDateSelection=Fe(this._splitDateSpan),this.splitEventStore=Fe(this._splitEventStore),this.splitIndividualUi=Fe(this._splitIndividualUi),this.splitEventDrag=Fe(this._splitInteraction),this.splitEventResize=Fe(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let n=this.getKeyInfo(t),r=this.getKeysForEventDefs(t.eventStore),a=this.splitDateSelection(t.dateSelection),i=this.splitIndividualUi(t.eventUiBases,r),c=this.splitEventStore(t.eventStore,r),d=this.splitEventDrag(t.eventDrag),u=this.splitEventResize(t.eventResize),h={};this.eventUiBuilders=ci(n,(m,p)=>this.eventUiBuilders[p]||Fe(oW));for(let m in n){let p=n[m],g=c[m]||ay,v=this.eventUiBuilders[m];h[m]={businessHours:p.businessHours||t.businessHours,dateSelection:a[m]||null,eventStore:g,eventUiBases:v(t.eventUiBases[""],p.ui,i[m]),eventSelection:g.instances[t.eventSelection]?t.eventSelection:"",eventDrag:d[m]||null,eventResize:u[m]||null}}return h}_splitDateSpan(t){let n={};if(t){let r=this.getKeysForDateSpan(t);for(let a of r)n[a]=t}return n}_getKeysForEventDefs(t){return ci(t.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(t,n){let{defs:r,instances:a}=t,i={};for(let c in r)for(let d of n[c])i[d]||(i[d]=lr()),i[d].defs[c]=r[c];for(let c in a){let d=a[c];for(let u of n[d.defId])i[u]&&(i[u].instances[c]=d)}return i}_splitIndividualUi(t,n){let r={};for(let a in t)if(a)for(let i of n[a])r[i]||(r[i]={}),r[i][a]=t[a];return r}_splitInteraction(t){let n={};if(t){let r=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),a=this._getKeysForEventDefs(t.mutatedEvents),i=this._splitEventStore(t.mutatedEvents,a),c=d=>{n[d]||(n[d]={affectedEvents:r[d]||ay,mutatedEvents:i[d]||ay,isEvent:t.isEvent})};for(let d in r)c(d);for(let d in i)c(d)}return n}}function oW(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let a={"":RR(r)};return n&&Object.assign(a,n),a}function yN(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!ai(r.activeRange,e))),isOther:!!(r&&!ai(r.currentRange,e)),isToday:!!(t&&ai(t,e)),isPast:!!(n?e<n:t&&e<t.start),isFuture:!!(n?e>n:t&&e>=t.end)}}function Rx(e,t){let n=["fc-day",`fc-day-${uK[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const cW=Zt({year:"numeric",month:"long",day:"numeric"}),dW=Zt({week:"long"});function ed(e,t,n="day",r=!0){const{dateEnv:a,options:i,calendarApi:c}=e;let d=a.format(t,n==="week"?dW:cW);if(i.navLinks){let u=a.toDate(t);const h=m=>{let p=n==="day"?i.navLinkDayClick:n==="week"?i.navLinkWeekClick:null;typeof p=="function"?p.call(c,a.toDate(t),m):(typeof p=="string"&&(n=p),c.zoomTo(t,n))};return Object.assign({title:qu(i.navLinkHint,[d,u],d),"data-navlink":""},r?vR(h):{onClick:h})}return{"aria-label":d}}let iy=null;function uW(){return iy===null&&(iy=fW()),iy}function fW(){let e=document.createElement("div");Bu(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let n=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return Jw(e),n}let ly;function mW(){return ly||(ly=hW()),ly}function hW(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=GR(e);return document.body.removeChild(e),t}function GR(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function pW(e,t=!1){let n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,a=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,c=parseInt(n.borderBottomWidth,10)||0,d=GR(e),u=d.y-r-a,h=d.x-i-c,m={borderLeft:r,borderRight:a,borderTop:i,borderBottom:c,scrollbarBottom:h,scrollbarLeft:0,scrollbarRight:0};return uW()&&n.direction==="rtl"?m.scrollbarLeft=u:m.scrollbarRight=u,t&&(m.paddingLeft=parseInt(n.paddingLeft,10)||0,m.paddingRight=parseInt(n.paddingRight,10)||0,m.paddingTop=parseInt(n.paddingTop,10)||0,m.paddingBottom=parseInt(n.paddingBottom,10)||0),m}function xW(e,t=!1,n){let r=bN(e),a=pW(e,t),i={left:r.left+a.borderLeft+a.scrollbarLeft,right:r.right-a.borderRight-a.scrollbarRight,top:r.top+a.borderTop,bottom:r.bottom-a.borderBottom-a.scrollbarBottom};return t&&(i.left+=a.paddingLeft,i.right-=a.paddingRight,i.top+=a.paddingTop,i.bottom-=a.paddingBottom),i}function bN(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function gW(e){let t=KR(e),n=e.getBoundingClientRect();for(let r of t){let a=VR(n,r.getBoundingClientRect());if(a)n=a;else return null}return n}function KR(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class td{constructor(t,n,r,a){this.els=n;let i=this.originClientRect=t.getBoundingClientRect();r&&this.buildElHorizontals(i.left),a&&this.buildElVerticals(i.top)}buildElHorizontals(t){let n=[],r=[];for(let a of this.els){let i=a.getBoundingClientRect();n.push(i.left-t),r.push(i.right-t)}this.lefts=n,this.rights=r}buildElVerticals(t){let n=[],r=[];for(let a of this.els){let i=a.getBoundingClientRect();n.push(i.top-t),r.push(i.bottom-t)}this.tops=n,this.bottoms=r}leftToIndex(t){let{lefts:n,rights:r}=this,a=n.length,i;for(i=0;i<a;i+=1)if(t>=n[i]&&t<r[i])return i}topToIndex(t){let{tops:n,bottoms:r}=this,a=n.length,i;for(i=0;i<a;i+=1)if(t>=n[i]&&t<r[i])return i}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return xh(this.tops||[],t.tops||[])&&xh(this.bottoms||[],t.bottoms||[])&&xh(this.lefts||[],t.lefts||[])&&xh(this.rights||[],t.rights||[])}}function xh(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class jN{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class vW extends jN{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class yW extends jN{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class sa extends bt{constructor(){super(...arguments),this.uid=Lo()}prepareHits(){}queryHit(t,n,r,a){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!gs(t,".fc-event-mirror")}isValidDateDownEl(t){return!gs(t,".fc-event:not(.fc-bg-event)")&&!gs(t,".fc-more-link")&&!gs(t,"a[data-navlink]")&&!gs(t,".fc-popover")}}class YR{constructor(t=n=>n.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let n=[];for(let r of t)this.insertEntry(r,n);return n}insertEntry(t,n){let r=this.findInsertion(t);this.isInsertionValid(r,t)?this.insertEntryAt(t,r):this.handleInvalidInsertion(r,t,n)}isInsertionValid(t,n){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,n,r){if(this.allowReslicing&&t.touchingEntry){const a=Object.assign(Object.assign({},n),{span:wN(n.span,t.touchingEntry.span)});r.push(a),this.splitEntry(n,t.touchingEntry,r)}else r.push(n)}splitEntry(t,n,r){let a=t.span,i=n.span;a.start<i.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:a.start,end:i.start}},r),a.end>i.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:i.end,end:a.end}},r)}insertEntryAt(t,n){let{entriesByLevel:r,levelCoords:a}=this;n.lateral===-1?(oy(a,n.level,n.levelCoord),oy(r,n.level,[t])):oy(r[n.level],n.lateral,t),this.stackCnts[fo(t)]=n.stackCnt}findInsertion(t){let{levelCoords:n,entriesByLevel:r,strictOrder:a,stackCnts:i}=this,c=n.length,d=0,u=-1,h=-1,m=null,p=0;for(let y=0;y<c;y+=1){const N=n[y];if(!a&&N>=d+this.getEntryThickness(t))break;let j=r[y],_,C=jj(j,t.span.start,bj),E=C[0]+C[1];for(;(_=j[E])&&_.span.start<t.span.end;){let k=N+this.getEntryThickness(_);k>d&&(d=k,m=_,u=y,h=E),k===d&&(p=Math.max(p,i[fo(_)]+1)),E+=1}}let g=0;if(m)for(g=u+1;g<c&&n[g]<d;)g+=1;let v=-1;return g<c&&n[g]===d&&(v=jj(r[g],t.span.end,bj)[0]),{touchingLevel:u,touchingLateral:h,touchingEntry:m,stackCnt:p,levelCoord:d,level:g,lateral:v}}toRects(){let{entriesByLevel:t,levelCoords:n}=this,r=t.length,a=[];for(let i=0;i<r;i+=1){let c=t[i],d=n[i];for(let u of c)a.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:d}))}return a}}function bj(e){return e.span.end}function fo(e){return e.index+":"+e.span.start}function bW(e){let t=[];for(let n of e){let r=[],a={span:n.span,entries:[n]};for(let i of t)wN(i.span,a.span)?a={entries:i.entries.concat(a.entries),span:jW(i.span,a.span)}:r.push(i);r.push(a),t=r}return t}function jW(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function wN(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function oy(e,t,n){e.splice(t,0,n)}function jj(e,t,n){let r=0,a=e.length;if(!a||t<n(e[r]))return[0,0];if(t>n(e[a-1]))return[a,0];for(;r<a;){let i=Math.floor(r+(a-r)/2),c=n(e[i]);if(t<c)a=i;else if(t>c)r=i+1;else return[i,1]}return[r,0]}class wW{constructor(t,n){this.emitter=new Tx}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const NN={};function NW(e,t){return!e||t>10?Zt({weekday:"short"}):t>1?Zt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Zt({weekday:"long"})}const WR="fc-col-header-cell";function QR(e){return e.text}class SW extends bt{render(){let{dateEnv:t,options:n,theme:r,viewApi:a}=this.context,{props:i}=this,{date:c,dateProfile:d}=i,u=yN(c,i.todayRange,null,d),h=[WR].concat(Rx(u,r)),m=t.format(c,i.dayHeaderFormat),p=!u.isDisabled&&i.colCnt>1?ed(this.context,c):{},g=t.toDate(c);t.namedTimeZoneImpl&&(g=xl(g,36e5));let v=Object.assign(Object.assign(Object.assign({date:g,view:a},i.extraRenderProps),{text:m}),u);return B(js,{elTag:"th",elClasses:h,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":u.isDisabled?void 0:Cf(c)},i.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:QR,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},y=>B("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&B(y,{elTag:"a",elAttrs:p,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const _W=Zt({weekday:"long"});class CW extends bt{render(){let{props:t}=this,{dateEnv:n,theme:r,viewApi:a,options:i}=this.context,c=Rn(new Date(2592e5),t.dow),d={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(c,t.dayHeaderFormat),h=Object.assign(Object.assign(Object.assign(Object.assign({date:c},d),{view:a}),t.extraRenderProps),{text:u});return B(js,{elTag:"th",elClasses:[WR,...Rx(d,r),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:QR,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},m=>B("div",{className:"fc-scrollgrid-sync-inner"},B(m,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(c,_W)}})))}}class XR extends bt{constructor(){super(...arguments),this.createDayHeaderFormatter=Fe(EW)}render(){let{context:t}=this,{dates:n,dateProfile:r,datesRepDistinctDays:a,renderIntro:i}=this.props,c=this.createDayHeaderFormatter(t.options.dayHeaderFormat,a,n.length);return B(Uo,{unit:"day"},(d,u)=>B("tr",{role:"row"},i&&i("day"),n.map(h=>a?B(SW,{key:h.toISOString(),date:h,dateProfile:r,todayRange:u,colCnt:n.length,dayHeaderFormat:c}):B(CW,{key:h.getUTCDay(),dow:h.getUTCDay(),dayHeaderFormat:c}))))}}function EW(e,t,n){return e||NW(t,n)}class ZR{constructor(t,n){let r=t.start,{end:a}=t,i=[],c=[],d=-1;for(;r<a;)n.isHiddenDay(r)?i.push(d+.5):(d+=1,i.push(d),c.push(r)),r=Rn(r,1);this.dates=c,this.indices=i,this.cnt=c.length}sliceRange(t){let n=this.getDateDayIndex(t.start),r=this.getDateDayIndex(Rn(t.end,-1)),a=Math.max(0,n),i=Math.min(this.cnt-1,r);return a=Math.ceil(a),i=Math.floor(i),a<=i?{firstIndex:a,lastIndex:i,isStart:n===a,isEnd:r===i}:null}getDateDayIndex(t){let{indices:n}=this,r=Math.floor(Cl(this.dates[0],t));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class JR{constructor(t,n){let{dates:r}=t,a,i,c;if(n){for(i=r[0].getUTCDay(),a=1;a<r.length&&r[a].getUTCDay()!==i;a+=1);c=Math.ceil(r.length/a)}else c=1,a=r.length;this.rowCnt=c,this.colCnt=a,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let a=0;a<this.colCnt;a+=1)r.push(this.buildCell(n,a));t.push(r)}return t}buildCell(t,n){let r=this.daySeries.dates[t*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let t=[];for(let n=0;n<this.colCnt;n+=1)t.push(this.cells[0][n].date);return t}sliceRange(t){let{colCnt:n}=this,r=this.daySeries.sliceRange(t),a=[];if(r){let{firstIndex:i,lastIndex:c}=r,d=i;for(;d<=c;){let u=Math.floor(d/n),h=Math.min((u+1)*n,c+1);a.push({row:u,firstCol:d%n,lastCol:(h-1)%n,isStart:r.isStart&&d===i,isEnd:r.isEnd&&h-1===c}),d=h}}return a}}class eM{constructor(){this.sliceBusinessHours=Fe(this._sliceBusinessHours),this.sliceDateSelection=Fe(this._sliceDateSpan),this.sliceEventStore=Fe(this._sliceEventStore),this.sliceEventDrag=Fe(this._sliceInteraction),this.sliceEventResize=Fe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,n,r,a,...i){let{eventUiBases:c}=t,d=this.sliceEventStore(t.eventStore,c,n,r,...i);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,n,r,c,a,...i),businessHourSegs:this.sliceBusinessHours(t.businessHours,n,r,a,...i),fgEventSegs:d.fg,bgEventSegs:d.bg,eventDrag:this.sliceEventDrag(t.eventDrag,c,n,r,...i),eventResize:this.sliceEventResize(t.eventResize,c,n,r,...i),eventSelection:t.eventSelection}}sliceNowDate(t,n,r,a,...i){return this._sliceDateSpan({range:{start:t,end:xl(t,1)},allDay:!1},n,r,{},a,...i)}_sliceBusinessHours(t,n,r,a,...i){return t?this._sliceEventStore(wo(t,gh(n,!!r),a),{},n,r,...i).bg:[]}_sliceEventStore(t,n,r,a,...i){if(t){let c=vj(t,n,gh(r,!!a),a);return{bg:this.sliceEventRanges(c.bg,i),fg:this.sliceEventRanges(c.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(t,n,r,a,...i){if(!t)return null;let c=vj(t.mutatedEvents,n,gh(r,!!a),a);return{segs:this.sliceEventRanges(c.fg,i),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,n,r,a,i,...c){if(!t)return[];let d=gh(n,!!r),u=gl(t.range,d);if(u){t=Object.assign(Object.assign({},t),{range:u});let h=WY(t,a,i),m=this.sliceRange(t.range,...c);for(let p of m)p.eventRange=h;return m}return[]}sliceEventRanges(t,n){let r=[];for(let a of t)r.push(...this.sliceEventRange(a,n));return r}sliceEventRange(t,n){let r=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(r={start:r.start,end:Rn(r.start,1)});let a=this.sliceRange(r,...n);for(let i of a)i.eventRange=t,i.isStart=t.isStart&&i.isStart,i.isEnd=t.isEnd&&i.isEnd;return a}}function gh(e,t){let n=e.activeRange;return t?n:{start:xl(n.start,e.slotMinTime.milliseconds),end:xl(n.end,e.slotMaxTime.milliseconds-864e5)}}function tM(e,t,n){let{instances:r}=e.mutatedEvents;for(let a in r)if(!Dx(t.validRange,r[a].range))return!1;return nM({eventDrag:e},n)}function AW(e,t,n){return Dx(t.validRange,e.range)?nM({dateSelection:e},n):!1}function nM(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||kW)(r,t)}function kW(e,t,n={},r){return!(e.eventDrag&&!DW(e,t,n,r)||e.dateSelection&&!OW(e,t,n,r))}function DW(e,t,n,r){let a=t.getCurrentData(),i=e.eventDrag,c=i.mutatedEvents,d=c.defs,u=c.instances,h=vp(d,i.isEvent?e.eventUiBases:{"":a.selectionConfig});r&&(h=ci(h,r));let m=EY(e.eventStore,i.affectedEvents.instances),p=m.defs,g=m.instances,v=vp(p,e.eventUiBases);for(let y in u){let N=u[y],j=N.range,_=h[N.defId],C=d[N.defId];if(!sM(_.constraints,j,m,e.businessHours,t))return!1;let{eventOverlap:E}=t.options,k=typeof E=="function"?E:null;for(let T in g){let D=g[T];if(oN(j,D.range)&&(v[D.defId].overlap===!1&&i.isEvent||_.overlap===!1||k&&!k(new ln(t,p[D.defId],D),new ln(t,C,N))))return!1}let O=a.eventStore;for(let T of _.allows){let D=Object.assign(Object.assign({},n),{range:N.range,allDay:C.allDay}),P=O.defs[C.defId],X=O.instances[y],ae;if(P?ae=new ln(t,P,X):ae=new ln(t,C),!T(hN(D,t),ae))return!1}}return!0}function OW(e,t,n,r){let a=e.eventStore,i=a.defs,c=a.instances,d=e.dateSelection,u=d.range,{selectionConfig:h}=t.getCurrentData();if(r&&(h=r(h)),!sM(h.constraints,u,a,e.businessHours,t))return!1;let{selectOverlap:m}=t.options,p=typeof m=="function"?m:null;for(let g in c){let v=c[g];if(oN(u,v.range)&&(h.overlap===!1||p&&!p(new ln(t,i[v.defId],v),null)))return!1}for(let g of h.allows){let v=Object.assign(Object.assign({},n),d);if(!g(hN(v,t),null))return!1}return!0}function sM(e,t,n,r,a){for(let i of e)if(!RW(TW(i,t,n,r,a),t))return!1;return!0}function TW(e,t,n,r,a){return e==="businessHours"?cy(wo(r,t,a)):typeof e=="string"?cy(Ox(n,i=>i.groupId===e)):typeof e=="object"&&e?cy(wo(e,t,a)):[]}function cy(e){let{instances:t}=e,n=[];for(let r in t)n.push(t[r].range);return n}function RW(e,t){for(let n of e)if(Dx(n,t))return!0;return!1}const vh=/^(visible|hidden)$/;class rM extends bt{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,Ca(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:n,liquidIsAbsolute:r}=t,a=n&&r,i=["fc-scroller"];return n&&(r?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),B("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:a&&-(t.overcomeLeft||0)||"",right:a&&-(t.overcomeRight||0)||"",bottom:a&&-(t.overcomeBottom||0)||"",marginLeft:!a&&-(t.overcomeLeft||0)||"",marginRight:!a&&-(t.overcomeRight||0)||"",marginBottom:!a&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(vh.test(this.props.overflowX))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=t;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(vh.test(this.props.overflowY))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=t;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return vh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return vh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ti{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:a,currentMap:i}=this,c=!1,d=!1;n!==null?(c=r in i,i[r]=n,a[r]=(a[r]||0)+1,d=!0):(a[r]-=1,a[r]||(delete i[r],delete this.callbackMap[r],c=!0)),this.masterCallback&&(c&&this.masterCallback(null,String(r)),d&&this.masterCallback(n,String(r)))}}createRef(t){let n=this.callbackMap[t];return n||(n=this.callbackMap[t]=r=>{this.handleValue(r,String(t))}),n}collect(t,n,r){return VK(this.currentMap,t,n,r)}getAll(){return iN(this.currentMap)}}function MW(e){let t=HG(e,".fc-scrollgrid-shrink"),n=0;for(let r of t)n=Math.max(n,sK(r));return Math.ceil(n)}function aM(e,t){return e.liquid&&t.liquid}function PW(e,t){return t.maxHeight!=null||aM(e,t)}function IW(e,t,n,r){let{expandRows:a}=n;return typeof t.content=="function"?t.content(n):B("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:a?n.clientHeight:""}},n.tableColGroupNode,B(r?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(n):t.rowContent))}function LW(e,t){return pl(e,t,ea)}function zW(e,t){let n=[];for(let r of e){let a=r.span||1;for(let i=0;i<a;i+=1)n.push(B("col",{style:{width:r.width==="shrink"?UW(t):r.width||"",minWidth:r.minWidth||""}}))}return B("colgroup",{},...n)}function UW(e){return e??4}function BW(e){for(let t of e)if(t.width==="shrink")return!0;return!1}function qW(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function $W(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function wj(e){return B("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function yp(e){let{stickyHeaderDates:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}function iM(e){let{stickyFooterScrollbar:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}class SN extends bt{constructor(){super(...arguments),this.processCols=Fe(t=>t,LW),this.renderMicroColGroup=Fe(zW),this.scrollerRefs=new ti,this.scrollerElRefs=new ti(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:n,context:r}=this,a=t.sections||[],i=this.processCols(t.cols),c=this.renderMicroColGroup(i,n.shrinkWidth),d=qW(t.liquid,r);t.collapsibleWidth&&d.push("fc-scrollgrid-collapsible");let u=a.length,h=0,m,p=[],g=[],v=[];for(;h<u&&(m=a[h]).type==="header";)p.push(this.renderSection(m,c,!0)),h+=1;for(;h<u&&(m=a[h]).type==="body";)g.push(this.renderSection(m,c,!1)),h+=1;for(;h<u&&(m=a[h]).type==="footer";)v.push(this.renderSection(m,c,!0)),h+=1;let y=!FR();const N={role:"rowgroup"};return B("table",{role:"grid",className:d.join(" "),style:{height:t.height}},!!(!y&&p.length)&&B("thead",N,...p),!!(!y&&g.length)&&B("tbody",N,...g),!!(!y&&v.length)&&B("tfoot",N,...v),y&&B("tbody",N,...p,...g,...v))}renderSection(t,n,r){return"outerContent"in t?B(Lt,{key:t.key},t.outerContent):B("tr",{key:t.key,role:"presentation",className:$W(t,this.props.liquid).join(" ")},this.renderChunkTd(t,n,t.chunk,r))}renderChunkTd(t,n,r,a){if("outerContent"in r)return r.outerContent;let{props:i}=this,{forceYScrollbars:c,scrollerClientWidths:d,scrollerClientHeights:u}=this.state,h=PW(i,t),m=aM(i,t),p=i.liquid?c?"scroll":h?"auto":"hidden":"visible",g=t.key,v=IW(t,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&d[g]!==void 0?d[g]:null,clientHeight:u[g]!==void 0?u[g]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return B(a?"th":"td",{ref:r.elRef,role:"presentation"},B("div",{className:`fc-scroller-harness${m?" fc-scroller-harness-liquid":""}`},B(rM,{ref:this.scrollerRefs.createRef(g),elRef:this.scrollerElRefs.createRef(g),overflowY:p,overflowX:i.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:m,liquidIsAbsolute:!0},v)))}_handleScrollerEl(t,n){let r=HW(this.props.sections,n);r&&Ca(r.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return BW(this.props.cols)?MW(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=mW(),{scrollerRefs:n,scrollerElRefs:r}=this,a=!1,i={},c={};for(let d in n.currentMap){let u=n.currentMap[d];if(u&&u.needsYScrolling()){a=!0;break}}for(let d of this.props.sections){let u=d.key,h=r.currentMap[u];if(h){let m=h.parentNode;i[u]=Math.floor(m.getBoundingClientRect().width-(a?t.y:0)),c[u]=Math.floor(m.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:i,scrollerClientHeights:c}}}SN.addStateEquality({scrollerClientWidths:ea,scrollerClientHeights:ea});function HW(e,t){for(let n of e)if(n.key===t)return n;return null}class Mx extends bt{constructor(){super(...arguments),this.buildPublicEvent=Fe((t,n,r)=>new ln(t,n,r)),this.handleEl=t=>{this.el=t,Ca(this.props.elRef,t),t&&JE(t,this.props.seg)}}render(){const{props:t,context:n}=this,{options:r}=n,{seg:a}=t,{eventRange:i}=a,{ui:c}=i,d={event:this.buildPublicEvent(n,i.def,i.instance),view:n.viewApi,timeText:t.timeText,textColor:c.textColor,backgroundColor:c.backgroundColor,borderColor:c.borderColor,isDraggable:!t.disableDragging&&UY(a,n),isStartResizable:!t.disableResizing&&BY(a,n),isEndResizable:!t.disableResizing&&qY(a),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return B(js,{elRef:this.handleEl,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:[...$Y(d),...a.eventRange.ui.classNames,...t.elClasses||[]],elStyle:t.elStyle,renderProps:d,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},t.children)}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&JE(this.el,this.props.seg)}}class _N extends bt{render(){let{props:t,context:n}=this,{options:r}=n,{seg:a}=t,{ui:i}=a.eventRange,c=r.eventTimeFormat||t.defaultTimeFormat,d=Hu(a,c,n,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return B(Mx,Object.assign({},t,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:gN(a,n),defaultGenerator:FW,timeText:d}),(u,h)=>B(Lt,null,B(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:h.textColor}}),!!h.isStartResizable&&B("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!h.isEndResizable&&B("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}_N.addPropsEquality({seg:ea});function FW(e){return B("div",{className:"fc-event-main-frame"},e.timeText&&B("div",{className:"fc-event-time"},e.timeText),B("div",{className:"fc-event-title-container"},B("div",{className:"fc-event-title fc-sticky"},e.event.title||B(Lt,null,""))))}const CN=e=>B(gi.Consumer,null,t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return B(js,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}),VW=Zt({day:"numeric"});class EN extends bt{constructor(){super(...arguments),this.refineRenderProps=Hh(GW)}render(){let{props:t,context:n}=this,{options:r}=n,a=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return B(js,{elRef:t.elRef,elTag:t.elTag,elAttrs:Object.assign(Object.assign({},t.elAttrs),a.isDisabled?{}:{"data-date":Cf(t.date)}),elClasses:[...Rx(a,n.theme),...t.elClasses||[]],elStyle:t.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:a.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},t.children)}}function AN(e){return!!(e.dayCellContent||pj("dayCellContent",e))}function GW(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:a}=e,i=yN(t,e.todayRange,null,r),c=e.showDayNumber?n.format(t,a?e.monthStartFormat:VW):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},i),{isMonthStart:a,dayNumberText:c}),e.extraRenderProps)}class lM extends bt{render(){let{props:t}=this,{seg:n}=t;return B(Mx,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:KW,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function KW(e){let{title:t}=e.event;return t&&B("div",{className:"fc-event-title"},e.event.title)}function oM(e){return B("div",{className:`fc-${e}`})}const cM=e=>B(gi.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:a}=e,i=r.weekNumberFormat||e.defaultFormat,c=n.computeWeekNumber(a),d=n.format(a,i),u={num:c,text:d,date:a};return B(js,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:YW,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function YW(e){return e.text}const dy=10;class WW extends bt{constructor(){super(...arguments),this.state={titleId:ol()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Ca(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const n=xR(t);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:n}=this.context,{props:r,state:a}=this,i=["fc-popover",t.getClass("popover")].concat(r.extraClassNames||[]);return kG(B("div",Object.assign({},r.extraAttrs,{id:r.id,className:i.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),B("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},B("span",{className:"fc-popover-title",id:a.titleId},r.title),B("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),B("div",{className:"fc-popover-body "+t.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:a}=this,i=gW(n);if(i){let c=a.getBoundingClientRect(),d=r?gs(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,u=t?i.right-c.width:i.left;d=Math.max(d,dy),u=Math.min(u,document.documentElement.clientWidth-dy-c.width),u=Math.max(u,dy);let h=a.offsetParent.getBoundingClientRect();Bu(a,{top:d-h.top,left:u-h.left})}}}class QW extends sa{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:n}=this.context,{props:r}=this,{startDate:a,todayRange:i,dateProfile:c}=r,d=n.format(a,t.dayPopoverFormat);return B(EN,{elRef:this.handleRootEl,date:a,dateProfile:c,todayRange:i},(u,h,m)=>B(WW,{elRef:m.ref,id:r.id,title:d,extraClassNames:["fc-more-popover"].concat(m.className||[]),extraAttrs:m,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},AN(t)&&B(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(t,n,r,a){let{rootEl:i,props:c}=this;return t>=0&&t<r&&n>=0&&n<a?{dateProfile:c.dateProfile,dateSpan:Object.assign({allDay:!c.forceTimed,range:{start:c.startDate,end:c.endDate}},c.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:r,bottom:a},layer:1}:null}}class dM extends bt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ol()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&Ca(this.props.elRef,t)},this.handleClick=t=>{let{props:n,context:r}=this,{moreLinkClick:a}=r.options,i=tA(n).start;function c(d){let{def:u,instance:h,range:m}=d.eventRange;return{event:new ln(r,u,h),start:r.dateEnv.toDate(m.start),end:r.dateEnv.toDate(m.end),isStart:d.isStart,isEnd:d.isEnd}}typeof a=="function"&&(a=a({date:i,allDay:!!n.allDayDate,allSegs:n.allSegs.map(c),hiddenSegs:n.hiddenSegs.map(c),jsEvent:t,view:r.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&r.calendarApi.zoomTo(i,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:n}=this;return B(gi.Consumer,null,r=>{let{viewApi:a,options:i,calendarApi:c}=r,{moreLinkText:d}=i,{moreCnt:u}=t,h=tA(t),m=typeof d=="function"?d.call(c,u):`+${u} ${d}`,p=qu(i.moreLinkHint,[u],m),g={num:u,shortText:`+${u}`,text:m,view:a};return B(Lt,null,!!t.moreCnt&&B(js,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),vR(this.handleClick)),{title:p,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:g,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:t.defaultGenerator||XW,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},t.children),n.isPopoverOpen&&B(QW,{id:n.popoverId,startDate:h.start,endDate:h.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=gs(this.linkEl,".fc-view-harness"))}}function XW(e){return e.text}function tA(e){if(e.allDayDate)return{start:e.allDayDate,end:Rn(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:uM(t),end:JW(t)}}function uM(e){return e.reduce(ZW).eventRange.range.start}function ZW(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function JW(e){return e.reduce(eQ).eventRange.range.end}function eQ(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class tQ{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let n of this.handlers)n(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}}class nQ extends tQ{constructor(){super(...arguments),this.map=new Map}handle(t){const{map:n}=this;let r=!1;t.isActive?(n.set(t.id,t),r=!0):n.has(t.id)&&(n.delete(t.id),r=!0),r&&this.set(n)}}const sQ=[],fM={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},mM=Object.assign(Object.assign({},fM),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function rQ(e){let t=e.length>0?e[0].code:"en",n=sQ.concat(e),r={en:mM};for(let a of n)r[a.code]=a;return{map:r,defaultCode:t}}function hM(e,t){return typeof e=="object"&&!Array.isArray(e)?pM(e.code,[e.code],e):aQ(e,t)}function aQ(e,t){let n=[].concat(e||[]),r=iQ(n,t)||mM;return pM(e,n,r)}function iQ(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let a=r.length;a>0;a-=1){let i=r.slice(0,a).join("-");if(t[i])return t[i]}}return null}function pM(e,t,n){let r=aN([fM,n],["buttonText"]);delete r.code;let{week:a}=r;return delete r.week,{codeArg:e,codes:t,week:a,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function Ra(e){return{id:Lo(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function lQ(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(i){for(let c of i){const d=c.name,u=n[d];u===void 0?(n[d]=c.id,a(c.deps),r=cQ(r,c)):u!==c.id&&console.warn(`Duplicate plugin '${d}'`)}}return e&&a(e),a(t),r}function oQ(){let e=[],t=[],n;return(r,a)=>((!n||!pl(r,e)||!pl(a,t))&&(n=lQ(r,a)),e=r,t=a,n)}function cQ(e,t){return{premiumReleaseDate:dQ(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function dQ(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class El extends Ef{}El.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};El.prototype.baseIconClass="fc-icon";El.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};El.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};El.prototype.iconOverrideOption="buttonIcons";El.prototype.iconOverrideCustomButtonOption="icon";El.prototype.iconOverridePrefix="fc-icon-";function uQ(e,t){let n={},r;for(r in e)Nj(r,n,e,t);for(r in t)Nj(r,n,e,t);return n}function Nj(e,t,n,r){if(t[e])return t[e];let a=fQ(e,t,n,r);return a&&(t[e]=a),a}function fQ(e,t,n,r){let a=n[e],i=r[e],c=m=>a&&a[m]!==null?a[m]:i&&i[m]!==null?i[m]:null,d=c("component"),u=c("superType"),h=null;if(u){if(u===e)throw new Error("Can't have a custom view type that references itself");h=Nj(u,t,n,r)}return!d&&h&&(d=h.component),d?{type:e,component:d,defaults:Object.assign(Object.assign({},h?h.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},h?h.overrides:{}),i?i.rawOptions:{})}:null}function nA(e){return ci(e,mQ)}function mQ(e){let t=typeof e=="function"?{component:e}:e,{component:n}=t;return t.content?n=sA(t):n&&!(n.prototype instanceof bt)&&(n=sA(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function sA(e){return t=>B(gi.Consumer,null,n=>B(js,{elTag:"div",elClasses:ER(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function hQ(e,t,n,r){let a=nA(e),i=nA(t.views),c=uQ(a,i);return ci(c,d=>pQ(d,i,t,n,r))}function pQ(e,t,n,r,a){let i=e.overrides.duration||e.defaults.duration||r.duration||n.duration,c=null,d="",u="",h={};if(i&&(c=xQ(i),c)){let g=hj(c);d=g.unit,g.value===1&&(u=d,h=t[d]?t[d].rawOptions:{})}let m=g=>{let v=g.buttonText||{},y=e.defaults.buttonTextKey;return y!=null&&v[y]!=null?v[y]:v[e.type]!=null?v[e.type]:v[u]!=null?v[u]:null},p=g=>{let v=g.buttonHints||{},y=e.defaults.buttonTextKey;return y!=null&&v[y]!=null?v[y]:v[e.type]!=null?v[e.type]:v[u]!=null?v[u]:null};return{type:e.type,component:e.component,duration:c,durationUnit:d,singleUnit:u,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},h),e.overrides),buttonTextOverride:m(r)||m(n)||e.overrides.buttonText,buttonTextDefault:m(a)||e.defaults.buttonText||m($u)||e.type,buttonTitleOverride:p(r)||p(n)||e.overrides.buttonHint,buttonTitleDefault:p(a)||e.defaults.buttonHint||p($u)}}let rA={};function xQ(e){let t=JSON.stringify(e),n=rA[t];return n===void 0&&(n=ht(e),rA[t]=n),n}function gQ(e,t){return t.type==="CHANGE_VIEW_TYPE"&&(e=t.viewType),e}function vQ(e,t){return t.type==="CHANGE_DATE"?t.dateMarker:e}function yQ(e,t,n){let r=e.initialDate;return r!=null?t.createMarker(r):n.getDateMarker()}function bQ(e,t){return t.type==="SET_OPTION"?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}function jQ(e,t,n,r){let a;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(a=r.buildPrev(e,n),a.isValid)return a;break;case"NEXT":if(a=r.buildNext(e,n),a.isValid)return a;break}return e}function wQ(e,t,n){let r=t?t.activeRange:null;return gM({},kQ(e,n),r,n)}function NQ(e,t,n,r){let a=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return gM(e,t.sources,a,r);case"REMOVE_EVENT_SOURCE":return _Q(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?vM(e,a,r):e;case"FETCH_EVENT_SOURCES":return kN(e,t.sourceIds?wR(t.sourceIds):yM(e,r),a,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return AQ(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function SQ(e,t,n){let r=t?t.activeRange:null;return kN(e,yM(e,n),r,!0,n)}function xM(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function gM(e,t,n,r){let a={};for(let i of t)a[i.sourceId]=i;return n&&(a=vM(a,n,r)),Object.assign(Object.assign({},e),a)}function _Q(e,t){return jo(e,n=>n.sourceId!==t)}function vM(e,t,n){return kN(e,jo(e,r=>CQ(r,t,n)),t,!1,n)}function CQ(e,t,n){return bM(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function kN(e,t,n,r,a){let i={};for(let c in e){let d=e[c];t[c]?i[c]=EQ(d,n,r,a):i[c]=d}return i}function EQ(e,t,n,r){let{options:a,calendarApi:i}=r,c=r.pluginHooks.eventSourceDefs[e.sourceDefId],d=Lo();return c.fetch({eventSource:e,range:t,isRefetch:n,context:r},u=>{let{rawEvents:h}=u;a.eventSourceSuccess&&(h=a.eventSourceSuccess.call(i,h,u.response)||h),e.success&&(h=e.success.call(i,h,u.response)||h),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:d,fetchRange:t,rawEvents:h})},u=>{let h=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(i,u),h=!0),e.failure&&(e.failure(u),h=!0),h||console.warn(u.message,u),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:d,fetchRange:t,error:u})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:d})}function AQ(e,t,n,r){let a=e[t];return a&&n===a.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:r})}):e}function yM(e,t){return jo(e,n=>bM(n,t))}function kQ(e,t){let n=PR(t),r=[].concat(e.eventSources||[]),a=[];e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events);for(let i of r){let c=MR(i,t,n);c&&a.push(c)}return a}function bM(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function DQ(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function OQ(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function TQ(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function RQ(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function MQ(e,t,n,r,a){let i=e.headerToolbar?aA(e.headerToolbar,e,t,n,r,a):null,c=e.footerToolbar?aA(e.footerToolbar,e,t,n,r,a):null;return{header:i,footer:c}}function aA(e,t,n,r,a,i){let c={},d=[],u=!1;for(let h in e){let m=e[h],p=PQ(m,t,n,r,a,i);c[h]=p.widgets,d.push(...p.viewsWithButtons),u=u||p.hasTitle}return{sectionWidgets:c,viewsWithButtons:d,hasTitle:u}}function PQ(e,t,n,r,a,i){let c=t.direction==="rtl",d=t.customButtons||{},u=n.buttonText||{},h=t.buttonText||{},m=n.buttonHints||{},p=t.buttonHints||{},g=e?e.split(" "):[],v=[],y=!1;return{widgets:g.map(j=>j.split(",").map(_=>{if(_==="title")return y=!0,{buttonName:_};let C,E,k,O,T,D;if(C=d[_])k=P=>{C.click&&C.click.call(P.target,P,P.target)},(O=r.getCustomButtonIconClass(C))||(O=r.getIconClass(_,c))||(T=C.text),D=C.hint||C.text;else if(E=a[_]){v.push(_),k=()=>{i.changeView(_)},(T=E.buttonTextOverride)||(O=r.getIconClass(_,c))||(T=E.buttonTextDefault);let P=E.buttonTextOverride||E.buttonTextDefault;D=qu(E.buttonTitleOverride||E.buttonTitleDefault||t.viewHint,[P,_],P)}else if(i[_])if(k=()=>{i[_]()},(T=u[_])||(O=r.getIconClass(_,c))||(T=h[_]),_==="prevYear"||_==="nextYear"){let P=_==="prevYear"?"prev":"next";D=qu(m[P]||p[P],[h.year||"year","year"],h[_])}else D=P=>qu(m[_]||p[_],[h[P]||P,P],h[_]);return{buttonName:_,buttonClick:k,buttonIcon:O,buttonText:T,buttonHint:D}})),viewsWithButtons:v,hasTitle:y}}class IQ{constructor(t,n,r){this.type=t,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let LQ={ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}};const zQ=Ra({name:"array-event-source",eventSourceDefs:[LQ]});let UQ={parseMeta(e){return typeof e.events=="function"?e.events:null},fetch(e,t,n){const{dateEnv:r}=e.context,a=e.eventSource.meta;QY(a.bind(null,$R(e.range,r)),i=>t({rawEvents:i}),n)}};const BQ=Ra({name:"func-event-source",eventSourceDefs:[UQ]}),qQ={method:String,extraParams:me,startParam:String,endParam:String,timeZoneParam:String};let $Q={parseMeta(e){return e.url&&(e.format==="json"||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,n){const{meta:r}=e.eventSource,a=FQ(r,e.range,e.context);XY(r.method,r.url,a).then(([i,c])=>{t({rawEvents:i,response:c})},n)}};const HQ=Ra({name:"json-event-source",eventSourceRefiners:qQ,eventSourceDefs:[$Q]});function FQ(e,t,n){let{dateEnv:r,options:a}=n,i,c,d,u,h={};return i=e.startParam,i==null&&(i=a.startParam),c=e.endParam,c==null&&(c=a.endParam),d=e.timeZoneParam,d==null&&(d=a.timeZoneParam),typeof e.extraParams=="function"?u=e.extraParams():u=e.extraParams||{},Object.assign(h,u),h[i]=r.formatIso(t.start),h[c]=r.formatIso(t.end),r.timeZone!=="local"&&(h[d]=r.timeZone),h}const VQ={daysOfWeek:me,startTime:ht,endTime:ht,duration:ht,startRecur:me,endRecur:me};let GQ={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},r;return e.duration&&(r=e.duration),!r&&e.startTime&&e.endTime&&(r=lK(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:r,typeData:n}}return null},expand(e,t,n){let r=gl(t,{start:e.startRecur,end:e.endRecur});return r?YQ(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}};const KQ=Ra({name:"simple-recurring-event",recurringTypes:[GQ],eventRefiners:VQ});function YQ(e,t,n,r,a){let i=e?wR(e):null,c=$t(a.start),d=a.end,u=[];for(t&&(t.milliseconds<0?d=Rn(d,1):t.milliseconds>=1e3*60*60*24&&(c=Rn(c,-1)));c<d;){let h;(!i||i[c.getUTCDay()])&&(t?h=r.add(c,t):h=c,u.push(r.createMarker(n.toDate(h)))),c=Rn(c,1)}return u}const WQ=Ra({name:"change-handler",optionChangeHandlers:{events(e,t){iA([e],t)},eventSources:iA}});function iA(e,t){let n=iN(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let r=[];for(let a of e){let i=!1;for(let c=0;c<n.length;c+=1)if(n[c]._raw===a){n.splice(c,1),i=!0;break}i||r.push(a)}for(let a of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of r)t.calendarApi.addEventSource(a)}function QQ(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},$R(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function XQ(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",uo(e,t))}const ZQ=[zQ,BQ,HQ,KQ,WQ,Ra({name:"misc",isLoadingFuncs:[e=>xM(e.eventSources)],propSetHandlers:{dateProfile:QQ,eventStore:XQ}})];class JQ{constructor(t,n){this.runTaskOption=t,this.drainedOption=n,this.queue=[],this.delayedRunner=new Zw(this.drain.bind(this))}request(t,n){this.queue.push(t),this.delayedRunner.request(n)}pause(t){this.delayedRunner.pause(t)}resume(t,n){this.delayedRunner.resume(t,n)}drain(){let{queue:t}=this;for(;t.length;){let n=[],r;for(;r=t.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function eX(e,t,n){let r;return/^(year|month)$/.test(e.currentRangeUnit)?r=e.currentRange:r=e.activeRange,n.formatRange(r.start,r.end,Zt(t.titleFormat||tX(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function tX(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let n=up(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class lA{constructor(){this.resetListeners=new Set}handleInput(t,n){const r=this.dateEnv;if(t!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=t.toDate(n?t.createMarker(n):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,r))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class nX{constructor(t){this.computeCurrentViewData=Fe(this._computeCurrentViewData),this.organizeRawLocales=Fe(rQ),this.buildLocale=Fe(hM),this.buildPluginHooks=oQ(),this.buildDateEnv=Fe(sX),this.buildTheme=Fe(rX),this.parseToolbars=Fe(MQ),this.buildViewSpecs=Fe(hQ),this.buildDateProfileGenerator=Hh(aX),this.buildViewApi=Fe(iX),this.buildViewUiProps=Hh(cX),this.buildEventUiBySource=Fe(lX,ea),this.buildEventUiBases=Fe(oX),this.parseContextBusinessHours=Hh(dX),this.buildTitle=Fe(eX),this.nowManager=new lA,this.emitter=new Tx,this.actionRunner=new JQ(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=g=>{this.actionRunner.request(g)},this.props=t,this.actionRunner.pause(),this.nowManager=new lA;let n={},r=this.computeOptionsData(t.optionOverrides,n,t.calendarApi),a=r.calendarOptions.initialView||r.pluginHooks.initialView,i=this.computeCurrentViewData(a,r,t.optionOverrides,n);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(i.options);let c={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},d=yQ(r.calendarOptions,r.dateEnv,this.nowManager),u=i.dateProfileGenerator.build(d);ai(u.activeRange,d)||(d=u.currentRange.start);for(let g of r.pluginHooks.contextInit)g(c);let h=wQ(r.calendarOptions,u,c),m={dynamicOptionOverrides:n,currentViewType:a,currentDate:d,dateProfile:u,businessHours:this.parseContextBusinessHours(c),eventSources:h,eventUiBases:{},eventStore:lr(),renderableEventStore:lr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},p=Object.assign(Object.assign({},c),m);for(let g of r.pluginHooks.reducers)Object.assign(m,g(null,null,p));uy(m,c)&&this.emitter.trigger("loading",!0),this.state=m,this.updateData(),this.actionRunner.resume()}resetOptions(t,n){let{props:r}=this;n===void 0?r.optionOverrides=t:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),t),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:n,state:r,emitter:a}=this,i=bQ(r.dynamicOptionOverrides,t),c=this.computeOptionsData(n.optionOverrides,i,n.calendarApi),d=gQ(r.currentViewType,t),u=this.computeCurrentViewData(d,c,n.optionOverrides,i);n.calendarApi.currentDataManager=this,a.setThisContext(n.calendarApi),a.setOptions(u.options);let h={nowManager:this.nowManager,dateEnv:c.dateEnv,options:c.calendarOptions,pluginHooks:c.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:m,dateProfile:p}=r;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(p=u.dateProfileGenerator.build(m)),m=vQ(m,t),p=jQ(p,t,m,u.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!ai(p.currentRange,m))&&(m=p.currentRange.start);let g=NQ(r.eventSources,t,p,h),v=NY(r.eventStore,t,g,p,h),N=xM(g)&&!u.options.progressiveEventRendering&&r.renderableEventStore||v,{eventUiSingleBase:j,selectionConfig:_}=this.buildViewUiProps(h),C=this.buildEventUiBySource(g),E=this.buildEventUiBases(N.defs,j,C),k={dynamicOptionOverrides:i,currentViewType:d,currentDate:m,dateProfile:p,eventSources:g,eventStore:v,renderableEventStore:N,selectionConfig:_,eventUiBases:E,businessHours:this.parseContextBusinessHours(h),dateSelection:DQ(r.dateSelection,t),eventSelection:OQ(r.eventSelection,t),eventDrag:TQ(r.eventDrag,t),eventResize:RQ(r.eventResize,t)},O=Object.assign(Object.assign({},h),k);for(let P of c.pluginHooks.reducers)Object.assign(k,P(r,t,O));let T=uy(r,h),D=uy(k,h);!T&&D?a.trigger("loading",!0):T&&!D&&a.trigger("loading",!1),this.state=k,n.onAction&&n.onAction(t)}updateData(){let{props:t,state:n}=this,r=this.data,a=this.computeOptionsData(t.optionOverrides,n.dynamicOptionOverrides,t.calendarApi),i=this.computeCurrentViewData(n.currentViewType,a,t.optionOverrides,n.dynamicOptionOverrides),c=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,i.options,a.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),i),n),d=a.pluginHooks.optionChangeHandlers,u=r&&r.calendarOptions,h=a.calendarOptions;if(u&&u!==h){u.timeZone!==h.timeZone&&(n.eventSources=c.eventSources=SQ(c.eventSources,n.dateProfile,c),n.eventStore=c.eventStore=XE(c.eventStore,r.dateEnv,c.dateEnv),n.renderableEventStore=c.renderableEventStore=XE(c.renderableEventStore,r.dateEnv,c.dateEnv));for(let m in d)(this.optionsForHandling.indexOf(m)!==-1||u[m]!==h[m])&&d[m](h[m],c)}this.optionsForHandling=[],t.onData&&t.onData(c)}computeOptionsData(t,n,r){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:i,localeDefaults:c,availableLocaleData:d,extra:u}=this.processRawCalendarOptions(t,n);oA(u);let h=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,i,d,a.defaultRangeSeparator),m=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,c),p=this.buildTheme(a,i),g=this.parseToolbars(a,this.stableOptionOverrides,p,m,r);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:i,dateEnv:h,viewSpecs:m,theme:p,toolbarConfig:g,localeDefaults:c,availableRawLocales:d.map}}processRawCalendarOptions(t,n){let{locales:r,locale:a}=ny([$u,t,n]),i=this.organizeRawLocales(r),c=i.map,d=this.buildLocale(a||i.defaultCode,c).options,u=this.buildPluginHooks(t.plugins||[],ZQ),h=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VE),GE),KE),u.listenerRefiners),u.optionRefiners),m={},p=ny([$u,d,t,n]),g={},v=this.currentCalendarOptionsInput,y=this.currentCalendarOptionsRefined,N=!1;for(let j in p)this.optionsForRefining.indexOf(j)===-1&&(p[j]===v[j]||Xl[j]&&j in v&&Xl[j](v[j],p[j]))?g[j]=y[j]:h[j]?(g[j]=h[j](p[j]),N=!0):m[j]=v[j];return N&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=g,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:i,localeDefaults:d,extra:m}}_computeCurrentViewData(t,n,r,a){let i=n.viewSpecs[t];if(!i)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:c,extra:d}=this.processRawViewOptions(i,n.pluginHooks,n.localeDefaults,r,a);oA(d),this.nowManager.handleInput(n.dateEnv,c.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,showNonCurrentDates:c.showNonCurrentDates,dayCount:c.dayCount,dateAlignment:c.dateAlignment,dateIncrement:c.dateIncrement,hiddenDays:c.hiddenDays,weekends:c.weekends,validRangeInput:c.validRange,visibleRangeInput:c.visibleRange,fixedWeekCount:c.fixedWeekCount}),h=this.buildViewApi(t,this.getCurrentData,n.dateEnv);return{viewSpec:i,options:c,dateProfileGenerator:u,viewApi:h}}processRawViewOptions(t,n,r,a,i){let c=ny([$u,t.optionDefaults,r,a,t.optionOverrides,i]),d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VE),GE),KE),BK),n.listenerRefiners),n.optionRefiners),u={},h=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,p=!1,g={};for(let v in c)c[v]===h[v]||Xl[v]&&Xl[v](c[v],h[v])?u[v]=m[v]:(c[v]===this.currentCalendarOptionsInput[v]||Xl[v]&&Xl[v](c[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(u[v]=this.currentCalendarOptionsRefined[v]):d[v]?u[v]=d[v](c[v]):g[v]=c[v],p=!0);return p&&(this.currentViewOptionsInput=c,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:g}}}function sX(e,t,n,r,a,i,c,d){let u=hM(t||c.defaultCode,c.map);return new XK({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:r,weekText:a,cmdFormatter:i.cmdFormatter,defaultSeparator:d})}function rX(e,t){let n=t.themeClasses[e.themeSystem]||El;return new n(e)}function aX(e){let t=e.dateProfileGeneratorClass||kR;return new t(e)}function iX(e,t,n){return new IQ(e,t,n)}function lX(e){return ci(e,t=>t.ui)}function oX(e,t,n){let r={"":t};for(let a in e){let i=e[a];i.sourceId&&n[i.sourceId]&&(r[a]=n[i.sourceId])}return r}function cX(e){let{options:t}=e;return{eventUiSingleBase:gp({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:gp({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function uy(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function dX(e){return TY(e.options.businessHours,e)}function oA(e,t){for(let n in e)console.warn(`Unknown option '${n}'`)}class uX extends bt{render(){let t=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return B("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:n}=this,{theme:r}=this.context,a=[],i=!0;for(let c of t){let{buttonName:d,buttonClick:u,buttonText:h,buttonIcon:m,buttonHint:p}=c;if(d==="title")i=!1,a.push(B("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let g=d===n.activeButton,v=!n.isTodayEnabled&&d==="today"||!n.isPrevEnabled&&d==="prev"||!n.isNextEnabled&&d==="next",y=[`fc-${d}-button`,r.getClass("button")];g&&y.push(r.getClass("buttonActive")),a.push(B("button",{type:"button",title:typeof p=="function"?p(n.navUnit):p,disabled:v,"aria-pressed":g,className:y.join(" "),onClick:u},h||(m?B("span",{className:m,role:"img"}):"")))}}if(a.length>1){let c=i&&r.getClass("buttonGroup")||"";return B("div",{className:c},...a)}return a[0]}}class cA extends bt{render(){let{model:t,extraClassName:n}=this.props,r=!1,a,i,c=t.sectionWidgets,d=c.center;return c.left?(r=!0,a=c.left):a=c.start,c.right?(r=!0,i=c.right):i=c.end,B("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",d||[]),this.renderSection("end",i||[]))}renderSection(t,n){let{props:r}=this;return B(uX,{key:t,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class fX extends bt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,Ca(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:n}=this,{aspectRatio:r}=t,a=["fc-view-harness",r||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",c="";return r?n.availableWidth!==null?i=n.availableWidth/r:c=`${1/r*100}%`:i=t.height||"",B("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:i,paddingBottom:c}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class mX extends bd{constructor(t){super(t),this.handleSegClick=(n,r)=>{let{component:a}=this,{context:i}=a,c=Jc(r);if(c&&a.isValidSegDownEl(n.target)){let d=gs(n.target,".fc-event-forced-url"),u=d?d.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:r,event:new ln(a.context,c.eventRange.def,c.eventRange.instance),jsEvent:n,view:i.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=gR(t.el,"click",".fc-event",this.handleSegClick)}}class hX extends bd{constructor(t){super(t),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Jc(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=GG(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,n,r){let{component:a}=this,{context:i}=a,c=Jc(r);(!n||a.isValidSegDownEl(n.target))&&i.emitter.trigger(t,{el:r,event:new ln(i,c.eventRange.def,c.eventRange.instance),jsEvent:n,view:i.viewApi})}}class pX extends zo{constructor(){super(...arguments),this.buildViewContext=Fe(eY),this.buildViewPropTransformers=Fe(gX),this.buildToolbarProps=Fe(xX),this.headerRef=Es(),this.footerRef=Es(),this.interactionsStore={},this.state={viewLabelId:ol()},this.registerInteractiveComponent=(t,n)=>{let r=eW(t,n),c=[mX,hX].concat(this.props.pluginHooks.componentInteractions).map(d=>new d(r));this.interactionsStore[t.uid]=c,yj[t.uid]=r},this.unregisterInteractiveComponent=t=>{let n=this.interactionsStore[t.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[t.uid]}delete yj[t.uid]},this.resizeRunner=new Zw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:n}=this.props;n.handleWindowResize&&t.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:n,options:r}=t,a=!1,i="",c;t.isHeightAuto||t.forPrint?i="":r.height!=null?a=!0:r.contentHeight!=null?i=r.contentHeight:c=Math.max(r.aspectRatio,.5);let d=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return B(gi.Provider,{value:d},B(Uo,{unit:"day"},h=>{let m=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,h,t.viewTitle);return B(Lt,null,n.header&&B(cA,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},m)),B(fX,{liquid:a,height:i,aspectRatio:c,labeledById:u},this.renderView(t),this.buildAppendContent()),n.footer&&B(cA,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},m)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(r=>new r(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=t.pluginHooks;for(let r in n)n[r](t[r],t)}componentDidUpdate(t){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let a in r)n[a]!==t[a]&&r[a](n[a],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,n=t.pluginHooks.viewContainerAppends.map(r=>r(t));return B(Lt,{},...n)}renderView(t){let{pluginHooks:n}=t,{viewSpec:r}=t,a={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},i=this.buildViewPropTransformers(n.viewPropsTransformers);for(let d of i)Object.assign(a,d.transform(a,t));let c=r.component;return B(c,Object.assign({},a))}}function xX(e,t,n,r,a,i){let c=n.build(a,void 0,!1),d=n.buildPrev(t,r,!1),u=n.buildNext(t,r,!1);return{title:i,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:c.isValid&&!ai(t.currentRange,a),isPrevEnabled:d.isValid,isNextEnabled:u.isValid}}function gX(e){return e.map(t=>new t)}let vX=class extends nW{constructor(t,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;pp(()=>{Xu(B(JY,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(a,i,c,d)=>(this.setClassNames(a),this.setHeight(i),B(CR.Provider,{value:this.customContentRenderId},B(pX,Object.assign({isHeightAuto:c,forPrint:d},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Xu(null,this.el),this.setClassNames([]),this.setHeight(""))},LG(t),this.el=t,this.renderRunner=new Zw(this.handleRenderRequest),new nX({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){pp(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,n){this.currentDataManager.resetOptions(t,n)}setClassNames(t){if(!pl(t,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of t)n.add(r);this.currentClassNames=t}}setHeight(t){pR(this.el,"height",t)}};const yX=parseInt(String(_e.version).split(".")[0]),bX=yX<18;class DN extends b.Component{constructor(){super(...arguments),this.elRef=b.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const n of this.state.customRenderingMap.values())t.push(_e.createElement(jX,{key:n.id,customRendering:n}));return _e.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new nQ;this.handleCustomRendering=t.handle.bind(t),this.calendar=new vX(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{go.flushSync(()=>{})});let n;t.subscribe(r=>{const a=Date.now(),i=!n;(bX||i||this.isUpdating||this.isUnmounting||a-n<100?jM:go.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=a,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}DN.act=jM;class jX extends b.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:n}=t,r=typeof n=="function"?n(t.renderProps):n;return go.createPortal(r,t.containerEl)}}function jM(e){e()}class wX extends sa{constructor(){super(...arguments),this.headerElRef=Es()}renderSimpleLayout(t,n){let{props:r,context:a}=this,i=[],c=yp(a.options);return t&&i.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),B(Zu,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},B(SN,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:i}))}renderHScrollLayout(t,n,r,a){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:c,context:d}=this,u=!c.forPrint&&yp(d.options),h=!c.forPrint&&iM(d.options),m=[];return t&&m.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),h&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:wj}]}),B(Zu,{elClasses:["fc-daygrid"],viewSpec:d.viewSpec},B(i,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:c.forPrint,colGroups:[{cols:[{span:r,minWidth:a}]}],sections:m}))}}function Vh(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.row].push(r);return n}function yh(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.firstCol].push(r);return n}function dA(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let r of e.segs)n[r.row].segs.push(r)}else for(let r=0;r<t;r+=1)n[r]=null;return n}const wM=Zt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function NM(e){let{display:t}=e.eventRange.ui;return t==="list-item"||t==="auto"&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class SM extends bt{render(){let{props:t}=this;return B(_N,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:wM,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class _M extends bt{render(){let{props:t,context:n}=this,{options:r}=n,{seg:a}=t,i=r.eventTimeFormat||wM,c=Hu(a,i,n,!0,t.defaultDisplayEventEnd);return B(Mx,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:gN(t.seg,n),defaultGenerator:NX,timeText:c,isResizing:!1,isDateSelecting:!1}))}}function NX(e){return B(Lt,null,B("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&B("div",{className:"fc-event-time"},e.timeText),B("div",{className:"fc-event-title"},e.event.title||B(Lt,null,"")))}class SX extends bt{constructor(){super(...arguments),this.compileSegs=Fe(_X)}render(){let{props:t}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(t.singlePlacements);return B(dM,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let a=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return B(Lt,null,n.map(i=>{let c=i.eventRange.instance.instanceId;return B("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:a[c]?"hidden":""}},NM(i)?B(_M,Object.assign({seg:i,isDragging:!1,isSelected:c===t.eventSelection,defaultDisplayEventEnd:!1},ii(i,t.todayRange))):B(SM,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===t.eventSelection,defaultDisplayEventEnd:!1},ii(i,t.todayRange))))}))}})}}function _X(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const CX=Zt({week:"narrow"});class EX extends sa{constructor(){super(...arguments),this.rootElRef=Es(),this.state={dayNumberId:ol()},this.handleRootEl=t=>{Ca(this.rootElRef,t),Ca(this.props.elRef,t)}}render(){let{context:t,props:n,state:r,rootElRef:a}=this,{options:i,dateEnv:c}=t,{date:d,dateProfile:u}=n;const h=n.showDayNumber&&kX(d,u.currentRange,c);return B(EN,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:AX,date:d,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:h,extraRenderProps:n.extraRenderProps},(m,p)=>B("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&B(cM,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ed(t,d,"week"),date:d,defaultFormat:CX}),!p.isDisabled&&(n.showDayNumber||AN(i)||n.forceDayTop)?B("div",{className:"fc-daygrid-day-top"},B(m,{elTag:"a",elClasses:["fc-daygrid-day-number",h&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ed(t,d)),{id:r.dayNumberId})})):n.showDayNumber?B("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},B("a",{className:"fc-daygrid-day-number"},"")):void 0,B("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,B("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},B(SX,{allDayDate:d,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:a,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),B("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function AX(e){return e.dayNumberText||B(Lt,null,"")}function kX(e,t,n){const{start:r,end:a}=t,i=xl(a,-1),c=n.getYear(r),d=n.getMonth(r),u=n.getYear(i),h=n.getMonth(i);return!(c===u&&d===h)&&(e.valueOf()===r.valueOf()||n.getDay(e)===1&&e.valueOf()<a.valueOf())}function CM(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function EM(e){return CM(e)+":"+e.lastCol}function DX(e,t,n,r,a,i,c){let d=new RX(_=>{let C=e[_.index].eventRange.instance.instanceId+":"+_.span.start+":"+(_.span.end-1);return a[C]||1});d.allowReslicing=!0,d.strictOrder=r,t===!0||n===!0?(d.maxCoord=i,d.hiddenConsumes=!0):typeof t=="number"?d.maxStackCnt=t:typeof n=="number"&&(d.maxStackCnt=n,d.hiddenConsumes=!0);let u=[],h=[];for(let _=0;_<e.length;_+=1){let C=e[_],E=EM(C);a[E]!=null?u.push({index:_,span:{start:C.firstCol,end:C.lastCol+1}}):h.push(C)}let m=d.addSegs(u),p=d.toRects(),{singleColPlacements:g,multiColPlacements:v,leftoverMargins:y}=OX(p,e,c),N=[],j=[];for(let _ of h){v[_.firstCol].push({seg:_,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let C=_.firstCol;C<=_.lastCol;C+=1)g[C].push({seg:Vc(_,C,C+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<c.length;_+=1)N.push(0);for(let _ of m){let C=e[_.index],E=_.span;v[E.start].push({seg:Vc(C,E.start,E.end,c),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=E.start;k<E.end;k+=1)N[k]+=1,g[k].push({seg:Vc(C,k,k+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<c.length;_+=1)j.push(y[_]);return{singleColPlacements:g,multiColPlacements:v,moreCnts:N,moreMarginTops:j}}function OX(e,t,n){let r=TX(e,n.length),a=[],i=[],c=[];for(let d=0;d<n.length;d+=1){let u=r[d],h=[],m=0,p=0;for(let v of u){let y=t[v.index];h.push({seg:Vc(y,d,d+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-m}),m=v.levelCoord+v.thickness}let g=[];m=0,p=0;for(let v of u){let y=t[v.index],N=v.span.end-v.span.start>1,j=v.span.start===d;p+=v.levelCoord-m,m=v.levelCoord+v.thickness,N?(p+=v.thickness,j&&g.push({seg:Vc(y,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):j&&(g.push({seg:Vc(y,v.span.start,v.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:p}),p=0)}a.push(h),i.push(g),c.push(p)}return{singleColPlacements:a,multiColPlacements:i,leftoverMargins:c}}function TX(e,t){let n=[];for(let r=0;r<t;r+=1)n.push([]);for(let r of e)for(let a=r.span.start;a<r.span.end;a+=1)n[a].push(r);return n}function Vc(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let a=e.eventRange,i=a.range,c=gl(i,{start:r[t].date,end:Rn(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:c},isStart:e.isStart&&c.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&c.end.valueOf()===i.end.valueOf()})}class RX extends YR{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const n=super.addSegs(t),{entriesByLevel:r}=this,a=i=>!this.forceHidden[fo(i)];for(let i=0;i<r.length;i+=1)r[i]=r[i].filter(a);return n}handleInvalidInsertion(t,n,r){const{entriesByLevel:a,forceHidden:i}=this,{touchingEntry:c,touchingLevel:d,touchingLateral:u}=t;if(this.hiddenConsumes&&c){const h=fo(c);if(!i[h])if(this.allowReslicing){const m=Object.assign(Object.assign({},c),{span:wN(c.span,n.span)}),p=fo(m);i[p]=!0,a[d][u]=m,r.push(m),this.splitEntry(c,n,r)}else i[h]=!0,r.push(c)}super.handleInvalidInsertion(t,n,r)}}class AM extends sa{constructor(){super(...arguments),this.cellElRefs=new ti,this.frameElRefs=new ti,this.fgElRefs=new ti,this.segHarnessRefs=new ti,this.rootElRef=Es(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:n,context:r}=this,{options:a}=r,i=t.cells.length,c=yh(t.businessHourSegs,i),d=yh(t.bgEventSegs,i),u=yh(this.getHighlightSegs(),i),h=yh(this.getMirrorSegs(),i),{singleColPlacements:m,multiColPlacements:p,moreCnts:g,moreMarginTops:v}=DX(xN(t.fgEventSegs,a.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,a.eventOrderStrict,n.segHeights,n.maxContentHeight,t.cells),y=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return B("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((N,j)=>{let _=this.renderFgSegs(j,t.forPrint?m[j]:p[j],t.todayRange,y),C=this.renderFgSegs(j,MX(h[j],p),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return B(EX,{key:N.key,elRef:this.cellElRefs.createRef(N.key),innerElRef:this.frameElRefs.createRef(N.key),dateProfile:t.dateProfile,date:N.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&j===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:N.extraRenderProps,extraDataAttrs:N.extraDataAttrs,extraClassNames:N.extraClassNames,extraDateSpan:N.extraDateSpan,moreCnt:g[j],moreMarginTop:v[j],singlePlacements:m[j],fgContentElRef:this.fgElRefs.createRef(N.key),fgContent:B(Lt,null,B(Lt,null,_),B(Lt,null,C)),bgContent:B(Lt,null,this.renderFillSegs(u[j],"highlight"),this.renderFillSegs(c[j],"non-business"),this.renderFillSegs(d[j],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,n){let r=this.props;this.updateSizing(!ea(t,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,n,r,a,i,c,d){let{context:u}=this,{eventSelection:h}=this.props,{framePositions:m}=this.state,p=this.props.cells.length===1,g=i||c||d,v=[];if(m)for(let y of n){let{seg:N}=y,{instanceId:j}=N.eventRange.instance,_=y.isVisible&&!a[j],C=y.isAbsolute,E="",k="";C&&(u.isRtl?(k=0,E=m.lefts[N.lastCol]-m.lefts[N.firstCol]):(E=0,k=m.rights[N.firstCol]-m.rights[N.lastCol])),v.push(B("div",{className:"fc-daygrid-event-harness"+(C?" fc-daygrid-event-harness-abs":""),key:CM(N),ref:g?null:this.segHarnessRefs.createRef(EM(N)),style:{visibility:_?"":"hidden",marginTop:C?"":y.marginTop,top:C?y.absoluteTop:"",left:E,right:k}},NM(N)?B(_M,Object.assign({seg:N,isDragging:i,isSelected:j===h,defaultDisplayEventEnd:p},ii(N,r))):B(SM,Object.assign({seg:N,isDragging:i,isResizing:c,isDateSelecting:d,isSelected:j===h,defaultDisplayEventEnd:p},ii(N,r)))))}return v}renderFillSegs(t,n){let{isRtl:r}=this.context,{todayRange:a}=this.props,{framePositions:i}=this.state,c=[];if(i)for(let d of t){let u=r?{right:0,left:i.lefts[d.lastCol]-i.lefts[d.firstCol]}:{left:0,right:i.rights[d.firstCol]-i.rights[d.lastCol]};c.push(B("div",{key:qR(d.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?B(lM,Object.assign({seg:d},ii(d,a))):oM(n)))}return B(Lt,{},...c)}updateSizing(t){let{props:n,state:r,frameElRefs:a}=this;if(!n.forPrint&&n.clientWidth!==null){if(t){let u=n.cells.map(h=>a.currentMap[h.key]);if(u.length){let h=this.rootElRef.current,m=new td(h,u,!0,!1);(!r.framePositions||!r.framePositions.similarTo(m))&&this.setState({framePositions:new td(h,u,!0,!1)})}}const i=this.state.segHeights,c=this.querySegHeights(),d=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),c),maxContentHeight:d?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,n={};for(let r in t){let a=Math.round(t[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,a)}return n}computeMaxContentHeight(){let t=this.props.cells[0].key,n=this.cellElRefs.currentMap[t],r=this.fgElRefs.currentMap[t];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(n=>t[n.key])}}AM.addStateEquality({segHeights:ea});function MX(e,t){if(!e.length)return[];let n=PX(t);return e.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function PX(e){let t={};for(let n of e)for(let r of n)t[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return t}class IX extends sa{constructor(){super(...arguments),this.splitBusinessHourSegs=Fe(Vh),this.splitBgEventSegs=Fe(LX),this.splitFgEventSegs=Fe(Vh),this.splitDateSelectionSegs=Fe(Vh),this.splitEventDrag=Fe(dA),this.splitEventResize=Fe(dA),this.rowRefs=new ti}render(){let{props:t,context:n}=this,r=t.cells.length,a=this.splitBusinessHourSegs(t.businessHourSegs,r),i=this.splitBgEventSegs(t.bgEventSegs,r),c=this.splitFgEventSegs(t.fgEventSegs,r),d=this.splitDateSelectionSegs(t.dateSelectionSegs,r),u=this.splitEventDrag(t.eventDrag,r),h=this.splitEventResize(t.eventResize,r),m=r>=7&&t.clientWidth?t.clientWidth/n.options.aspectRatio/6:null;return B(Uo,{unit:"day"},(p,g)=>B(Lt,null,t.cells.map((v,y)=>B(AM,{ref:this.rowRefs.createRef(y),key:v.length?v[0].date.toISOString():y,showDayNumbers:r>1,showWeekNumbers:t.showWeekNumbers,todayRange:g,dateProfile:t.dateProfile,cells:v,renderIntro:t.renderRowIntro,businessHourSegs:a[y],eventSelection:t.eventSelection,bgEventSegs:i[y],fgEventSegs:c[y],dateSelectionSegs:d[y],eventDrag:u[y],eventResize:h[y],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:m,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],n=t?t.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new td(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new td(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,n){let{colPositions:r,rowPositions:a}=this,i=r.leftToIndex(t),c=a.topToIndex(n);if(c!=null&&i!=null){let d=this.props.cells[c][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(c,i),allDay:!0},d.extraDateSpan),dayEl:this.getCellEl(c,i),rect:{left:r.lefts[i],right:r.rights[i],top:a.tops[c],bottom:a.bottoms[c]},layer:0}}return null}getCellEl(t,n){return this.rowRefs.currentMap[t].getCellEls()[n]}getCellRange(t,n){let r=this.props.cells[t][n].date,a=Rn(r,1);return{start:r,end:a}}}function LX(e,t){return Vh(e.filter(zX),t)}function zX(e){return e.eventRange.def.allDay}class UX extends sa{constructor(){super(...arguments),this.elRef=Es(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:a}=t,i=r===!0||n===!0;i&&!a&&(i=!1,n=null,r=null);let c=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return B("div",{ref:this.elRef,className:c.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},B("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:a?t.clientHeight:""}},t.colGroupNode,B("tbody",{role:"presentation"},B(IX,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=BX(this.elRef.current,this.props.dateProfile);if(t){const n=t.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),a=t.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function BX(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${NK(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${Cf(t.currentDate)}"]`)),n}class qX extends eM{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,n){return n.sliceRange(t)}}class kM extends sa{constructor(){super(...arguments),this.slicer=new qX,this.tableRef=Es()}render(){let{props:t,context:n}=this;return B(UX,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class $X extends wX{constructor(){super(...arguments),this.buildDayTableModel=Fe(HX),this.headerRef=Es(),this.tableRef=Es()}render(){let{options:t,dateProfileGenerator:n}=this.context,{props:r}=this,a=this.buildDayTableModel(r.dateProfile,n),i=t.dayHeaders&&B(XR,{ref:this.headerRef,dateProfile:r.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),c=d=>B(kM,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:a,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:d.tableColGroupNode,tableMinWidth:d.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:d.clientWidth,clientHeight:d.clientHeight,forPrint:r.forPrint});return t.dayMinWidth?this.renderHScrollLayout(i,c,a.colCnt,t.dayMinWidth):this.renderSimpleLayout(i,c)}}function HX(e,t){let n=new ZR(e.renderRange,t);return new JR(n,/year|month|week/.test(e.currentRangeUnit))}class FX extends kR{buildRenderRange(t,n,r){let a=super.buildRenderRange(t,n,r),{props:i}=this;return VX({currentRange:a,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function VX(e){let{dateEnv:t,currentRange:n}=e,{start:r,end:a}=n,i;if(e.snapToWeek&&(r=t.startOfWeek(r),i=t.startOfWeek(a),i.valueOf()!==a.valueOf()&&(a=BE(i,1))),e.fixedWeekCount){let c=t.startOfWeek(t.startOfMonth(Rn(n.end,-1))),d=Math.ceil(fK(c,a));a=BE(a,6-d)}return{start:r,end:a}}var GX=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Ax(GX);var DM=Ra({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:$X,dateProfileGeneratorClass:FX},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});function KX({siteId:e,selectedStartDate:t,selectedEndDate:n}){const{data:r}=Po({site_id:e}),i=(r?.data||[]).map(c=>({id:c.id,title:`${c.title} (${c.filled}/${c.capacity})`,start:c.start_date,end:c.end_date,color:c.status==="open"?"#3b82f6":c.status==="filled"?"#22c55e":"#9ca3af",display:"block"}));return t&&n&&i.push({id:"selected-range",title:"New Slot",start:t,end:n,color:"#f59e0b",display:"background"}),s.jsxs("div",{className:"border border-stone-200 rounded-xl p-3 bg-white",children:[s.jsx("p",{className:"text-xs font-medium text-stone-500 mb-2",children:"Site Slot Calendar"}),s.jsx("div",{className:"text-xs [&_.fc-toolbar-title]:text-sm [&_.fc-button]:text-xs [&_.fc-button]:px-2 [&_.fc-button]:py-1 [&_.fc-daygrid-day-number]:text-xs",children:s.jsx(DN,{plugins:[DM],initialView:"dayGridMonth",events:i,height:280,headerToolbar:{left:"prev",center:"title",right:"next"},dayMaxEvents:2})}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2.5 h-2.5 rounded-sm bg-blue-500"}),"Open"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2.5 h-2.5 rounded-sm bg-green-500"}),"Filled"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2.5 h-2.5 rounded-sm bg-stone-400"}),"Closed"]}),t&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2.5 h-2.5 rounded-sm bg-amber-500"}),"New Slot"]})]})]})}const YX=["Emergency Medicine","Family Practice","Internal Medicine","Pediatrics","OB/GYN","Surgery","Orthopedics","Cardiology","Neurology","Psychiatry","ICU/Critical Care","Geriatrics","Physical Therapy","Social Work","Urgent Care","Rehabilitation"],uA={site_id:"",title:"",specialty:"",description:"",start_date:"",end_date:"",capacity:"2",cost:"0",cost_type:"free",shift_schedule:"",requirements:"",preceptor_id:""};function WX(){const[e,t]=b.useState(""),[n,r]=b.useState("all"),[a,i]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState({...uA}),[m,p]=b.useState(null),{data:g}=Ta(),v=g?.sites||[],{data:y}=TH(),N=y?.preceptors||[],{data:j,isLoading:_}=Po({search:e||void 0,status:n!=="all"?n:void 0}),C=kH(),E=DH(),k=OH(),O=new Set(v.map(M=>M.id)),D=(j?.data||[]).filter(M=>O.has(M.site_id)),P=()=>{d(null),h({...uA,site_id:v[0]?.id||""}),i(!0)},X=M=>{d(M),h({site_id:M.site_id,title:M.title,specialty:M.specialty,description:M.description,start_date:M.start_date,end_date:M.end_date,capacity:String(M.capacity),cost:String(M.cost),cost_type:M.cost_type,shift_schedule:M.shift_schedule||"",requirements:M.requirements.join(", "),preceptor_id:M.preceptor_id||""}),i(!0)},ae=async()=>{if(!u.site_id||!u.title||!u.specialty||!u.start_date||!u.end_date){J.error("Please fill in all required fields");return}const M={site_id:u.site_id,title:u.title,specialty:u.specialty,description:u.description,start_date:u.start_date,end_date:u.end_date,capacity:parseInt(u.capacity),cost:parseFloat(u.cost),cost_type:u.cost_type,shift_schedule:u.shift_schedule||null,requirements:u.requirements?u.requirements.split(",").map(Y=>Y.trim()).filter(Boolean):[],preceptor_id:u.preceptor_id||null,status:"open"};try{c?(await E.mutateAsync({id:c.id,data:M}),J.success("Rotation slot updated")):(await C.mutateAsync(M),J.success("Rotation slot created")),i(!1)}catch(Y){const Z=Y instanceof Error?Y.message:"Failed to save";J.error(Z)}},G=async M=>{try{await k.mutateAsync(M),J.success("Rotation slot deleted"),p(null)}catch(Y){const Z=Y instanceof Error?Y.message:"Failed to delete";J.error(Z)}};return _?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Rotation Slots"}),s.jsx("p",{className:"text-stone-500",children:"Create and manage rotation opportunities"})]}),s.jsxs(q,{onClick:P,children:[s.jsx(Ct,{className:"w-4 h-4"})," Create Slot"]})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx($e,{placeholder:"Search slots...",value:e,onChange:M=>t(M.target.value),icon:s.jsx(Kt,{className:"w-4 h-4"})})}),s.jsxs("select",{value:n,onChange:M=>r(M.target.value),className:"rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"filled",children:"Filled"}),s.jsx("option",{value:"closed",children:"Closed"})]})]}),s.jsxs("p",{className:"text-sm text-stone-500 mt-3",children:[D.length," slot",D.length!==1?"s":""]})]}),s.jsxs("div",{className:"space-y-4",children:[D.length===0&&s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No rotation slots yet"}),s.jsx("p",{className:"text-stone-500 mb-4",children:"Create your first rotation slot to start receiving applications"}),s.jsxs(q,{onClick:P,children:[s.jsx(Ct,{className:"w-4 h-4"})," Create Slot"]})]}),D.map(M=>s.jsx(Q,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:M.title}),s.jsx("p",{className:"text-sm text-stone-500",children:M.site?.name})]})]}),M.description&&s.jsx("p",{className:"text-sm text-stone-600 mb-3",children:M.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx(ge,{variant:"primary",children:M.specialty}),s.jsx(ge,{variant:M.status==="open"?"success":M.status==="filled"?"warning":"danger",children:M.status}),s.jsx(ge,{variant:M.cost_type==="free"?"success":"warning",children:M.cost_type==="free"?"Free":`$${M.cost}`})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(M.start_date).toLocaleDateString()," - ",new Date(M.end_date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ut,{className:"w-3.5 h-3.5"}),M.filled,"/",M.capacity," filled"]}),M.shift_schedule&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3.5 h-3.5"}),M.shift_schedule]}),M.preceptor&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3.5 h-3.5"}),M.preceptor.first_name," ",M.preceptor.last_name]})]})]}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsxs(q,{size:"sm",variant:"outline",onClick:()=>X(M),children:[s.jsx(Qr,{className:"w-4 h-4"})," Edit"]}),s.jsx(q,{size:"sm",variant:"danger",onClick:()=>p(M.id),children:s.jsx(hn,{className:"w-4 h-4"})})]})]})},M.id))]}),s.jsx(We,{isOpen:a,onClose:()=>i(!1),title:c?"Edit Rotation Slot":"Create Rotation Slot",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site *"}),s.jsxs("select",{value:u.site_id,onChange:M=>h({...u,site_id:M.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select a site..."}),v.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]})]}),s.jsx($e,{label:"Title *",placeholder:"e.g. Emergency Medicine Rotation - Spring 2025",value:u.title,onChange:M=>h({...u,title:M.target.value}),required:!0}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Specialty *"}),s.jsxs("select",{value:u.specialty,onChange:M=>h({...u,specialty:M.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select specialty..."}),YX.map(M=>s.jsx("option",{value:M,children:M},M))]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description"}),s.jsx("textarea",{value:u.description,onChange:M=>h({...u,description:M.target.value}),rows:3,placeholder:"Describe the rotation experience, learning objectives, etc.",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx($e,{label:"Start Date *",type:"date",value:u.start_date,onChange:M=>h({...u,start_date:M.target.value})}),s.jsx($e,{label:"End Date *",type:"date",value:u.end_date,onChange:M=>h({...u,end_date:M.target.value})})]}),u.site_id&&s.jsx(KX,{siteId:u.site_id,selectedStartDate:u.start_date,selectedEndDate:u.end_date}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsx($e,{label:"Capacity",type:"number",min:"1",max:"50",value:u.capacity,onChange:M=>h({...u,capacity:M.target.value}),icon:s.jsx(ut,{className:"w-4 h-4"})}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Cost Type"}),s.jsxs("select",{value:u.cost_type,onChange:M=>h({...u,cost_type:M.target.value}),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"free",children:"Free"}),s.jsx("option",{value:"paid",children:"Paid"})]})]}),u.cost_type==="paid"&&s.jsx($e,{label:"Cost ($)",type:"number",min:"0",step:"50",value:u.cost,onChange:M=>h({...u,cost:M.target.value}),icon:s.jsx(np,{className:"w-4 h-4"})})]}),s.jsx($e,{label:"Shift Schedule",placeholder:"e.g. Mon-Fri 7am-3pm",value:u.shift_schedule,onChange:M=>h({...u,shift_schedule:M.target.value}),icon:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Preceptor"}),s.jsxs("select",{value:u.preceptor_id,onChange:M=>h({...u,preceptor_id:M.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"No preceptor assigned"}),N.map(M=>s.jsxs("option",{value:M.id,children:[M.first_name," ",M.last_name," (",M.email,")"]},M.id))]})]}),s.jsx($e,{label:"Requirements (comma separated)",placeholder:"e.g. BLS, Background Check, Immunizations",value:u.requirements,onChange:M=>h({...u,requirements:M.target.value})}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[s.jsx(q,{variant:"ghost",onClick:()=>i(!1),children:"Cancel"}),s.jsx(q,{onClick:ae,isLoading:C.isPending||E.isPending,children:c?"Update Slot":"Create Slot"})]})]})}),s.jsx(We,{isOpen:!!m,onClose:()=>p(null),title:"Delete Rotation Slot",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-stone-600",children:"Are you sure you want to delete this rotation slot? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(q,{variant:"ghost",onClick:()=>p(null),children:"Cancel"}),s.jsxs(q,{variant:"danger",onClick:()=>m&&G(m),isLoading:k.isPending,children:[s.jsx(hn,{className:"w-4 h-4"})," Delete"]})]})]})})]})}function QX(){const[e,t]=b.useState("all"),[n,r]=b.useState(null),[a,i]=b.useState("accepted"),[c,d]=b.useState(""),[u,h]=b.useState(null),{data:m,isLoading:p}=Ws(),g=PH(),v=RT(),y=m?.data||[],N=e==="all"?y:y.filter(k=>k.status===e),j={all:y.length,pending:y.filter(k=>k.status==="pending").length,accepted:y.filter(k=>k.status==="accepted").length,completed:y.filter(k=>k.status==="completed").length,declined:y.filter(k=>k.status==="declined").length,waitlisted:y.filter(k=>k.status==="waitlisted").length},_=(k,O)=>{r(k),i(O),d("")},C=async()=>{if(n)try{await g.mutateAsync({id:n.id,data:{status:a,notes:c||void 0}}),J.success(a==="accepted"?"Application accepted!":a==="declined"?"Application declined":"Application waitlisted"),r(null)}catch(k){const O=k instanceof Error?k.message:"Failed to review application";J.error(O)}},E=k=>{const O={pending:"warning",accepted:"success",completed:"primary",declined:"danger",waitlisted:"secondary",withdrawn:"default"};return s.jsx(ge,{variant:O[k]||"default",children:k})};return p?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Applications"}),s.jsx("p",{className:"text-stone-500",children:"Review and manage student applications"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","accepted","completed","declined","waitlisted"].map(k=>s.jsxs("button",{onClick:()=>t(k),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${e===k?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[k.charAt(0).toUpperCase()+k.slice(1),s.jsxs("span",{className:"ml-1.5 opacity-80",children:["(",j[k],")"]})]},k))}),N.length===0&&s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(Nx,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No applications"}),s.jsx("p",{className:"text-stone-500",children:e==="all"?"No applications have been received yet":`No ${e} applications`})]}),s.jsx("div",{className:"space-y-3",children:N.map(k=>{const O=u===k.id;return s.jsxs(Q,{padding:"none",children:[s.jsx("div",{className:"p-4 sm:p-6 cursor-pointer",onClick:()=>h(O?null:k.id),children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Cn,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("h3",{className:"font-semibold text-stone-900",children:[k.student?.first_name," ",k.student?.last_name]}),E(k.status)]}),k.student?.student_profile?.university&&s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(pt,{className:"w-3 h-3"}),k.student.student_profile.university.name,k.student.student_profile.program&&s.jsxs("span",{className:"text-stone-400",children:["(",k.student.student_profile.program.degree_type,")"]})]}),s.jsxs("p",{className:"text-sm text-stone-500 mt-0.5",children:["Applied for: ",s.jsx("span",{className:"text-stone-700 font-medium",children:k.slot?.title})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(k.submitted_at||k.created_at).toLocaleDateString()]}),k.slot?.site&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"}),k.slot.site.city,", ",k.slot.site.state]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Le,{className:"w-3.5 h-3.5"}),k.slot?.specialty]})]})]}),s.jsx("div",{className:"shrink-0 text-stone-400",children:O?s.jsx(hl,{className:"w-5 h-5"}):s.jsx(Ks,{className:"w-5 h-5"})})]})}),O&&s.jsxs("div",{className:"border-t border-stone-200 p-4 sm:p-6 bg-stone-50/50",children:[k.cover_letter&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"w-4 h-4 text-stone-500"}),s.jsx("h4",{className:"text-sm font-medium text-stone-700",children:"Cover Letter"})]}),s.jsx("p",{className:"text-sm text-stone-600 bg-white rounded-xl p-4 border border-stone-200",children:k.cover_letter})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("p",{className:"text-xs text-stone-500",children:"Email"}),s.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:k.student?.email})]}),k.student?.student_profile?.university&&s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("p",{className:"text-xs text-stone-500",children:"University"}),s.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:k.student.student_profile.university.name}),k.student.student_profile.program&&s.jsxs("p",{className:"text-xs text-stone-500",children:[k.student.student_profile.program.name," (",k.student.student_profile.program.degree_type,")"]})]}),k.slot?.preceptor&&s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("p",{className:"text-xs text-stone-500",children:"Preceptor"}),s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[k.slot.preceptor.first_name," ",k.slot.preceptor.last_name]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("p",{className:"text-xs text-stone-500",children:"Rotation Dates"}),s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[k.slot?.start_date?new Date(k.slot.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""," - ",k.slot?.end_date?new Date(k.slot.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("p",{className:"text-xs text-stone-500",children:"Spots Available"}),s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[(k.slot?.capacity||0)-(k.slot?.filled||0)," remaining"]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("p",{className:"text-xs text-stone-500",children:"Submitted"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:new Date(k.submitted_at||k.created_at).toLocaleDateString()})]})]}),k.notes&&s.jsxs("div",{className:"mb-4 bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Review Notes"}),s.jsx("p",{className:"text-sm text-stone-700",children:k.notes})]}),k.status==="pending"&&s.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[s.jsxs(q,{size:"sm",onClick:()=>_(k,"accepted"),children:[s.jsx(Ze,{className:"w-4 h-4"})," Accept"]}),s.jsxs(q,{size:"sm",variant:"outline",onClick:()=>_(k,"waitlisted"),children:[s.jsx(Ye,{className:"w-4 h-4"})," Waitlist"]}),s.jsxs(q,{size:"sm",variant:"danger",onClick:()=>_(k,"declined"),children:[s.jsx(rn,{className:"w-4 h-4"})," Decline"]})]}),k.status==="accepted"&&s.jsx(XX,{app:k,completeMutation:v})]})]},k.id)})}),s.jsx(We,{isOpen:!!n,onClose:()=>r(null),title:a==="accepted"?"Accept Application":a==="declined"?"Decline Application":"Waitlist Application",size:"sm",children:n&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4",children:[s.jsxs("p",{className:"text-sm text-stone-900 font-medium",children:[n.student?.first_name," ",n.student?.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:n.slot?.title})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Notes (optional)"}),s.jsx("textarea",{value:c,onChange:k=>d(k.target.value),rows:3,placeholder:a==="accepted"?"Welcome message or next steps...":a==="declined"?"Reason for declining...":"Waitlist position or notes...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(q,{variant:"ghost",onClick:()=>r(null),children:"Cancel"}),s.jsx(q,{variant:a==="declined"?"danger":"primary",onClick:C,isLoading:g.isPending,children:a==="accepted"?"Accept":a==="declined"?"Decline":"Waitlist"})]})]})})]})}function XX({app:e,completeMutation:t}){const{data:n}=TT(e.id),[r,a]=b.useState(!1);return s.jsxs("div",{className:"pt-2 space-y-2",children:[n&&s.jsx("div",{className:`flex items-center gap-1.5 text-xs px-2.5 py-1.5 rounded-lg ${n.eligible?"bg-green-50 text-green-700":n.reason?.includes("does not offer")?"bg-stone-50 text-stone-500":"bg-amber-50 text-amber-700"}`,children:n.eligible?s.jsxs(s.Fragment,{children:[s.jsx(vs,{className:"w-3.5 h-3.5 shrink-0"})," CE: ",n.contact_hours,"h will be awarded to preceptor"]}):n.reason?.includes("does not offer")?s.jsxs(s.Fragment,{children:[s.jsx(hT,{className:"w-3.5 h-3.5 shrink-0"})," CE not configured for university"]}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-3.5 h-3.5 shrink-0"})," CE: ",n.reason]})}),r?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{size:"sm",isLoading:t.isPending,onClick:()=>{t.mutate(e.id,{onSuccess:i=>{J.success("Placement marked as completed!"),i.ce?.ce_certificate_created&&J.success(`CE certificate created (${i.ce.contact_hours} hrs)  Status: ${i.ce.ce_status}`),a(!1)},onError:i=>J.error(i.message)})},children:[s.jsx(vs,{className:"w-4 h-4"})," Confirm"]}),s.jsx(q,{size:"sm",variant:"ghost",onClick:()=>a(!1),children:"Cancel"})]}):s.jsxs(q,{size:"sm",variant:"outline",onClick:()=>a(!0),children:[s.jsx(Zr,{className:"w-4 h-4"})," Mark Complete"]})]})}const ZX=[{key:"clinical_knowledge",label:"Clinical Knowledge"},{key:"clinical_skills",label:"Clinical Skills"},{key:"professionalism",label:"Professionalism"},{key:"communication",label:"Communication"},{key:"critical_thinking",label:"Critical Thinking"},{key:"teamwork",label:"Teamwork"},{key:"time_management",label:"Time Management"},{key:"documentation",label:"Documentation"}];function JX(){const{user:e}=Je(),[t,n]=b.useState(!1),[r,a]=b.useState(null),[i,c]=b.useState("list"),[d,u]=b.useState("all"),[h,m]=b.useState(!1),[p,g]=b.useState({type:e?.role==="preceptor"?"mid_rotation":"student_feedback",student_id:"",slot_id:"",ratings:{},comments:"",strengths:"",areas_for_improvement:""}),{data:v,isLoading:y}=_x(),{data:N}=Ws(),j=qH(),{data:_}=MT(),C=v?.data||[],E=(N?.data||[]).filter(I=>I.status==="accepted"),k=e?.role==="preceptor",O=e?.role==="student",T=b.useMemo(()=>{const se=(_||[]).find(ye=>ye.type===p.type&&ye.is_active);return se?se.categories.map(ye=>({key:ye.key,label:ye.label})):O?[{key:"clinical_environment",label:"Clinical Environment"},{key:"preceptor_teaching",label:"Preceptor Teaching Quality"},{key:"learning_opportunities",label:"Learning Opportunities"},{key:"support_mentorship",label:"Support & Mentorship"},{key:"organization",label:"Site Organization"},{key:"communication",label:"Communication"},{key:"work_life_balance",label:"Work-Life Balance"},{key:"overall_experience",label:"Overall Experience"}]:ZX},[_,p.type,O]),D=d==="all"?C:C.filter(I=>I.type===d),P=b.useMemo(()=>{const I=C.filter(se=>se.overall_score!=null&&!isNaN(Number(se.overall_score)));return I.length===0?0:Math.round(I.reduce((se,ye)=>se+Number(ye.overall_score),0)/I.length*10)/10},[C]),X=b.useMemo(()=>{const I={};for(const se of C)for(const[ye,z]of Object.entries(se.ratings))I[ye]||(I[ye]={sum:0,count:0}),I[ye].sum+=z,I[ye].count+=1;return Object.entries(I).map(([se,ye])=>({key:se,label:se.replace(/_/g," "),avg:Math.round(ye.sum/ye.count*10)/10})).sort((se,ye)=>ye.avg-se.avg)},[C]),ae=b.useMemo(()=>C.filter(I=>I.overall_score!=null).sort((I,se)=>new Date(I.created_at).getTime()-new Date(se.created_at).getTime()).map(I=>({date:new Date(I.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Number(I.overall_score),type:I.type})),[C]),G=(I,se)=>{g(ye=>({...ye,ratings:{...ye.ratings,[I]:se}}))},M=()=>{const I=Object.values(p.ratings);return I.length===0?0:Math.round(I.reduce((se,ye)=>se+ye,0)/I.length*10)/10},Y=async()=>{if(!p.slot_id){J.error("Please select a rotation");return}if(k&&!p.student_id){J.error("Please select a student");return}if(Object.keys(p.ratings).length<3){J.error("Please rate at least 3 categories");return}if(!p.comments){J.error("Please add comments");return}try{await j.mutateAsync({type:p.type,student_id:p.student_id||void 0,slot_id:p.slot_id,ratings:p.ratings,comments:p.comments,overall_score:M(),strengths:p.strengths||null,areas_for_improvement:p.areas_for_improvement||null,is_submitted:!0}),J.success("Evaluation submitted successfully"),n(!1),g({type:k?"mid_rotation":"student_feedback",student_id:"",slot_id:"",ratings:{},comments:"",strengths:"",areas_for_improvement:""})}catch(I){const se=I instanceof Error?I.message:"Failed to submit evaluation";J.error(se)}},Z=(I,se="sm")=>{const ye=se==="sm"?"w-4 h-4":"w-5 h-5";return s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(z=>s.jsx(Un,{className:`${ye} ${z<=Math.round(I)?"text-amber-400 fill-amber-400":"text-stone-300"}`},z))})},fe=I=>{const se=p.ratings[I]||0;return s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ye=>s.jsx("button",{onClick:()=>G(I,ye),className:"focus:outline-none",children:s.jsx(Un,{className:`w-6 h-6 transition-colors ${ye<=se?"text-amber-400 fill-amber-400":"text-stone-300 hover:text-amber-300"}`})},ye))})},U=I=>{switch(I){case"mid_rotation":return"Mid-Rotation";case"final":return"Final";case"student_feedback":return"Site Feedback";default:return I}},L=I=>{switch(I){case"mid_rotation":return"primary";case"final":return"success";case"student_feedback":return"secondary";default:return"default"}};return y?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Evaluations"}),s.jsx("p",{className:"text-stone-500",children:k?"Evaluate your students' performance":O?"View your evaluations and provide site feedback":"Clinical evaluations overview"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(q,{variant:"secondary",onClick:()=>m(!h),children:[s.jsx(Ys,{className:"w-4 h-4"})," Export"]}),h&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white rounded-xl shadow-lg border border-stone-200 py-1 z-20",children:[s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Yc.evaluationsCsvUrl()),m(!1)},children:"Download CSV"}),s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Yc.evaluationsPdfUrl()),m(!1)},children:"Download PDF"})]})]})]}),(k||O||e?.role==="coordinator")&&s.jsxs(q,{onClick:()=>n(!0),children:[s.jsx(Ct,{className:"w-4 h-4"})," ",O?"Give Site Feedback":"New Evaluation"]})]})]}),C.length>0&&s.jsx(Q,{className:"bg-gradient-to-r from-amber-50 to-primary-50 border-amber-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(mn,{className:"w-5 h-5 text-amber-600"}),s.jsx("h3",{className:"font-semibold text-stone-900",children:"Overall Performance"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx("span",{className:"text-3xl font-bold text-amber-600",children:P}),s.jsxs("div",{children:[Z(P,"md"),s.jsxs("p",{className:"text-xs text-stone-500 mt-0.5",children:[C.length," evaluation",C.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.filter(I=>I.type==="mid_rotation").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Mid-Rotation"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.filter(I=>I.type==="final").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Final"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.filter(I=>I.type==="student_feedback").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Feedback"})]})]})]})}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[{key:"list",label:"Evaluations",icon:s.jsx(Zn,{className:"w-4 h-4"})},{key:"summary",label:"Performance Summary",icon:s.jsx(ml,{className:"w-4 h-4"})}].map(I=>s.jsxs("button",{onClick:()=>c(I.key),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all ${i===I.key?"bg-primary-500 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[I.icon," ",I.label]},I.key))}),i==="list"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vw,{className:"w-4 h-4 text-stone-400"}),["all","mid_rotation","final","student_feedback"].map(I=>s.jsx("button",{onClick:()=>u(I),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${d===I?"bg-primary-100 text-primary-700":"bg-stone-50 text-stone-500 hover:bg-stone-100"}`,children:I==="all"?"All":U(I)},I))]}),D.length===0&&s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(Zn,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:d==="all"?"No evaluations yet":`No ${U(d).toLowerCase()} evaluations`}),s.jsx("p",{className:"text-stone-500",children:k?"Create your first evaluation for a student":O?"Evaluations from your preceptors will appear here. You can also submit site feedback.":"No evaluations have been submitted"})]}),s.jsx("div",{className:"space-y-3",children:D.map(I=>{const se=r===I.id;return s.jsxs(Q,{padding:"none",children:[s.jsx("div",{className:"p-4 sm:p-6 cursor-pointer hover:bg-stone-50/30 transition-colors",onClick:()=>a(se?null:I.id),children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${Number(I.overall_score)>=4?"bg-green-50 text-green-600":Number(I.overall_score)>=3?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:s.jsx(Zn,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("h3",{className:"font-semibold text-stone-900",children:[U(I.type)," Evaluation"]}),s.jsx(ge,{variant:L(I.type),size:"sm",children:U(I.type)}),s.jsxs(ge,{variant:Number(I.overall_score)>=4?"success":Number(I.overall_score)>=3?"warning":"danger",children:[Number(I.overall_score)||0,"/5"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-1.5 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3.5 h-3.5"}),O?`By ${I.preceptor?.first_name||""} ${I.preceptor?.last_name||""}`:`${I.student?.first_name||""} ${I.student?.last_name||""}`]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Le,{className:"w-3.5 h-3.5"}),I.slot?.title||I.slot?.specialty||"Rotation"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(I.created_at).toLocaleDateString()]})]}),s.jsx("div",{className:"mt-2",children:Z(I.overall_score)})]}),s.jsx("div",{className:"shrink-0 text-stone-400",children:se?s.jsx(hl,{className:"w-5 h-5"}):s.jsx(Ks,{className:"w-5 h-5"})})]})}),se&&s.jsxs("div",{className:"border-t border-stone-200 p-4 sm:p-6 bg-stone-50/50 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-stone-700 mb-3",children:"Rating Breakdown"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(I.ratings).map(([ye,z])=>s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-3 border border-stone-200",children:[s.jsx("span",{className:"text-sm text-stone-700 capitalize",children:ye.replace(/_/g," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[Z(z),s.jsx("span",{className:"text-sm font-medium text-stone-900 w-6 text-right",children:z})]})]},ye))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rp,{className:"w-4 h-4 text-stone-500"}),s.jsx("h4",{className:"text-sm font-medium text-stone-700",children:"Comments"})]}),s.jsx("p",{className:"text-sm text-stone-600 bg-white rounded-xl p-4 border border-stone-200 leading-relaxed",children:I.comments})]}),I.strengths&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-700 mb-1",children:"Strengths"}),s.jsx("p",{className:"text-sm text-stone-600 bg-green-50 rounded-xl p-3 border border-green-200",children:I.strengths})]}),I.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-amber-700 mb-1",children:"Areas for Improvement"}),s.jsx("p",{className:"text-sm text-stone-600 bg-amber-50 rounded-xl p-3 border border-amber-200",children:I.areas_for_improvement})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-stone-200",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold text-xs",children:O?`${I.preceptor?.first_name?.[0]||""}${I.preceptor?.last_name?.[0]||""}`:`${I.student?.first_name?.[0]||""}${I.student?.last_name?.[0]||""}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:O?`${I.preceptor?.first_name||""} ${I.preceptor?.last_name||""}`:`${I.student?.first_name||""} ${I.student?.last_name||""}`}),s.jsxs("p",{className:"text-xs text-stone-500",children:[O?"Preceptor":"Student"," - ",I.slot?.site?.name||I.slot?.title]})]})]})]})]},I.id)})})]}),i==="summary"&&s.jsx("div",{className:"space-y-6",children:C.length===0?s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(ml,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No data yet"}),s.jsx("p",{className:"text-stone-500",children:"Performance summary will appear after you receive evaluations"})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Skill Ratings"}),s.jsx("div",{className:"space-y-3",children:X.map(I=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-stone-700 capitalize",children:I.label}),s.jsxs("div",{className:"flex items-center gap-2",children:[Z(I.avg),s.jsx("span",{className:"font-medium text-stone-900 w-8 text-right",children:I.avg})]})]}),s.jsx("div",{className:"w-full bg-stone-100 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${I.avg>=4?"bg-green-500":I.avg>=3?"bg-amber-500":"bg-red-500"}`,style:{width:`${I.avg/5*100}%`}})})]},I.key))})]}),s.jsxs(Q,{children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Score History"}),s.jsx("div",{className:"space-y-3",children:ae.map((I,se)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-stone-200",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${I.score>=4?"bg-green-50 text-green-600":I.score>=3?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:s.jsx("span",{className:"text-lg font-bold",children:I.score})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[U(I.type)," Evaluation"]}),s.jsx(ge,{variant:L(I.type),size:"sm",children:U(I.type)})]}),s.jsx("p",{className:"text-xs text-stone-500",children:I.date})]}),Z(I.score)]},se))})]}),s.jsxs(Q,{children:[s.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center gap-2",children:[s.jsx(Xc,{className:"w-5 h-5"})," Top Strengths"]}),X.slice(0,3).map(I=>s.jsxs("div",{className:"flex items-center justify-between p-2 mb-1",children:[s.jsx("span",{className:"text-sm text-stone-700 capitalize",children:I.label}),s.jsxs("div",{className:"flex items-center gap-1",children:[Z(I.avg),s.jsx("span",{className:"text-sm font-semibold text-green-600 ml-1",children:I.avg})]})]},I.key))]}),s.jsxs(Q,{children:[s.jsxs("h3",{className:"font-semibold text-amber-800 mb-3 flex items-center gap-2",children:[s.jsx(Xc,{className:"w-5 h-5 rotate-180"})," Areas to Develop"]}),X.slice(-3).reverse().map(I=>s.jsxs("div",{className:"flex items-center justify-between p-2 mb-1",children:[s.jsx("span",{className:"text-sm text-stone-700 capitalize",children:I.label}),s.jsxs("div",{className:"flex items-center gap-1",children:[Z(I.avg),s.jsx("span",{className:"text-sm font-semibold text-amber-600 ml-1",children:I.avg})]})]},I.key))]})]})}),s.jsx(We,{isOpen:t,onClose:()=>n(!1),title:O?"Site & Preceptor Feedback":"New Evaluation",size:"lg",children:s.jsxs("div",{className:"space-y-5",children:[O&&s.jsxs("div",{className:"bg-secondary-50 rounded-xl p-4 text-sm text-secondary-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Help improve clinical education!"}),s.jsx("p",{className:"text-xs text-secondary-700",children:"Your feedback helps other students find great rotations and helps sites improve their programs. All feedback is confidential."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[!O&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Evaluation Type"}),s.jsxs("select",{value:p.type,onChange:I=>g({...p,type:I.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"mid_rotation",children:"Mid-Rotation"}),s.jsx("option",{value:"final",children:"Final"})]})]}),k?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Rotation *"}),s.jsxs("select",{value:p.slot_id,onChange:I=>g({...p,slot_id:I.target.value,student_id:""}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select rotation..."}),[...new Map(E.map(I=>[I.slot_id,I])).values()].map(I=>s.jsxs("option",{value:I.slot_id,children:[I.slot?.title||"Rotation"," - ",I.slot?.site?.name]},I.slot_id))]})]}),s.jsxs("div",{className:"space-y-1.5 sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Student *"}),s.jsxs("select",{value:p.student_id,onChange:I=>g({...p,student_id:I.target.value}),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",disabled:!p.slot_id,children:[s.jsx("option",{value:"",children:p.slot_id?"Select student...":"Select a rotation first"}),E.filter(I=>I.slot_id===p.slot_id).map(I=>s.jsxs("option",{value:I.student_id,children:[I.student?.first_name," ",I.student?.last_name]},I.student_id))]}),p.slot_id&&E.filter(I=>I.slot_id===p.slot_id).length===0&&s.jsx("p",{className:"text-xs text-amber-600",children:"No accepted students for this rotation."})]})]}):s.jsxs("div",{className:`space-y-1.5 ${O?"sm:col-span-2":""}`,children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Rotation *"}),s.jsxs("select",{value:p.slot_id,onChange:I=>{const se=E.find(ye=>ye.slot_id===I.target.value);g({...p,slot_id:I.target.value,student_id:se?.student_id||""})},className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select rotation..."}),E.map(I=>s.jsxs("option",{value:I.slot_id,children:[I.slot?.title||"Rotation"," - ",I.slot?.site?.name]},I.id))]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-stone-700",children:O?"Rate Your Experience":"Performance Ratings"}),M()>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-stone-500",children:"Overall:"}),s.jsx("span",{className:"text-lg font-bold text-amber-500",children:M()}),Z(M(),"md")]})]}),s.jsx("div",{className:"space-y-3",children:T.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border border-stone-200 bg-white",children:[s.jsx("span",{className:"text-sm text-stone-700",children:I.label}),fe(I.key)]},I.key))})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:O?"Your Feedback *":"Comments *"}),s.jsx("textarea",{value:p.comments,onChange:I=>g({...p,comments:I.target.value}),rows:4,placeholder:O?"Share your overall experience with this rotation. What did you learn? How was the preceptor?":"Provide detailed feedback on the student's clinical performance...",className:"w-full rounded-xl border border-stone-300 px-4 py-3 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-green-700",children:O?"What was great?":"Strengths"}),s.jsx("textarea",{value:p.strengths,onChange:I=>g({...p,strengths:I.target.value}),rows:3,placeholder:O?"What aspects of the rotation were excellent?":"Areas where the student excels...",className:"w-full rounded-xl border border-green-200 px-4 py-3 text-sm focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none resize-none bg-green-50/50"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-amber-700",children:O?"What could improve?":"Areas for Improvement"}),s.jsx("textarea",{value:p.areas_for_improvement,onChange:I=>g({...p,areas_for_improvement:I.target.value}),rows:3,placeholder:O?"Suggestions for improving the rotation experience...":"Areas where the student can grow...",className:"w-full rounded-xl border border-amber-200 px-4 py-3 text-sm focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 focus:outline-none resize-none bg-amber-50/50"})]})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[s.jsx(q,{variant:"ghost",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(q,{onClick:Y,isLoading:j.isPending,children:[s.jsx(Zn,{className:"w-4 h-4"})," ",O?"Submit Feedback":"Submit Evaluation"]})]})]})})]})}function eZ(){const{user:e}=Je(),t=e?.role==="student",n=e?.role==="preceptor"||e?.role==="site_manager",r=e?.role==="admin"||e?.role==="coordinator",{data:a,isLoading:i}=$H(),c=a?.certificates||[],[d,u]=b.useState(""),[h,m]=b.useState("all"),[p,g]=b.useState(null),[v,y]=b.useState(!1),[N,j]=b.useState(null),_=b.useMemo(()=>c.filter(E=>{if(h!=="all"&&E.status!==h)return!1;if(d){const k=d.toLowerCase();return E.title.toLowerCase().includes(k)||E.certificate_number.toLowerCase().includes(k)||(E.student?.first_name+" "+E.student?.last_name).toLowerCase().includes(k)||E.slot?.site?.name?.toLowerCase().includes(k)}return!0}),[c,d,h]),C=b.useMemo(()=>({total:c.length,issued:c.filter(E=>E.status==="issued").length,revoked:c.filter(E=>E.status==="revoked").length,totalHours:c.filter(E=>E.status==="issued").reduce((E,k)=>E+(parseFloat(String(k.total_hours))||0),0)}),[c]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:t?"My Certificates":n?"Issued Certificates":"All Certificates"}),s.jsx("p",{className:"text-stone-500 mt-1",children:t?"Certificates earned from completed rotations":n?"Issue and manage rotation completion certificates":"View all certificates across the platform"})]}),n&&s.jsxs(q,{onClick:()=>y(!0),children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Issue Certificate"]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-500 flex items-center justify-center",children:s.jsx(mn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.total}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total"})]})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-500 flex items-center justify-center",children:s.jsx(Ze,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.issued}),s.jsx("p",{className:"text-xs text-stone-500",children:"Active"})]})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-500 flex items-center justify-center",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:Math.round(C.totalHours*10)/10}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})]})}),C.revoked>0&&s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-50 text-red-500 flex items-center justify-center",children:s.jsx(rn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:C.revoked}),s.jsx("p",{className:"text-xs text-stone-500",children:"Revoked"})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search certificates...",value:d,onChange:E=>u(E.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"issued",children:"Active"}),s.jsx("option",{value:"revoked",children:"Revoked"})]})]}),i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):_.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mn,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:c.length===0?"No certificates yet":"No matching certificates"}),s.jsx("p",{className:"text-stone-500 text-sm",children:t?"Complete rotations and evaluations to earn certificates.":n?"Issue certificates to students who have completed their rotations.":"No certificates have been issued yet."})]})}):s.jsx("div",{className:"grid gap-4",children:_.map(E=>s.jsx(tZ,{certificate:E,isPreceptor:n,isAdmin:r,onView:()=>g(E),onRevoke:()=>j(E)},E.id))}),p&&s.jsx(nZ,{certificate:p,onClose:()=>g(null)}),v&&s.jsx(sZ,{onClose:()=>y(!1)}),N&&s.jsx(rZ,{certificate:N,onClose:()=>j(null)})]})}function tZ({certificate:e,isPreceptor:t,isAdmin:n,onView:r,onRevoke:a}){return s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(mn,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:e.title}),s.jsx(ge,{variant:e.status==="issued"?"success":"danger",size:"sm",children:e.status==="issued"?"Active":"Revoked"})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Gw,{className:"w-3.5 h-3.5"}),e.certificate_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3.5 h-3.5"}),e.student?.first_name," ",e.student?.last_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"}),e.slot?.site?.name||"Unknown Site"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(e.issued_date).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3.5 h-3.5"}),e.total_hours,"h"]}),e.overall_score&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Un,{className:"w-3.5 h-3.5"}),e.overall_score,"/5.0"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:r,children:[s.jsx(Sa,{className:"w-4 h-4 mr-1"})," View"]}),(t||n)&&e.status==="issued"&&s.jsxs(q,{variant:"outline",size:"sm",onClick:a,className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(rn,{className:"w-4 h-4 mr-1"})," Revoke"]})]})]})})}function nZ({certificate:e,onClose:t}){return s.jsx(We,{isOpen:!0,onClose:t,title:"Certificate Details",size:"lg",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center py-6 bg-gradient-to-br from-primary-50 via-white to-secondary-50 rounded-xl border border-stone-200",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center mx-auto mb-4",children:s.jsx(mn,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-stone-500",children:"Certificate of Completion"}),s.jsx("div",{className:"mt-3",children:s.jsx(ge,{variant:e.status==="issued"?"success":"danger",children:e.status==="issued"?"Active":"Revoked"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Certificate Number"}),s.jsx("p",{className:"text-sm font-mono font-semibold text-stone-900",children:e.certificate_number})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Issued Date"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:new Date(e.issued_date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Student"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[e.student?.first_name," ",e.student?.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Issued By"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[e.issuer?.first_name," ",e.issuer?.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Rotation Site"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:e.slot?.site?.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Rotation"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:e.slot?.title})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Total Approved Hours"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[e.total_hours," hours"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Overall Score"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:e.overall_score?`${e.overall_score} / 5.0`:"N/A"})]})]}),e.status==="revoked"&&s.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-1",children:[s.jsx(fs,{className:"w-4 h-4"}),s.jsx("p",{className:"text-sm font-semibold",children:"Certificate Revoked"})]}),s.jsxs("p",{className:"text-sm text-red-600",children:["Revoked on ",e.revoked_date?new Date(e.revoked_date).toLocaleDateString():"N/A",e.revocation_reason?`  ${e.revocation_reason}`:""]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[e.status==="issued"&&s.jsxs(q,{onClick:()=>window.open(hd.getPdfUrl(e.id),"_blank"),children:[s.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),s.jsx(q,{variant:"outline",onClick:t,children:"Close"})]})]})})}function sZ({onClose:e}){const{data:t,isLoading:n}=Ws(),r=b.useMemo(()=>(t?.data||[]).filter(v=>v.status==="accepted"),[t]),[a,i]=b.useState(null),[c,d]=b.useState(""),u=HH(),h=b.useMemo(()=>r.map(v=>({app:v,label:`${v.student?.first_name} ${v.student?.last_name}  ${v.slot?.title||"Rotation"}`})),[r]),{data:m,isLoading:p}=FH(a?.slot_id||"",a?.student_id||""),g=async()=>{if(!(!a||!c.trim()))try{await u.mutateAsync({student_id:a.student_id,slot_id:a.slot_id,title:c.trim()}),e()}catch{}};return s.jsx(We,{isOpen:!0,onClose:e,title:"Issue Certificate",size:"lg",children:s.jsx("div",{className:"space-y-4",children:n?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(mn,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500",children:"No accepted students to issue certificates for."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Student & Rotation *"}),s.jsxs("select",{value:a?`${a.student_id}|${a.slot_id}`:"",onChange:v=>{const[y,N]=v.target.value.split("|"),j=r.find(_=>_.student_id===y&&_.slot_id===N);i(j||null),j?.slot?.title&&d(`${j.slot.title} - Completion Certificate`)},className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select student & rotation..."}),h.map(({app:v,label:y})=>s.jsx("option",{value:`${v.student_id}|${v.slot_id}`,children:y},`${v.student_id}|${v.slot_id}`))]})]}),a&&s.jsxs("div",{className:"space-y-3",children:[p?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-500",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),"Checking eligibility..."]}):m?s.jsxs("div",{className:`p-4 rounded-xl border ${m.eligible?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200"}`,children:[s.jsx("h4",{className:`text-sm font-semibold mb-2 ${m.eligible?"text-green-700":"text-amber-700"}`,children:m.eligible?"Eligible for Certificate":"Not Yet Eligible"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[m.has_application?s.jsx(Ze,{className:"w-4 h-4 text-green-500"}):s.jsx(rn,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"text-stone-600",children:"Accepted application"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[m.total_approved_hours>0?s.jsx(Ze,{className:"w-4 h-4 text-green-500"}):s.jsx(rn,{className:"w-4 h-4 text-red-400"}),s.jsxs("span",{className:"text-stone-600",children:[m.total_approved_hours,"h approved"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[m.has_evaluation?s.jsx(Ze,{className:"w-4 h-4 text-green-500"}):s.jsx(rn,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"text-stone-600",children:"Evaluation submitted"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[m.has_certificate?s.jsx(rn,{className:"w-4 h-4 text-red-400"}):s.jsx(Ze,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"text-stone-600",children:m.has_certificate?"Already issued":"No existing cert"})]})]}),m.pending_hours>0&&s.jsxs("p",{className:"mt-2 text-xs text-amber-600",children:["Note: ",m.pending_hours,"h pending review"]})]}):null,s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Certificate Title *"}),s.jsx("input",{type:"text",value:c,onChange:v=>d(v.target.value),placeholder:"e.g. Emergency Department NP Clinical - Completion Certificate",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:e,children:"Cancel"}),s.jsxs(q,{onClick:g,disabled:!a||!c.trim()||!m?.eligible,isLoading:u.isPending,children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Issue Certificate"]})]})]})})})}function rZ({certificate:e,onClose:t}){const[n,r]=b.useState(""),a=VH(),i=async()=>{if(n.trim())try{await a.mutateAsync({id:e.id,data:{reason:n.trim()}}),t()}catch{}};return s.jsx(We,{isOpen:!0,onClose:t,title:"Revoke Certificate",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-2",children:[s.jsx(fs,{className:"w-5 h-5"}),s.jsx("p",{className:"font-semibold",children:"This action cannot be undone"})]}),s.jsxs("p",{className:"text-sm text-red-600",children:["Revoking certificate ",s.jsx("strong",{children:e.certificate_number})," for"," ",s.jsxs("strong",{children:[e.student?.first_name," ",e.student?.last_name]}),"."]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Reason for Revocation *"}),s.jsx("textarea",{value:n,onChange:c=>r(c.target.value),rows:3,placeholder:"Provide the reason for revoking this certificate...",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(q,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(q,{variant:"danger",onClick:i,disabled:!n.trim(),isLoading:a.isPending,children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Revoke Certificate"]})]})]})})}function aZ({open:e,onClose:t,programId:n,onSuccess:r}){const[a,i]=b.useState(null),[c,d]=b.useState(!1),[u,h]=b.useState(null),m=b.useRef(null),p=async()=>{if(a){d(!0),h(null);try{const y=new FormData;y.append("file",a),n&&y.append("program_id",n);const N=localStorage.getItem("cliniclink_token"),j=await fetch(`${xs}/students/bulk-import`,{method:"POST",headers:{Accept:"application/json",...N?{Authorization:`Bearer ${N}`}:{}},body:y});if(!j.ok){const C=await j.json().catch(()=>({}));throw new Error(C.message||`Upload failed (${j.status})`)}const _=await j.json();h(_),_.summary.created>0&&r?.()}catch(y){h({summary:{created:0,skipped:0,errors:1},created:[],skipped:[],errors:[{row:0,email:"",error:y.message}]})}finally{d(!1)}}},g=()=>{i(null),h(null),t()},v=`${xs}/students/import-template`;return s.jsx(We,{isOpen:e,onClose:g,title:"Import Students from CSV",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-xl border border-primary-200",children:[s.jsx(lE,{className:"w-5 h-5 text-primary-600 shrink-0"}),s.jsx("div",{className:"flex-1 text-sm text-stone-700",children:"Download the CSV template, fill in student details, then upload it here."}),s.jsxs("a",{href:v,download:!0,className:"text-sm font-medium text-primary-600 hover:text-primary-700 whitespace-nowrap",children:[s.jsx(Ys,{className:"w-4 h-4 inline mr-1"}),"Template"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"CSV File"}),s.jsxs("div",{className:"border-2 border-dashed border-stone-300 rounded-xl p-6 text-center hover:border-primary-400 transition-colors cursor-pointer",onClick:()=>m.current?.click(),children:[s.jsx("input",{ref:m,type:"file",accept:".csv",className:"hidden",onChange:y=>{i(y.target.files?.[0]||null),h(null)}}),a?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-stone-700",children:[s.jsx(lE,{className:"w-5 h-5 text-primary-500"}),s.jsx("span",{className:"font-medium",children:a.name}),s.jsxs("span",{className:"text-stone-400",children:["(",(a.size/1024).toFixed(1)," KB)"]})]}):s.jsxs("div",{className:"text-stone-400",children:[s.jsx(Jr,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Click to select a CSV file"}),s.jsx("p",{className:"text-xs mt-1",children:"Max 2MB, .csv format"})]})]})]}),u&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[u.summary.created>0&&s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm font-medium",children:[s.jsx(Ze,{className:"w-4 h-4"})," ",u.summary.created," created"]}),u.summary.skipped>0&&s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 text-amber-700 rounded-lg text-sm font-medium",children:[s.jsx(fs,{className:"w-4 h-4"})," ",u.summary.skipped," skipped"]}),u.summary.errors>0&&s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-700 rounded-lg text-sm font-medium",children:[s.jsx(rn,{className:"w-4 h-4"})," ",u.summary.errors," errors"]})]}),(u.created.length>0||u.skipped.length>0||u.errors.length>0)&&s.jsx("div",{className:"max-h-48 overflow-y-auto border border-stone-200 rounded-xl",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-stone-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Row"}),s.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Email"}),s.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Status"}),s.jsx("th",{className:"text-left p-2 font-medium text-stone-500",children:"Detail"})]})}),s.jsxs("tbody",{children:[u.created.map(y=>s.jsxs("tr",{className:"border-t border-stone-100",children:[s.jsx("td",{className:"p-2",children:y.row}),s.jsx("td",{className:"p-2",children:y.email}),s.jsx("td",{className:"p-2",children:s.jsx("span",{className:"text-green-600 font-medium",children:"Created"})}),s.jsx("td",{className:"p-2 text-stone-500",children:y.name})]},`c-${y.row}`)),u.skipped.map(y=>s.jsxs("tr",{className:"border-t border-stone-100",children:[s.jsx("td",{className:"p-2",children:y.row}),s.jsx("td",{className:"p-2",children:y.email}),s.jsx("td",{className:"p-2",children:s.jsx("span",{className:"text-amber-600 font-medium",children:"Skipped"})}),s.jsx("td",{className:"p-2 text-stone-500",children:y.reason})]},`s-${y.row}`)),u.errors.map((y,N)=>s.jsxs("tr",{className:"border-t border-stone-100",children:[s.jsx("td",{className:"p-2",children:y.row||"-"}),s.jsx("td",{className:"p-2",children:y.email||"-"}),s.jsx("td",{className:"p-2",children:s.jsx("span",{className:"text-red-600 font-medium",children:"Error"})}),s.jsx("td",{className:"p-2 text-stone-500",children:y.error})]},`e-${N}`))]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(q,{variant:"secondary",onClick:g,children:u?"Close":"Cancel"}),!u&&s.jsx(q,{onClick:p,disabled:!a||c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Et,{className:"w-4 h-4 animate-spin"})," Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"w-4 h-4"})," Import Students"]})})]})]})})}function iZ(){const{user:e}=Je(),t=Ut(),n=e?.role==="preceptor"||e?.role==="site_manager",{data:r,isLoading:a}=Ww(),i=r?.students||[],[c,d]=b.useState(""),[u,h]=b.useState("all"),[m,p]=b.useState(!1),g=e?.role==="coordinator"||e?.role==="admin",v=b.useMemo(()=>{const j=new Set(i.map(_=>_.program).filter(Boolean));return Array.from(j)},[i]),y=b.useMemo(()=>i.filter(j=>{if(u!=="all"&&j.program!==u)return!1;if(c){const _=c.toLowerCase();return(j.first_name+" "+j.last_name).toLowerCase().includes(_)||j.email.toLowerCase().includes(_)||j.university?.toLowerCase().includes(_)||j.program?.toLowerCase().includes(_)}return!0}),[i,c,u]),N=b.useMemo(()=>({total:i.length,avgHours:i.length>0?Math.round(i.reduce((j,_)=>j+(_.total_hours??_.prior_hours+_.hours_completed),0)/i.length):0,pendingReviews:i.reduce((j,_)=>j+_.pending_hours,0)}),[i]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Students"}),s.jsx("p",{className:"text-stone-500 mt-1",children:n?"Students assigned to your rotations":"All students in the system"})]}),g&&s.jsxs(q,{onClick:()=>p(!0),children:[s.jsx(Jr,{className:"w-4 h-4 mr-1.5"}),"Import Students"]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-500 flex items-center justify-center",children:s.jsx(ut,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:N.total}),s.jsx("p",{className:"text-xs text-stone-500",children:"Students"})]})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-500 flex items-center justify-center",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:N.avgHours}),s.jsx("p",{className:"text-xs text-stone-500",children:"Avg Hours"})]})]})}),n&&N.pendingReviews>0&&s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-500 flex items-center justify-center",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:N.pendingReviews}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending Hrs"})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",value:c,onChange:j=>d(j.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),v.length>1&&s.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Programs"}),v.map(j=>s.jsx("option",{value:j,children:j},j))]})]}),a?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):y.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ut,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:i.length===0?"No students yet":"No matching students"}),s.jsx("p",{className:"text-stone-500 text-sm",children:n?"Students will appear here once they are accepted into your rotations.":"No students found matching your criteria."})]})}):s.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:y.map(j=>s.jsx(lZ,{student:j,isPreceptor:n,onView:()=>t(`/students/${j.id}`),onReviewHours:()=>t("/hours"),onWriteEval:()=>t("/evaluations")},j.id))}),m&&s.jsx(aZ,{open:m,onClose:()=>p(!1)})]})}function lZ({student:e,isPreceptor:t,onView:n,onReviewHours:r,onWriteEval:a}){const i=e.total_hours??e.prior_hours+e.hours_completed,c=e.hours_required>0?Math.min(100,Math.round(i/e.hours_required*100)):0;return s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-11 h-11 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[e.first_name[0],e.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-stone-900",children:[e.first_name," ",e.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:e.email})]})]}),s.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-stone-100 text-stone-400 transition-colors",children:s.jsx(As,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.degree_type&&s.jsx(ge,{variant:"primary",size:"sm",children:e.degree_type}),e.university&&s.jsx(ge,{variant:"default",size:"sm",children:e.university})]}),e.program&&s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(an,{className:"w-3.5 h-3.5"}),e.program]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-stone-500",children:"Clinical Hours"}),s.jsxs("span",{className:"font-semibold text-stone-700",children:[i," / ",e.hours_required,"h"]})]}),s.jsx("div",{className:"w-full h-2 bg-stone-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-500",style:{width:`${c}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[s.jsxs("span",{className:"text-stone-400",children:[c,"%"]}),e.pending_hours>0&&s.jsxs("span",{className:"text-amber-500 font-medium",children:[e.pending_hours,"h pending"]})]})]}),t&&s.jsxs("div",{className:"flex gap-2 pt-1",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:r,className:"flex-1",children:[s.jsx(Ye,{className:"w-3.5 h-3.5 mr-1"})," Review Hours"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:a,className:"flex-1",children:[s.jsx(pt,{className:"w-3.5 h-3.5 mr-1"})," Evaluate"]})]})]})})}function oZ(){const{user:e}=Je(),t=e?.role==="preceptor",{data:n,isLoading:r}=Ta(),a=n?.sites||[],i=wT(),c=NT(),{data:d}=kT(),u=bF(),h=d?.join_requests||[],[m,p]=b.useState(!1),[g,v]=b.useState(null),[y,N]=b.useState({name:"",address:"",city:"",state:"FL",zip:"",phone:"",website:"",description:"",specialties:"",ehr_system:""}),j=()=>{v(null),N({name:"",address:"",city:"",state:"FL",zip:"",phone:"",website:"",description:"",specialties:"",ehr_system:""}),p(!0)},_=E=>{v(E),N({name:E.name,address:E.address,city:E.city,state:E.state,zip:E.zip,phone:E.phone,website:E.website||"",description:E.description,specialties:E.specialties.join(", "),ehr_system:E.ehr_system||""}),p(!0)},C=async()=>{const E={...y,specialties:y.specialties.split(",").map(k=>k.trim()).filter(Boolean)};try{g?await c.mutateAsync({id:g.id,data:E}):await i.mutateAsync(E),p(!1)}catch{}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Sites"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Manage your rotation sites and their details"})]}),s.jsxs(q,{onClick:j,children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Add Site"]})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No sites yet"}),s.jsx("p",{className:"text-stone-500 text-sm mb-4",children:"Create your first rotation site to start accepting students."}),s.jsxs(q,{onClick:j,children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"})," Add Site"]})]})}):s.jsx("div",{className:"grid gap-4",children:a.map(E=>s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:E.name}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"})," ",E.city,", ",E.state," ",E.zip]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5"})," ",E.phone]}),E.website&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_a,{className:"w-3.5 h-3.5"})," ",E.website]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Un,{className:"w-3.5 h-3.5 text-amber-400"})," ",E.rating," (",E.review_count," reviews)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:E.is_verified?"success":"warning",size:"sm",children:E.is_verified?"Verified":"Pending"}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>_(E),children:s.jsx(Qr,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-stone-600 line-clamp-2 mb-3",children:E.description}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:E.specialties.map(k=>s.jsx(ge,{variant:"default",size:"sm",children:k},k))}),s.jsxs("div",{className:"flex gap-4 text-sm text-stone-500",children:[E.ehr_system&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(St,{className:"w-3.5 h-3.5"})," ",E.ehr_system]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fl,{className:"w-3.5 h-3.5"})," ",E.slots?.length||0," slots"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ut,{className:"w-3.5 h-3.5"})," ",E.slots?.reduce((k,O)=>k+O.filled,0)||0," students"]})]})]})]})},E.id))}),t&&h.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"My Join Requests"}),h.map(E=>s.jsx(Q,{className:"!py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${E.status==="pending"?"bg-amber-100 text-amber-600":E.status==="approved"?"bg-green-100 text-green-600":E.status==="denied"?"bg-red-100 text-red-600":"bg-stone-100 text-stone-500"}`,children:E.status==="pending"?s.jsx(Ye,{className:"w-5 h-5"}):E.status==="approved"?s.jsx(Ze,{className:"w-5 h-5"}):s.jsx(rn,{className:"w-5 h-5"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:E.site?.name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[E.site?.city,", ",E.site?.state,s.jsx("span",{className:"mx-1",children:""}),"Submitted ",new Date(E.created_at).toLocaleDateString()]}),E.review_notes&&s.jsxs("p",{className:"text-xs text-stone-600 mt-0.5 italic",children:["Note: ",E.review_notes]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx(ge,{variant:E.status==="pending"?"warning":E.status==="approved"?"success":E.status==="denied"?"danger":"default",children:E.status}),E.status==="pending"&&s.jsx(q,{variant:"outline",size:"sm",onClick:async()=>{try{await u.mutateAsync(E.id),J.success("Request withdrawn")}catch{J.error("Failed to withdraw")}},isLoading:u.isPending,children:"Withdraw"})]})]})},E.id))]}),s.jsx(We,{isOpen:m,onClose:()=>p(!1),title:g?"Edit Site":"Add New Site",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"sm:col-span-2 space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site Name *"}),s.jsx("input",{value:y.name,onChange:E=>N({...y,name:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",placeholder:"e.g. Mercy General Hospital"})]}),s.jsxs("div",{className:"sm:col-span-2 space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Address *"}),s.jsx("input",{value:y.address,onChange:E=>N({...y,address:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"City *"}),s.jsx("input",{value:y.city,onChange:E=>N({...y,city:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1 space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"State"}),s.jsx("input",{value:y.state,onChange:E=>N({...y,state:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{className:"flex-1 space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"ZIP"}),s.jsx("input",{value:y.zip,onChange:E=>N({...y,zip:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Phone *"}),s.jsx("input",{value:y.phone,onChange:E=>N({...y,phone:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Website"}),s.jsx("input",{value:y.website,onChange:E=>N({...y,website:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"EHR System"}),s.jsx("input",{value:y.ehr_system,onChange:E=>N({...y,ehr_system:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",placeholder:"e.g. Epic, Cerner"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Specialties (comma-separated)"}),s.jsx("input",{value:y.specialties,onChange:E=>N({...y,specialties:E.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",placeholder:"e.g. Emergency Medicine, ICU"})]}),s.jsxs("div",{className:"sm:col-span-2 space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description *"}),s.jsx("textarea",{value:y.description,onChange:E=>N({...y,description:E.target.value}),rows:3,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(q,{onClick:C,disabled:!y.name||!y.phone,isLoading:i.isPending||c.isPending,children:g?"Save Changes":"Create Site"})]})]})})]})}const fA={name:"",address:"",city:"",state:"",zip:"",phone:"",website:"",description:"",specialties:[],ehr_system:""};function cZ(){const{user:e}=Je(),t=e?.role==="admin",n=e?.role==="site_manager",r=e?.role==="preceptor",a=t||n,i=Ut(),[c,d]=b.useState(""),[u,h]=b.useState(""),[m,p]=b.useState(""),[g,v]=b.useState(1),[y,N]=b.useState(null),[j,_]=b.useState("grid"),[C,E]=b.useState(!1),[k,O]=b.useState(null),[T,D]=b.useState(null),[P,X]=b.useState(!1),[ae,G]=b.useState(fA),[M,Y]=b.useState(""),[Z,fe]=b.useState(null),[U,L]=b.useState(""),{data:I}=kT(),se=yF(),ye=I?.join_requests||[],[z,V]=b.useState(new Set);b.useEffect(()=>{r&&Na.myPending().then(he=>{}).catch(()=>{})},[r]);const re=he=>{if(z.has(he))return"linked";const Te=ye.find(rt=>rt.site_id===he);return Te?.status==="pending"?"pending":Te?.status==="approved"?"approved":"none"},$=async()=>{if(Z)try{await se.mutateAsync({site_id:Z,message:U||void 0}),J.success("Join request submitted!"),fe(null),L("")}catch(he){J.error(he instanceof Error?he.message:"Failed to submit request")}},{data:ve,isLoading:W,refetch:we}=_f({search:c,specialty:u||void 0,state:m||void 0,page:g}),De=wT(),pe=NT(),Me=ve?.data||[],Ie=ve?.last_page||1,F=ve?.total||0,Ke=b.useMemo(()=>{const he=new Set;return Me.forEach(Te=>Te.specialties.forEach(rt=>he.add(rt))),Array.from(he).sort()},[Me]),te=()=>{G(fA),Y(""),E(!0)},ke=he=>{G({name:he.name,address:he.address,city:he.city,state:he.state,zip:he.zip,phone:he.phone,website:he.website||"",description:he.description,specialties:[...he.specialties],ehr_system:he.ehr_system||""}),Y(""),O(he)},et=he=>t||he.manager_id===e?.id,ft=async he=>{he.preventDefault();try{await De.mutateAsync(ae),J.success("Site created successfully"),E(!1)}catch(Te){J.error(Te instanceof Error?Te.message:"Failed to create site")}},Pn=async he=>{if(he.preventDefault(),!!k)try{await pe.mutateAsync({id:k.id,data:ae}),J.success("Site updated successfully"),O(null)}catch(Te){J.error(Te instanceof Error?Te.message:"Failed to update site")}},ie=async()=>{if(T){X(!0);try{await To.delete(T.id),J.success("Site deleted successfully"),D(null),y?.id===T.id&&N(null),we()}catch(he){J.error(he instanceof Error?he.message:"Failed to delete site")}finally{X(!1)}}},Ne=()=>{const he=M.trim();he&&!ae.specialties.includes(he)&&(G(Te=>({...Te,specialties:[...Te.specialties,he]})),Y(""))},st=he=>{G(Te=>({...Te,specialties:Te.specialties.filter(rt=>rt!==he)}))},Oe=s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{label:"Name",required:!0,value:ae.name,onChange:he=>G(Te=>({...Te,name:he.target.value})),placeholder:"Site name"}),s.jsx($e,{label:"Address",required:!0,value:ae.address,onChange:he=>G(Te=>({...Te,address:he.target.value})),placeholder:"Street address"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx($e,{label:"City",required:!0,value:ae.city,onChange:he=>G(Te=>({...Te,city:he.target.value})),placeholder:"City"}),s.jsx($e,{label:"State",required:!0,value:ae.state,onChange:he=>G(Te=>({...Te,state:he.target.value.toUpperCase().slice(0,2)})),placeholder:"FL"}),s.jsx($e,{label:"ZIP",required:!0,value:ae.zip,onChange:he=>G(Te=>({...Te,zip:he.target.value})),placeholder:"33101"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx($e,{label:"Phone",required:!0,value:ae.phone,onChange:he=>G(Te=>({...Te,phone:he.target.value})),placeholder:"(555) 555-5555"}),s.jsx($e,{label:"EHR System",value:ae.ehr_system,onChange:he=>G(Te=>({...Te,ehr_system:he.target.value})),placeholder:"Epic, Cerner..."})]}),s.jsx($e,{label:"Website",type:"url",value:ae.website,onChange:he=>G(Te=>({...Te,website:he.target.value})),placeholder:"https://..."}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Description"}),s.jsx("textarea",{value:ae.description,onChange:he=>G(Te=>({...Te,description:he.target.value})),rows:3,placeholder:"Describe this clinical site...",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Specialties"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:M,onChange:he=>Y(he.target.value),onKeyDown:he=>{he.key==="Enter"&&(he.preventDefault(),Ne())},placeholder:"Type and press Enter",className:"flex-1 rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"}),s.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:Ne,children:"Add"})]}),ae.specialties.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:ae.specialties.map(he=>s.jsxs(ge,{variant:"primary",size:"sm",children:[he,s.jsx("button",{type:"button",onClick:()=>st(he),className:"ml-1 hover:text-red-300",children:""})]},he))})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Sites Directory"}),s.jsxs("p",{className:"text-stone-500 mt-1",children:["Browse ",F>0?`${F} `:"","clinical rotation sites"]})]}),a&&s.jsxs(q,{onClick:te,children:[s.jsx(Ct,{className:"w-4 h-4 mr-1.5"})," Add Site"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search sites by name, city...",value:c,onChange:he=>{d(he.target.value),v(1)},className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),Ke.length>0&&s.jsxs("select",{value:u,onChange:he=>{h(he.target.value),v(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"All Specialties"}),Ke.map(he=>s.jsx("option",{value:he,children:he},he))]}),s.jsxs("select",{value:m,onChange:he=>{p(he.target.value),v(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"All States"}),s.jsx("option",{value:"FL",children:"Florida"}),s.jsx("option",{value:"GA",children:"Georgia"}),s.jsx("option",{value:"TX",children:"Texas"}),s.jsx("option",{value:"NY",children:"New York"}),s.jsx("option",{value:"CA",children:"California"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>_("grid"),className:`p-2.5 rounded-xl border transition-colors ${j==="grid"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:s.jsx(pT,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>_("table"),className:`p-2.5 rounded-xl border transition-colors ${j==="table"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:s.jsx(xT,{className:"w-4 h-4"})})]})]}),W?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):Me.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No sites found"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search or filters."})]})}):j==="grid"?s.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Me.map(he=>s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:he.name}),he.is_verified&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"})]}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1 mt-0.5",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",he.city,", ",he.state]})]})]}),s.jsx("p",{className:"text-sm text-stone-600 line-clamp-2",children:he.description}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[he.specialties.slice(0,3).map(Te=>s.jsx(ge,{variant:"default",size:"sm",children:Te},Te)),he.specialties.length>3&&s.jsxs(ge,{variant:"default",size:"sm",children:["+",he.specialties.length-3]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsxs("div",{className:"flex gap-3 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Un,{className:"w-3.5 h-3.5 text-amber-400"})," ",he.rating]}),s.jsxs("span",{children:[he.review_count," reviews"]}),he.ehr_system&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(St,{className:"w-3 h-3"})," ",he.ehr_system]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[r&&(()=>{const Te=re(he.id);return Te==="linked"||Te==="approved"?s.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600 font-medium px-2 py-1",children:[s.jsx(Ze,{className:"w-3.5 h-3.5"})," Joined"]}):Te==="pending"?s.jsxs("span",{className:"flex items-center gap-1 text-xs text-amber-600 font-medium px-2 py-1",children:[s.jsx(Ye,{className:"w-3.5 h-3.5"})," Requested"]}):s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>fe(he.id),children:[s.jsx(ll,{className:"w-3.5 h-3.5"})," Request to Join"]})})(),et(he)&&s.jsxs(s.Fragment,{children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>ke(he),children:s.jsx(Qr,{className:"w-3.5 h-3.5"})}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>D(he),children:s.jsx(hn,{className:"w-3.5 h-3.5 text-red-500"})})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>i(`/sites/${he.id}`),children:"Details"})]})]})]})},he.id))}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-stone-200",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-stone-50 border-b border-stone-200",children:[s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Name"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Location"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Specialties"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Rating"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"EHR"}),s.jsx("th",{className:"text-right px-4 py-3 font-medium text-stone-600",children:"Actions"})]})}),s.jsx("tbody",{children:Me.map(he=>s.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-stone-900",children:he.name}),he.is_verified&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"})]})}),s.jsxs("td",{className:"px-4 py-3 text-stone-600",children:[he.city,", ",he.state]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[he.specialties.slice(0,2).map(Te=>s.jsx(ge,{variant:"default",size:"sm",children:Te},Te)),he.specialties.length>2&&s.jsxs(ge,{variant:"default",size:"sm",children:["+",he.specialties.length-2]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:"flex items-center gap-1 text-stone-600",children:[s.jsx(Un,{className:"w-3.5 h-3.5 text-amber-400"})," ",he.rating]})}),s.jsx("td",{className:"px-4 py-3 text-stone-600",children:he.ehr_system||""}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[r&&(()=>{const Te=re(he.id);return Te==="linked"||Te==="approved"?s.jsx("span",{className:"text-xs text-green-600 font-medium px-2",children:"Joined"}):Te==="pending"?s.jsx("span",{className:"text-xs text-amber-600 font-medium px-2",children:"Requested"}):s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>fe(he.id),children:[s.jsx(ll,{className:"w-3.5 h-3.5"})," Join"]})})(),et(he)&&s.jsxs(s.Fragment,{children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>ke(he),children:s.jsx(Qr,{className:"w-3.5 h-3.5"})}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>D(he),children:s.jsx(hn,{className:"w-3.5 h-3.5 text-red-500"})})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>i(`/sites/${he.id}`),children:"Details"})]})})]},he.id))})]})}),Ie>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",disabled:g<=1,onClick:()=>v(he=>he-1),children:s.jsx(wx,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-stone-600",children:["Page ",g," of ",Ie]}),s.jsx(q,{variant:"outline",size:"sm",disabled:g>=Ie,onClick:()=>v(he=>he+1),children:s.jsx(As,{className:"w-4 h-4"})})]}),y&&s.jsx(We,{isOpen:!0,onClose:()=>N(null),title:y.name,size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Address"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[y.address,", ",y.city,", ",y.state," ",y.zip]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Phone"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900 flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5"})," ",y.phone]})]}),y.website&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Website"}),s.jsxs("a",{href:y.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-primary-600 flex items-center gap-1 hover:underline",children:[s.jsx(_a,{className:"w-3.5 h-3.5"})," ",y.website.replace(/^https?:\/\//,"")]})]}),y.ehr_system&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"EHR System"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:y.ehr_system})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Rating"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900 flex items-center gap-1",children:[s.jsx(Un,{className:"w-3.5 h-3.5 text-amber-400"})," ",y.rating," (",y.review_count," reviews)"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Status"}),s.jsx(ge,{variant:y.is_verified?"success":"warning",children:y.is_verified?"Verified":"Pending Verification"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-stone-700",children:y.description})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"Specialties"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.specialties.map(he=>s.jsx(ge,{variant:"primary",size:"sm",children:he},he))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[et(y)&&s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"outline",onClick:()=>{N(null),ke(y)},children:[s.jsx(Qr,{className:"w-3.5 h-3.5 mr-1.5"})," Edit"]}),s.jsxs(q,{variant:"outline",onClick:()=>{N(null),D(y)},className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(hn,{className:"w-3.5 h-3.5 mr-1.5"})," Delete"]})]}),s.jsx(q,{variant:"outline",onClick:()=>N(null),children:"Close"})]})]})}),C&&s.jsx(We,{isOpen:!0,onClose:()=>E(!1),title:"Add Site",size:"lg",children:s.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[Oe,s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",type:"button",onClick:()=>E(!1),children:"Cancel"}),s.jsx(q,{type:"submit",isLoading:De.isPending,children:"Create Site"})]})]})}),k&&s.jsx(We,{isOpen:!0,onClose:()=>O(null),title:"Edit Site",size:"lg",children:s.jsxs("form",{onSubmit:Pn,className:"space-y-6",children:[Oe,s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",type:"button",onClick:()=>O(null),children:"Cancel"}),s.jsx(q,{type:"submit",isLoading:pe.isPending,children:"Save Changes"})]})]})}),T&&s.jsx(We,{isOpen:!0,onClose:()=>D(null),title:"Delete Site",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",s.jsx("strong",{children:T.name}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>D(null),children:"Cancel"}),s.jsx(q,{onClick:ie,isLoading:P,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),Z&&s.jsx(We,{isOpen:!0,onClose:()=>{fe(null),L("")},title:"Request to Join Site",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Submit a request to join ",s.jsx("strong",{children:Me.find(he=>he.id===Z)?.name})," as a preceptor. The site manager will review your request."]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Message (optional)"}),s.jsx("textarea",{value:U,onChange:he=>L(he.target.value),placeholder:"Introduce yourself or explain why you'd like to join...",rows:3,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>{fe(null),L("")},children:"Cancel"}),s.jsxs(q,{onClick:$,isLoading:se.isPending,children:[s.jsx(ll,{className:"w-4 h-4"})," Submit Request"]})]})]})})]})}const dZ=["BSN","MSN","DNP","PA","NP","DPT","OTD","MSW","PharmD","other"],OM={BSN:"primary",MSN:"secondary",DNP:"success",PA:"warning",NP:"primary",DPT:"default",OTD:"default",MSW:"secondary",PharmD:"danger",other:"default"};function TM(e){return qe({queryKey:["universities",e],queryFn:()=>ne.get(`/universities${e?.search?`?search=${e.search}`:""}`)})}function RM(e){return qe({queryKey:["university-programs",e],queryFn:()=>ne.get(`/universities/${e}/programs`),enabled:!!e})}function uZ(){const{user:e}=Je(),t=e?.role==="coordinator",n=e?.universityId||null;return t&&n?s.jsx(fZ,{universityId:n}):s.jsx(pZ,{})}function fZ({universityId:e}){const{data:t,isLoading:n}=TM(),{data:r,isLoading:a}=RM(e),{data:i,isLoading:c}=Ww(),[d,u]=b.useState(!1),[h,m]=b.useState(null),[p,g]=b.useState(!1),[v,y]=b.useState(null),j=(t?.data||[]).find(O=>O.id===e),_=Array.isArray(r)?r:[],C=i?.students||[],E=b.useMemo(()=>{const O={},T=[];for(const D of C)D.program_id?(O[D.program_id]||(O[D.program_id]=[]),O[D.program_id].push(D)):T.push(D);return{map:O,unassigned:T}},[C]);return n||a||c?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):j?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My University"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Manage programs and student assignments"})]}),s.jsxs(q,{onClick:()=>u(!0),children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," Add Program"]})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(pt,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h2",{className:"text-lg font-bold text-stone-900",children:j.name}),j.is_verified&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"})," ",j.city,", ",j.state]}),j.phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5"})," ",j.phone]}),j.website&&s.jsxs("a",{href:j.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary-600 hover:underline",children:[s.jsx(_a,{className:"w-3.5 h-3.5"})," Website"]})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsx("p",{className:"text-2xl font-bold text-primary-600",children:_.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Programs"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-stone-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-stone-900",children:C.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Students"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-stone-900",children:C.length-E.unassigned.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Assigned"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-amber-600",children:E.unassigned.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Unassigned"})]})]})]}),E.unassigned.length>0&&s.jsxs(Q,{children:[s.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center gap-3 text-left",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 text-amber-600 flex items-center justify-center shrink-0",children:s.jsx(ll,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"font-semibold text-stone-900",children:[E.unassigned.length," Unassigned Student",E.unassigned.length!==1?"s":""]}),s.jsx("p",{className:"text-sm text-stone-500",children:"These students need to be assigned to a program"})]}),p?s.jsx(Ks,{className:"w-5 h-5 text-stone-400"}):s.jsx(As,{className:"w-5 h-5 text-stone-400"})]}),p&&s.jsx("div",{className:"mt-4 pt-4 border-t border-stone-100 space-y-2",children:E.unassigned.map(O=>s.jsx(MM,{student:O,programs:_,onAssign:()=>y(O)},O.id))})]}),_.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(an,{className:"w-10 h-10 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No programs yet"}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Create your first program to start assigning students."}),s.jsxs(q,{onClick:()=>u(!0),variant:"outline",children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," Add Program"]})]})}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("h2",{className:"text-lg font-bold text-stone-900",children:"Programs"}),_.map(O=>{const T=E.map[O.id]||[],D=h===O.id;return s.jsx(mZ,{program:O,students:T,allPrograms:_,isExpanded:D,onToggle:()=>m(D?null:O.id),onAssignStudent:y},O.id)})]}),d&&s.jsx(gZ,{universityId:e,onClose:()=>u(!1)}),v&&s.jsx(hZ,{student:v,programs:_,onClose:()=>y(null)})]}):s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No university found"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"You are not associated with any university. Contact an admin to link your account."})]})})}function mZ({program:e,students:t,allPrograms:n,isExpanded:r,onToggle:a,onAssignStudent:i}){return s.jsxs(Q,{children:[s.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 text-left",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-50 to-secondary-50 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(an,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:e.name}),s.jsx(ge,{variant:OM[e.degree_type]||"default",size:"sm",children:e.degree_type})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-0.5 text-xs text-stone-500 mt-0.5",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3 h-3"})," ",e.required_hours,"h required"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ut,{className:"w-3 h-3"})," ",t.length," student",t.length!==1?"s":""]}),e.specialties&&e.specialties.length>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vs,{className:"w-3 h-3"})," ",e.specialties.join(", ")]})]})]}),r?s.jsx(Ks,{className:"w-5 h-5 text-stone-400 shrink-0"}):s.jsx(As,{className:"w-5 h-5 text-stone-400 shrink-0"})]}),r&&s.jsx("div",{className:"mt-4 pt-4 border-t border-stone-100",children:t.length===0?s.jsx("p",{className:"text-sm text-stone-500 text-center py-4",children:"No students assigned to this program yet."}):s.jsx("div",{className:"space-y-2",children:t.map(c=>s.jsx(MM,{student:c,programs:n,onAssign:()=>i(c),showReassign:!0},c.id))})})]})}function MM({student:e,programs:t,onAssign:n,showReassign:r}){const a=e.hours_required>0?Math.min(100,Math.round(e.total_hours/e.hours_required*100)):0;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[e.first_name[0],e.last_name[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900 truncate",children:[e.first_name," ",e.last_name]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-stone-500 mt-0.5",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3 h-3"})," ",e.total_hours,"/",e.hours_required,"h"]}),a>0&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-16 h-1.5 bg-stone-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${a>=100?"bg-green-500":a>=50?"bg-primary-500":"bg-amber-500"}`,style:{width:`${a}%`}})}),s.jsxs("span",{className:"text-[10px]",children:[a,"%"]})]})]})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:n,children:r?"Reassign":"Assign"})]})}function hZ({student:e,programs:t,onClose:n}){const r=AT(),[a,i]=b.useState(e.program_id||""),c=()=>{if(!a){J.error("Please select a program.");return}r.mutate({studentId:e.id,programId:a},{onSuccess:()=>{J.success(`${e.first_name} ${e.last_name} assigned successfully.`),n()},onError:d=>J.error(d.message||"Failed to assign student.")})};return s.jsx(We,{isOpen:!0,onClose:n,title:`Assign ${e.first_name} ${e.last_name}`,size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[e.first_name[0],e.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[e.first_name," ",e.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:e.email})]})]}),e.program&&s.jsxs("p",{className:"text-sm text-stone-500",children:["Currently in: ",s.jsx("span",{className:"font-medium text-stone-700",children:e.program})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Select Program"}),s.jsxs("select",{value:a,onChange:d=>i(d.target.value),className:"w-full border border-stone-300 rounded-lg px-3 py-2.5 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"-- Choose a program --"}),t.map(d=>s.jsxs("option",{value:d.id,children:[d.name," (",d.degree_type,") - ",d.required_hours,"h"]},d.id))]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:n,children:"Cancel"}),s.jsxs(q,{onClick:c,isLoading:r.isPending,children:[s.jsx(ll,{className:"w-4 h-4 mr-1"})," Assign"]})]})]})})}function pZ(){const[e,t]=b.useState(""),{data:n,isLoading:r}=TM({search:e||void 0}),a=n?.data||[],[i,c]=b.useState(null);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Programs"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Universities and their clinical programs"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search universities...",value:e,onChange:d=>t(d.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No universities found"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search criteria."})]})}):s.jsx("div",{className:"space-y-3",children:a.map(d=>s.jsx(xZ,{university:d,isExpanded:i===d.id,onToggle:()=>c(i===d.id?null:d.id)},d.id))})]})}function xZ({university:e,isExpanded:t,onToggle:n}){const{data:r,isLoading:a}=RM(t?e.id:""),i=Array.isArray(r)?r:[];return s.jsxs(Q,{children:[s.jsxs("button",{onClick:n,className:"w-full flex items-center gap-4 text-left",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(Le,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:e.name}),s.jsxs("p",{className:"text-sm text-stone-500",children:[e.city,", ",e.state]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.is_verified&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"}),t?s.jsx(Ks,{className:"w-5 h-5 text-stone-400"}):s.jsx(As,{className:"w-5 h-5 text-stone-400"})]})]}),t&&s.jsx("div",{className:"mt-4 pt-4 border-t border-stone-100",children:a?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):i.length===0?s.jsx("p",{className:"text-sm text-stone-500 text-center py-4",children:"No programs listed for this university."}):s.jsx("div",{className:"space-y-3",children:i.map(c=>s.jsxs("div",{className:"p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-primary-500 shrink-0"}),s.jsx("h4",{className:"text-sm font-semibold text-stone-900",children:c.name})]}),s.jsx(ge,{variant:OM[c.degree_type]||"default",size:"sm",children:c.degree_type})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-stone-500 ml-6",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3 h-3"})," ",c.required_hours,"h required"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(pt,{className:"w-3 h-3"})," ",c.degree_type]})]}),c.specialties&&c.specialties.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2 ml-6",children:c.specialties.map(d=>s.jsx(ge,{variant:"default",size:"sm",children:d},d))})]},c.id))})})]})}function gZ({universityId:e,onClose:t}){const n=ET(),[r,a]=b.useState({name:"",degree_type:"MSN",required_hours:500,specialties:""}),i=()=>{if(!r.name.trim()){J.error("Program name is required.");return}const c=r.specialties.split(",").map(d=>d.trim()).filter(Boolean);n.mutate({universityId:e,data:{name:r.name.trim(),degree_type:r.degree_type,required_hours:r.required_hours,specialties:c.length>0?c:void 0}},{onSuccess:()=>{J.success("Program created successfully."),t()},onError:d=>J.error(d.message||"Failed to create program.")})};return s.jsx(We,{isOpen:!0,onClose:t,title:"Add New Program",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program Name"}),s.jsx("input",{type:"text",value:r.name,onChange:c=>a({...r,name:c.target.value}),placeholder:"e.g. Family Nurse Practitioner",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Degree Type"}),s.jsx("select",{value:r.degree_type,onChange:c=>a({...r,degree_type:c.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:dZ.map(c=>s.jsx("option",{value:c,children:c},c))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Required Clinical Hours"}),s.jsx("input",{type:"number",min:"0",value:r.required_hours,onChange:c=>a({...r,required_hours:Number(c.target.value)}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Specialties (comma-separated)"}),s.jsx("input",{type:"text",value:r.specialties,onChange:c=>a({...r,specialties:c.target.value}),placeholder:"e.g. Family Practice, Pediatrics, Women's Health",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(q,{onClick:i,isLoading:n.isPending,children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," Create Program"]})]})]})})}function vZ(){const{data:e,isLoading:t}=Ws(),n=e?.data||[],[r,a]=b.useState("active"),[i,c]=b.useState(""),d=b.useMemo(()=>({active:n.filter(m=>m.status==="accepted"),pending:n.filter(m=>m.status==="pending"||m.status==="waitlisted"),completed:n.filter(m=>m.status==="declined"||m.status==="withdrawn")}),[n]),u=b.useMemo(()=>{const m=d[r];if(!i)return m;const p=i.toLowerCase();return m.filter(g=>(g.student?.first_name+" "+g.student?.last_name).toLowerCase().includes(p)||g.slot?.title?.toLowerCase().includes(p)||g.slot?.site?.name?.toLowerCase().includes(p))},[d,r,i]),h=[{key:"active",label:"Active",count:d.active.length,icon:s.jsx(Ze,{className:"w-4 h-4"})},{key:"pending",label:"Pending",count:d.pending.length,icon:s.jsx(b$,{className:"w-4 h-4"})},{key:"completed",label:"Closed",count:d.completed.length,icon:s.jsx(Yr,{className:"w-4 h-4"})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Placements"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Track student rotation placements across all sites"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.active.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Active"})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:d.pending.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending"})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-500",children:d.completed.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Closed"})]})})]}),s.jsx("div",{className:"flex gap-1 p-1 bg-stone-100 rounded-xl",children:h.map(m=>s.jsxs("button",{onClick:()=>a(m.key),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${r===m.key?"bg-white text-stone-900 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.icon,m.label,s.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${r===m.key?"bg-primary-100 text-primary-700":"bg-stone-200 text-stone-500"}`,children:m.count})]},m.key))}),s.jsxs("div",{className:"relative",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search placements...",value:i,onChange:m=>c(m.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),t?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):u.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pt,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsxs("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:["No ",r," placements"]}),s.jsx("p",{className:"text-stone-500 text-sm",children:r==="active"?"No students are currently placed in rotations.":r==="pending"?"No pending placement requests.":"No closed placements."})]})}):s.jsx("div",{className:"space-y-3",children:u.map(m=>s.jsx(yZ,{application:m},m.id))})]})}function yZ({application:e}){const n={accepted:{variant:"success",label:"Active"},pending:{variant:"warning",label:"Pending"},waitlisted:{variant:"secondary",label:"Waitlisted"},declined:{variant:"danger",label:"Declined"},withdrawn:{variant:"default",label:"Withdrawn"}}[e.status]||{variant:"default",label:e.status};return s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[e.student?.first_name?.[0],e.student?.last_name?.[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h3",{className:"font-semibold text-stone-900 truncate",children:[e.student?.first_name," ",e.student?.last_name]}),s.jsx(ge,{variant:n.variant,size:"sm",children:n.label})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(pt,{className:"w-3.5 h-3.5"}),e.slot?.title||"Unknown Rotation"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"}),e.slot?.site?.name||"Unknown Site"]}),e.slot?.start_date&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fl,{className:"w-3.5 h-3.5"}),new Date(e.slot.start_date).toLocaleDateString()," - ",e.slot.end_date?new Date(e.slot.end_date).toLocaleDateString():""]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3.5 h-3.5"}),"Applied ",new Date(e.submitted_at).toLocaleDateString()]}),e.slot?.preceptor&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3.5 h-3.5"}),e.slot.preceptor.first_name," ",e.slot.preceptor.last_name]})]})]})]})})}const bp=["student","preceptor","site_manager","coordinator","professor","admin"],Fu={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"},bZ={student:"primary",preceptor:"secondary",site_manager:"warning",coordinator:"success",professor:"default",admin:"danger"};function jZ(){const e=Ut(),[t,n]=b.useState(""),[r,a]=b.useState(""),[i,c]=b.useState(1),[d,u]=b.useState(null),[h,m]=b.useState(null),[p,g]=b.useState(""),[v,y]=b.useState(!1),[N,j]=b.useState(!1),{data:_,isLoading:C}=XH({search:t||void 0,role:r||void 0,page:i}),E=_?.data||[],k=_?.last_page||1,O=_?.total||0,T=_T(),D=CT(),P=async(G,M)=>{M.stopPropagation(),await T.mutateAsync({id:G.id,data:{is_active:!G.is_active}})},X=async()=>{!h||!p||(await T.mutateAsync({id:h.id,data:{role:p}}),m(null))},ae=async()=>{d&&(await D.mutateAsync(d.id),u(null))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"User Management"}),s.jsxs("p",{className:"text-stone-500 mt-1",children:["Manage all platform users (",O," total)"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"outline",onClick:()=>j(!0),children:[s.jsx(Jr,{className:"w-4 h-4 mr-2"})," Bulk Invite"]}),s.jsxs(q,{onClick:()=>y(!0),children:[s.jsx(ll,{className:"w-4 h-4 mr-2"})," Add User"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, username...",value:t,onChange:G=>{n(G.target.value),c(1)},className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("select",{value:r,onChange:G=>{a(G.target.value),c(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"All Roles"}),bp.map(G=>s.jsx("option",{value:G,children:Fu[G]},G))]})]}),C?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):E.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ut,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No users found"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search or filters."})]})}):s.jsx(Q,{padding:"none",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-stone-200 bg-stone-50",children:[s.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"User"}),s.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Role"}),s.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Status"}),s.jsx("th",{className:"text-left text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Joined"}),s.jsx("th",{className:"text-right text-xs font-semibold text-stone-500 uppercase px-4 py-3",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-stone-100",children:E.map(G=>s.jsxs("tr",{className:"hover:bg-stone-50 transition-colors cursor-pointer",onClick:()=>e(`/admin/users/${G.id}`),children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm shrink-0",children:[G.first_name[0],G.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[G.first_name," ",G.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:G.email})]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:M=>{M.stopPropagation(),m(G),g(G.role)},children:s.jsx(ge,{variant:bZ[G.role]||"default",size:"sm",children:Fu[G.role]||G.role})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:M=>P(G,M),className:"flex items-center gap-1.5 text-sm",title:G.is_active?"Click to deactivate":"Click to activate",children:G.is_active?s.jsxs(s.Fragment,{children:[s.jsx(bT,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-green-600",children:"Active"})]}):s.jsxs(s.Fragment,{children:[s.jsx(yT,{className:"w-5 h-5 text-stone-400"}),s.jsx("span",{className:"text-stone-400",children:"Inactive"})]})})}),s.jsx("td",{className:"px-4 py-3 text-sm text-stone-500",children:new Date(G.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("button",{onClick:M=>{M.stopPropagation(),e(`/admin/users/${G.id}`)},className:"p-1.5 rounded-lg text-stone-400 hover:text-primary-500 hover:bg-primary-50 transition-colors",title:"View details",children:s.jsx(Sa,{className:"w-4 h-4"})}),s.jsx("button",{onClick:M=>{M.stopPropagation(),u(G)},className:"p-1.5 rounded-lg text-stone-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:"Delete user",children:s.jsx(hn,{className:"w-4 h-4"})})]})})]},G.id))})]})})}),k>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",disabled:i<=1,onClick:()=>c(G=>G-1),children:s.jsx(wx,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-stone-600",children:["Page ",i," of ",k]}),s.jsx(q,{variant:"outline",size:"sm",disabled:i>=k,onClick:()=>c(G=>G+1),children:s.jsx(As,{className:"w-4 h-4"})})]}),h&&s.jsx(We,{isOpen:!0,onClose:()=>m(null),title:"Change User Role",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Changing role for ",s.jsxs("strong",{children:[h.first_name," ",h.last_name]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"New Role"}),s.jsx("select",{value:p,onChange:G=>g(G.target.value),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:bp.map(G=>s.jsx("option",{value:G,children:Fu[G]},G))})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(q,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),s.jsxs(q,{onClick:X,isLoading:T.isPending,children:[s.jsx(dn,{className:"w-4 h-4 mr-2"})," Update Role"]})]})]})}),d&&s.jsx(We,{isOpen:!0,onClose:()=>u(null),title:"Delete User",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",s.jsxs("strong",{children:[d.first_name," ",d.last_name]}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(q,{variant:"outline",onClick:()=>u(null),children:"Cancel"}),s.jsxs(q,{variant:"danger",onClick:ae,isLoading:D.isPending,children:[s.jsx(hn,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})}),v&&s.jsx(wZ,{onClose:()=>y(!1)}),N&&s.jsx(NZ,{onClose:()=>j(!1)})]})}function wZ({onClose:e}){const[t,n]=b.useState({first_name:"",last_name:"",email:"",username:"",phone:"",role:"student",university_id:"",program_id:"",site_ids:[]}),[r,a]=b.useState(""),i=JH(),{data:c}=Io(),{data:d}=_f(),u=c?.data||[],h=d?.data||[],p=u.find(C=>C.id===t.university_id)?.programs||[],g=["student","coordinator","professor","preceptor"].includes(t.role),v=t.role==="student"&&t.university_id,y=["site_manager","preceptor"].includes(t.role),N=async()=>{if(a(""),!t.first_name||!t.last_name||!t.email||!t.role){a("First name, last name, email, and role are required.");return}try{await i.mutateAsync({first_name:t.first_name,last_name:t.last_name,email:t.email,role:t.role,username:t.username||void 0,phone:t.phone||void 0,university_id:g&&t.university_id?t.university_id:void 0,program_id:v&&t.program_id?t.program_id:void 0,site_ids:y&&t.site_ids.length>0?t.site_ids:void 0}),e()}catch(C){const E=C instanceof Error?C.message:"Failed to create user.";a(E)}},j=C=>{n(E=>({...E,site_ids:E.site_ids.includes(C)?E.site_ids.filter(k=>k!==C):[...E.site_ids,C]}))},_="w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none";return s.jsx(We,{isOpen:!0,onClose:e,title:"Add New User",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[r&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl px-4 py-3 text-sm text-red-700",children:r}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"First Name *"}),s.jsx("input",{className:_,value:t.first_name,onChange:C=>n(E=>({...E,first_name:C.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Last Name *"}),s.jsx("input",{className:_,value:t.last_name,onChange:C=>n(E=>({...E,last_name:C.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",className:_,value:t.email,onChange:C=>n(E=>({...E,email:C.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Username"}),s.jsx("input",{className:_,placeholder:"lowercase, no spaces",value:t.username,onChange:C=>n(E=>({...E,username:C.target.value.toLowerCase().replace(/[^a-z0-9._-]/g,"")}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),s.jsx("input",{className:_,value:t.phone,onChange:C=>n(E=>({...E,phone:C.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Role *"}),s.jsx("select",{className:_,value:t.role,onChange:C=>n(E=>({...E,role:C.target.value,university_id:"",program_id:"",site_ids:[]})),children:bp.map(C=>s.jsx("option",{value:C,children:Fu[C]},C))})]}),g&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[s.jsx(Le,{className:"w-3.5 h-3.5 inline mr-1"}),"University"]}),s.jsxs("select",{className:_,value:t.university_id,onChange:C=>n(E=>({...E,university_id:C.target.value,program_id:""})),children:[s.jsx("option",{value:"",children:"Select university..."}),u.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),v&&p.length>0&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[s.jsx(pt,{className:"w-3.5 h-3.5 inline mr-1"}),"Program"]}),s.jsxs("select",{className:_,value:t.program_id,onChange:C=>n(E=>({...E,program_id:C.target.value})),children:[s.jsx("option",{value:"",children:"Select program..."}),p.map(C=>s.jsxs("option",{value:C.id,children:[C.name," (",C.degree_type,")"]},C.id))]})]}),y&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5 inline mr-1"}),t.role==="site_manager"?"Sites to Manage":"Associated Sites"]}),s.jsxs("div",{className:"max-h-40 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:[h.map(C=>s.jsxs("label",{className:"flex items-center gap-3 px-4 py-2.5 hover:bg-stone-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.site_ids.includes(C.id),onChange:()=>j(C.id),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:C.name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[C.city,", ",C.state]})]})]},C.id)),h.length===0&&s.jsx("p",{className:"px-4 py-3 text-sm text-stone-400",children:"No sites available"})]})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-xs text-stone-500",children:[s.jsx(Wr,{className:"w-3.5 h-3.5 inline mr-1"}),"A welcome email with a password setup link will be sent to the user."]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:e,children:"Cancel"}),s.jsxs(q,{onClick:N,isLoading:i.isPending,children:[s.jsx(ll,{className:"w-4 h-4 mr-2"})," Create User"]})]})]})})}function NZ({onClose:e}){const[t,n]=b.useState("student"),[r,a]=b.useState(""),[i,c]=b.useState(""),[d,u]=b.useState([]),[h,m]=b.useState(""),[p,g]=b.useState([]),[v,y]=b.useState(""),[N,j]=b.useState(null),[_,C]=b.useState(null),E=b.useRef(null),k=tF(),{data:O}=Io(),{data:T}=_f(),D=O?.data||[],P=T?.data||[],ae=D.find(V=>V.id===r)?.programs||[],G=["student","coordinator","professor","preceptor"].includes(t),M=t==="student"&&r,Y=["site_manager","preceptor"].includes(t),Z="w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",fe=/[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}/g,U=V=>{const re=V.match(fe)||[];return[...new Set(re.map($=>$.toLowerCase()))]},L=()=>{const V=U(h);g(re=>[...new Set([...re,...V])]),m("")},I=V=>{const re=V.target.files?.[0];if(!re)return;const $=new FileReader;$.onload=ve=>{const W=ve.target?.result,we=U(W);g(De=>[...new Set([...De,...we])])},$.readAsText(re),E.current&&(E.current.value="")},se=V=>{g(re=>re.filter($=>$!==V))},ye=async()=>{if(y(""),p.length===0){y("Add at least one email address.");return}if(p.length>200){y("Maximum 200 emails per batch.");return}try{const V=await k.mutateAsync({emails:p,role:t,university_id:G&&r?r:void 0,program_id:M&&i?i:void 0,site_ids:Y&&d.length>0?d:void 0});j(V.results),C(V.summary),J.success(V.message)}catch(V){const re=V instanceof Error?V.message:"Bulk invite failed.";y(re)}},z=V=>{u(re=>re.includes(V)?re.filter($=>$!==V):[...re,V])};return N&&_?s.jsx(We,{isOpen:!0,onClose:e,title:"Bulk Invite Results",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-3 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.sent}),s.jsx("p",{className:"text-xs text-green-600",children:"Sent"})]}),s.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-amber-700",children:_.skipped}),s.jsx("p",{className:"text-xs text-amber-600",children:"Skipped"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-3 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-700",children:_.failed}),s.jsx("p",{className:"text-xs text-red-600",children:"Failed"})]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:N.map((V,re)=>s.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[s.jsx("span",{className:"text-sm text-stone-700",children:V.email}),s.jsxs("div",{className:"flex items-center gap-2",children:[V.status==="sent"&&s.jsx(Nf,{className:"w-4 h-4 text-green-500"}),V.status==="skipped"&&s.jsx(fs,{className:"w-4 h-4 text-amber-500"}),V.status==="failed"&&s.jsx(us,{className:"w-4 h-4 text-red-500"}),s.jsxs("span",{className:`text-xs font-medium ${V.status==="sent"?"text-green-600":V.status==="skipped"?"text-amber-600":"text-red-600"}`,children:[V.status,V.reason?`  ${V.reason}`:""]})]})]},re))}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:e,children:"Done"})})]})}):s.jsx(We,{isOpen:!0,onClose:e,title:"Bulk Invite Users",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[v&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl px-4 py-3 text-sm text-red-700",children:v}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Role *"}),s.jsx("select",{className:Z,value:t,onChange:V=>{n(V.target.value),a(""),c(""),u([])},children:bp.map(V=>s.jsx("option",{value:V,children:Fu[V]},V))})]}),G&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[s.jsx(Le,{className:"w-3.5 h-3.5 inline mr-1"})," University"]}),s.jsxs("select",{className:Z,value:r,onChange:V=>{a(V.target.value),c("")},children:[s.jsx("option",{value:"",children:"Select university..."}),D.map(V=>s.jsx("option",{value:V.id,children:V.name},V.id))]})]}),M&&ae.length>0&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[s.jsx(pt,{className:"w-3.5 h-3.5 inline mr-1"})," Program"]}),s.jsxs("select",{className:Z,value:i,onChange:V=>c(V.target.value),children:[s.jsx("option",{value:"",children:"Select program..."}),ae.map(V=>s.jsxs("option",{value:V.id,children:[V.name," (",V.degree_type,")"]},V.id))]})]}),Y&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:[s.jsx(Tt,{className:"w-3.5 h-3.5 inline mr-1"}),t==="site_manager"?"Sites to Manage":"Associated Sites"]}),s.jsx("div",{className:"max-h-32 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:P.map(V=>s.jsxs("label",{className:"flex items-center gap-3 px-4 py-2 hover:bg-stone-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:d.includes(V.id),onChange:()=>z(V.id),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:V.name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[V.city,", ",V.state]})]})]},V.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email Addresses"}),s.jsx("textarea",{className:Z+" min-h-[80px]",placeholder:"Enter emails separated by commas, spaces, or new lines...",value:h,onChange:V=>m(V.target.value),onBlur:L}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:L,disabled:!h.trim(),children:"Add Emails"}),s.jsx("span",{className:"text-xs text-stone-400",children:"or"}),s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>E.current?.click(),children:[s.jsx(Jr,{className:"w-3.5 h-3.5 mr-1"})," Upload CSV"]}),s.jsx("input",{ref:E,type:"file",accept:".csv,.txt",className:"hidden",onChange:I})]})]}),p.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-sm font-medium text-stone-700",children:[p.length," email",p.length!==1?"s":""," ready"]}),s.jsx("button",{onClick:()=>g([]),className:"text-xs text-red-500 hover:text-red-700",children:"Clear all"})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto border border-stone-200 rounded-xl p-2 flex flex-wrap gap-1.5",children:p.map(V=>s.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary-50 text-primary-700 rounded-lg px-2.5 py-1 text-xs",children:[V,s.jsx("button",{onClick:()=>se(V),className:"hover:text-red-500",children:s.jsx(us,{className:"w-3 h-3"})})]},V))})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3 text-xs text-stone-500",children:[s.jsx(Wr,{className:"w-3.5 h-3.5 inline mr-1"}),"Each user will receive a welcome email with a password setup link. Existing users will be skipped."]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:e,children:"Cancel"}),s.jsxs(q,{onClick:ye,isLoading:k.isPending,disabled:p.length===0,children:[s.jsx(Wr,{className:"w-4 h-4 mr-2"})," Send ",p.length," Invite",p.length!==1?"s":""]})]})]})})}const mA=[{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"TX",label:"Texas"},{value:"NY",label:"New York"},{value:"CA",label:"California"},{value:"IL",label:"Illinois"},{value:"PA",label:"Pennsylvania"},{value:"NC",label:"North Carolina"},{value:"OH",label:"Ohio"},{value:"MA",label:"Massachusetts"},{value:"MD",label:"Maryland"},{value:"MI",label:"Michigan"},{value:"TN",label:"Tennessee"},{value:"WA",label:"Washington"},{value:"MN",label:"Minnesota"},{value:"CO",label:"Colorado"},{value:"VA",label:"Virginia"},{value:"AZ",label:"Arizona"},{value:"IN",label:"Indiana"},{value:"SC",label:"South Carolina"},{value:"OR",label:"Oregon"},{value:"WI",label:"Wisconsin"},{value:"CT",label:"Connecticut"},{value:"MO",label:"Missouri"},{value:"NE",label:"Nebraska"},{value:"LA",label:"Louisiana"}],fy={BSN:"primary",MSN:"secondary",DNP:"success",PA:"warning",NP:"primary",DPT:"default",OTD:"default",MSW:"secondary",PharmD:"danger",other:"default"},hA={name:"",address:"",city:"",state:"",zip:"",phone:"",website:"",is_verified:!1},SZ=["BSN","MSN","DNP","PA","NP","DPT","OTD","MSW","PharmD","other"];function _Z(){const{user:e}=Je(),t=e?.role==="admin",n=e?.role==="coordinator",r=Ut(),a=n&&e?.universityId||null,[i,c]=b.useState(""),[d,u]=b.useState(""),[h,m]=b.useState(1),[p,g]=b.useState(null),[v,y]=b.useState("grid"),[N,j]=b.useState(!1),[_,C]=b.useState(!1),[E,k]=b.useState(null),[O,T]=b.useState(null),[D,P]=b.useState(hA),{data:X,isLoading:ae}=Io({search:i||void 0,state:d||void 0,page:h}),G=rF(),M=aF(),Y=iF(),Z=X?.data||[],fe=n&&a?Z.filter($=>$.id===a):Z,U=X?.last_page||1,L=X?.total||0,I=()=>{P(hA),C(!0)},se=$=>{P({name:$.name,address:$.address||"",city:$.city||"",state:$.state||"",zip:$.zip||"",phone:$.phone||"",website:$.website||"",is_verified:$.is_verified}),k($)},ye=async $=>{$.preventDefault();try{await G.mutateAsync(D),J.success("University created successfully"),C(!1)}catch(ve){J.error(ve instanceof Error?ve.message:"Failed to create university")}},z=async $=>{if($.preventDefault(),!!E)try{await M.mutateAsync({id:E.id,data:D}),J.success("University updated successfully"),k(null)}catch(ve){J.error(ve instanceof Error?ve.message:"Failed to update university")}},V=async()=>{if(O)try{await Y.mutateAsync(O.id),J.success("University deleted successfully"),T(null),p?.id===O.id&&g(null)}catch($){J.error($ instanceof Error?$.message:"Failed to delete university")}},re=s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{label:"Name",required:!0,value:D.name,onChange:$=>P(ve=>({...ve,name:$.target.value})),placeholder:"University name"}),s.jsx($e,{label:"Address",value:D.address,onChange:$=>P(ve=>({...ve,address:$.target.value})),placeholder:"Street address"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx($e,{label:"City",value:D.city,onChange:$=>P(ve=>({...ve,city:$.target.value})),placeholder:"City"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"State"}),s.jsxs("select",{value:D.state,onChange:$=>P(ve=>({...ve,state:$.target.value})),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select state"}),mA.map($=>s.jsx("option",{value:$.value,children:$.label},$.value))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx($e,{label:"ZIP",value:D.zip,onChange:$=>P(ve=>({...ve,zip:$.target.value})),placeholder:"ZIP code"}),s.jsx($e,{label:"Phone",value:D.phone,onChange:$=>P(ve=>({...ve,phone:$.target.value})),placeholder:"(555) 555-5555"})]}),s.jsx($e,{label:"Website",type:"url",value:D.website,onChange:$=>P(ve=>({...ve,website:$.target.value})),placeholder:"https://..."}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:D.is_verified,onChange:$=>P(ve=>({...ve,is_verified:$.target.checked})),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Verified university"})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:n?"My University":"University Directory"}),s.jsx("p",{className:"text-stone-500 mt-1",children:n?"Your university and healthcare programs":`Browse ${L>0?`${L} `:""}universities and their healthcare programs`})]}),s.jsxs("div",{className:"flex gap-2",children:[n&&a&&s.jsxs(q,{onClick:()=>j(!0),children:[s.jsx(Ct,{className:"w-4 h-4 mr-1.5"})," Add Program"]}),t&&s.jsxs(q,{onClick:I,children:[s.jsx(Ct,{className:"w-4 h-4 mr-1.5"})," Add University"]})]})]}),N&&a&&s.jsx(CZ,{universityId:a,onClose:()=>j(!1)}),!n&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search by university name...",value:i,onChange:$=>{c($.target.value),m(1)},className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("select",{value:d,onChange:$=>{u($.target.value),m(1)},className:"px-4 py-2.5 rounded-xl border border-stone-300 bg-white text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"All States"}),mA.map($=>s.jsx("option",{value:$.value,children:$.label},$.value))]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>y("grid"),className:`p-2.5 rounded-xl border transition-colors ${v==="grid"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:s.jsx(pT,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y("table"),className:`p-2.5 rounded-xl border transition-colors ${v==="table"?"bg-primary-50 text-primary-600 border-primary-200":"text-stone-400 hover:text-stone-600 border-stone-300"}`,children:s.jsx(xT,{className:"w-4 h-4"})})]})]}),ae?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):fe.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(an,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-1",children:"No universities found"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"Try adjusting your search or filters."})]})}):v==="grid"?s.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:fe.map($=>s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-100 to-secondary-100 text-primary-600 flex items-center justify-center shrink-0",children:s.jsx(pt,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:$.name}),$.is_verified&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"})]}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1 mt-0.5",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",$.city,", ",$.state]})]})]}),$.programs&&$.programs.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[$.programs.slice(0,4).map(ve=>s.jsx(ge,{variant:fy[ve.degree_type]||"default",size:"sm",children:ve.degree_type},ve.id)),$.programs.length>4&&s.jsxs(ge,{variant:"default",size:"sm",children:["+",$.programs.length-4]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsxs("div",{className:"flex gap-3 text-xs text-stone-500",children:[$.phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5"})," ",$.phone]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(an,{className:"w-3.5 h-3.5"})," ",$.programs?.length||0," programs"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>se($),children:s.jsx(Qr,{className:"w-3.5 h-3.5"})}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>T($),children:s.jsx(hn,{className:"w-3.5 h-3.5 text-red-500"})})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r(`/universities/${$.id}`),children:"Details"})]})]})]})},$.id))}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-stone-200",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-stone-50 border-b border-stone-200",children:[s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Name"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Location"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Programs"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Phone"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Website"}),s.jsx("th",{className:"text-right px-4 py-3 font-medium text-stone-600",children:"Actions"})]})}),s.jsx("tbody",{children:fe.map($=>s.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-stone-900",children:$.name}),$.is_verified&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"})]})}),s.jsxs("td",{className:"px-4 py-3 text-stone-600",children:[$.city,", ",$.state]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[$.programs?.slice(0,3).map(ve=>s.jsx(ge,{variant:fy[ve.degree_type]||"default",size:"sm",children:ve.degree_type},ve.id)),($.programs?.length||0)>3&&s.jsxs(ge,{variant:"default",size:"sm",children:["+",($.programs?.length||0)-3]})]})}),s.jsx("td",{className:"px-4 py-3 text-stone-600",children:$.phone||""}),s.jsx("td",{className:"px-4 py-3",children:$.website?s.jsx("a",{href:$.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline text-xs",children:$.website.replace(/^https?:\/\//,"").slice(0,30)}):""}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>se($),children:s.jsx(Qr,{className:"w-3.5 h-3.5"})}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>T($),children:s.jsx(hn,{className:"w-3.5 h-3.5 text-red-500"})})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r(`/universities/${$.id}`),children:"Details"})]})})]},$.id))})]})}),!n&&U>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",disabled:h<=1,onClick:()=>m($=>$-1),children:s.jsx(wx,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-stone-600",children:["Page ",h," of ",U]}),s.jsx(q,{variant:"outline",size:"sm",disabled:h>=U,onClick:()=>m($=>$+1),children:s.jsx(As,{className:"w-4 h-4"})})]}),p&&s.jsx(We,{isOpen:!0,onClose:()=>g(null),title:p.name,size:"lg",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Address"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[p.address,", ",p.city,", ",p.state," ",p.zip]})]}),p.phone&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Phone"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900 flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5"})," ",p.phone]})]}),p.website&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Website"}),s.jsxs("a",{href:p.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-primary-600 flex items-center gap-1 hover:underline",children:[s.jsx(_a,{className:"w-3.5 h-3.5"})," ",p.website.replace(/^https?:\/\//,"")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Status"}),s.jsx(ge,{variant:p.is_verified?"success":"warning",children:p.is_verified?"Verified":"Pending Verification"})]})]}),p.programs&&p.programs.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-primary-500"}),"Programs (",p.programs.length,")"]}),s.jsx("div",{className:"space-y-2",children:p.programs.map($=>s.jsx("div",{className:"bg-stone-50 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center gap-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-stone-900 text-sm truncate",children:$.name}),s.jsx(ge,{variant:fy[$.degree_type]||"default",size:"sm",children:$.degree_type}),!$.is_active&&s.jsx(ge,{variant:"danger",size:"sm",children:"Inactive"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3 h-3"})," ",$.required_hours," hours required"]}),$.specialties&&$.specialties.length>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vs,{className:"w-3 h-3"})," ",$.specialties.join(", ")]})]})]})},$.id))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[t&&s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"outline",onClick:()=>{g(null),se(p)},children:[s.jsx(Qr,{className:"w-3.5 h-3.5 mr-1.5"})," Edit"]}),s.jsxs(q,{variant:"outline",onClick:()=>{g(null),T(p)},className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(hn,{className:"w-3.5 h-3.5 mr-1.5"})," Delete"]})]}),s.jsx(q,{variant:"outline",onClick:()=>g(null),children:"Close"})]})]})}),_&&s.jsx(We,{isOpen:!0,onClose:()=>C(!1),title:"Add University",children:s.jsxs("form",{onSubmit:ye,className:"space-y-6",children:[re,s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",type:"button",onClick:()=>C(!1),children:"Cancel"}),s.jsx(q,{type:"submit",isLoading:G.isPending,children:"Create University"})]})]})}),E&&s.jsx(We,{isOpen:!0,onClose:()=>k(null),title:"Edit University",children:s.jsxs("form",{onSubmit:z,className:"space-y-6",children:[re,s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",type:"button",onClick:()=>k(null),children:"Cancel"}),s.jsx(q,{type:"submit",isLoading:M.isPending,children:"Save Changes"})]})]})}),O&&s.jsx(We,{isOpen:!0,onClose:()=>T(null),title:"Delete University",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",s.jsx("strong",{children:O.name}),"? This will also remove all associated programs. This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>T(null),children:"Cancel"}),s.jsx(q,{onClick:V,isLoading:Y.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function CZ({universityId:e,onClose:t}){const n=ET(),[r,a]=b.useState({name:"",degree_type:"MSN",required_hours:500,specialties:""}),i=()=>{if(!r.name.trim()){J.error("Program name is required.");return}const c=r.specialties.split(",").map(d=>d.trim()).filter(Boolean);n.mutate({universityId:e,data:{name:r.name.trim(),degree_type:r.degree_type,required_hours:r.required_hours,specialties:c.length>0?c:void 0}},{onSuccess:()=>{J.success("Program created successfully."),t()},onError:d=>J.error(d.message||"Failed to create program.")})};return s.jsx(We,{isOpen:!0,onClose:t,title:"Add New Program",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program Name"}),s.jsx("input",{type:"text",value:r.name,onChange:c=>a({...r,name:c.target.value}),placeholder:"e.g. Family Nurse Practitioner",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Degree Type"}),s.jsx("select",{value:r.degree_type,onChange:c=>a({...r,degree_type:c.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:SZ.map(c=>s.jsx("option",{value:c,children:c},c))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Required Clinical Hours"}),s.jsx("input",{type:"number",min:"0",value:r.required_hours,onChange:c=>a({...r,required_hours:Number(c.target.value)}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Specialties (comma-separated)"}),s.jsx("input",{type:"text",value:r.specialties,onChange:c=>a({...r,specialties:c.target.value}),placeholder:"e.g. Family Practice, Pediatrics, Women's Health",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(q,{onClick:i,isLoading:n.isPending,children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," Create Program"]})]})]})})}const my={open:"success",filled:"warning",closed:"default",active:"success",draft:"default",pending_review:"warning",expired:"danger",terminated:"danger",accepted:"success",pending:"warning",declined:"danger",completed:"success",withdrawn:"default"};function EZ(){const{id:e}=Nl(),t=Ut(),{data:n,isLoading:r}=RH(e);if(r)return s.jsx("div",{className:"flex justify-center py-24",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!n)return s.jsxs("div",{className:"text-center py-24",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"Site not found"}),s.jsxs(q,{variant:"outline",className:"mt-4",onClick:()=>t("/sites"),children:[s.jsx(Dr,{className:"w-4 h-4 mr-2"})," Back to Sites"]})]});const a=n.slots||[],i=n.affiliation_agreements||[],c=n.onboarding_templates||[];n.invites;const d=[];for(const m of a)for(const p of m.applications||[])p.student&&d.push({id:p.student.id,first_name:p.student.first_name,last_name:p.student.last_name,email:p.student.email,status:p.status,slot_title:m.title,specialty:m.specialty});const u=new Map;for(const m of a)if(m.preceptor){const p=u.get(m.preceptor.id);p?p.slots.push(m.title):u.set(m.preceptor.id,{id:m.preceptor.id,first_name:m.preceptor.first_name,last_name:m.preceptor.last_name,email:m.preceptor.email,slots:[m.title]})}const h=Array.from(u.values());return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>t("/sites"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700 mb-4",children:[s.jsx(Dr,{className:"w-4 h-4"})," Back to Sites Directory"]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:n.name}),n.is_verified&&s.jsxs(ge,{variant:"success",children:[s.jsx(vs,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-stone-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-4 h-4 text-stone-400"})," ",n.address,", ",n.city,", ",n.state," ",n.zip]}),n.phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-4 h-4 text-stone-400"})," ",n.phone]}),n.website&&s.jsxs("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary-600 hover:underline",children:[s.jsx(_a,{className:"w-4 h-4"})," Website"]})]}),n.description&&s.jsx("p",{className:"mt-3 text-sm text-stone-600 max-w-2xl",children:n.description})]}),s.jsxs("div",{className:"text-right shrink-0",children:[n.rating>0&&s.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[s.jsx(Un,{className:"w-5 h-5 fill-current"}),s.jsx("span",{className:"text-xl font-bold",children:n.rating}),s.jsxs("span",{className:"text-sm text-stone-400",children:["(",n.review_count,")"]})]}),n.ehr_system&&s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:["EHR: ",n.ehr_system]})]})]}),n.specialties?.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:n.specialties.map(m=>s.jsx(ge,{variant:"default",children:m},m))})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[{icon:s.jsx(St,{className:"w-5 h-5"}),label:"Rotation Slots",value:a.length,color:"bg-primary-50 text-primary-600"},{icon:s.jsx(ut,{className:"w-5 h-5"}),label:"Preceptors",value:h.length,color:"bg-secondary-50 text-secondary-600"},{icon:s.jsx(ut,{className:"w-5 h-5"}),label:"Students",value:d.length,color:"bg-green-50 text-green-600"},{icon:s.jsx(Wu,{className:"w-5 h-5"}),label:"Agreements",value:i.length,color:"bg-amber-50 text-amber-600"},{icon:s.jsx(At,{className:"w-5 h-5"}),label:"Templates",value:c.length,color:"bg-stone-100 text-stone-600"}].map(m=>s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4 text-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl ${m.color} flex items-center justify-center mx-auto mb-2`,children:m.icon}),s.jsx("p",{className:"text-xl font-bold text-stone-900",children:m.value}),s.jsx("p",{className:"text-xs text-stone-500",children:m.label})]},m.label))}),n.manager&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(dn,{className:"w-4 h-4 text-primary-500"})," Site Manager"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[n.manager.first_name?.[0],n.manager.last_name?.[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[n.manager.first_name," ",n.manager.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:n.manager.email})]})]})]}),s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-primary-500"})," Rotation Slots (",a.length,")"]}),a.length===0?s.jsx("p",{className:"text-sm text-stone-400 py-4 text-center",children:"No rotation slots yet"}):s.jsx("div",{className:"space-y-2",children:a.map(m=>s.jsx("div",{className:"p-4 bg-stone-50 rounded-xl",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:m.title}),s.jsxs("p",{className:"text-xs text-stone-500",children:[m.specialty," - ",m.shift_schedule||""]}),m.preceptor&&s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:["Preceptor: ",m.preceptor.first_name," ",m.preceptor.last_name]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs(ge,{variant:my[m.status]||"default",size:"sm",children:[m.status," (",m.filled,"/",m.capacity,")"]}),s.jsxs("div",{className:"text-xs text-stone-400 mt-1",children:[s.jsx(Jt,{className:"w-3 h-3 inline mr-0.5"}),new Date(m.start_date).toLocaleDateString()," - ",new Date(m.end_date).toLocaleDateString()]})]})]})},m.id))})]}),h.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(ut,{className:"w-4 h-4 text-primary-500"})," Preceptors (",h.length,")"]}),s.jsx("div",{className:"space-y-2",children:h.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-secondary-100 flex items-center justify-center text-secondary-700 font-semibold text-sm",children:[m.first_name[0],m.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[m.first_name," ",m.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:m.email})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:m.slots.map(p=>s.jsx(ge,{variant:"default",size:"sm",children:p},p))})]},m.id))})]}),d.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(ut,{className:"w-4 h-4 text-primary-500"})," Students (",d.length,")"]}),s.jsx("div",{className:"space-y-2",children:d.map((m,p)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-semibold text-sm",children:[m.first_name[0],m.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[m.first_name," ",m.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[m.slot_title," - ",m.specialty]})]})]}),s.jsx(ge,{variant:my[m.status]||"default",size:"sm",children:m.status})]},`${m.id}-${p}`))})]}),i.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(Wu,{className:"w-4 h-4 text-primary-500"})," Affiliation Agreements (",i.length,")"]}),s.jsx("div",{className:"space-y-2",children:i.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:m.university?.name||"Unknown University"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[m.start_date?new Date(m.start_date).toLocaleDateString():"?"," - ",m.end_date?new Date(m.end_date).toLocaleDateString():"?"]})]}),s.jsx(ge,{variant:my[m.status]||"default",size:"sm",children:m.status})]},m.id))})]}),c.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4 text-primary-500"})," Onboarding Templates (",c.length,")"]}),s.jsx("div",{className:"space-y-2",children:c.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:m.name}),m.description&&s.jsx("p",{className:"text-xs text-stone-500",children:m.description})]}),s.jsx(ge,{variant:m.is_active?"success":"default",size:"sm",children:m.is_active?"Active":"Inactive"})]},m.id))})]})]})}const pA={active:"success",draft:"default",pending_review:"warning",expired:"danger",terminated:"danger",issued:"success",pending:"warning",approved:"success",rejected:"danger"},AZ={BSN:"bg-blue-100 text-blue-700",MSN:"bg-purple-100 text-purple-700",DNP:"bg-emerald-100 text-emerald-700",PhD:"bg-rose-100 text-rose-700","PA-C":"bg-amber-100 text-amber-700",MD:"bg-teal-100 text-teal-700"};function kZ(){const{id:e}=Nl(),t=Ut(),{data:n,isLoading:r}=lF(e);if(r)return s.jsx("div",{className:"flex justify-center py-24",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!n)return s.jsxs("div",{className:"text-center py-24",children:[s.jsx(Le,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"University not found"}),s.jsxs(q,{variant:"outline",className:"mt-4",onClick:()=>t("/universities"),children:[s.jsx(Dr,{className:"w-4 h-4 mr-2"})," Back to Universities"]})]});const a=n.programs||[],i=n.affiliation_agreements||[],c=n.student_profiles||[],d=n.ce_policy,u=n.ce_certificates||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>t("/universities"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700 mb-4",children:[s.jsx(Dr,{className:"w-4 h-4"})," Back to Universities"]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:n.name}),n.is_verified&&s.jsxs(ge,{variant:"success",children:[s.jsx(vs,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-stone-600",children:[n.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"w-4 h-4 text-stone-400"}),n.address?`${n.address}, `:"",n.city,", ",n.state," ",n.zip]}),n.phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-4 h-4 text-stone-400"})," ",n.phone]}),n.website&&s.jsxs("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary-600 hover:underline",children:[s.jsx(_a,{className:"w-4 h-4"})," Website"]})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[{icon:s.jsx(an,{className:"w-5 h-5"}),label:"Programs",value:a.length,color:"bg-primary-50 text-primary-600"},{icon:s.jsx(ut,{className:"w-5 h-5"}),label:"Students",value:n.student_profiles_count??c.length,color:"bg-green-50 text-green-600"},{icon:s.jsx(Wu,{className:"w-5 h-5"}),label:"Agreements",value:i.length,color:"bg-amber-50 text-amber-600"},{icon:s.jsx(mn,{className:"w-5 h-5"}),label:"CE Certificates",value:u.length,color:"bg-secondary-50 text-secondary-600"},{icon:s.jsx(pt,{className:"w-5 h-5"}),label:"CE Policy",value:d?"Active":"None",color:"bg-stone-100 text-stone-600"}].map(h=>s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4 text-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl ${h.color} flex items-center justify-center mx-auto mb-2`,children:h.icon}),s.jsx("p",{className:"text-xl font-bold text-stone-900",children:h.value}),s.jsx("p",{className:"text-xs text-stone-500",children:h.label})]},h.label))}),s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-primary-500"})," Programs (",a.length,")"]}),a.length===0?s.jsx("p",{className:"text-sm text-stone-400 py-4 text-center",children:"No programs added yet"}):s.jsx("div",{className:"space-y-2",children:a.map(h=>s.jsx("div",{className:"p-4 bg-stone-50 rounded-xl",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:h.name}),s.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${AZ[h.degree_type]||"bg-stone-100 text-stone-700"}`,children:h.degree_type}),!h.is_active&&s.jsx(ge,{variant:"default",size:"sm",children:"Inactive"})]}),h.specialties?.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:h.specialties.map(m=>s.jsx(ge,{variant:"default",size:"sm",children:m},m))})]}),s.jsxs("div",{className:"text-right text-xs text-stone-500",children:[s.jsx(Ye,{className:"w-3 h-3 inline mr-0.5"}),h.required_hours,"h required"]})]})},h.id))})]}),c.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(ut,{className:"w-4 h-4 text-primary-500"})," Students (",c.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[c.slice(0,20).map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-semibold text-sm",children:[h.user?.first_name?.[0]||"?",h.user?.last_name?.[0]||"?"]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:h.user?`${h.user.first_name} ${h.user.last_name}`:"Unknown"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[h.program?.name||"No program"," ",h.program?.degree_type?`(${h.program.degree_type})`:""]})]})]}),s.jsx("div",{className:"text-right text-xs text-stone-500",children:h.hours_completed?`${h.hours_completed}/${h.hours_required||"?"}h`:""})]},h.id)),c.length>20&&s.jsxs("p",{className:"text-xs text-stone-400 text-center py-2",children:["Showing 20 of ",c.length," students"]})]})]}),i.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(Wu,{className:"w-4 h-4 text-primary-500"})," Affiliation Agreements (",i.length,")"]}),s.jsx("div",{className:"space-y-2",children:i.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:h.site?.name||"Unknown Site"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[h.start_date?new Date(h.start_date).toLocaleDateString():"?"," - ",h.end_date?new Date(h.end_date).toLocaleDateString():"?"]})]}),s.jsx(ge,{variant:pA[h.status]||"default",size:"sm",children:h.status})]},h.id))})]}),d&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(mn,{className:"w-4 h-4 text-primary-500"})," CE Policy"]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Offers CE"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:d.offers_ce?"Yes":"No"})]}),d.accrediting_body&&s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Accrediting Body"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:d.accrediting_body})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Hours Per Rotation"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:d.contact_hours_per_rotation})]}),d.signer_name&&s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Signer"}),s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[d.signer_name,d.signer_credentials?`, ${d.signer_credentials}`:""]})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Approval Required"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:d.approval_required?"Yes":"No"})]})]})]}),u.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(mn,{className:"w-4 h-4 text-primary-500"})," CE Certificates (",u.length,")"]}),s.jsx("div",{className:"space-y-2",children:u.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:h.preceptor?`${h.preceptor.first_name} ${h.preceptor.last_name}`:"Unknown Preceptor"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[h.contact_hours," contact hours"]})]}),s.jsx(ge,{variant:pA[h.status]||"default",size:"sm",children:h.status})]},h.id))})]})]})}const DZ=["student","preceptor","site_manager","coordinator","professor","admin"],xA={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"},OZ={student:"primary",preceptor:"secondary",site_manager:"warning",coordinator:"success",professor:"default",admin:"danger"};function TZ(){const{id:e}=Nl(),t=Ut(),{data:n,isLoading:r}=ZH(e),a=_T(),i=CT(),c=eF(),[d,u]=b.useState(!1),[h,m]=b.useState(""),[p,g]=b.useState(!1),[v,y]=b.useState(!1),[N,j]=b.useState(null),[_,C]=b.useState(!1),[E,k]=b.useState(!1),[O,T]=b.useState({first_name:"",last_name:"",email:"",phone:"",username:""}),D=n?.user,P=n?.stats;if(r)return s.jsx("div",{className:"flex justify-center py-24",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!D)return s.jsxs("div",{className:"text-center py-24",children:[s.jsx(ut,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"User not found"}),s.jsxs(q,{variant:"outline",className:"mt-4",onClick:()=>t("/admin/users"),children:[s.jsx(Dr,{className:"w-4 h-4 mr-2"})," Back to Users"]})]});const X=async()=>{!h||h===D.role||(await a.mutateAsync({id:D.id,data:{role:h}}),u(!1))},ae=async()=>{await a.mutateAsync({id:D.id,data:{is_active:!D.is_active}})},G=async()=>{await i.mutateAsync(D.id),t("/admin/users")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>t("/admin/users"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700 mb-4",children:[s.jsx(Dr,{className:"w-4 h-4"})," Back to Users"]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-xl shrink-0",children:[D.first_name[0],D.last_name[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:[D.first_name," ",D.last_name]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx(ge,{variant:OZ[D.role]||"default",children:xA[D.role]||D.role}),s.jsx(ge,{variant:D.is_active?"success":"default",children:D.is_active?"Active":"Inactive"}),D.email_verified&&s.jsxs(ge,{variant:"success",size:"sm",children:[s.jsx(vs,{className:"w-3 h-3 mr-1"}),"Email Verified"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-stone-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-4 h-4 text-stone-400"})," ",D.email]}),D.username&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dn,{className:"w-4 h-4 text-stone-400"})," @",D.username]}),D.phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-4 h-4 text-stone-400"})," ",D.phone]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4 text-stone-400"})," Joined ",new Date(D.created_at).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-primary-100",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{T({first_name:D.first_name,last_name:D.last_name,email:D.email,phone:D.phone||"",username:D.username||""}),k(!0)},children:[s.jsx(Qr,{className:"w-4 h-4 mr-1"})," Edit Profile"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{u(!0),m(D.role)},children:[s.jsx(dn,{className:"w-4 h-4 mr-1"})," Change Role"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:ae,children:[D.is_active?s.jsx(bT,{className:"w-4 h-4 mr-1"}):s.jsx(yT,{className:"w-4 h-4 mr-1"}),D.is_active?"Deactivate":"Activate"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>y(!0),children:[s.jsx(oE,{className:"w-4 h-4 mr-1"})," Reset Password"]}),s.jsxs(q,{variant:"danger",size:"sm",onClick:()=>g(!0),children:[s.jsx(hn,{className:"w-4 h-4 mr-1"})," Delete User"]})]})]})]}),P&&s.jsx(RZ,{user:D,stats:P}),D.role==="student"&&s.jsx(MZ,{user:D}),D.role==="preceptor"&&s.jsx(IZ,{user:D}),D.role==="site_manager"&&s.jsx(zZ,{user:D}),d&&s.jsx(We,{isOpen:!0,onClose:()=>u(!1),title:"Change User Role",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Changing role for ",s.jsxs("strong",{children:[D.first_name," ",D.last_name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"New Role"}),s.jsx("select",{value:h,onChange:M=>m(M.target.value),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:DZ.map(M=>s.jsx("option",{value:M,children:xA[M]},M))})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(q,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsxs(q,{onClick:X,isLoading:a.isPending,children:[s.jsx(dn,{className:"w-4 h-4 mr-2"})," Update Role"]})]})]})}),p&&s.jsx(We,{isOpen:!0,onClose:()=>g(!1),title:"Delete User",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",s.jsxs("strong",{children:[D.first_name," ",D.last_name]}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(q,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),s.jsxs(q,{variant:"danger",onClick:G,isLoading:i.isPending,children:[s.jsx(hn,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})}),v&&s.jsx(We,{isOpen:!0,onClose:()=>{y(!1),j(null),C(!1)},title:"Reset User Password",size:"sm",children:N?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Password has been reset for ",s.jsxs("strong",{children:[D.first_name," ",D.last_name]}),".",!N.email_sent&&s.jsx("span",{className:"block mt-1 text-amber-600 font-medium",children:"Email could not be sent. Please share the password with the user directly."}),N.email_sent&&s.jsxs("span",{className:"block mt-1 text-green-600",children:["Email sent to ",D.email,"."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Temporary Password"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 px-4 py-3 bg-stone-100 rounded-xl text-lg font-mono font-bold text-stone-900 tracking-wider text-center select-all",children:N.temporary_password}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(N.temporary_password),C(!0),setTimeout(()=>C(!1),2e3)},children:_?s.jsx(Nf,{className:"w-4 h-4 text-green-600"}):s.jsx(Hw,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-xs text-stone-400",children:"The user should change this password after logging in."}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{variant:"outline",onClick:()=>{y(!1),j(null),C(!1)},children:"Done"})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["This will generate a new temporary password for ",s.jsxs("strong",{children:[D.first_name," ",D.last_name]})," and attempt to email it to ",s.jsx("strong",{children:D.email}),". The password will also be shown here."]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(q,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsxs(q,{onClick:async()=>{try{const M=await c.mutateAsync(D.id);j({temporary_password:M.temporary_password,email_sent:M.email_sent}),J.success(M.message)}catch(M){J.error(M.message||"Failed to reset password.")}},isLoading:c.isPending,children:[s.jsx(oE,{className:"w-4 h-4 mr-2"})," Reset Password"]})]})]})}),E&&s.jsx(We,{isOpen:!0,onClose:()=>k(!1),title:"Edit User Profile",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"First Name"}),s.jsx("input",{type:"text",value:O.first_name,onChange:M=>T({...O,first_name:M.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Last Name"}),s.jsx("input",{type:"text",value:O.last_name,onChange:M=>T({...O,last_name:M.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:O.email,onChange:M=>T({...O,email:M.target.value}),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),s.jsx("input",{type:"text",value:O.phone,onChange:M=>T({...O,phone:M.target.value}),placeholder:"Optional",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Username"}),s.jsx("input",{type:"text",value:O.username,onChange:M=>T({...O,username:M.target.value}),placeholder:"Optional",className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),s.jsxs(q,{onClick:async()=>{try{await a.mutateAsync({id:D.id,data:O}),k(!1),J.success("User profile updated.")}catch(M){J.error(M.message||"Failed to update profile.")}},isLoading:a.isPending,children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"})," Save Changes"]})]})]})})]})}function RZ({user:e,stats:t}){const n=[];return e.role==="student"?n.push({icon:s.jsx(At,{className:"w-5 h-5"}),label:"Applications",value:t.applications_count,color:"bg-primary-50 text-primary-600"},{icon:s.jsx(Ye,{className:"w-5 h-5"}),label:"Total Hours",value:`${t.total_hours}h`,color:"bg-secondary-50 text-secondary-600"},{icon:s.jsx(Zn,{className:"w-5 h-5"}),label:"Evaluations",value:t.evaluations_as_student,color:"bg-green-50 text-green-600"},{icon:s.jsx(mn,{className:"w-5 h-5"}),label:"Hour Logs",value:t.hour_logs_count,color:"bg-amber-50 text-amber-600"}):e.role==="preceptor"?n.push({icon:s.jsx(pt,{className:"w-5 h-5"}),label:"Rotation Slots",value:t.preceptor_slots_count,color:"bg-primary-50 text-primary-600"},{icon:s.jsx(Zn,{className:"w-5 h-5"}),label:"Evaluations Written",value:t.evaluations_as_preceptor,color:"bg-secondary-50 text-secondary-600"}):e.role==="site_manager"?n.push({icon:s.jsx(Le,{className:"w-5 h-5"}),label:"Managed Sites",value:t.managed_sites_count,color:"bg-primary-50 text-primary-600"}):(e.role==="coordinator"||e.role==="professor")&&n.push({icon:s.jsx(ut,{className:"w-5 h-5"}),label:"Students",value:t.applications_count,color:"bg-primary-50 text-primary-600"}),n.length===0?null:s.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-${Math.min(n.length,4)} gap-3`,children:n.map(r=>s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4 text-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl ${r.color} flex items-center justify-center mx-auto mb-2`,children:r.icon}),s.jsx("p",{className:"text-xl font-bold text-stone-900",children:r.value}),s.jsx("p",{className:"text-xs text-stone-500",children:r.label})]},r.label))})}function MZ({user:e}){const t=e.student_profile,[n,r]=b.useState(!1);return s.jsxs(s.Fragment,{children:[t&&s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-primary-500"})," Student Profile"]}),s.jsxs(q,{size:"sm",onClick:()=>r(!0),children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," Assign Program"]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"University"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.university?s.jsx(fn,{to:`/universities/${t.university.id}`,className:"text-primary-600 hover:underline",children:t.university.name}):"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Program"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.program?.name||"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Degree"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.program?.degree_type||"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"GPA"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.gpa?.toFixed(2)||"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Graduation"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.graduation_date?new Date(t.graduation_date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Hours Progress"}),s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[(t.prior_hours||0)+(t.hours_completed||0)," / ",t.program?.required_hours||"?","h"]})]})]}),t.clinical_interests?.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1.5",children:"Clinical Interests"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.clinical_interests.map(a=>s.jsx(ge,{variant:"default",size:"sm",children:a},a))})]})]}),e.credentials&&e.credentials.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(dn,{className:"w-4 h-4 text-primary-500"})," Credentials (",e.credentials.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.credentials.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:a.name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[a.type?.replace("_"," "),a.expiration_date?` - Expires ${new Date(a.expiration_date).toLocaleDateString()}`:""]})]}),s.jsx(ge,{variant:a.status==="valid"?"success":a.status==="expired"?"danger":"warning",size:"sm",children:a.status})]},a.id))})]}),e.applications&&e.applications.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4 text-primary-500"})," Applications (",e.applications.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.applications.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:a.slot?.title||"Unknown Rotation"}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[a.slot?.site&&s.jsxs(fn,{to:`/sites/${a.slot.site.id}`,className:"text-primary-600 hover:underline flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",a.slot.site.name]}),a.submitted_at&&s.jsxs(s.Fragment,{children:[" - ",new Date(a.submitted_at).toLocaleDateString()]})]})]}),s.jsx(ge,{variant:a.status==="accepted"?"success":a.status==="pending"?"warning":a.status==="declined"?"danger":"default",size:"sm",children:a.status})]},a.id))})]}),e.hour_logs&&e.hour_logs.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary-500"})," Hour Logs (",e.hour_logs.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.hour_logs.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[Number(a.hours_worked),"h - ",a.category?.replace("_"," ")]}),s.jsx("p",{className:"text-xs text-stone-500",children:new Date(a.date).toLocaleDateString()})]}),s.jsx(ge,{variant:a.status==="approved"?"success":a.status==="pending"?"warning":"danger",size:"sm",children:a.status})]},a.id))})]}),e.evaluations_as_student&&e.evaluations_as_student.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4 text-primary-500"})," Evaluations (",e.evaluations_as_student.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.evaluations_as_student.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:a.type==="mid_rotation"?"Mid-Rotation":a.type==="final"?"Final":"Feedback"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[a.slot?.title||""," ",a.preceptor?`by ${a.preceptor.first_name} ${a.preceptor.last_name}`:""]})]}),s.jsxs("div",{className:"text-right",children:[a.overall_score>0&&s.jsxs("p",{className:"text-sm font-bold text-primary-600",children:[a.overall_score,"/5"]}),s.jsx(ge,{variant:a.is_submitted?"success":"warning",size:"sm",children:a.is_submitted?"Complete":"Pending"})]})]},a.id))})]}),n&&s.jsx(PZ,{studentId:e.id,currentProgramId:t?.program?.id,onClose:()=>r(!1)})]})}function PZ({studentId:e,currentProgramId:t,onClose:n}){const[r,a]=b.useState(""),[i,c]=b.useState(""),[d,u]=b.useState([]),[h,m]=b.useState(!1),{data:p}=Io(),g=AT(),v=p?.data||[],y=async j=>{if(a(j),c(""),u([]),!!j){m(!0);try{const _=await ul.programs(j);u(_)}catch{J.error("Failed to load programs.")}finally{m(!1)}}},N=async()=>{if(i)try{const j=await g.mutateAsync({studentId:e,programId:i});J.success(j.message||"Program assigned successfully."),n()}catch(j){J.error(j.message||"Failed to assign program.")}};return s.jsx(We,{isOpen:!0,onClose:n,title:"Assign Student to Program",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"University"}),s.jsxs("select",{value:r,onChange:j=>y(j.target.value),className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select a university..."}),v.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program"}),s.jsxs("select",{value:i,onChange:j=>c(j.target.value),disabled:!r||h,className:"w-full rounded-xl border border-stone-300 bg-white px-4 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:h?"Loading programs...":"Select a program..."}),d.map(j=>s.jsxs("option",{value:j.id,disabled:j.id===t,children:[j.name," (",j.degree_type,") ",j.id===t?"(current)":""]},j.id))]})]}),i&&s.jsx("div",{className:"bg-primary-50 rounded-xl p-3",children:(()=>{const j=d.find(_=>_.id===i);return j?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-stone-900",children:j.name}),s.jsxs("p",{className:"text-stone-600",children:[j.degree_type,"  ",j.required_hours,"h required"]}),j.specialties?.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:j.specialties.map(_=>s.jsx(ge,{variant:"default",size:"sm",children:_},_))})]}):null})()}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:n,children:"Cancel"}),s.jsxs(q,{onClick:N,isLoading:g.isPending,disabled:!i||i===t,children:[s.jsx(pt,{className:"w-4 h-4 mr-2"})," Assign Program"]})]})]})})}function IZ({user:e}){const[t,n]=b.useState(!1),[r,a]=b.useState(null),i=sF(),c=e.assigned_sites||[],d=async()=>{if(r)try{const u=await i.mutateAsync({userId:e.id,siteId:r.id});J.success(u.message),a(null)}catch(u){J.error(u.message||"Failed to remove from site.")}};return s.jsxs(s.Fragment,{children:[s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-primary-500"})," Assigned Sites (",c.length,")"]}),s.jsxs(q,{size:"sm",onClick:()=>n(!0),children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," Assign to Site"]})]}),c.length>0?s.jsx("div",{className:"space-y-2",children:c.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx(fn,{to:`/sites/${u.id}`,className:"text-sm font-medium text-primary-600 hover:underline",children:u.name}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",u.city,", ",u.state]}),u.specialties?.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[u.specialties.slice(0,3).map(h=>s.jsx(ge,{variant:"default",size:"sm",children:h},h)),u.specialties.length>3&&s.jsxs(ge,{variant:"default",size:"sm",children:["+",u.specialties.length-3]})]})]}),s.jsx("button",{onClick:()=>a({id:u.id,name:u.name}),className:"p-1.5 rounded-lg text-stone-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:"Remove from site",children:s.jsx(us,{className:"w-4 h-4"})})]},u.id))}):s.jsx("p",{className:"text-sm text-stone-400 text-center py-4",children:"No sites assigned yet."})]}),e.preceptor_slots&&e.preceptor_slots.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-primary-500"})," Assigned Rotation Slots (",e.preceptor_slots.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.preceptor_slots.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:u.title}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[u.site&&s.jsxs(fn,{to:`/sites/${u.site.id}`,className:"text-primary-600 hover:underline flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",u.site.name]}),u.specialty&&s.jsxs(s.Fragment,{children:[" - ",u.specialty]})]})]}),s.jsxs(ge,{variant:u.status==="open"?"success":u.status==="filled"?"warning":"default",size:"sm",children:[u.status," (",u.filled,"/",u.capacity,")"]})]},u.id))})]}),e.evaluations_as_preceptor&&e.evaluations_as_preceptor.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4 text-primary-500"})," Evaluations Written (",e.evaluations_as_preceptor.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.evaluations_as_preceptor.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:u.student?`${u.student.first_name} ${u.student.last_name}`:"Unknown Student"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[u.type==="mid_rotation"?"Mid-Rotation":u.type==="final"?"Final":"Feedback",u.slot?` - ${u.slot.title}`:""]})]}),s.jsxs("div",{className:"text-right",children:[u.overall_score>0&&s.jsxs("p",{className:"text-sm font-bold text-primary-600",children:[u.overall_score,"/5"]}),s.jsx(ge,{variant:u.is_submitted?"success":"warning",size:"sm",children:u.is_submitted?"Submitted":"Draft"})]})]},u.id))})]}),t&&s.jsx(LZ,{userId:e.id,assignedSiteIds:c.map(u=>u.id),onClose:()=>n(!1)}),r&&s.jsx(We,{isOpen:!0,onClose:()=>a(null),title:"Remove from Site",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Remove ",s.jsxs("strong",{children:[e.first_name," ",e.last_name]})," from ",s.jsx("strong",{children:r.name}),"?"]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(q,{variant:"outline",onClick:()=>a(null),children:"Cancel"}),s.jsxs(q,{variant:"danger",onClick:d,isLoading:i.isPending,children:[s.jsx(us,{className:"w-4 h-4 mr-2"})," Remove"]})]})]})})]})}function LZ({userId:e,assignedSiteIds:t,onClose:n}){const[r,a]=b.useState([]),{data:i}=_f(),c=nF(),d=(i?.data||[]).filter(m=>!t.includes(m.id)),u=m=>{a(p=>p.includes(m)?p.filter(g=>g!==m):[...p,m])},h=async()=>{if(r.length!==0)try{const m=await c.mutateAsync({userId:e,siteIds:r});J.success(m.message),n()}catch(m){J.error(m.message||"Failed to assign sites.")}};return s.jsx(We,{isOpen:!0,onClose:n,title:"Assign Preceptor to Sites",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[d.length>0?s.jsx("div",{className:"max-h-64 overflow-y-auto border border-stone-200 rounded-xl divide-y divide-stone-100",children:d.map(m=>s.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 hover:bg-stone-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.includes(m.id),onChange:()=>u(m.id),className:"rounded border-stone-300 text-primary-500 focus:ring-primary-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:m.name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[m.city,", ",m.state]})]})]},m.id))}):s.jsx("p",{className:"text-sm text-stone-400 text-center py-4",children:"All sites are already assigned."}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(q,{variant:"outline",onClick:n,children:"Cancel"}),s.jsxs(q,{onClick:h,isLoading:c.isPending,disabled:r.length===0,children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"})," Assign ",r.length>0?`(${r.length})`:""]})]})]})})}function zZ({user:e}){return s.jsx(s.Fragment,{children:e.managed_sites&&e.managed_sites.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-primary-500"})," Managed Sites (",e.managed_sites.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.managed_sites.map(t=>s.jsxs(fn,{to:`/sites/${t.id}`,className:"block p-4 bg-stone-50 rounded-xl hover:bg-stone-100 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:t.name}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"})," ",t.city,", ",t.state]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t.is_verified&&s.jsxs(ge,{variant:"success",size:"sm",children:[s.jsx(vs,{className:"w-3 h-3 mr-0.5"}),"Verified"]}),t.rating>0&&s.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[s.jsx(Un,{className:"w-3 h-3 fill-current"}),t.rating]})]})]}),t.specialties?.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[t.specialties.slice(0,5).map(n=>s.jsx(ge,{variant:"default",size:"sm",children:n},n)),t.specialties.length>5&&s.jsxs(ge,{variant:"default",size:"sm",children:["+",t.specialties.length-5]})]})]},t.id))})]})})}function UZ(){const{data:e,isLoading:t}=NF(),{data:n}=Ta(),r=SF(),a=_F(),i=CF(),[c,d]=b.useState(!1),[u,h]=b.useState(null),[m,p]=b.useState(null),g=e?.templates??[],v=n?.sites??[],[y,N]=b.useState(""),[j,_]=b.useState(""),[C,E]=b.useState(""),[k,O]=b.useState(!0),[T,D]=b.useState([{title:"",description:"",is_required:!0}]);function P(){N(v[0]?.id||""),_(""),E(""),O(!0),D([{title:"",description:"",is_required:!0}])}function X(){P(),v.length>0&&N(v[0].id),d(!0)}function ae(L){N(L.site_id),_(L.name),E(L.description||""),O(L.is_active),D(L.items?.map(I=>({title:I.title,description:I.description||"",is_required:I.is_required}))||[{title:"",description:"",is_required:!0}]),h(L)}function G(){D([...T,{title:"",description:"",is_required:!0}])}function M(L){T.length<=1||D(T.filter((I,se)=>se!==L))}function Y(L,I,se){D(T.map((ye,z)=>z===L?{...ye,[I]:se}:ye))}async function Z(){const L=T.filter(I=>I.title.trim());if(!j.trim()||L.length===0){J.error("Please provide a template name and at least one item");return}try{u?(await a.mutateAsync({id:u.id,data:{name:j,description:C||void 0,is_active:k,items:L}}),J.success("Template updated"),h(null)):(await r.mutateAsync({site_id:y,name:j,description:C||void 0,is_active:k,items:L}),J.success("Template created"),d(!1))}catch{J.error("Failed to save template")}}async function fe(){if(m)try{await i.mutateAsync(m.id),J.success("Template deleted"),p(null)}catch{J.error("Failed to delete template")}}const U=s.jsxs("div",{className:"space-y-4",children:[!u&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Site"}),s.jsx("select",{value:y,onChange:L=>N(L.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500",children:v.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))})]}),s.jsx($e,{label:"Template Name",value:j,onChange:L=>_(L.target.value),placeholder:"e.g., Main Campus Onboarding"}),s.jsx($e,{label:"Description (optional)",value:C,onChange:L=>E(L.target.value),placeholder:"Brief description of this checklist"}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:L=>O(L.target.checked),className:"rounded border-stone-300"}),s.jsx("span",{className:"font-medium text-stone-700",children:"Active"}),s.jsx("span",{className:"text-stone-500",children:"(will be used for new accepted applications)"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Checklist Items"}),s.jsxs("button",{onClick:G,className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[s.jsx(Ct,{className:"w-3.5 h-3.5"})," Add Item"]})]}),s.jsx("div",{className:"space-y-3",children:T.map((L,I)=>s.jsxs("div",{className:"flex gap-2 items-start bg-stone-50 rounded-xl p-3 border border-stone-200",children:[s.jsx(mT,{className:"w-4 h-4 text-stone-400 mt-2.5 shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("input",{value:L.title,onChange:se=>Y(I,"title",se.target.value),placeholder:`Item ${I+1} title (e.g., Complete HIPAA Training)`,className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500"}),s.jsx("input",{value:L.description,onChange:se=>Y(I,"description",se.target.value),placeholder:"Optional description or instructions",className:"w-full rounded-lg border border-stone-300 px-3 py-1.5 text-xs text-stone-600 focus:border-primary-500 focus:ring-1 focus:ring-primary-500"}),s.jsxs("label",{className:"flex items-center gap-1.5 text-xs",children:[s.jsx("input",{type:"checkbox",checked:L.is_required,onChange:se=>Y(I,"is_required",se.target.checked),className:"rounded border-stone-300"}),s.jsx("span",{className:"text-stone-600",children:"Required"})]})]}),s.jsx("button",{onClick:()=>M(I),className:"p-1 text-stone-400 hover:text-red-500 mt-2",disabled:T.length<=1,children:s.jsx(hn,{className:"w-4 h-4"})})]},I))})]})]});return t?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-stone-500",children:[g.length," template",g.length!==1?"s":""]}),s.jsxs(q,{onClick:X,size:"sm",children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," New Template"]})]}),g.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nx,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No onboarding templates"}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"Create a checklist template for your site"}),s.jsxs(q,{onClick:X,size:"sm",children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"})," Create Template"]})]})}):g.map(L=>s.jsx(Q,{hover:!0,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:L.name}),L.is_active?s.jsx(ge,{variant:"success",size:"sm",children:"Active"}):s.jsx(ge,{size:"sm",children:"Inactive"})]}),L.site&&s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(Le,{className:"w-3 h-3"})," ",L.site.name]}),L.description&&s.jsx("p",{className:"text-sm text-stone-600 mt-1",children:L.description}),s.jsxs("p",{className:"text-xs text-stone-400 mt-2",children:[L.items?.length||0," items (",L.items?.filter(I=>I.is_required).length||0," required)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>ae(L),className:"p-2 text-stone-400 hover:text-primary-600 rounded-lg hover:bg-primary-50",children:s.jsx(H$,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>p(L),className:"p-2 text-stone-400 hover:text-red-500 rounded-lg hover:bg-red-50",children:s.jsx(hn,{className:"w-4 h-4"})})]})]})},L.id)),s.jsxs(We,{isOpen:c,onClose:()=>d(!1),title:"Create Onboarding Template",size:"lg",children:[U,s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(q,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(q,{onClick:Z,isLoading:r.isPending,children:"Create Template"})]})]}),s.jsxs(We,{isOpen:!!u,onClose:()=>h(null),title:"Edit Onboarding Template",size:"lg",children:[U,s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(q,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),s.jsx(q,{onClick:Z,isLoading:a.isPending,children:"Save Changes"})]})]}),s.jsxs(We,{isOpen:!!m,onClose:()=>p(null),title:"Delete Template",size:"sm",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:["Are you sure you want to delete ",s.jsx("strong",{children:m?.name}),"? This will not affect existing student onboarding tasks."]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(q,{variant:"outline",onClick:()=>p(null),children:"Cancel"}),s.jsx(q,{variant:"danger",onClick:fe,isLoading:i.isPending,children:"Delete"})]})]})]})}function BZ(){const{data:e,isLoading:t}=DT(),n=kF(),r=DF(),[a,i]=b.useState(null),c=e?.tasks??[],d=b.useMemo(()=>{const m={};for(const p of c){const g=p.application_id;m[g]||(m[g]={application:p.application,tasks:[]}),m[g].tasks.push(p)}return Object.entries(m)},[c]);async function u(m){try{await n.mutateAsync({id:m,data:{}}),J.success("Task verified")}catch{J.error("Failed to verify task")}}async function h(m){try{await r.mutateAsync(m),J.success("Verification removed")}catch{J.error("Failed to unverify task")}}return t?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})}):d.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nx,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No student onboarding tasks"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Tasks will appear here when students are accepted to rotations with an active template"})]})}):s.jsx("div",{className:"space-y-3",children:d.map(([m,p])=>{const g=p.application,v=p.tasks.filter(C=>C.is_required),y=v.filter(C=>C.completed_at),N=v.filter(C=>C.verified_at),j=v.length>0?Math.round(y.length/v.length*100):100,_=a===m;return s.jsxs(Q,{children:[s.jsxs("button",{onClick:()=>i(_?null:m),className:"w-full text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[g?.student?.first_name?.[0],g?.student?.last_name?.[0]]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-stone-900 text-sm",children:[g?.student?.first_name," ",g?.student?.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[g?.slot?.site?.name,"  ",g?.slot?.title||g?.slot?.specialty]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-semibold text-stone-900",children:[j,"%"]}),s.jsxs("div",{className:"text-xs text-stone-500",children:[N.length,"/",v.length," verified"]})]}),_?s.jsx(hl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Ks,{className:"w-4 h-4 text-stone-400"})]})]}),s.jsx("div",{className:"mt-2 w-full bg-stone-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-primary-500 h-1.5 rounded-full transition-all",style:{width:`${j}%`}})})]}),_&&s.jsx("div",{className:"mt-4 space-y-2 border-t border-stone-100 pt-4",children:p.tasks.map(C=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${C.verified_at?"bg-green-50 border-green-200":C.completed_at?"bg-amber-50 border-amber-200":"bg-stone-50 border-stone-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[C.verified_at?s.jsx(dn,{className:"w-5 h-5 text-green-500"}):C.completed_at?s.jsx(Ze,{className:"w-5 h-5 text-amber-500"}):s.jsx(dT,{className:"w-5 h-5 text-stone-300"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:C.title}),C.description&&s.jsx("p",{className:"text-xs text-stone-500",children:C.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[C.is_required&&s.jsx(ge,{variant:"warning",size:"sm",children:"Required"}),C.verified_at&&s.jsx(ge,{variant:"success",size:"sm",children:"Verified"}),C.completed_at&&!C.verified_at&&s.jsx(ge,{variant:"primary",size:"sm",children:"Completed"})]}),C.file_name&&s.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[s.jsx(Qc,{className:"w-3 h-3 text-stone-400"}),s.jsxs("a",{href:Sl.downloadFileUrl(C.id),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[s.jsx(Ys,{className:"w-3 h-3"})," ",C.file_name]})]})]})]}),s.jsxs("div",{children:[C.completed_at&&!C.verified_at&&s.jsxs(q,{size:"sm",onClick:()=>u(C.id),isLoading:n.isPending,children:[s.jsx(dn,{className:"w-3.5 h-3.5 mr-1"})," Verify"]}),C.verified_at&&s.jsx("button",{onClick:()=>h(C.id),className:"text-xs text-stone-500 hover:text-red-500",children:"Undo"})]})]},C.id))})]},m)})})}function qZ(){const{data:e,isLoading:t}=DT(),{data:n}=Ws(),r=EF(),a=AF(),i=OF(),[c,d]=b.useState(null),u=new Map,h=e?.tasks??[],m=(n?.data??[]).filter(y=>y.status==="accepted"),p=b.useMemo(()=>{const y={};for(const N of h)y[N.application_id]||(y[N.application_id]=[]),y[N.application_id].push(N);return y},[h]);async function g(y){try{y.completed_at?await a.mutateAsync(y.id):await r.mutateAsync(y.id)}catch(N){const j=N instanceof Error?N.message:"Failed to update task";J.error(j)}}async function v(y,N){if(N.size>20*1024*1024){J.error("File too large. Maximum size is 20MB.");return}try{await i.mutateAsync({taskId:y,file:N}),J.success("File uploaded")}catch(j){const _=j instanceof Error?j.message:"Failed to upload";J.error(_)}}return t?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Et,{className:"w-6 h-6 animate-spin text-primary-500"})}):m.length===0?s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nx,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:"No onboarding checklists"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Checklists will appear here after your rotation application is accepted"})]})}):s.jsx("div",{className:"space-y-4",children:m.map(y=>{const N=p[y.id]||[],j=N.filter(O=>O.is_required),_=j.filter(O=>O.completed_at),C=j.length>0?Math.round(_.length/j.length*100):100,E=c===y.id,k=j.length>0&&_.length===j.length;return s.jsxs(Q,{children:[s.jsxs("button",{onClick:()=>d(E?null:y.id),className:"w-full text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:y.slot?.title||y.slot?.specialty}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(Le,{className:"w-3 h-3"})," ",y.slot?.site?.name]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[N.length===0?s.jsx(ge,{size:"sm",children:"No checklist"}):k?s.jsx(ge,{variant:"success",size:"sm",children:"Complete"}):s.jsxs("span",{className:"text-sm font-semibold text-primary-600",children:[C,"%"]}),E?s.jsx(hl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Ks,{className:"w-4 h-4 text-stone-400"})]})]}),N.length>0&&s.jsx("div",{className:"mt-2 w-full bg-stone-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full transition-all ${k?"bg-green-500":"bg-primary-500"}`,style:{width:`${C}%`}})})]}),E&&N.length>0&&s.jsx("div",{className:"mt-4 space-y-2 border-t border-stone-100 pt-4",children:N.map(O=>s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border transition-colors ${O.verified_at?"bg-green-50 border-green-200":O.completed_at?"bg-primary-50 border-primary-200":"bg-white border-stone-200 hover:border-stone-300"}`,children:[s.jsx("button",{onClick:()=>g(O),disabled:!!O.verified_at||r.isPending||a.isPending,className:"shrink-0",children:O.verified_at?s.jsx(dn,{className:"w-5 h-5 text-green-500"}):O.completed_at?s.jsx(Ze,{className:"w-5 h-5 text-primary-500"}):s.jsx(dT,{className:"w-5 h-5 text-stone-300 hover:text-primary-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium ${O.completed_at?"text-stone-500 line-through":"text-stone-900"}`,children:O.title}),O.description&&s.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:O.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[O.is_required&&s.jsx(ge,{variant:"warning",size:"sm",children:"Required"}),O.verified_at&&s.jsx("span",{className:"text-[11px] text-green-600",children:"Verified by site"}),O.completed_at&&!O.verified_at&&s.jsxs("span",{className:"text-[11px] text-stone-400",children:["Completed ",new Date(O.completed_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"mt-1.5",children:[O.file_name?s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Qc,{className:"w-3 h-3 text-stone-400"}),s.jsxs("a",{href:Sl.downloadFileUrl(O.id),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[s.jsx(Ys,{className:"w-3 h-3"})," ",O.file_name]}),!O.verified_at&&s.jsx("button",{onClick:T=>{T.stopPropagation(),u.get(O.id)?.click()},className:"text-xs text-stone-500 hover:text-stone-700 ml-1",children:"Replace"})]}):O.verified_at?null:s.jsxs("button",{onClick:T=>{T.stopPropagation(),u.get(O.id)?.click()},disabled:i.isPending,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 font-medium py-0.5 px-1.5 rounded hover:bg-primary-50 transition-colors disabled:opacity-50",children:[i.isPending?s.jsx(Et,{className:"w-3 h-3 animate-spin"}):s.jsx(Jr,{className:"w-3 h-3"}),"Attach file"]}),s.jsx("input",{ref:T=>{T&&u.set(O.id,T)},type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden",onChange:T=>{T.target.files?.[0]&&(v(O.id,T.target.files[0]),T.target.value="")}})]})]})]},O.id))}),E&&N.length===0&&s.jsx("div",{className:"mt-4 border-t border-stone-100 pt-4 text-center text-sm text-stone-400",children:"No onboarding checklist for this rotation"})]},y.id)})})}function $Z(){const{user:e}=Je(),t=e?.role==="site_manager"||e?.role==="admin",[n,r]=b.useState("templates");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Onboarding"}),s.jsx("p",{className:"text-sm text-stone-500 mt-1",children:t?"Manage onboarding checklists and verify student completion":"Complete your onboarding requirements before starting rotations"})]}),t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-1 bg-stone-100 rounded-xl p-1 w-fit",children:[s.jsxs("button",{onClick:()=>r("templates"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="templates"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[s.jsx(uT,{className:"w-4 h-4 inline mr-1.5 -mt-0.5"}),"Templates"]}),s.jsxs("button",{onClick:()=>r("progress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="progress"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[s.jsx(Cn,{className:"w-4 h-4 inline mr-1.5 -mt-0.5"}),"Student Progress"]})]}),n==="templates"?s.jsx(UZ,{}):s.jsx(BZ,{})]}):s.jsx(qZ,{})]})}function HZ(){const{certificateNumber:e}=Nl(),{data:t,isLoading:n,isError:r}=qe({queryKey:["verify-certificate",e],queryFn:()=>hd.publicVerify(e),enabled:!!e}),a=t;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-white to-stone-100",children:[s.jsx("div",{className:"bg-white border-b border-stone-200",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs(fn,{to:"/",className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"font-bold text-lg bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsx("span",{className:"text-sm text-stone-500",children:"Certificate Verification"})]})}),s.jsx("div",{className:"max-w-2xl mx-auto px-4 py-12",children:n?s.jsxs("div",{className:"flex flex-col items-center py-16",children:[s.jsx("div",{className:"w-10 h-10 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-stone-500",children:"Verifying certificate..."})]}):r||!a?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-stone-100 flex items-center justify-center mx-auto mb-6",children:s.jsx(fs,{className:"w-10 h-10 text-stone-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-stone-900 mb-2",children:"Certificate Not Found"}),s.jsxs("p",{className:"text-stone-500 mb-6",children:["No certificate was found with number ",s.jsx("span",{className:"font-mono font-semibold",children:e}),". Please check the certificate number and try again."]}),s.jsx(fn,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-primary-500 text-white rounded-xl text-sm font-medium hover:bg-primary-600 transition-colors",children:"Go to ClinicLink"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`rounded-2xl p-6 text-center ${a.valid?"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200":"bg-gradient-to-br from-red-50 to-orange-50 border border-red-200"}`,children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${a.valid?"bg-green-100":"bg-red-100"}`,children:a.valid?s.jsx(Ze,{className:"w-8 h-8 text-green-600"}):s.jsx(rn,{className:"w-8 h-8 text-red-600"})}),s.jsx("h1",{className:`text-2xl font-bold mb-1 ${a.valid?"text-green-800":"text-red-800"}`,children:a.valid?"Valid Certificate":"Certificate Revoked"}),s.jsx("p",{className:`text-sm ${a.valid?"text-green-600":"text-red-600"}`,children:a.valid?"This certificate has been verified as authentic and active.":`This certificate was revoked on ${a.revoked_date?new Date(a.revoked_date).toLocaleDateString():"N/A"}.`})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-stone-100 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center mx-auto mb-3",children:s.jsx(mn,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-lg font-bold text-stone-900",children:a.title}),s.jsx("p",{className:"text-sm font-mono text-stone-500 mt-1",children:a.certificate_number})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-5",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary-50 text-primary-500 flex items-center justify-center shrink-0",children:s.jsx(Cn,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Student"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:a.student_name})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-secondary-50 text-secondary-500 flex items-center justify-center shrink-0",children:s.jsx(St,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Specialty"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:a.specialty})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-amber-50 text-amber-500 flex items-center justify-center shrink-0",children:s.jsx(Tt,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Clinical Site"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:a.site_name})]})]}),a.preceptor_name&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-green-50 text-green-500 flex items-center justify-center shrink-0",children:s.jsx(Cn,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Preceptor"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:a.preceptor_name})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-blue-50 text-blue-500 flex items-center justify-center shrink-0",children:s.jsx(Ye,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Total Hours"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[a.total_hours," hours"]})]})]}),a.overall_score&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-purple-50 text-purple-500 flex items-center justify-center shrink-0",children:s.jsx(Un,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Evaluation Score"}),s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[a.overall_score," / 5.0"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-stone-100 text-stone-500 flex items-center justify-center shrink-0",children:s.jsx(Jt,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Issued Date"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:new Date(a.issued_date).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-stone-100 text-stone-500 flex items-center justify-center shrink-0",children:s.jsx(Cn,{className:"w-4.5 h-4.5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Issued By"}),s.jsx("p",{className:"text-sm font-semibold text-stone-900",children:a.issued_by})]})]})]}),!a.valid&&a.revocation_reason&&s.jsxs("div",{className:"mx-6 mb-6 p-4 bg-red-50 rounded-xl border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-1",children:[s.jsx(fs,{className:"w-4 h-4"}),s.jsx("p",{className:"text-sm font-semibold",children:"Revocation Reason"})]}),s.jsx("p",{className:"text-sm text-red-600",children:a.revocation_reason})]})]}),s.jsxs("p",{className:"text-center text-xs text-stone-400",children:["Verified by ClinicLink  ",new Date().toLocaleDateString()]})]})})]})}const gA=[{label:"Preceptor Welcome",message:`We'd like to invite you to join our clinical rotation site on ClinicLink  a platform that simplifies rotation management, student matching, hour tracking, and evaluations.

Click the link below to create your account and get started. We look forward to working with you!`},{label:"School / Coordinator Outreach",message:`We're excited to introduce you to ClinicLink  a clinical rotation matching platform that connects nursing schools, clinical sites, and preceptors.

As a coordinator, you can manage student placements, track compliance, and streamline the rotation process. Click below to join and explore the platform!`},{label:"Site Manager Invitation",message:`You're invited to manage your clinical site on ClinicLink. Our platform helps you coordinate rotation slots, manage preceptors, track student hours, and ensure compliance  all in one place.

Click the link below to set up your account and start managing your site.`},{label:"General Platform Invite",message:`You're invited to try ClinicLink  a modern platform for managing clinical rotations, connecting students with preceptors, and streamlining the entire placement process.

Join us and see how ClinicLink can simplify your workflow. Click the link below to get started!`}];function FZ(){const{data:e,isLoading:t}=IF(),{data:n}=LF(),{data:r}=Ta(),{data:a}=Qw({status:"pending"}),i=zF(),c=UF(),d=$F(),u=HF(),h=jF(),m=wF(),p=e?.preceptors||[],g=n?.invites||[],v=r?.sites||[],y=a?.join_requests||[],[N,j]=b.useState(!1),[_,C]=b.useState(""),[E,k]=b.useState(""),[O,T]=b.useState(""),[D,P]=b.useState(null),[X,ae]=b.useState(!1),[G,M]=b.useState([]),[Y,Z]=b.useState(""),[fe,U]=b.useState(""),[L,I]=b.useState(""),[se,ye]=b.useState(null),z=b.useRef(null),V=g.filter(te=>te.status==="pending"),re=g.filter(te=>te.status==="accepted"),$=async()=>{const te=E||v[0]?.id;if(!te){J.error("No site available  create a site first");return}try{const et=(await i.mutateAsync({site_id:te,email:_||void 0,message:O||void 0,expires_in_days:30})).invite.url;await navigator.clipboard.writeText(et).catch(()=>{}),J.success("Invite link created and copied to clipboard!"),C(""),T(""),j(!1)}catch{J.error("Failed to create invite")}},ve=async te=>{const et=`${window.location.origin+"/"}invite/${te}`;try{await navigator.clipboard.writeText(et),P(te),J.success("Link copied!"),setTimeout(()=>P(null),2e3)}catch{J.error("Failed to copy")}},W=async te=>{try{const ke=await d.mutateAsync(te);J.success(ke.message||"Invite resent")}catch{J.error("Failed to resend invite")}},we=async te=>{try{await u.mutateAsync(te),J.success("Invite revoked")}catch{J.error("Failed to revoke invite")}},De=()=>{const te=`email
john.doe@hospital.com
jane.smith@university.edu
dr.preceptor@clinic.org
`,ke=new Blob([te],{type:"text/csv"}),et=URL.createObjectURL(ke),ft=document.createElement("a");ft.href=et,ft.download="invite_template.csv",ft.click(),URL.revokeObjectURL(et)},pe=te=>{const ke=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,et=te.match(ke)||[];return[...new Set(et.map(ft=>ft.toLowerCase()))]},Me=te=>{const ke=te.target.files?.[0];if(!ke)return;const et=new FileReader;et.onload=ft=>{const Pn=ft.target?.result,ie=pe(Pn);if(ie.length===0){J.error("No valid email addresses found in file");return}M(Ne=>[...new Set([...Ne,...ie])]),J.success(`Found ${ie.length} email address${ie.length!==1?"es":""}`)},et.readAsText(ke),z.current&&(z.current.value="")},Ie=()=>{const te=pe(Y);if(te.length===0){J.error("No valid email addresses found");return}M(ke=>[...new Set([...ke,...te])]),Z(""),J.success(`Added ${te.length} email${te.length!==1?"s":""}`)},F=te=>{M(ke=>ke.filter(et=>et!==te))},Ke=async()=>{const te=fe||v[0]?.id;if(!te){J.error("No site available  create a site first");return}if(G.length===0){J.error("Add at least one email address");return}try{const ke=await c.mutateAsync({site_id:te,emails:G,message:L||void 0,expires_in_days:30});ye(ke.results),J.success(ke.message),M([])}catch{J.error("Failed to send bulk invites")}};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Preceptors"}),s.jsx("p",{className:"text-stone-500",children:"Manage preceptors affiliated with your sites"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"secondary",onClick:()=>{ae(!X),j(!1)},children:[s.jsx(ut,{className:"w-4 h-4"})," Bulk Invite"]}),s.jsxs(q,{onClick:()=>{j(!N),ae(!1)},children:[s.jsx(Ct,{className:"w-4 h-4"})," Invite Preceptor"]})]})]}),y.length>0&&s.jsxs(Q,{className:"border-2 border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0",children:s.jsx(fs,{className:"w-5 h-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-amber-800 text-lg",children:[y.length," Pending Join Request",y.length!==1?"s":""]}),s.jsx("p",{className:"text-sm text-amber-700",children:"Preceptors are requesting to join your site. Review and respond below."})]})]}),s.jsx("div",{className:"space-y-3",children:y.map(te=>s.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 bg-white/70 rounded-xl border border-amber-200",children:[s.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center shrink-0",children:s.jsx(Cn,{className:"w-5 h-5"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[te.preceptor?.first_name," ",te.preceptor?.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[te.preceptor?.email,s.jsx("span",{className:"mx-1",children:""}),s.jsx(Le,{className:"w-3 h-3 inline"})," ",te.site?.name,s.jsx("span",{className:"mx-1",children:""}),new Date(te.created_at).toLocaleDateString()]}),te.message&&s.jsxs("p",{className:"text-xs text-stone-600 mt-1 italic",children:['"',te.message,'"']})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsxs(q,{size:"sm",onClick:async()=>{try{await h.mutateAsync({id:te.id}),J.success(`Approved ${te.preceptor?.first_name}'s request`)}catch{J.error("Failed to approve")}},isLoading:h.isPending,children:[s.jsx(Ze,{className:"w-3.5 h-3.5"})," Approve"]}),s.jsx(q,{variant:"outline",size:"sm",onClick:async()=>{try{await m.mutateAsync({id:te.id}),J.success("Request denied")}catch{J.error("Failed to deny")}},isLoading:m.isPending,children:"Deny"})]})]},te.id))})]}),N&&s.jsx(Q,{className:"border-2 border-primary-200 bg-primary-50/30",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary-700",children:[s.jsx(Gr,{className:"w-5 h-5"}),s.jsx("h3",{className:"font-semibold",children:"Create Invite Link"})]}),s.jsx("p",{className:"text-sm text-stone-600",children:"Generate a unique link to share with a preceptor. They'll click the link to join your site."}),v.length>1&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site"}),s.jsx("select",{value:E||v[0]?.id||"",onChange:te=>k(te.target.value),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:v.map(te=>s.jsx("option",{value:te.id,children:te.name},te.id))})]}),s.jsx($e,{label:"Preceptor Email (optional)",type:"email",placeholder:"preceptor@hospital.com",value:_,onChange:te=>C(te.target.value),icon:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Personal Message (optional)"}),s.jsxs("select",{onChange:te=>{te.target.value&&T(te.target.value),te.target.value=""},className:"text-xs border border-stone-200 rounded-lg px-2 py-1 text-stone-500 bg-white",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Use template..."}),gA.map(te=>s.jsx("option",{value:te.message,children:te.label},te.label))]})]}),s.jsx("textarea",{value:O,onChange:te=>T(te.target.value),placeholder:"Add a personal message to include in the invite email...",rows:4,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsx("p",{className:"text-xs text-stone-400",children:"Leave email blank to create an open link anyone can use, or enter an email to restrict it."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(q,{onClick:$,isLoading:i.isPending,children:[s.jsx(cE,{className:"w-4 h-4"})," Generate & Copy Link"]}),s.jsx(q,{variant:"ghost",onClick:()=>j(!1),children:"Cancel"})]})]})}),X&&s.jsx(Q,{className:"border-2 border-violet-200 bg-violet-50/30",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-violet-700",children:[s.jsx(ut,{className:"w-5 h-5"}),s.jsx("h3",{className:"font-semibold",children:"Bulk Invite"})]}),s.jsx("button",{onClick:()=>{ae(!1),ye(null)},className:"text-stone-400 hover:text-stone-600",children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-sm text-stone-600",children:"Import a list of email addresses via CSV file or paste them directly. Each person will receive a unique invite link."}),v.length>1&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Site"}),s.jsx("select",{value:fe||v[0]?.id||"",onChange:te=>U(te.target.value),className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:v.map(te=>s.jsx("option",{value:te.id,children:te.name},te.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Upload CSV File"}),s.jsx("input",{ref:z,type:"file",accept:".csv,.txt",onChange:Me,className:"hidden"}),s.jsxs("button",{onClick:()=>z.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-stone-300 rounded-xl text-sm text-stone-500 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/50 transition-colors",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsx("span",{children:"Click to upload CSV or text file"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-stone-400",children:"Emails will be extracted automatically from any column"}),s.jsxs("button",{onClick:De,className:"flex items-center gap-1 text-xs text-violet-600 hover:text-violet-800 font-medium",children:[s.jsx(Ys,{className:"w-3 h-3"})," Template"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Or paste emails"}),s.jsx("textarea",{value:Y,onChange:te=>Z(te.target.value),placeholder:`john@hospital.com
jane@university.edu
dr.smith@clinic.org`,rows:4,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsx("button",{onClick:Ie,className:"text-xs font-medium text-violet-600 hover:text-violet-800",children:"+ Add to list"})})]})]}),G.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"text-sm font-medium text-stone-700",children:[G.length," recipient",G.length!==1?"s":""]}),s.jsx("button",{onClick:()=>M([]),className:"text-xs text-red-500 hover:text-red-700",children:"Clear all"})]}),s.jsx("div",{className:"max-h-40 overflow-y-auto rounded-xl border border-stone-200 bg-white divide-y divide-stone-100",children:G.map(te=>s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[s.jsxs("span",{className:"text-stone-700 flex items-center gap-2",children:[s.jsx(Wr,{className:"w-3.5 h-3.5 text-stone-400"}),te]}),s.jsx("button",{onClick:()=>F(te),className:"text-stone-400 hover:text-red-500",children:s.jsx(us,{className:"w-4 h-4"})})]},te))})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Email Message (optional)"}),s.jsxs("select",{onChange:te=>{te.target.value&&I(te.target.value),te.target.value=""},className:"text-xs border border-stone-200 rounded-lg px-2 py-1 text-stone-500 bg-white",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Use template..."}),gA.map(te=>s.jsx("option",{value:te.message,children:te.label},te.label))]})]}),s.jsx("textarea",{value:L,onChange:te=>I(te.target.value),placeholder:"Add a personal message to include in all invite emails...",rows:5,className:"w-full rounded-xl border border-stone-300 px-4 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-none"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(q,{onClick:Ke,isLoading:c.isPending,disabled:G.length===0,children:[s.jsx(Gr,{className:"w-4 h-4"})," Send ",G.length," Invite",G.length!==1?"s":""]}),s.jsx(q,{variant:"ghost",onClick:()=>{ae(!1),ye(null)},children:"Cancel"})]}),se&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-stone-700",children:"Results"}),s.jsx("div",{className:"max-h-48 overflow-y-auto rounded-xl border border-stone-200 bg-white divide-y divide-stone-100",children:se.map((te,ke)=>s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[s.jsx("span",{className:"text-stone-700",children:te.email}),s.jsxs("span",{className:`flex items-center gap-1 text-xs font-medium ${te.status==="sent"?"text-green-600":te.status==="skipped"?"text-amber-600":"text-stone-500"}`,children:[te.status==="sent"&&s.jsx(Ze,{className:"w-3.5 h-3.5"}),te.status==="skipped"&&s.jsx(Yr,{className:"w-3.5 h-3.5"}),te.status==="sent"?"Sent":te.status==="skipped"?`Skipped: ${te.reason}`:`Created (${te.reason})`]})]},ke))})]})]})}),V.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4"})," Pending Invites (",V.length,")"]}),V.map(te=>s.jsx(Q,{className:"!py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center shrink-0",children:s.jsx(cE,{className:"w-5 h-5"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:te.email||"Open invite (anyone)"}),s.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-1",children:[s.jsx(Le,{className:"w-3 h-3"})," ",te.site_name,s.jsx("span",{className:"mx-1",children:""}),"Expires ",new Date(te.expires_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[te.email&&s.jsxs("button",{onClick:()=>W(te.id),disabled:d.isPending,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-primary-50 hover:bg-primary-100 text-primary-700 rounded-lg transition-colors disabled:opacity-50",title:"Resend invite email",children:[s.jsx(Gr,{className:"w-3.5 h-3.5"})," Resend"]}),s.jsxs("button",{onClick:()=>ve(te.token),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-stone-100 hover:bg-stone-200 text-stone-700 rounded-lg transition-colors",children:[D===te.token?s.jsx(Ze,{className:"w-3.5 h-3.5 text-green-500"}):s.jsx(Hw,{className:"w-3.5 h-3.5"}),D===te.token?"Copied!":"Copy Link"]}),s.jsx("button",{onClick:()=>we(te.id),className:"p-1.5 text-stone-400 hover:text-red-500 rounded-lg hover:bg-red-50 transition-colors",title:"Revoke invite",children:s.jsx(hn,{className:"w-4 h-4"})})]})]})},te.id))]}),re.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Ze,{className:"w-4 h-4 text-green-500"})," Joined via Invite (",re.length,")"]}),re.map(te=>s.jsx(Q,{className:"!py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:s.jsx(Ze,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:te.accepted_by?.name||"Unknown"}),s.jsxs("p",{className:"text-xs text-stone-500",children:[te.accepted_by?.email,"  Joined ",te.accepted_at?new Date(te.accepted_at).toLocaleDateString():""]})]}),s.jsx("span",{className:"ml-auto inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Joined"})]})},te.id))]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Cn,{className:"w-4 h-4"})," Your Preceptors (",p.length,")"]}),p.length===0&&V.length===0&&re.length===0?s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(jH,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No preceptors yet"}),s.jsx("p",{className:"text-stone-500 mb-4",children:"Invite preceptors to join your site using the button above"}),s.jsxs(q,{onClick:()=>j(!0),children:[s.jsx(Ct,{className:"w-4 h-4"})," Invite Preceptor"]})]}):s.jsx("div",{className:"space-y-4",children:p.map(te=>s.jsx(Q,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsxs("div",{className:"w-12 h-12 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center shrink-0 text-lg font-semibold",children:[te.first_name[0],te.last_name[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"font-semibold text-stone-900 text-lg",children:[te.first_name," ",te.last_name]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-sm text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-3.5 h-3.5"}),te.email]}),te.phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5"}),te.phone]})]}),te.slots.length>0&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-stone-400 uppercase tracking-wider",children:"Assigned Rotations"}),te.slots.map(ke=>s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1 text-stone-700 font-medium",children:[s.jsx(St,{className:"w-3.5 h-3.5 text-primary-500"}),ke.title]}),s.jsx(ge,{variant:"primary",children:ke.specialty}),s.jsx(ge,{variant:ke.status==="open"?"success":ke.status==="filled"?"warning":"danger",children:ke.status}),s.jsxs("span",{className:"flex items-center gap-1 text-xs text-stone-400",children:[s.jsx(Jt,{className:"w-3 h-3"}),new Date(ke.start_date).toLocaleDateString()," - ",new Date(ke.end_date).toLocaleDateString()]})]},ke.id))]})]})]}),s.jsx("div",{className:"shrink-0",children:s.jsxs(ge,{variant:"primary",children:[s.jsx(Cn,{className:"w-3.5 h-3.5 mr-1"}),te.slots.length," slot",te.slots.length!==1?"s":""]})})]})},te.id))})]})]})}function VZ(){const{id:e}=Nl(),t=Ut(),{user:n}=Je(),r=n?.role==="preceptor"||n?.role==="site_manager",a=n?.role==="preceptor"||n?.role==="site_manager"||n?.role==="coordinator"||n?.role==="admin",{data:i,isLoading:c}=Ww(),{data:d}=Ws(),[u,h]=b.useState(!1),p=(i?.students||[]).find(y=>y.id===e);if(c)return s.jsx("div",{className:"flex justify-center py-24",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(!p)return s.jsxs("div",{className:"text-center py-24",children:[s.jsx(ut,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"Student not found"}),s.jsxs(q,{variant:"outline",className:"mt-4",onClick:()=>t("/students"),children:[s.jsx(Dr,{className:"w-4 h-4 mr-2"})," Back to Students"]})]});const g=p.total_hours??p.prior_hours+p.hours_completed,v=p.hours_required>0?Math.min(100,Math.round(g/p.hours_required*100)):0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:()=>t("/students"),className:"flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700",children:[s.jsx(Dr,{className:"w-4 h-4"})," Back to My Students"]}),s.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-xl shrink-0",children:[p.first_name[0],p.last_name[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:[p.first_name," ",p.last_name]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[p.degree_type&&s.jsx(ge,{variant:"primary",children:p.degree_type}),p.university&&s.jsx(ge,{variant:"default",children:p.university})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-stone-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-4 h-4 text-stone-400"})," ",p.email]}),p.graduation_date&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4 text-stone-400"})," Graduation: ",new Date(p.graduation_date).toLocaleDateString()]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 text-primary-500 flex items-center justify-center mx-auto mb-2",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[g,"h"]}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Hours"})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-500 flex items-center justify-center mx-auto mb-2",children:s.jsx(mn,{className:"w-5 h-5"})}),s.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[p.hours_completed,"h"]}),s.jsx("p",{className:"text-xs text-stone-500",children:"Platform Hours"})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 text-amber-500 flex items-center justify-center mx-auto mb-2",children:s.jsx(Ye,{className:"w-5 h-5"})}),s.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[p.pending_hours,"h"]}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending Review"})]})}),s.jsx(Q,{padding:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 text-secondary-500 flex items-center justify-center mx-auto mb-2",children:s.jsx(pt,{className:"w-5 h-5"})}),s.jsxs("p",{className:"text-xl font-bold text-stone-900",children:[p.prior_hours,"h"]}),s.jsx("p",{className:"text-xs text-stone-500",children:"Prior Hours"})]})})]}),s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-4 flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-primary-500"})," Academic Details"]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-5",children:[s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"University"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:p.university||"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Program"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:p.program||"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Degree"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:p.degree_type||"N/A"})]}),p.gpa!=null&&s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"GPA"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:Number(p.gpa).toFixed(2)})]}),p.graduation_date&&s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Graduation Date"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:new Date(p.graduation_date).toLocaleDateString()})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-3",children:[s.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Required Hours"}),s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[p.hours_required,"h"]})]})]}),s.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Clinical Hours Progress"}),s.jsxs("span",{className:"text-sm font-bold text-stone-900",children:[v,"%"]})]}),s.jsx("div",{className:"w-full h-3 bg-stone-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all",style:{width:`${v}%`}})}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-stone-500",children:[s.jsxs("span",{children:[g,"h completed",p.prior_hours>0?` (${p.prior_hours}h prior)`:""]}),s.jsxs("span",{children:[p.hours_required,"h required"]})]}),p.pending_hours>0&&s.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[p.pending_hours,"h pending review"]})]})]}),p.clinical_interests&&p.clinical_interests.length>0&&s.jsxs(Q,{children:[s.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-primary-500"})," Clinical Interests"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.clinical_interests.map(y=>s.jsx(ge,{variant:"default",children:y},y))})]}),p.bio&&s.jsxs(Q,{children:[s.jsx("h2",{className:"text-sm font-semibold text-stone-900 mb-3",children:"About"}),s.jsx("p",{className:"text-sm text-stone-700 leading-relaxed",children:p.bio})]}),a&&s.jsx(GZ,{studentId:e,applications:d?.data||[],showConfirm:u,setShowConfirm:h}),r&&s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(q,{variant:"outline",onClick:()=>t("/hours"),className:"flex-1",children:[s.jsx(Ye,{className:"w-4 h-4 mr-2"})," Review Hours"]}),s.jsxs(q,{onClick:()=>t("/evaluations"),className:"flex-1",children:[s.jsx(pt,{className:"w-4 h-4 mr-2"})," Write Evaluation"]})]})]})}function GZ({studentId:e,applications:t,showConfirm:n,setShowConfirm:r}){const a=t.filter(i=>i.student_id===e&&i.status==="accepted");return a.length===0?null:s.jsx(s.Fragment,{children:a.map(i=>s.jsx(KZ,{application:i,showConfirm:n,setShowConfirm:r},i.id))})}function KZ({application:e,showConfirm:t,setShowConfirm:n}){const{data:r,isLoading:a}=TT(e.id),i=RT(),c=e.slot,d=c?.end_date?new Date(c.end_date)<new Date:!1,u=c?.title||c?.site?.name||"Rotation";return s.jsx(Q,{className:"border-2 border-sky-200 bg-gradient-to-r from-sky-50 to-blue-50",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 text-sky-600 flex items-center justify-center shrink-0 mt-0.5",children:s.jsx(Zr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-stone-900 text-sm",children:"Complete Rotation"}),s.jsxs("p",{className:"text-xs text-stone-500 mt-0.5",children:[u,c?.site?.name?` at ${c.site.name}`:""]}),c?.end_date&&s.jsx("p",{className:`text-xs mt-1 ${d?"text-green-600 font-medium":"text-amber-600"}`,children:d?`Rotation ended ${new Date(c.end_date).toLocaleDateString()}`:`Ends ${new Date(c.end_date).toLocaleDateString()}`}),!a&&r&&s.jsx("div",{className:`mt-3 p-3 rounded-xl text-xs ${r.eligible?"bg-green-50 border border-green-200":"bg-amber-50 border border-amber-200"}`,children:s.jsx("div",{className:"flex items-center gap-1.5",children:r.eligible?s.jsxs(s.Fragment,{children:[s.jsx(vs,{className:"w-3.5 h-3.5 text-green-600 shrink-0"}),s.jsxs("span",{className:"text-green-700 font-medium",children:["CE Credit: ",r.contact_hours," contact hours will be awarded"]})]}):r.reason?.includes("does not offer")?s.jsxs(s.Fragment,{children:[s.jsx(hT,{className:"w-3.5 h-3.5 text-stone-400 shrink-0"}),s.jsx("span",{className:"text-stone-500",children:"CE Credits: Not configured for this university"})]}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-3.5 h-3.5 text-amber-600 shrink-0"}),s.jsx("span",{className:"text-amber-700",children:r.reason})]})})}),t?s.jsxs("div",{className:"mt-3 p-3 bg-white rounded-xl border border-stone-200",children:[s.jsxs("p",{className:"text-xs text-stone-600 mb-3",children:["This will mark the rotation as completed. ",r?.eligible?`The preceptor will receive ${r.contact_hours} CE contact hours.`:"CE credits may not be awarded (see status above)."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{size:"sm",isLoading:i.isPending,onClick:()=>{i.mutate(e.id,{onSuccess:h=>{J.success("Rotation marked as completed!"),h.ce?.ce_certificate_created&&J.success(`CE certificate created (${h.ce.contact_hours} hrs)  Status: ${h.ce.ce_status}`),n(!1)},onError:h=>J.error(h.message)})},children:[s.jsx(vs,{className:"w-4 h-4"})," Confirm Complete"]}),s.jsx(q,{size:"sm",variant:"ghost",onClick:()=>n(!1),children:"Cancel"})]})]}):s.jsxs(q,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>n(!0),children:[s.jsx(Zr,{className:"w-4 h-4"})," Mark Rotation Complete"]})]})]})})}function YZ(){const{token:e}=Nl(),{isAuthenticated:t,user:n}=Je(),r=Ut(),[a,i]=b.useState(null),[c,d]=b.useState(!0),[u,h]=b.useState(""),[m,p]=b.useState(!1),[g,v]=b.useState(!1),[y,N]=b.useState(null);b.useEffect(()=>{e&&Na.validate(e).then(_=>{_.already_accepted?N(_.site_name||"the site"):i(_.invite),d(!1)}).catch(_=>{h(_.message||"Invalid invite link"),d(!1)})},[e]);const j=async()=>{if(e){p(!0);try{const _=await Na.accept(e);J.success(_.message),v(!0)}catch(_){const C=_ instanceof Error?_.message:"Failed to accept invite";J.error(C)}p(!1)}};if(c)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})});if(u)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 text-red-500 flex items-center justify-center mx-auto mb-4",children:s.jsx(fs,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-xl font-bold text-stone-900 mb-2",children:"Invalid Invite"}),s.jsx("p",{className:"text-stone-500 mb-6",children:u}),s.jsx(fn,{to:"/login",children:s.jsx(q,{children:"Go to Login"})})]})});if(g||y){const _=g?a?.site.name:y;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 text-green-500 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-xl font-bold text-stone-900 mb-2",children:y?"You're Already a Member!":"You've Joined!"}),s.jsxs("p",{className:"text-stone-500 mb-2",children:["You are now affiliated with ",s.jsx("strong",{children:_}),"."]}),s.jsx("p",{className:"text-sm text-stone-400 mb-6",children:"The site manager can now assign you to rotation slots."}),s.jsxs(q,{onClick:()=>r("/dashboard"),children:["Go to Dashboard ",s.jsx(tl,{className:"w-4 h-4"})]})]})})}return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 px-8 py-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:s.jsx(St,{className:"w-7 h-7"})}),s.jsx("span",{className:"text-2xl font-bold",children:"ClinicLink"})]}),s.jsx("p",{className:"text-white/80 text-sm",children:"You've been invited to join a clinical site"})]}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"bg-stone-50 rounded-2xl p-5 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center flex-shrink-0",children:s.jsx(Le,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-stone-900",children:a?.site.name}),(a?.site.city||a?.site.state)&&s.jsxs("p",{className:"text-sm text-stone-500 flex items-center gap-1 mt-0.5",children:[s.jsx(Tt,{className:"w-3.5 h-3.5"}),[a.site.city,a.site.state].filter(Boolean).join(", ")]}),a?.site.specialties&&a.site.specialties.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[a.site.specialties.slice(0,4).map(_=>s.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 rounded-full px-2 py-0.5",children:_},_)),a.site.specialties.length>4&&s.jsxs("span",{className:"text-xs text-stone-400",children:["+",a.site.specialties.length-4]})]}),a?.site.description&&s.jsx("p",{className:"text-sm text-stone-600 mt-2 line-clamp-2",children:a.site.description})]})]})}),a?.invited_by&&s.jsxs("p",{className:"text-sm text-stone-500 mb-6 text-center",children:["Invited by ",s.jsx("strong",{className:"text-stone-700",children:a.invited_by})]}),t&&n?.role==="preceptor"?s.jsxs(q,{className:"w-full",onClick:j,isLoading:m,children:[s.jsx(Ze,{className:"w-4 h-4"})," Accept & Join This Site"]}):t?s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl px-4 py-3 text-sm",children:[s.jsx(fs,{className:"w-4 h-4 inline mr-1"}),"Only preceptor accounts can accept site invites. You're logged in as ",s.jsx("strong",{children:n?.role}),"."]}),s.jsx(q,{variant:"outline",onClick:()=>r("/dashboard"),children:"Go to Dashboard"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-stone-600 text-center mb-4",children:"Log in or register as a preceptor to join this site."}),s.jsx(fn,{to:`/login?redirect=/invite/${e}`,className:"block",children:s.jsxs(q,{className:"w-full",children:[s.jsx(Uh,{className:"w-4 h-4"})," Log In"]})}),s.jsx(fn,{to:`/register?redirect=/invite/${e}&role=preceptor${a?.email?`&email=${encodeURIComponent(a.email)}`:""}`,className:"block",children:s.jsxs(q,{variant:"outline",className:"w-full",children:[s.jsx(ll,{className:"w-4 h-4"})," Create Account"]})})]})]})]})})}const Su={draft:{label:"Draft",variant:"default"},pending_review:{label:"Pending Review",variant:"warning"},active:{label:"Active",variant:"success"},expired:{label:"Expired",variant:"danger"},terminated:{label:"Terminated",variant:"danger"}};function WZ(){const{user:e}=Je(),t=e?.role==="coordinator"||e?.role==="site_manager"||e?.role==="admin",n=e?.role==="site_manager"||e?.role==="admin",{data:r,isLoading:a}=TF(),i=r?.agreements||[],{data:c}=Ta(),d=c?.sites||[],{data:u}=_f(),h=u?.data||[],{data:m}=Io(),p=m?.data||[],g=RF(),v=MF(),y=PF(),{data:N}=pV(),j=N||[],_=xV(),C=gV(),[E,k]=b.useState(!1),[O,T]=b.useState({name:"",description:"",default_notes:""}),[D,P]=b.useState(""),[X,ae]=b.useState("all"),[G,M]=b.useState(!1),[Y,Z]=b.useState(null),fe=b.useRef(new Map),[U,L]=b.useState({university_id:"",site_id:"",start_date:"",end_date:"",notes:""}),I=b.useMemo(()=>i.filter(W=>{if(X!=="all"&&W.status!==X)return!1;if(D){const we=D.toLowerCase();return W.university?.name?.toLowerCase().includes(we)||W.site?.name?.toLowerCase().includes(we)||W.notes?.toLowerCase().includes(we)}return!0}),[i,D,X]),se=b.useMemo(()=>({total:i.length,active:i.filter(W=>W.status==="active").length,pending:i.filter(W=>W.status==="pending_review").length,expired:i.filter(W=>W.status==="expired").length}),[i]),ye=async()=>{if(!U.university_id||!U.site_id){J.error("Please select both a university and a site.");return}try{await g.mutateAsync({university_id:U.university_id,site_id:U.site_id,start_date:U.start_date||void 0,end_date:U.end_date||void 0,notes:U.notes||void 0}),J.success("Agreement created successfully."),M(!1),L({university_id:"",site_id:"",start_date:"",end_date:"",notes:""})}catch(W){J.error(W instanceof Error?W.message:"Failed to create agreement.")}},z=async(W,we)=>{try{await v.mutateAsync({id:W.id,data:{status:we}}),J.success(`Agreement status updated to ${Su[we]?.label||we}.`),Z(null)}catch(De){J.error(De instanceof Error?De.message:"Failed to update status.")}},V=async(W,we)=>{try{await y.mutateAsync({id:W,file:we}),J.success("Document uploaded successfully.")}catch(De){J.error(De instanceof Error?De.message:"Failed to upload document.")}},re=W=>{const we=localStorage.getItem("cliniclink_token"),De=jf.downloadUrl(W);window.open(`${De}?token=${we}`,"_blank")},$=W=>W<1024?`${W} B`:W<1024*1024?`${(W/1024).toFixed(1)} KB`:`${(W/(1024*1024)).toFixed(1)} MB`,ve=W=>{const we=[];switch(W.status){case"draft":we.push({label:"Submit for Review",status:"pending_review",variant:"primary"});break;case"pending_review":n&&we.push({label:"Approve",status:"active",variant:"primary"}),we.push({label:"Back to Draft",status:"draft",variant:"outline"});break;case"active":we.push({label:"Mark Expired",status:"expired",variant:"danger"}),we.push({label:"Terminate",status:"terminated",variant:"danger"});break;case"expired":we.push({label:"Reactivate",status:"active",variant:"primary"});break}return we};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Affiliation Agreements"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Manage university-site affiliation agreements and documentation"})]}),t&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"outline",onClick:()=>k(!0),children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Templates"]}),s.jsxs(q,{onClick:()=>M(!0),children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"New Agreement"]})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total",value:se.total,icon:At,color:"text-stone-600"},{label:"Active",value:se.active,icon:Le,color:"text-green-600"},{label:"Pending Review",value:se.pending,icon:Jt,color:"text-amber-600"},{label:"Expired",value:se.expired,icon:At,color:"text-red-600"}].map(W=>s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W.icon,{className:`w-5 h-5 ${W.color}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:W.value}),s.jsx("p",{className:"text-xs text-stone-500",children:W.label})]})]})},W.label))}),s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search by university or site name...",value:D,onChange:W=>P(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vw,{className:"w-4 h-4 text-stone-400"}),s.jsxs("select",{value:X,onChange:W=>ae(W.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"pending_review",children:"Pending Review"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"expired",children:"Expired"}),s.jsx("option",{value:"terminated",children:"Terminated"})]})]})]})}),I.length===0?s.jsxs(Q,{className:"p-12 text-center",children:[s.jsx(At,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500 font-medium",children:"No agreements found"}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:i.length===0?"Create your first affiliation agreement to get started.":"Try adjusting your filters."})]}):s.jsx("div",{className:"space-y-3",children:I.map(W=>s.jsx(Q,{className:"p-5 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Z(W),children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(pt,{className:"w-4 h-4 text-primary-500 shrink-0"}),s.jsx("span",{className:"font-semibold text-stone-900 truncate",children:W.university?.name||"Unknown University"}),s.jsx("span",{className:"text-stone-400 mx-1",children:""}),s.jsx(Le,{className:"w-4 h-4 text-secondary-500 shrink-0"}),s.jsx("span",{className:"font-semibold text-stone-900 truncate",children:W.site?.name||"Unknown Site"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-stone-500 mt-1",children:[W.start_date&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3 h-3"}),new Date(W.start_date).toLocaleDateString(),"  ",W.end_date?new Date(W.end_date).toLocaleDateString():"No end date"]}),W.file_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qc,{className:"w-3 h-3"}),W.file_name,W.file_size&&` (${$(W.file_size)})`]}),W.creator&&s.jsxs("span",{children:["Created by ",W.creator.first_name," ",W.creator.last_name]})]}),W.notes&&s.jsx("p",{className:"text-xs text-stone-400 mt-1 truncate",children:W.notes})]}),s.jsx(ge,{variant:Su[W.status]?.variant||"default",children:Su[W.status]?.label||W.status})]})},W.id))}),s.jsx(We,{isOpen:G,title:"New Affiliation Agreement",onClose:()=>M(!1),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"University *"}),s.jsxs("select",{value:U.university_id,onChange:W=>L(we=>({...we,university_id:W.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"Select university..."}),p.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Clinical Site *"}),s.jsxs("select",{value:U.site_id,onChange:W=>L(we=>({...we,site_id:W.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"Select site..."}),(e?.role==="site_manager"?d:h).map(W=>s.jsxs("option",{value:W.id,children:[W.name,"  ",W.city,", ",W.state]},W.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:U.start_date,onChange:W=>L(we=>({...we,start_date:W.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:U.end_date,onChange:W=>L(we=>({...we,end_date:W.target.value})),className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]})]}),j.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Use Template"}),s.jsxs("select",{onChange:W=>{const we=j.find(De=>De.id===W.target.value);we&&L(De=>({...De,notes:we.default_notes||""}))},className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",defaultValue:"",children:[s.jsx("option",{value:"",children:"Select a template to prefill notes..."}),j.map(W=>s.jsxs("option",{value:W.id,children:[W.name,W.description?`  ${W.description}`:""]},W.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Notes"}),s.jsx("textarea",{value:U.notes,onChange:W=>L(we=>({...we,notes:W.target.value})),rows:3,placeholder:"Additional notes about the agreement...",className:"w-full border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(q,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),s.jsx(q,{onClick:ye,disabled:g.isPending,children:g.isPending?"Creating...":"Create Agreement"})]})]})}),s.jsx(We,{isOpen:!!Y,title:"Agreement Details",onClose:()=>Z(null),children:Y&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-primary-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(pt,{className:"w-4 h-4 text-primary-600"}),s.jsx("span",{className:"text-xs font-medium text-primary-600 uppercase tracking-wide",children:"University"})]}),s.jsx("p",{className:"font-semibold text-stone-900",children:Y.university?.name}),Y.university?.city&&Y.university?.state&&s.jsxs("p",{className:"text-xs text-stone-500",children:[Y.university.city,", ",Y.university.state]})]}),s.jsxs("div",{className:"p-3 bg-secondary-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Le,{className:"w-4 h-4 text-secondary-600"}),s.jsx("span",{className:"text-xs font-medium text-secondary-600 uppercase tracking-wide",children:"Clinical Site"})]}),s.jsx("p",{className:"font-semibold text-stone-900",children:Y.site?.name}),Y.site?.city&&Y.site?.state&&s.jsxs("p",{className:"text-xs text-stone-500",children:[Y.site.city,", ",Y.site.state]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx(ge,{variant:Su[Y.status]?.variant||"default",children:Su[Y.status]?.label||Y.status}),Y.start_date&&s.jsxs("span",{className:"text-sm text-stone-500 flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(Y.start_date).toLocaleDateString(),Y.end_date&&`  ${new Date(Y.end_date).toLocaleDateString()}`]})]}),Y.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-wrap",children:Y.notes})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide mb-2",children:"Document"}),Y.file_name?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(Qc,{className:"w-4 h-4 text-stone-400 shrink-0"}),s.jsx("span",{className:"text-sm text-stone-700 truncate",children:Y.file_name}),Y.file_size&&s.jsxs("span",{className:"text-xs text-stone-400 shrink-0",children:["(",$(Y.file_size),")"]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx("button",{onClick:()=>re(Y.id),className:"text-primary-600 hover:text-primary-700 p-1",title:"Download",children:s.jsx(Ys,{className:"w-4 h-4"})}),t&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>fe.current.get(Y.id)?.click(),className:"text-xs text-stone-500 hover:text-stone-700",children:"Replace"}),s.jsx("input",{type:"file",ref:W=>{W&&fe.current.set(Y.id,W)},onChange:W=>{const we=W.target.files?.[0];we&&V(Y.id,we),W.target.value=""},accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden"})]})]})]}):t?s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>fe.current.get(Y.id)?.click(),className:"flex items-center gap-2 px-3 py-2 text-sm text-primary-600 hover:text-primary-700 border border-dashed border-primary-300 rounded-xl hover:bg-primary-50 transition-colors",children:[s.jsx(Jr,{className:"w-4 h-4"}),"Upload Document"]}),s.jsx("input",{type:"file",ref:W=>{W&&fe.current.set(Y.id,W)},onChange:W=>{const we=W.target.files?.[0];we&&V(Y.id,we),W.target.value=""},accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden"})]}):s.jsx("p",{className:"text-sm text-stone-400 italic",children:"No document attached"})]}),t&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide mb-2",children:"Actions"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ve(Y).map(W=>s.jsx(q,{variant:W.variant,size:"sm",onClick:()=>z(Y,W.status),disabled:v.isPending,children:W.label},W.status))})]})]})}),s.jsx(We,{isOpen:E,title:"Agreement Templates",onClose:()=>k(!1),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:"Create Template"}),s.jsx("input",{type:"text",value:O.name,onChange:W=>T(we=>({...we,name:W.target.value})),placeholder:"Template name...",className:"w-full border border-stone-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"}),s.jsx("input",{type:"text",value:O.description,onChange:W=>T(we=>({...we,description:W.target.value})),placeholder:"Description (optional)...",className:"w-full border border-stone-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"}),s.jsx("textarea",{value:O.default_notes,onChange:W=>T(we=>({...we,default_notes:W.target.value})),placeholder:"Default notes to prefill when using this template...",rows:3,className:"w-full border border-stone-200 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"}),s.jsxs(q,{size:"sm",onClick:()=>{if(!O.name){J.error("Template name is required");return}_.mutate(O,{onSuccess:()=>{J.success("Template created"),T({name:"",description:"",default_notes:""})},onError:W=>J.error(W.message)})},disabled:_.isPending,children:[s.jsx(Ct,{className:"w-4 h-4"})," Create Template"]})]}),s.jsx("div",{className:"divide-y divide-stone-100",children:j.length===0?s.jsx("p",{className:"text-sm text-stone-400 py-4 text-center",children:"No templates yet. Create one above."}):j.map(W=>s.jsxs("div",{className:"py-3 flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:W.name}),W.description&&s.jsx("p",{className:"text-xs text-stone-500",children:W.description}),W.default_notes&&s.jsx("p",{className:"text-xs text-stone-400 mt-1 line-clamp-2",children:W.default_notes})]}),s.jsx("button",{onClick:()=>C.mutate(W.id,{onSuccess:()=>J.success("Template deleted")}),className:"p-1.5 rounded-lg text-stone-400 hover:text-red-600 hover:bg-red-50 transition-colors shrink-0",title:"Delete template",children:s.jsx(hn,{className:"w-4 h-4"})})]},W.id))})]})})]})}const QZ={compliant:{icon:cs,color:"text-green-600",bg:"bg-green-50",label:"Compliant"},in_progress:{icon:Ye,color:"text-amber-600",bg:"bg-amber-50",label:"In Progress"},non_compliant:{icon:gT,color:"text-red-600",bg:"bg-red-50",label:"Non-Compliant"}};function ON({status:e}){const t=QZ[e],n=t.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${t.bg} ${t.color}`,children:[s.jsx(n,{className:"w-3.5 h-3.5"}),t.label]})}function PM({value:e,max:t,color:n="bg-primary-500"}){const r=t>0?Math.round(e/t*100):100;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-stone-100 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${n} rounded-full transition-all`,style:{width:`${r}%`}})}),s.jsxs("span",{className:"text-xs text-stone-500 w-8 text-right",children:[r,"%"]})]})}function TN({student:e}){return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-stone-700",children:[s.jsx(At,{className:"w-4 h-4 text-primary-500"}),"Credentials"]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Total"}),s.jsx("span",{className:"font-medium",children:e.credentials.total})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Valid"}),s.jsx("span",{className:"font-medium text-green-600",children:e.credentials.valid})]}),e.credentials.expired>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Expired"}),s.jsx("span",{className:"font-medium text-red-600",children:e.credentials.expired})]}),e.credentials.expiring_soon>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Expiring Soon"}),s.jsx("span",{className:"font-medium text-amber-600",children:e.credentials.expiring_soon})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"With Documents"}),s.jsxs("span",{className:"font-medium",children:[e.credentials.has_files,"/",e.credentials.total]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-stone-700",children:[s.jsx(Ze,{className:"w-4 h-4 text-secondary-500"}),"Onboarding Tasks"]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Required"}),s.jsx("span",{className:"font-medium",children:e.tasks.required})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Completed"}),s.jsxs("span",{className:"font-medium text-green-600",children:[e.tasks.required_completed,"/",e.tasks.required]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Verified"}),s.jsxs("span",{className:"font-medium text-primary-600",children:[e.tasks.required_verified,"/",e.tasks.required]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Files Attached"}),s.jsxs("span",{className:"font-medium",children:[e.tasks.with_files,"/",e.tasks.total]})]})]}),e.tasks.required>0&&s.jsx(PM,{value:e.tasks.required_verified,max:e.tasks.required,color:e.tasks.required_verified===e.tasks.required?"bg-green-500":"bg-amber-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-stone-700",children:[s.jsx(pt,{className:"w-4 h-4 text-amber-500"}),"Affiliation Agreement"]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-stone-500",children:"Status"}),e.agreement.status==="active"?s.jsx(ge,{variant:"success",children:"Active"}):e.agreement.status==="none"?s.jsx(ge,{variant:"danger",children:"None"}):s.jsx(ge,{variant:"warning",children:e.agreement.status.replace("_"," ")})]}),e.agreement.end_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-stone-500",children:"Expires"}),s.jsx("span",{className:"font-medium",children:new Date(e.agreement.end_date).toLocaleDateString()})]})]})]})]})}function XZ(){const{data:e}=Ta(),t=e?.sites||[],[n,r]=b.useState(null),a=n||t[0]?.id||null,{data:i,isLoading:c}=FF(a),d=i?.students||[],[u,h]=b.useState(""),[m,p]=b.useState("all"),[g,v]=b.useState(null),y=b.useMemo(()=>d.filter(j=>{if(m!=="all"&&j.overall_status!==m)return!1;if(u){const _=u.toLowerCase();return j.student_name.toLowerCase().includes(_)||j.student_email.toLowerCase().includes(_)||j.rotation.toLowerCase().includes(_)}return!0}),[d,u,m]),N=b.useMemo(()=>({total:d.length,compliant:d.filter(j=>j.overall_status==="compliant").length,inProgress:d.filter(j=>j.overall_status==="in_progress").length,nonCompliant:d.filter(j=>j.overall_status==="non_compliant").length}),[d]);return s.jsxs("div",{className:"space-y-6",children:[t.length>1&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Le,{className:"w-5 h-5 text-stone-400"}),s.jsx("select",{value:a||"",onChange:j=>r(j.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:t.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cs,{className:"w-5 h-5 text-stone-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:N.total}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Students"})]})]})}),s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cs,{className:"w-5 h-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.compliant}),s.jsx("p",{className:"text-xs text-stone-500",children:"Compliant"})]})]})}),s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ye,{className:"w-5 h-5 text-amber-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:N.inProgress}),s.jsx("p",{className:"text-xs text-stone-500",children:"In Progress"})]})]})}),s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gT,{className:"w-5 h-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.nonCompliant}),s.jsx("p",{className:"text-xs text-stone-500",children:"Non-Compliant"})]})]})})]}),s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search students...",value:u,onChange:j=>h(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),s.jsxs("select",{value:m,onChange:j=>p(j.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"compliant",children:"Compliant"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"non_compliant",children:"Non-Compliant"})]})]})}),c?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):y.length===0?s.jsxs(Q,{className:"p-12 text-center",children:[s.jsx(cs,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500 font-medium",children:"No students found"}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:d.length===0?"No accepted students at this site yet.":"Try adjusting your filters."})]}):s.jsx("div",{className:"space-y-2",children:y.map(j=>s.jsxs(Q,{className:"overflow-hidden",children:[s.jsxs("button",{className:"w-full p-4 flex items-center gap-3 text-left hover:bg-stone-50 transition-colors",onClick:()=>v(g===j.application_id?null:j.application_id),children:[g===j.application_id?s.jsx(Ks,{className:"w-4 h-4 text-stone-400 shrink-0"}):s.jsx(As,{className:"w-4 h-4 text-stone-400 shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-stone-900",children:j.student_name}),s.jsx("span",{className:"text-xs text-stone-400",children:j.student_email})]}),s.jsx("p",{className:"text-xs text-stone-500 mt-0.5",children:j.rotation})]}),s.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",title:"Credentials",children:[s.jsx(Qc,{className:"w-3 h-3"}),j.credentials.valid+j.credentials.no_expiration,"/",j.credentials.total]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Tasks verified",children:[s.jsx(Ze,{className:"w-3 h-3"}),j.tasks.required_verified,"/",j.tasks.required]}),j.agreement.status==="active"?s.jsx("span",{className:"text-green-600",title:"Agreement active",children:s.jsx(cs,{className:"w-3.5 h-3.5"})}):s.jsx("span",{className:"text-red-500",title:`Agreement: ${j.agreement.status}`,children:s.jsx(rn,{className:"w-3.5 h-3.5"})})]}),s.jsx(ON,{status:j.overall_status})]})]}),g===j.application_id&&s.jsx("div",{className:"border-t border-stone-100",children:s.jsx(TN,{student:j})})]},j.application_id))})]})}function ZZ(){const{data:e,isLoading:t}=GF(),n=e?.sites||[],[r,a]=b.useState(null),[i,c]=b.useState(null);if(t)return s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const d=n.reduce((m,p)=>m+p.total_students,0),u=n.reduce((m,p)=>m+p.compliant_students,0),h=d>0?Math.round(u/d*100):100;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(Q,{className:"p-4",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:n.length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Active Sites"})]}),s.jsxs(Q,{className:"p-4",children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:d}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total Students"})]}),s.jsxs(Q,{className:"p-4",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:u}),s.jsx("p",{className:"text-xs text-stone-500",children:"Fully Compliant"})]}),s.jsxs(Q,{className:"p-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[h,"%"]}),s.jsx("p",{className:"text-xs text-stone-500",children:"Compliance Rate"})]})]}),n.length===0?s.jsxs(Q,{className:"p-12 text-center",children:[s.jsx(cs,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500 font-medium",children:"No active placements"}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Students with accepted applications will appear here."})]}):s.jsx("div",{className:"space-y-3",children:n.map(m=>s.jsxs(Q,{className:"overflow-hidden",children:[s.jsxs("button",{className:"w-full p-4 flex items-center gap-3 text-left hover:bg-stone-50 transition-colors",onClick:()=>a(r===m.site_id?null:m.site_id),children:[r===m.site_id?s.jsx(Ks,{className:"w-4 h-4 text-stone-400 shrink-0"}):s.jsx(As,{className:"w-4 h-4 text-stone-400 shrink-0"}),s.jsx(Le,{className:"w-5 h-5 text-secondary-500 shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"font-semibold text-stone-900",children:m.site_name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[m.site_city,", ",m.site_state]})]}),s.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-bold text-stone-900",children:[m.compliant_students,"/",m.total_students]}),s.jsx("p",{className:"text-xs text-stone-500",children:"compliant"})]}),s.jsx("div",{className:"w-16",children:s.jsx(PM,{value:m.compliant_students,max:m.total_students,color:m.compliance_percentage===100?"bg-green-500":m.compliance_percentage>=50?"bg-amber-500":"bg-red-500"})})]})]}),r===m.site_id&&s.jsx("div",{className:"border-t border-stone-100 divide-y divide-stone-100",children:m.students.map(p=>s.jsxs("div",{children:[s.jsxs("button",{className:"w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-stone-50 transition-colors",onClick:()=>c(i===p.application_id?null:p.application_id),children:[s.jsx("div",{className:"w-4"})," ",i===p.application_id?s.jsx(Ks,{className:"w-3.5 h-3.5 text-stone-400 shrink-0"}):s.jsx(As,{className:"w-3.5 h-3.5 text-stone-400 shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-stone-900",children:p.student_name}),s.jsx("span",{className:"text-xs text-stone-400 ml-2",children:p.rotation})]}),s.jsx(ON,{status:p.overall_status})]}),i===p.application_id&&s.jsx("div",{className:"px-4 pb-3",children:s.jsx(TN,{student:p})})]},p.application_id))})]},m.site_id))})]})}function JZ(){const{data:e}=Ws(),t=(e?.data||[]).filter(u=>u.status==="accepted"),[n,r]=b.useState(null),a=n||t[0]?.id||null,{data:i,isLoading:c}=VF(a),d=i?.compliance;return t.length===0?s.jsxs(Q,{className:"p-12 text-center",children:[s.jsx(cs,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500 font-medium",children:"No active rotations"}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Once you have an accepted application, your compliance checklist will appear here."})]}):s.jsxs("div",{className:"space-y-6",children:[t.length>1&&s.jsx("select",{value:a||"",onChange:u=>r(u.target.value),className:"border border-stone-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:t.map(u=>s.jsxs("option",{value:u.id,children:[u.slot?.title||"Rotation"," - ",u.slot?.site?.name||"Site"]},u.id))}),c?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Q,{className:"p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:d.rotation}),s.jsx("p",{className:"text-sm text-stone-500",children:d.site_name})]}),s.jsx(ON,{status:d.overall_status})]}),d.overall_status==="non_compliant"&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 rounded-xl text-sm text-red-700 mb-4",children:[s.jsx(fs,{className:"w-4 h-4 shrink-0 mt-0.5"}),s.jsxs("span",{children:[d.credentials.expired>0&&"You have expired credentials. ",d.agreement.status!=="active"&&"No active affiliation agreement between your university and this site. ","Please address these issues to become compliant."]})]}),d.credentials.expiring_soon>0&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 rounded-xl text-sm text-amber-700 mb-4",children:[s.jsx(fs,{className:"w-4 h-4 shrink-0 mt-0.5"}),s.jsxs("span",{children:[d.credentials.expiring_soon," credential(s) expiring within 30 days. Please renew soon."]})]})]}),s.jsx(TN,{student:d})]}):null]})}function eJ(){const{user:e}=Je(),[t,n]=b.useState(!1),r=e?.role==="site_manager",a=e?.role==="coordinator"||e?.role==="professor"||e?.role==="admin",i=e?.role==="student";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Compliance Dashboard"}),s.jsxs("p",{className:"text-stone-500 mt-1",children:[r&&"Track student documentation and compliance status for your site.",a&&"Monitor compliance across all your student placements.",i&&"View your documentation status for active rotations."]})]}),(r||a)&&s.jsxs("div",{className:"relative",children:[s.jsxs(q,{variant:"secondary",onClick:()=>n(!t),children:[s.jsx(Ys,{className:"w-4 h-4"})," Export"]}),t&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white rounded-xl shadow-lg border border-stone-200 py-1 z-20",children:[s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Yc.complianceCsvUrl()),n(!1)},children:"Download CSV"}),s.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50",onClick:()=>{window.open(Yc.compliancePdfUrl()),n(!1)},children:"Download PDF"})]})]})]})]}),r&&s.jsx(XZ,{}),a&&s.jsx(ZZ,{}),i&&s.jsx(JZ,{})]})}function tJ(){const{user:e}=Je();return e?.role==="preceptor"?s.jsx(nJ,{}):e?.role==="coordinator"?s.jsx(sJ,{}):e?.role==="admin"?s.jsx(rJ,{}):null}function nJ(){const{data:e,isLoading:t}=Cx(),n=e?.ce_certificates||[],r=n.filter(c=>c.status==="issued").reduce((c,d)=>c+Number(d.contact_hours),0),a=n.filter(c=>c.status==="pending").length,i=n.filter(c=>c.status==="revoked").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My CE Credits"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Continuing education credits earned through precepting"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:s.jsx(mn,{className:"w-5 h-5 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:r.toFixed(1)}),s.jsx("p",{className:"text-xs text-stone-500",children:"Total CE Hours"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-sky-100 flex items-center justify-center",children:s.jsx(Zr,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:n.filter(c=>c.status==="issued").length}),s.jsx("p",{className:"text-xs text-stone-500",children:"Issued Certificates"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:s.jsx(Ye,{className:"w-5 h-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:a}),s.jsx("p",{className:"text-xs text-stone-500",children:"Pending Approval"})]})]})}),i>0&&s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:s.jsx(no,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:i}),s.jsx("p",{className:"text-xs text-stone-500",children:"Revoked"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[s.jsx("div",{className:"p-4 border-b border-stone-100",children:s.jsx("h2",{className:"font-semibold text-stone-900",children:"CE Certificates"})}),t?s.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading..."}):n.length===0?s.jsxs("div",{className:"p-8 text-center text-stone-400",children:[s.jsx(Zr,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),s.jsx("p",{children:"No CE certificates yet"}),s.jsx("p",{className:"text-sm mt-1",children:"CE credits are automatically awarded when placements are completed at participating universities."})]}):s.jsx("div",{className:"divide-y divide-stone-100",children:n.map(c=>s.jsx(RN,{cert:c,showActions:!1},c.id))})]})]})}function sJ(){const{user:e}=Je(),[t,n]=b.useState("approvals"),r=e?.universityId||null,{data:a,isLoading:i}=OT(r),c=!i&&r&&(!a?.policy||!a.policy.offers_ce);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"CE Credit Management"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"Manage continuing education credits, policies, and audit trails"})]}),c&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(fs,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-semibold text-amber-800",children:"CE Credits Not Configured"}),s.jsx("p",{className:"text-sm text-amber-700 mt-0.5",children:"Your university has not enabled CE credits. Preceptors supervising your students won't receive CE certificates until you configure a CE policy."}),s.jsxs("button",{onClick:()=>n("policy"),className:"mt-2 px-4 py-1.5 rounded-lg text-sm font-medium bg-amber-600 text-white hover:bg-amber-700 transition-colors",children:[s.jsx(ap,{className:"w-3.5 h-3.5 inline mr-1.5"}),"Configure CE Policy"]})]})]}),s.jsxs("div",{className:"flex gap-1 bg-stone-100 p-1 rounded-lg w-fit",children:[s.jsxs("button",{onClick:()=>n("approvals"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="approvals"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[s.jsx(At,{className:"w-4 h-4 inline mr-1.5"}),"Approvals"]}),s.jsxs("button",{onClick:()=>n("policy"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="policy"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[s.jsx(ap,{className:"w-4 h-4 inline mr-1.5"}),"CE Policy"]}),s.jsxs("button",{onClick:()=>n("audit"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="audit"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[s.jsx(dn,{className:"w-4 h-4 inline mr-1.5"}),"Audit & Compliance"]})]}),t==="approvals"&&s.jsx(LM,{universityId:r}),t==="policy"&&r&&s.jsx(oJ,{universityId:r}),t==="policy"&&!r&&s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-8 text-center text-stone-400",children:[s.jsx(fs,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),s.jsx("p",{children:"No university affiliation found. Please update your profile."})]}),t==="audit"&&s.jsx(IM,{universityId:r})]})}function rJ(){const[e,t]=b.useState("approvals");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"CE Credit Administration"}),s.jsx("p",{className:"text-stone-500 mt-1",children:"View all CE certificates and audit trails across the platform"})]}),s.jsxs("div",{className:"flex gap-1 bg-stone-100 p-1 rounded-lg w-fit",children:[s.jsxs("button",{onClick:()=>t("approvals"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="approvals"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[s.jsx(At,{className:"w-4 h-4 inline mr-1.5"}),"All Certificates"]}),s.jsxs("button",{onClick:()=>t("audit"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="audit"?"bg-white text-stone-900 shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:[s.jsx(dn,{className:"w-4 h-4 inline mr-1.5"}),"Audit & Compliance"]})]}),e==="approvals"&&s.jsx(LM,{universityId:null}),e==="audit"&&s.jsx(IM,{universityId:null})]})}function IM({universityId:e}){const{data:t,isLoading:n}=Cx(e?{university_id:e}:void 0),r=t?.ce_certificates||[];if(n)return s.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading..."});if(r.length===0)return s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-8 text-center text-stone-400",children:[s.jsx(dn,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),s.jsx("p",{children:"No CE certificates to audit"}),s.jsx("p",{className:"text-sm mt-1",children:"Audit trails will appear here once CE certificates are created."})]});const a={total:r.length,issued:r.filter(i=>i.status==="issued").length,pending:r.filter(i=>i.status==="pending").length,revoked:r.filter(i=>i.status==="revoked").length,rejected:r.filter(i=>i.status==="rejected").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(_u,{label:"Total",value:a.total,color:"stone"}),s.jsx(_u,{label:"Issued",value:a.issued,color:"emerald"}),s.jsx(_u,{label:"Pending",value:a.pending,color:"amber"}),s.jsx(_u,{label:"Revoked",value:a.revoked,color:"red"}),s.jsx(_u,{label:"Rejected",value:a.rejected,color:"stone"})]}),s.jsxs("div",{className:"bg-sky-50 border border-sky-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(dn,{className:"w-5 h-5 text-sky-600 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-sky-800",children:"Immutable Audit Trail"}),s.jsx("p",{className:"text-sm text-sky-700 mt-0.5",children:"All CE audit events are cryptographically immutable  they cannot be edited or deleted once recorded. Every approval, rejection, revocation, download, and policy change is permanently logged for accreditation compliance."})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[s.jsx("div",{className:"p-4 border-b border-stone-100",children:s.jsxs("h2",{className:"font-semibold text-stone-900 flex items-center gap-2",children:[s.jsx(Kw,{className:"w-5 h-5 text-stone-400"}),"Certificate Audit Trails"]})}),s.jsx("div",{className:"divide-y divide-stone-100",children:r.map(i=>s.jsx(RN,{cert:i,showActions:!0,showAuditTrail:!0},i.id))})]})]})}function _u({label:e,value:t,color:n}){const r={stone:"bg-stone-50 text-stone-700",emerald:"bg-emerald-50 text-emerald-700",amber:"bg-amber-50 text-amber-700",red:"bg-red-50 text-red-700"};return s.jsxs("div",{className:`rounded-lg p-3 text-center ${r[n]||r.stone}`,children:[s.jsx("p",{className:"text-2xl font-bold",children:t}),s.jsx("p",{className:"text-xs font-medium mt-0.5",children:e})]})}function LM({universityId:e}){const{data:t,isLoading:n}=Cx(e?{university_id:e}:void 0),r=YF(),a=WF(),[i,c]=b.useState(null),[d,u]=b.useState(""),h=t?.ce_certificates||[],m=h.filter(y=>y.status==="pending"),p=h.filter(y=>y.status!=="pending"),g=y=>{r.mutate(y,{onSuccess:()=>J.success("CE certificate approved and issued."),onError:N=>J.error(N.message)})},v=()=>{!i||!d.trim()||a.mutate({id:i,data:{rejection_reason:d}},{onSuccess:()=>{J.success("CE certificate rejected."),c(null),u("")},onError:y=>J.error(y.message)})};return n?s.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading..."}):s.jsxs("div",{className:"space-y-6",children:[m.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-amber-200",children:[s.jsx("div",{className:"p-4 border-b border-amber-100 bg-amber-50 rounded-t-xl",children:s.jsxs("h2",{className:"font-semibold text-amber-800 flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5"}),"Pending Approvals (",m.length,")"]})}),s.jsx("div",{className:"divide-y divide-stone-100",children:m.map(y=>s.jsxs("div",{className:"p-4 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("p",{className:"font-medium text-stone-900",children:[y.preceptor?.first_name," ",y.preceptor?.last_name]}),s.jsxs("p",{className:"text-sm text-stone-500",children:[y.application?.slot?.specialty," at ",y.application?.slot?.site?.name]}),s.jsxs("p",{className:"text-sm text-stone-500",children:[y.contact_hours," contact hours  ",y.university?.name]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsxs("button",{onClick:()=>g(y.id),disabled:r.isPending,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-emerald-50 text-emerald-700 hover:bg-emerald-100 transition-colors",children:[s.jsx(Ze,{className:"w-4 h-4 inline mr-1"}),"Approve"]}),s.jsxs("button",{onClick:()=>c(y.id),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-red-50 text-red-700 hover:bg-red-100 transition-colors",children:[s.jsx(rn,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]})]},y.id))})]}),i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:()=>c(null),children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",onClick:y=>y.stopPropagation(),children:[s.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Reject CE Certificate"}),s.jsx("textarea",{value:d,onChange:y=>u(y.target.value),placeholder:"Reason for rejection...",className:"w-full border border-stone-300 rounded-lg p-3 text-sm min-h-[100px] focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),s.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[s.jsx("button",{onClick:()=>{c(null),u("")},className:"px-4 py-2 text-sm rounded-lg text-stone-600 hover:bg-stone-100",children:"Cancel"}),s.jsx("button",{onClick:v,disabled:!d.trim()||a.isPending,className:"px-4 py-2 text-sm rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[s.jsx("div",{className:"p-4 border-b border-stone-100",children:s.jsxs("h2",{className:"font-semibold text-stone-900",children:[m.length>0?"Processed Certificates":"All CE Certificates",p.length>0&&` (${p.length})`]})}),h.length===0?s.jsxs("div",{className:"p-8 text-center text-stone-400",children:[s.jsx(Zr,{className:"w-12 h-12 mx-auto mb-3 text-stone-300"}),s.jsx("p",{children:"No CE certificates yet"})]}):s.jsx("div",{className:"divide-y divide-stone-100",children:(m.length>0?p:h).map(y=>s.jsx(RN,{cert:y,showActions:!0},y.id))})]})]})}function RN({cert:e,showActions:t=!1,showAuditTrail:n=!1}){const{user:r}=Je(),[a,i]=b.useState(!1),[c,d]=b.useState(!1),[u,h]=b.useState(""),m=QF(),p=t&&(r?.role==="coordinator"||r?.role==="admin")&&(e.status==="approved"||e.status==="issued"),g={pending:{color:"bg-amber-100 text-amber-700",icon:s.jsx(Ye,{className:"w-3.5 h-3.5"}),label:"Pending"},approved:{color:"bg-sky-100 text-sky-700",icon:s.jsx(Ze,{className:"w-3.5 h-3.5"}),label:"Approved"},issued:{color:"bg-emerald-100 text-emerald-700",icon:s.jsx(Zr,{className:"w-3.5 h-3.5"}),label:"Issued"},rejected:{color:"bg-red-100 text-red-700",icon:s.jsx(rn,{className:"w-3.5 h-3.5"}),label:"Rejected"},revoked:{color:"bg-red-100 text-red-800 ring-1 ring-red-300",icon:s.jsx(no,{className:"w-3.5 h-3.5"}),label:"Revoked"}},v=g[e.status]||g.pending,y=()=>{u.trim()&&m.mutate({id:e.id,data:{revocation_reason:u}},{onSuccess:()=>{J.success("CE certificate revoked."),d(!1),h("")},onError:N=>J.error(N.message)})};return s.jsxs("div",{children:[s.jsxs("div",{className:`p-4 flex items-center justify-between gap-4 ${n||p?"cursor-pointer hover:bg-stone-50 transition-colors":""}`,onClick:()=>(n||p)&&i(!a),children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("p",{className:"font-medium text-stone-900",children:[e.preceptor?.first_name," ",e.preceptor?.last_name]}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${v.color}`,children:[v.icon,v.label]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Le,{className:"w-3.5 h-3.5"}),e.application?.slot?.site?.name||"N/A"]}),s.jsx("span",{children:e.application?.slot?.specialty||"N/A"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mn,{className:"w-3.5 h-3.5"}),e.contact_hours," hrs"]}),e.issued_at&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(e.issued_at).toLocaleDateString()]})]}),e.university&&s.jsx("p",{className:"text-xs text-stone-400 mt-1",children:e.university.name}),e.rejection_reason&&s.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Rejected: ",e.rejection_reason]}),e.revocation_reason&&s.jsxs("div",{className:"mt-1 flex items-start gap-1",children:[s.jsx(no,{className:"w-3 h-3 text-red-500 shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-xs text-red-600",children:["Revoked",e.revoked_at?` on ${new Date(e.revoked_at).toLocaleDateString()}`:"",": ",e.revocation_reason]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[(e.status==="issued"||e.status==="approved")&&s.jsxs("a",{href:_l.downloadUrl(e.id),target:"_blank",rel:"noopener noreferrer",onClick:N=>N.stopPropagation(),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-stone-100 text-stone-700 hover:bg-stone-200 transition-colors",children:[s.jsx(Ys,{className:"w-4 h-4 inline mr-1"}),"PDF"]}),(n||p)&&(a?s.jsx(hl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Ks,{className:"w-4 h-4 text-stone-400"}))]})]}),a&&s.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[s.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3",children:"Certificate Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gw,{className:"w-3.5 h-3.5 text-stone-400"}),s.jsx("span",{className:"text-stone-500",children:"Verification:"}),s.jsxs("span",{className:"font-mono text-xs text-stone-700",children:[e.verification_uuid?.slice(0,8),"..."]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"w-3.5 h-3.5 text-stone-400"}),s.jsx("span",{className:"text-stone-500",children:"Contact Hours:"}),s.jsx("span",{className:"font-medium text-stone-700",children:e.contact_hours})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"w-3.5 h-3.5 text-stone-400"}),s.jsx("span",{className:"text-stone-500",children:"Created:"}),s.jsx("span",{className:"text-stone-700",children:new Date(e.created_at).toLocaleDateString()})]}),e.issued_at&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"w-3.5 h-3.5 text-stone-400"}),s.jsx("span",{className:"text-stone-500",children:"Issued:"}),s.jsx("span",{className:"text-stone-700",children:new Date(e.issued_at).toLocaleDateString()})]}),e.approved_by_user&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-3.5 h-3.5 text-stone-400"}),s.jsx("span",{className:"text-stone-500",children:"Approved by:"}),s.jsxs("span",{className:"text-stone-700",children:[e.approved_by_user.first_name," ",e.approved_by_user.last_name]})]}),e.revoked_by_user&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(no,{className:"w-3.5 h-3.5 text-red-400"}),s.jsx("span",{className:"text-stone-500",children:"Revoked by:"}),s.jsxs("span",{className:"text-red-700",children:[e.revoked_by_user.first_name," ",e.revoked_by_user.last_name]})]})]})]}),p&&!c&&s.jsxs("button",{onClick:N=>{N.stopPropagation(),d(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium bg-red-50 text-red-700 hover:bg-red-100 transition-colors flex items-center gap-2",children:[s.jsx(no,{className:"w-4 h-4"}),"Revoke Certificate"]}),c&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",onClick:N=>N.stopPropagation(),children:[s.jsxs("h4",{className:"text-sm font-semibold text-red-800 mb-2 flex items-center gap-2",children:[s.jsx(fs,{className:"w-4 h-4"}),"Revoke CE Certificate"]}),s.jsx("p",{className:"text-xs text-red-600 mb-3",children:"This action is permanent and will be recorded in the immutable audit trail. The certificate will be invalidated and the verification page will show it as revoked."}),s.jsx("textarea",{value:u,onChange:N=>h(N.target.value),placeholder:"Reason for revocation (required)...",className:"w-full border border-red-300 rounded-lg p-3 text-sm min-h-[80px] focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"}),s.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[s.jsx("button",{onClick:()=>{d(!1),h("")},className:"px-4 py-2 text-sm rounded-lg text-stone-600 hover:bg-stone-100",children:"Cancel"}),s.jsxs("button",{onClick:y,disabled:!u.trim()||m.isPending,className:"px-4 py-2 text-sm rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(no,{className:"w-4 h-4"}),m.isPending?"Revoking...":"Confirm Revocation"]})]})]}),n&&s.jsx(aJ,{certificateId:e.id})]})]})}function aJ({certificateId:e}){const{data:t,isLoading:n}=XF(e),r=t?.audit_trail||[],a={created:{label:"Certificate Created",color:"text-sky-600",icon:s.jsx(At,{className:"w-3.5 h-3.5"})},eligibility_checked:{label:"Eligibility Checked",color:"text-stone-600",icon:s.jsx(Sa,{className:"w-3.5 h-3.5"})},approved:{label:"Approved",color:"text-emerald-600",icon:s.jsx(Ze,{className:"w-3.5 h-3.5"})},issued:{label:"Issued",color:"text-emerald-600",icon:s.jsx(Zr,{className:"w-3.5 h-3.5"})},rejected:{label:"Rejected",color:"text-red-600",icon:s.jsx(rn,{className:"w-3.5 h-3.5"})},revoked:{label:"Revoked",color:"text-red-700",icon:s.jsx(no,{className:"w-3.5 h-3.5"})},downloaded:{label:"PDF Downloaded",color:"text-stone-500",icon:s.jsx(Ys,{className:"w-3.5 h-3.5"})},verified:{label:"Public Verification",color:"text-sky-500",icon:s.jsx(Sa,{className:"w-3.5 h-3.5"})},policy_changed:{label:"Policy Changed",color:"text-amber-600",icon:s.jsx(ap,{className:"w-3.5 h-3.5"})}};return n?s.jsx("div",{className:"p-4 text-center text-stone-400 text-sm",children:"Loading audit trail..."}):r.length===0?s.jsx("div",{className:"bg-stone-50 rounded-lg p-4 text-center text-stone-400 text-sm",children:"No audit events recorded yet."}):s.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[s.jsx(Kw,{className:"w-3.5 h-3.5"}),"Audit Trail (",r.length," events)"]}),s.jsx("div",{className:"space-y-0",children:r.map((i,c)=>s.jsx(iJ,{event:i,config:a,isLast:c===r.length-1},i.id))})]})}function iJ({event:e,config:t,isLast:n}){const r=t[e.event_type]||{label:e.event_type,color:"text-stone-500",icon:s.jsx(Kw,{className:"w-3.5 h-3.5"})};return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-7 h-7 rounded-full bg-white border-2 border-stone-200 flex items-center justify-center ${r.color}`,children:r.icon}),!n&&s.jsx("div",{className:"w-0.5 h-6 bg-stone-200"})]}),s.jsxs("div",{className:`flex-1 ${n?"":"pb-2"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`text-sm font-medium ${r.color}`,children:r.label}),s.jsx("span",{className:"text-xs text-stone-400",children:new Date(e.created_at).toLocaleString()})]}),s.jsxs("div",{className:"text-xs text-stone-500 mt-0.5",children:[e.actor?s.jsxs("span",{children:[e.actor.first_name," ",e.actor.last_name," (",e.actor_role,")"]}):s.jsx("span",{children:e.actor_role}),e.ip_address&&s.jsx("span",{className:"ml-2 text-stone-400",children:e.ip_address})]}),e.metadata&&Object.keys(e.metadata).length>0&&s.jsx(lJ,{metadata:e.metadata,eventType:e.event_type})]})]})}function lJ({metadata:e,eventType:t}){return t==="revoked"&&e.revocation_reason?s.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Reason: ",String(e.revocation_reason)]}):t==="rejected"&&e.rejection_reason?s.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Reason: ",String(e.rejection_reason)]}):t==="eligibility_checked"?s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[e.eligible?"Eligible":"Not eligible",e.reason?`  ${String(e.reason)}`:""]}):t==="policy_changed"?s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:["Version ",String(e.old_version||"?"),"  ",String(e.new_version||"?")]}):null}function oJ({universityId:e}){const{data:t,isLoading:n}=OT(e),r=KF(),[a,i]=b.useState({offers_ce:!1,accrediting_body:"",contact_hours_per_rotation:0,max_hours_per_year:"",requires_final_evaluation:!0,requires_midterm_evaluation:!1,requires_minimum_hours:!1,minimum_hours_required:"",approval_required:!0,signer_name:"",signer_credentials:"",effective_from:"",effective_to:""}),[c,d]=b.useState(!1);if(t?.policy&&!c){const m=t.policy;i({offers_ce:m.offers_ce,accrediting_body:m.accrediting_body||"",contact_hours_per_rotation:m.contact_hours_per_rotation,max_hours_per_year:m.max_hours_per_year?.toString()||"",requires_final_evaluation:m.requires_final_evaluation,requires_midterm_evaluation:m.requires_midterm_evaluation,requires_minimum_hours:m.requires_minimum_hours,minimum_hours_required:m.minimum_hours_required?.toString()||"",approval_required:m.approval_required,signer_name:m.signer_name||"",signer_credentials:m.signer_credentials||"",effective_from:m.effective_from||"",effective_to:m.effective_to||""}),d(!0)}else t&&!t.policy&&!c&&d(!0);const u=()=>{r.mutate({universityId:e,data:{offers_ce:a.offers_ce,accrediting_body:a.accrediting_body||null,contact_hours_per_rotation:Number(a.contact_hours_per_rotation),max_hours_per_year:a.max_hours_per_year?Number(a.max_hours_per_year):null,requires_final_evaluation:a.requires_final_evaluation,requires_midterm_evaluation:a.requires_midterm_evaluation,requires_minimum_hours:a.requires_minimum_hours,minimum_hours_required:a.minimum_hours_required?Number(a.minimum_hours_required):null,approval_required:a.approval_required,signer_name:a.signer_name||null,signer_credentials:a.signer_credentials||null,effective_from:a.effective_from||null,effective_to:a.effective_to||null}},{onSuccess:()=>J.success("CE policy saved. Changes are recorded in the audit trail."),onError:m=>J.error(m.message)})};if(n)return s.jsx("div",{className:"p-8 text-center text-stone-400",children:"Loading policy..."});const h=t?.policy;return s.jsxs("div",{className:"space-y-4",children:[h&&s.jsxs("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-stone-600",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Gw,{className:"w-3.5 h-3.5 text-stone-400"}),"Version ",h.version||1]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Jt,{className:"w-3.5 h-3.5 text-stone-400"}),"Last updated: ",new Date(h.updated_at).toLocaleDateString()]}),h.effective_from&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(zq,{className:"w-3.5 h-3.5 text-stone-400"}),"Effective: ",new Date(h.effective_from).toLocaleDateString(),h.effective_to?`  ${new Date(h.effective_to).toLocaleDateString()}`:"  Ongoing"]})]}),s.jsx("span",{className:"text-xs text-stone-400",children:"All changes are audit-logged"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200",children:[s.jsx("div",{className:"p-4 border-b border-stone-100",children:s.jsxs("h2",{className:"font-semibold text-stone-900 flex items-center gap-2",children:[s.jsx(ap,{className:"w-5 h-5 text-stone-400"}),"CE Policy Settings"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.offers_ce,onChange:m=>i({...a,offers_ce:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm font-medium text-stone-700",children:"University offers CE credits for preceptors"})]}),a.offers_ce&&s.jsxs("div",{className:"space-y-5 pl-7",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Accrediting Body"}),s.jsx("input",{type:"text",value:a.accrediting_body,onChange:m=>i({...a,accrediting_body:m.target.value}),placeholder:"e.g. ANCC, AAPA",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Contact Hours per Rotation"}),s.jsx("input",{type:"number",step:"0.5",min:"0",value:a.contact_hours_per_rotation,onChange:m=>i({...a,contact_hours_per_rotation:Number(m.target.value)}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Max Hours per Year (optional)"}),s.jsx("input",{type:"number",step:"0.5",min:"0",value:a.max_hours_per_year,onChange:m=>i({...a,max_hours_per_year:m.target.value}),placeholder:"No limit",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Effective From"}),s.jsx("input",{type:"date",value:a.effective_from,onChange:m=>i({...a,effective_from:m.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Effective To (optional)"}),s.jsx("input",{type:"date",value:a.effective_to,onChange:m=>i({...a,effective_to:m.target.value}),className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-stone-700",children:"Eligibility Requirements"}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.requires_final_evaluation,onChange:m=>i({...a,requires_final_evaluation:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-stone-600",children:"Require final evaluation from preceptor"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.requires_midterm_evaluation,onChange:m=>i({...a,requires_midterm_evaluation:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-stone-600",children:"Require mid-rotation evaluation"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.requires_minimum_hours,onChange:m=>i({...a,requires_minimum_hours:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-stone-600",children:"Require minimum logged hours"})]}),a.requires_minimum_hours&&s.jsx("div",{className:"pl-7",children:s.jsx("input",{type:"number",step:"1",min:"0",value:a.minimum_hours_required,onChange:m=>i({...a,minimum_hours_required:m.target.value}),placeholder:"Minimum hours",className:"w-40 border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.approval_required,onChange:m=>i({...a,approval_required:m.target.checked}),className:"w-4 h-4 rounded border-stone-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-stone-600",children:"Require coordinator approval before issuing"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Certificate Signer Name"}),s.jsx("input",{type:"text",value:a.signer_name,onChange:m=>i({...a,signer_name:m.target.value}),placeholder:"e.g. Dr. Jane Smith",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Signer Credentials"}),s.jsx("input",{type:"text",value:a.signer_credentials,onChange:m=>i({...a,signer_credentials:m.target.value}),placeholder:"e.g. DNP, FNP-BC, Program Director",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-stone-100",children:[s.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[s.jsx(dn,{className:"w-3.5 h-3.5"}),"Policy changes are recorded in the immutable audit trail"]}),s.jsxs("button",{onClick:u,disabled:r.isPending,className:"px-5 py-2.5 rounded-xl text-sm font-medium bg-primary-600 text-white hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Sf,{className:"w-4 h-4"}),r.isPending?"Saving...":"Save Policy"]})]})]})]})]})}function cJ(){const{uuid:e}=Nl(),{data:t,isLoading:n,error:r}=qe({queryKey:["verify-ce",e],queryFn:()=>_l.publicVerify(e),enabled:!!e});return s.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-lg w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"inline-flex items-center gap-2.5",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center",children:s.jsx(St,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsx("p",{className:"text-sm text-stone-500 mt-1",children:"CE Certificate Verification"})]}),n&&s.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm p-8 text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-stone-500",children:"Verifying certificate..."})]}),r&&s.jsxs("div",{className:"bg-white rounded-2xl border border-red-200 shadow-sm p-8 text-center",children:[s.jsx(rn,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"Certificate Not Found"}),s.jsx("p",{className:"text-stone-500",children:"This verification link is invalid or the certificate does not exist."})]}),t&&s.jsxs("div",{className:`bg-white rounded-2xl border shadow-sm overflow-hidden ${t.valid?"border-emerald-200":"border-red-200"}`,children:[s.jsx("div",{className:`px-6 py-4 flex items-center gap-3 ${t.valid?"bg-emerald-50":"bg-red-50"}`,children:t.valid?s.jsxs(s.Fragment,{children:[s.jsx(Zr,{className:"w-8 h-8 text-emerald-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-emerald-800",children:"Verified CE Certificate"}),s.jsx("p",{className:"text-sm text-emerald-600",children:"This certificate is authentic and valid"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-8 h-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-red-800",children:"Invalid Certificate"}),s.jsxs("p",{className:"text-sm text-red-600",children:["Status: ",t.status]})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1",children:"Preceptor"}),s.jsx("p",{className:"text-lg font-semibold text-stone-900",children:t.preceptor_name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[s.jsx(mn,{className:"w-3 h-3"})," Contact Hours"]}),s.jsx("p",{className:"text-lg font-bold text-emerald-600",children:t.contact_hours})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[s.jsx(Le,{className:"w-3 h-3"})," Institution"]}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.university_name})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"})," Clinical Site"]}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.site_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1",children:"Specialty"}),s.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.specialty})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1 flex items-center gap-1",children:[s.jsx(Jt,{className:"w-3 h-3"})," Rotation Period"]}),s.jsx("p",{className:"text-sm text-stone-700",children:t.rotation_period})]}),t.issued_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-stone-400 mb-1",children:"Issued"}),s.jsx("p",{className:"text-sm text-stone-700",children:new Date(t.issued_at).toLocaleDateString()})]})]}),s.jsx("div",{className:"pt-3 border-t border-stone-100",children:s.jsxs("p",{className:"text-xs text-stone-400 text-center",children:["Verification ID: ",t.verification_uuid]})})]})]})]})})}function dJ(){const[e,t]=b.useState(""),[n,r]=b.useState(!1),[a,i]=b.useState(!1),c=async d=>{d.preventDefault(),r(!0);try{await Ss.forgotPassword(e),i(!0)}catch(u){const h=u instanceof Error?u.message:"Something went wrong. Please try again.";J.error(h)}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs(fn,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]})}),s.jsx(Q,{children:a?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-50 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"w-8 h-8 text-green-500"})}),s.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Check your email"}),s.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["If an account exists for ",s.jsx("strong",{children:e}),", we sent a password reset link. Check your inbox (and spam folder)."]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(q,{variant:"outline",className:"w-full",onClick:()=>{i(!1),t("")},children:"Try another email"}),s.jsx(fn,{to:"/login",className:"block text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Back to Sign In"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Forgot your password?"}),s.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsx($e,{label:"Email address",type:"email",placeholder:"you@university.edu",value:e,onChange:d=>t(d.target.value),icon:s.jsx(Wr,{className:"w-4 h-4"}),required:!0}),s.jsx(q,{type:"submit",isLoading:n,className:"w-full",children:"Send Reset Link"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(fn,{to:"/login",className:"inline-flex items-center gap-1.5 text-sm text-stone-500 hover:text-stone-700",children:[s.jsx(Dr,{className:"w-3.5 h-3.5"}),"Back to Sign In"]})})]})})]})})}function uJ(){const[e]=Mw(),t=Ut(),n=e.get("token"),r=e.get("email"),[a,i]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState(!1),[m,p]=b.useState(!1),[g,v]=b.useState(!1);if(!n||!r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(Q,{children:s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-red-50 flex items-center justify-center mx-auto mb-4",children:s.jsx(Yr,{className:"w-8 h-8 text-red-500"})}),s.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),s.jsx(fn,{to:"/forgot-password",children:s.jsx(q,{className:"w-full",children:"Request New Link"})})]})})})});const y=async N=>{if(N.preventDefault(),a!==c){J.error("Passwords do not match");return}if(a.length<12){J.error("Password must be at least 12 characters");return}p(!0);try{await Ss.resetPassword({token:n,email:r,password:a,password_confirmation:c}),v(!0)}catch(j){const _=j instanceof Error?j.message:"Failed to reset password. The link may have expired.";J.error(_)}finally{p(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-secondary-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs(fn,{to:"/",className:"inline-flex items-center gap-2.5 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]})}),s.jsx(Q,{children:g?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-50 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"w-8 h-8 text-green-500"})}),s.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Password Reset!"}),s.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Your password has been updated successfully. You can now sign in with your new password."}),s.jsx(q,{className:"w-full",onClick:()=>t("/login"),children:"Sign In"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-2",children:"Set new password"}),s.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Enter your new password for ",s.jsx("strong",{children:r})]}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-stone-400",children:s.jsx(Wc,{className:"w-4 h-4"})}),s.jsx("input",{type:u?"text":"password",placeholder:"At least 12 characters",value:a,onChange:N=>i(N.target.value),required:!0,minLength:12,className:"w-full rounded-xl border border-stone-300 bg-white pl-10 pr-10 py-2.5 text-sm text-stone-900 placeholder:text-stone-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none transition-all duration-200"}),s.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-stone-400 hover:text-stone-600",children:u?s.jsx(Fw,{className:"w-4 h-4"}):s.jsx(Sa,{className:"w-4 h-4"})})]})]}),s.jsx($e,{label:"Confirm Password",type:"password",placeholder:"Re-enter your password",value:c,onChange:N=>d(N.target.value),icon:s.jsx(Wc,{className:"w-4 h-4"}),required:!0,error:c&&a!==c?"Passwords do not match":void 0}),s.jsx(q,{type:"submit",isLoading:m,className:"w-full",children:"Reset Password"})]})]})})]})})}function fJ(e){const t=new Date(e),r=new Date().getTime()-t.getTime(),a=Math.floor(r/(1e3*60*60*24));return a===0?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):a===1?"Yesterday":a<7?t.toLocaleDateString([],{weekday:"short"}):t.toLocaleDateString([],{month:"short",day:"numeric"})}const mJ={student:"bg-blue-100 text-blue-700",preceptor:"bg-green-100 text-green-700",site_manager:"bg-purple-100 text-purple-700",coordinator:"bg-amber-100 text-amber-700",professor:"bg-teal-100 text-teal-700",admin:"bg-red-100 text-red-700"};function hJ({selectedId:e,onSelect:t}){const[n,r]=b.useState(""),{user:a}=Je(),{data:i,isLoading:c}=ZF(),u=(i?.data??[]).filter(m=>n?m.users.filter(g=>g.id!==a?.id).some(g=>`${g.first_name} ${g.last_name}`.toLowerCase().includes(n.toLowerCase())):!0);function h(m){return m.users.find(p=>p.id!==a?.id)||m.users[0]}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-3 border-b border-stone-100",children:s.jsxs("div",{className:"relative",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search conversations...",value:n,onChange:m=>r(m.target.value),className:"w-full pl-9 pr-3 py-2 rounded-lg border border-stone-200 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:c?s.jsx("div",{className:"p-4 text-center text-stone-400 text-sm",children:"Loading..."}):u.length===0?s.jsx("div",{className:"p-4 text-center text-stone-400 text-sm",children:n?"No conversations found":"No conversations yet"}):u.map(m=>{const p=h(m),g=m.id===e,v=m.unread_count>0,y=m.is_broadcast;return s.jsxs("button",{onClick:()=>t(m.id),className:`w-full text-left px-3 py-3 flex items-start gap-3 transition-colors border-b border-stone-50 ${g?"bg-primary-50":v?"bg-stone-50 hover:bg-stone-100":"hover:bg-stone-50"}`,children:[y?s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0 bg-amber-100 text-amber-700",children:s.jsx(sp,{className:"w-5 h-5"})}):m.is_group?s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0 bg-purple-100 text-purple-700",children:s.jsx(ut,{className:"w-5 h-5"})}):s.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0 ${mJ[p?.role||"student"]}`,children:[p?.first_name?.[0],p?.last_name?.[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[s.jsx("span",{className:`text-sm truncate ${v?"font-semibold text-stone-900":"font-medium text-stone-700"}`,children:y?m.subject||"Broadcast":`${p?.first_name} ${p?.last_name}`}),y&&s.jsx("span",{className:"shrink-0 text-[10px] font-semibold px-1.5 py-0.5 rounded-full bg-amber-100 text-amber-700",children:"Broadcast"})]}),m.latest_message&&s.jsx("span",{className:"text-xs text-stone-400 shrink-0 ml-2",children:fJ(m.latest_message.created_at)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("p",{className:`text-xs truncate flex-1 ${v?"text-stone-700 font-medium":"text-stone-500"}`,children:m.latest_message?(m.latest_message.sender_id===a?.id?"You: ":"")+m.latest_message.body:"No messages yet"}),v&&s.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-primary-600 text-white text-xs font-bold flex items-center justify-center",children:m.unread_count>9?"9+":m.unread_count})]})]})]},m.id)})})]})}function pJ({message:e,isMine:t,showSender:n}){const r=new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} ${n?"mt-2":"mt-0.5"}`,children:s.jsxs("div",{className:`max-w-[75%] ${t?"items-end":"items-start"}`,children:[n&&!t&&e.sender&&s.jsxs("p",{className:"text-xs text-stone-500 mb-1 ml-1",children:[e.sender.first_name," ",e.sender.last_name]}),s.jsxs("div",{className:`px-3.5 py-2 rounded-2xl text-sm leading-relaxed ${t?"bg-primary-600 text-white rounded-br-md":"bg-white border border-stone-200 text-stone-800 rounded-bl-md"}`,children:[s.jsx("p",{className:"whitespace-pre-wrap break-words",children:e.body}),s.jsx("p",{className:`text-[10px] mt-1 ${t?"text-primary-200":"text-stone-400"}`,children:r})]})]})})}const xJ=[{id:"student-hour-review",label:"Request Hour Review",body:"Hi, I have submitted my clinical hours for review. Could you please take a look at them when you have a chance? Thank you!",roles:["student"],category:"Requests"},{id:"student-thank",label:"Thank Preceptor",body:"Thank you so much for your guidance and mentorship during my rotation. I really appreciate the time you spent teaching me and the clinical experiences you provided.",roles:["student"],category:"General"},{id:"student-rotation-question",label:"Ask About Rotation",body:"Hi, I had a question about my upcoming rotation. Could you provide more details about the schedule, expectations, and any preparation I should do beforehand? Thank you!",roles:["student"],category:"Requests"},{id:"preceptor-hours-approved",label:"Hours Approved",body:"I have reviewed and approved your submitted clinical hours. Keep up the great work!",roles:["preceptor"],category:"Reviews"},{id:"preceptor-hours-revision",label:"Hours Need Revision",body:"I reviewed your submitted hours and noticed some discrepancies. Could you please review and resubmit with the necessary corrections? Let me know if you have any questions.",roles:["preceptor"],category:"Reviews"},{id:"preceptor-eval-reminder",label:"Evaluation Reminder",body:"This is a friendly reminder that your evaluation is coming up soon. Please make sure your hours are up to date and reach out if you have any questions about the evaluation process.",roles:["preceptor"],category:"Reminders"},{id:"coord-announcement",label:"Program Announcement",body:"Dear students, I wanted to share an important update regarding our clinical rotation program. Please review the following information carefully.",roles:["coordinator"],category:"Announcements"},{id:"coord-app-update",label:"Application Update",body:"I wanted to provide an update on your rotation application. Please log in to ClinicLink to check the latest status and any required actions on your part.",roles:["coordinator"],category:"Updates"},{id:"coord-compliance",label:"Compliance Reminder",body:"This is a reminder to ensure all your credentials and documentation are current. Please review your compliance status in ClinicLink and upload any missing or expired documents as soon as possible.",roles:["coordinator"],category:"Reminders"},{id:"general-thank-you",label:"Thank You",body:"Thank you for your help and support. I really appreciate it!",roles:["student","preceptor","coordinator","site_manager","professor","admin"],category:"General"},{id:"general-follow-up",label:"Follow Up",body:"Hi, I wanted to follow up on our previous conversation. Could you please provide an update when you get a chance? Thank you!",roles:["student","preceptor","coordinator","site_manager","professor","admin"],category:"General"},{id:"general-intro",label:"Introduction",body:"Hi, I wanted to introduce myself. I look forward to working with you this rotation. Please don't hesitate to reach out if there's anything I should know or prepare.",roles:["student","preceptor","coordinator","site_manager","professor","admin"],category:"General"}];function zM({onSelect:e}){const{user:t}=Je(),[n,r]=b.useState(!1),a=b.useRef(null);b.useEffect(()=>{function u(h){a.current&&!a.current.contains(h.target)&&r(!1)}return n&&document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[n]);const i=t?.role||"student",c=xJ.filter(u=>u.roles.includes(i)),d=[...new Set(c.map(u=>u.category))];return c.length===0?null:s.jsxs("div",{ref:a,className:"relative",children:[s.jsx("button",{type:"button",onClick:()=>r(!n),className:"p-2.5 rounded-xl text-stone-400 hover:text-stone-600 hover:bg-stone-100 transition-colors",title:"Insert template",children:s.jsx(At,{className:"w-5 h-5"})}),n&&s.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-72 bg-white rounded-xl shadow-xl border border-stone-200 z-50 max-h-80 overflow-y-auto",children:[s.jsx("div",{className:"px-3 py-2 border-b border-stone-100",children:s.jsx("p",{className:"text-xs font-semibold text-stone-500 uppercase tracking-wider",children:"Message Templates"})}),d.map(u=>s.jsxs("div",{children:[s.jsx("p",{className:"px-3 pt-2 pb-1 text-xs font-medium text-stone-400",children:u}),c.filter(h=>h.category===u).map(h=>s.jsxs("button",{onClick:()=>{e(h.body),r(!1)},className:"w-full text-left px-3 py-2 hover:bg-stone-50 transition-colors",children:[s.jsx("p",{className:"text-sm font-medium text-stone-700",children:h.label}),s.jsx("p",{className:"text-xs text-stone-400 line-clamp-1",children:h.body})]},h.id))]},u))]})]})}function gJ({conversationId:e,onBack:t}){const{user:n}=Je(),{data:r,isLoading:a}=JF(e),i=eV(),[c,d]=b.useState(""),u=b.useRef(null),[h,m]=b.useState(0),p=r?.messages?.data??[],g=r?.conversation,v=g?.users?.find(j=>j.id!==n?.id)||g?.users?.[0];b.useEffect(()=>{p.length>h&&(u.current?.scrollIntoView({behavior:h===0?"auto":"smooth"}),m(p.length))},[p.length,h]),b.useEffect(()=>{m(0)},[e]);function y(){const j=c.trim();!j||i.isPending||i.mutate({conversationId:e,body:j},{onSuccess:()=>d("")})}function N(j){j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),y())}return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-stone-200 bg-white",children:[s.jsx("button",{onClick:t,className:"lg:hidden p-1.5 rounded-lg hover:bg-stone-100 text-stone-600 transition-colors",children:s.jsx(Dr,{className:"w-5 h-5"})}),v&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[v.first_name[0],v.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:[v.first_name," ",v.last_name]}),s.jsx("p",{className:"text-xs text-stone-500 capitalize",children:v.role?.replace("_"," ")})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-1",children:[a?s.jsx("div",{className:"text-center text-stone-400 text-sm py-8",children:"Loading messages..."}):p.length===0?s.jsx("div",{className:"text-center text-stone-400 text-sm py-8",children:"No messages yet. Say hello!"}):p.map((j,_)=>{const C=p[_-1],E=!C||new Date(j.created_at).toDateString()!==new Date(C.created_at).toDateString();return s.jsxs("div",{children:[E&&s.jsx("div",{className:"flex items-center justify-center py-3",children:s.jsx("span",{className:"text-xs text-stone-400 bg-stone-100 px-3 py-1 rounded-full",children:new Date(j.created_at).toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})})}),s.jsx(pJ,{message:j,isMine:j.sender_id===n?.id,showSender:j.sender_id!==C?.sender_id||E})]},j.id)}),s.jsx("div",{ref:u})]}),s.jsx("div",{className:"border-t border-stone-200 bg-white px-4 py-3",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(zM,{onSelect:j=>d(_=>_?_+`
`+j:j)}),s.jsx("textarea",{value:c,onChange:j=>d(j.target.value),onKeyDown:N,placeholder:"Type a message...",rows:1,className:"flex-1 resize-none rounded-xl border border-stone-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 max-h-32",style:{minHeight:"42px"}}),s.jsx("button",{onClick:y,disabled:!c.trim()||i.isPending,className:"p-2.5 rounded-xl bg-primary-600 text-white hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(Gr,{className:"w-5 h-5"})})]})})]})}const vA={student:"Student",preceptor:"Preceptor",site_manager:"Site Manager",coordinator:"Coordinator",professor:"Professor",admin:"Admin"};function vJ({onClose:e,onCreated:t}){const[n,r]=b.useState(""),[a,i]=b.useState(null),[c,d]=b.useState(""),[u,h]=b.useState(""),{data:m,isLoading:p}=sV(n),g=tV();function v(){!a||!c.trim()||(h(""),g.mutate({user_id:a.id,body:c.trim()},{onSuccess:y=>t(y.conversation.id),onError:y=>h(y.message)}))}return s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-200",children:[s.jsx("h2",{className:"text-lg font-bold text-stone-900",children:"New Message"}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-lg hover:bg-stone-100 text-stone-400 transition-colors",children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-5 space-y-4",children:a?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-stone-50 rounded-xl",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[a.first_name[0],a.last_name[0]]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[a.first_name," ",a.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:vA[a.role]||a.role})]}),s.jsx("button",{onClick:()=>i(null),className:"text-xs text-primary-600 hover:text-primary-700 font-medium",children:"Change"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(zM,{onSelect:y=>d(N=>N?N+`
`+y:y)}),s.jsx("span",{className:"text-xs text-stone-400",children:"Insert a template"})]}),s.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Type your message...",rows:3,autoFocus:!0,className:"w-full rounded-xl border border-stone-200 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 resize-none"})]}),u&&s.jsx("p",{className:"text-sm text-red-600",children:u}),s.jsxs("button",{onClick:v,disabled:!c.trim()||g.isPending,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[g.isPending?s.jsx(Et,{className:"w-4 h-4 animate-spin"}):s.jsx(Gr,{className:"w-4 h-4"}),"Send Message"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",placeholder:"Search for a person...",value:n,onChange:y=>r(y.target.value),autoFocus:!0,className:"w-full pl-9 pr-3 py-2.5 rounded-xl border border-stone-200 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:p&&n.length>=2?s.jsx("div",{className:"text-center py-4 text-stone-400 text-sm",children:"Searching..."}):n.length<2?s.jsx("div",{className:"text-center py-4 text-stone-400 text-sm",children:"Type at least 2 characters to search"}):m?.length?m.map(y=>s.jsxs("button",{onClick:()=>i(y),className:"w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl hover:bg-stone-50 transition-colors",children:[s.jsxs("div",{className:"w-9 h-9 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-sm",children:[y.first_name[0],y.last_name[0]]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900",children:[y.first_name," ",y.last_name]}),s.jsx("p",{className:"text-xs text-stone-500",children:vA[y.role]||y.role})]})]},y.id)):s.jsx("div",{className:"text-center py-4 text-stone-400 text-sm",children:"No users found"})})]})})]})})}function yJ({open:e,onClose:t,onSent:n,programs:r}){const{user:a}=Je(),i=a?.role==="admin",[c,d]=b.useState(""),[u,h]=b.useState(""),[m,p]=b.useState("all_students"),[g,v]=b.useState(""),[y,N]=b.useState("student"),j=rV(),_=()=>{if(!c.trim()||!u.trim()){J.error("Subject and message are required");return}j.mutate({subject:c.trim(),body:u.trim(),audience:m,...m==="program"?{program_id:g}:{},...m==="role"?{role:y}:{}},{onSuccess:C=>{J.success(`Broadcast sent to ${C.recipients_count} recipient(s)`),d(""),h(""),t(),n?.(C.conversation.id)},onError:C=>{J.error(C.message||"Failed to send broadcast")}})};return s.jsx(We,{isOpen:e,onClose:t,title:"Send Broadcast",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-xl border border-amber-200",children:[s.jsx(sp,{className:"w-5 h-5 text-amber-600 shrink-0"}),s.jsx("p",{className:"text-sm text-stone-700",children:"Broadcasts send a one-way announcement to all selected recipients as a group conversation."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Audience"}),s.jsxs("select",{value:m,onChange:C=>p(C.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[s.jsx("option",{value:"all_students",children:"All Students"}),r&&r.length>0&&s.jsx("option",{value:"program",children:"By Program"}),i&&s.jsx("option",{value:"role",children:"By Role"})]})]}),m==="program"&&r&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program"}),s.jsxs("select",{value:g,onChange:C=>v(C.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[s.jsx("option",{value:"",children:"Select a program..."}),r.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),m==="role"&&i&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Role"}),s.jsxs("select",{value:y,onChange:C=>N(C.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[s.jsx("option",{value:"student",children:"Students"}),s.jsx("option",{value:"preceptor",children:"Preceptors"}),s.jsx("option",{value:"site_manager",children:"Site Managers"}),s.jsx("option",{value:"coordinator",children:"Coordinators"}),s.jsx("option",{value:"professor",children:"Professors"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Subject"}),s.jsx($e,{value:c,onChange:C=>d(C.target.value),placeholder:"Announcement subject...",maxLength:255})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message"}),s.jsx("textarea",{value:u,onChange:C=>h(C.target.value),placeholder:"Type your broadcast message...",rows:5,maxLength:1e4,className:"w-full rounded-xl border border-stone-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(q,{variant:"secondary",onClick:t,children:"Cancel"}),s.jsx(q,{onClick:_,disabled:j.isPending||!c.trim()||!u.trim(),children:j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Et,{className:"w-4 h-4 animate-spin"})," Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sp,{className:"w-4 h-4"})," Send Broadcast"]})})]})]})})}function yA(){const{id:e}=Nl(),t=Ut(),{user:n}=Je(),[r,a]=b.useState(!1),[i,c]=b.useState(!1),d=n?.role==="coordinator"||n?.role==="admin";return s.jsxs("div",{className:"h-[calc(100vh-4rem)] lg:h-[calc(100vh-0rem)] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-stone-200 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rp,{className:"w-6 h-6 text-primary-600"}),s.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Messages"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[d&&s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-500 text-white rounded-xl text-sm font-medium hover:bg-amber-600 transition-colors",children:[s.jsx(sp,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Broadcast"})]}),s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"New Message"})]})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:`${e?"hidden lg:flex":"flex"} w-full lg:w-80 flex-col border-r border-stone-200 bg-white`,children:s.jsx(hJ,{selectedId:e||null,onSelect:u=>t(`/messages/${u}`)})}),s.jsx("div",{className:`${e?"flex":"hidden lg:flex"} flex-1 flex-col bg-stone-50`,children:e?s.jsx(gJ,{conversationId:e,onBack:()=>t("/messages")}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-stone-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rp,{className:"w-16 h-16 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"Select a conversation"}),s.jsx("p",{className:"text-sm mt-1",children:"Choose from existing conversations or start a new one"})]})})})]}),r&&s.jsx(vJ,{onClose:()=>a(!1),onCreated:u=>{a(!1),t(`/messages/${u}`)}}),i&&s.jsx(yJ,{open:i,onClose:()=>c(!1),onSent:u=>{c(!1),t(`/messages/${u}`)}})]})}class bJ extends lW{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?LY(t)?["timed","allDay"]:["allDay"]:["timed"]}}const jJ=Zt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function UM(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return B(gi.Consumer,null,n=>{if(!e.isLabeled)return B("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:r,options:a,viewApi:i}=n,c=a.slotLabelFormat==null?jJ:Array.isArray(a.slotLabelFormat)?Zt(a.slotLabelFormat[0]):Zt(a.slotLabelFormat),d={level:0,time:e.time,date:r.toDate(e.date),view:i,text:r.format(e.date,c)};return B(js,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:d,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:wJ,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},u=>B("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},B(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function wJ(e){return e.text}class NJ extends bt{render(){return this.props.slatMetas.map(t=>B("tr",{key:t.key},B(UM,Object.assign({},t))))}}const SJ=Zt({week:"short"}),_J=5;class CJ extends sa{constructor(){super(...arguments),this.allDaySplitter=new bJ,this.headerElRef=Es(),this.rootElRef=Es(),this.scrollerElRef=Es(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=t)},this.renderHeadAxis=(t,n="")=>{let{options:r}=this.context,{dateProfile:a}=this.props,i=a.renderRange,d=Cl(i.start,i.end)===1?ed(this.context,i.start,"week"):{};return r.weekNumbers&&t==="day"?B(cM,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:SJ},u=>B("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},B(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:d}))):B("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},B("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=t=>{let{options:n,viewApi:r}=this.context,a={text:n.allDayText,view:r};return B(js,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:EJ,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},i=>B("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},B(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,n,r){let{context:a,props:i}=this,c=[],d=yp(a.options);return t&&c.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),n&&(c.push({type:"body",key:"all-day",chunk:{content:n}}),c.push({type:"body",key:"all-day-divider",outerContent:B("tr",{role:"presentation",className:"fc-scrollgrid-section"},B("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),c.push({type:"body",key:"body",liquid:!0,expandRows:!!a.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),B(Zu,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},B(SN,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:c}))}renderHScrollLayout(t,n,r,a,i,c,d){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:h,props:m}=this,p=!m.forPrint&&yp(h.options),g=!m.forPrint&&iM(h.options),v=[];t&&v.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:N=>B("tr",{role:"presentation"},this.renderHeadAxis("day",N.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),n&&(v.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:N=>B("tr",{role:"presentation"},this.renderTableRowAxis(N.rowSyncHeights[0]))},{key:"cols",content:n}]}),v.push({key:"all-day-divider",type:"body",outerContent:B("tr",{role:"presentation",className:"fc-scrollgrid-section"},B("td",{colSpan:2,className:"fc-timegrid-divider "+h.theme.getClass("tableCellShaded")}))}));let y=h.options.nowIndicator;return v.push({type:"body",key:"body",liquid:!0,expandRows:!!h.options.expandRows,chunks:[{key:"axis",content:N=>B("div",{className:"fc-timegrid-axis-chunk"},B("table",{"aria-hidden":!0,style:{height:N.expandRows?N.clientHeight:""}},N.tableColGroupNode,B("tbody",null,B(NJ,{slatMetas:c}))),B("div",{className:"fc-timegrid-now-indicator-container"},B(Uo,{unit:y?"minute":"day"},j=>{let _=y&&d&&d.safeComputeTop(j);return typeof _=="number"?B(CN,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:_},isAxis:!0,date:j}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),g&&v.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:wj},{key:"cols",content:wj}]}),B(Zu,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:h.viewSpec},B(u,{liquid:!m.isHeightAuto&&!m.forPrint,forPrint:m.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:i}]}],sections:v}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:n}=this.context.options;return(t===!0||n===!0)&&(t=void 0,n=_J),{dayMaxEvents:t,dayMaxEventRows:n}}}function EJ(e){return e.text}class AJ{constructor(t,n,r){this.positions=t,this.dateProfile=n,this.slotDuration=r}safeComputeTop(t){let{dateProfile:n}=this;if(ai(n.currentRange,t)){let r=$t(t),a=t.valueOf()-r.valueOf();if(a>=Kr(n.slotMinTime)&&a<Kr(n.slotMaxTime))return this.computeTimeTop(ht(a))}return null}computeDateTop(t,n){return n||(n=$t(t)),this.computeTimeTop(ht(t.valueOf()-n.valueOf()))}computeTimeTop(t){let{positions:n,dateProfile:r}=this,a=n.els.length,i=(t.milliseconds-Kr(r.slotMinTime))/Kr(this.slotDuration),c,d;return i=Math.max(0,i),i=Math.min(a,i),c=Math.floor(i),c=Math.min(c,a-1),d=i-c,n.tops[c]+n.getHeight(c)*d}}class kJ extends bt{render(){let{props:t,context:n}=this,{options:r}=n,{slatElRefs:a}=t;return B("tbody",null,t.slatMetas.map((i,c)=>{let d={time:i.time,date:n.dateEnv.toDate(i.date),view:n.viewApi};return B("tr",{key:i.key,ref:a.createRef(i.key)},t.axis&&B(UM,Object.assign({},i)),B(js,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:d,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class DJ extends bt{constructor(){super(...arguments),this.rootElRef=Es(),this.slatElRefs=new ti}render(){let{props:t,context:n}=this;return B("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},B("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,B(kJ,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new AJ(new td(this.rootElRef.current,OJ(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function OJ(e,t){return t.map(n=>e[n.key])}function Cu(e,t){let n=[],r;for(r=0;r<t;r+=1)n.push([]);if(e)for(r=0;r<e.length;r+=1)n[e[r].col].push(e[r]);return n}function bA(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let r of e.segs)n[r.col].segs.push(r)}else for(let r=0;r<t;r+=1)n[r]=null;return n}class TJ extends bt{render(){let{props:t}=this;return B(dM,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>qM(t.hiddenSegs,t),defaultGenerator:RJ,forceTimed:!0},n=>B(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function RJ(e){return e.shortText}function MJ(e,t,n){let r=new YR;t!=null&&(r.strictOrder=t),n!=null&&(r.maxStackCnt=n);let a=r.addSegs(e),i=bW(a),c=PJ(r);return c=UJ(c,1),{segRects:BJ(c),hiddenGroups:i}}function PJ(e){const{entriesByLevel:t}=e,n=MN((r,a)=>r+":"+a,(r,a)=>{let i=zJ(e,r,a),c=jA(i,n),d=t[r][a];return[Object.assign(Object.assign({},d),{nextLevelNodes:c[0]}),d.thickness+c[1]]});return jA(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function jA(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:a}=e,i=r,c=[];for(;i<a;)c.push(t(n,i)),i+=1;return c.sort(IJ),[c.map(LJ),c[0][1]]}function IJ(e,t){return t[1]-e[1]}function LJ(e){return e[0]}function zJ(e,t,n){let{levelCoords:r,entriesByLevel:a}=e,i=a[t][n],c=r[t]+i.thickness,d=r.length,u=t;for(;u<d&&r[u]<c;u+=1);for(;u<d;u+=1){let h=a[u],m,p=jj(h,i.span.start,bj),g=p[0]+p[1],v=g;for(;(m=h[v])&&m.span.start<i.span.end;)v+=1;if(g<v)return{level:u,lateralStart:g,lateralEnd:v}}return null}function UJ(e,t){const n=MN((r,a,i)=>fo(r),(r,a,i)=>{let{nextLevelNodes:c,thickness:d}=r,u=d+i,h=d/u,m,p=[];if(!c.length)m=t;else for(let v of c)if(m===void 0){let y=n(v,a,u);m=y[0],p.push(y[1])}else{let y=n(v,m,0);p.push(y[1])}let g=(m-a)*h;return[m-g,Object.assign(Object.assign({},r),{thickness:g,nextLevelNodes:p})]});return e.map(r=>n(r,0,0)[1])}function BJ(e){let t=[];const n=MN((a,i,c)=>fo(a),(a,i,c)=>{let d=Object.assign(Object.assign({},a),{levelCoord:i,stackDepth:c,stackForward:0});return t.push(d),d.stackForward=r(a.nextLevelNodes,i+a.thickness,c+1)+1});function r(a,i,c){let d=0;for(let u of a)d=Math.max(n(u,i,c),d);return d}return r(e,0,0),t}function MN(e,t){const n={};return(...r)=>{let a=e(...r);return a in n?n[a]:n[a]=t(...r)}}function wA(e,t,n=null,r=0){let a=[];if(n)for(let i=0;i<e.length;i+=1){let c=e[i],d=n.computeDateTop(c.start,t),u=Math.max(d+(r||0),n.computeDateTop(c.end,t));a.push({start:Math.round(d),end:Math.round(u)})}return a}function qJ(e,t,n,r){let a=[],i=[];for(let h=0;h<e.length;h+=1){let m=t[h];m?a.push({index:h,thickness:1,span:m}):i.push(e[h])}let{segRects:c,hiddenGroups:d}=MJ(a,n,r),u=[];for(let h of c)u.push({seg:e[h.index],rect:h});for(let h of i)u.push({seg:h,rect:null});return{segPlacements:u,hiddenGroups:d}}const $J=Zt({hour:"numeric",minute:"2-digit",meridiem:!1});class BM extends bt{render(){return B(_N,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:$J}))}}class HJ extends bt{constructor(){super(...arguments),this.sortEventSegs=Fe(xN)}render(){let{props:t,context:n}=this,{options:r}=n,a=r.selectMirror,i=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||a&&t.dateSelectionSegs||[],c=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},d=this.sortEventSegs(t.fgEventSegs,r.eventOrder);return B(EN,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},u=>B("div",{className:"fc-timegrid-col-frame"},B("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),B("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(d,c,!1,!1,!1)),B("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!t.eventDrag,!!t.eventResize,!!a,"mirror")),B("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),AN(r)&&B(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,n,r,a,i,c){let{props:d}=this;return d.forPrint?qM(t,d):this.renderPositionedFgSegs(t,n,r,a,i,c)}renderPositionedFgSegs(t,n,r,a,i,c){let{eventMaxStack:d,eventShortHeight:u,eventOrderStrict:h,eventMinHeight:m}=this.context.options,{date:p,slatCoords:g,eventSelection:v,todayRange:y,nowDate:N}=this.props,j=r||a||i,_=wA(t,p,g,m),{segPlacements:C,hiddenGroups:E}=qJ(t,_,h,d);return B(Lt,null,this.renderHiddenGroups(E,t),C.map(k=>{let{seg:O,rect:T}=k,D=O.eventRange.instance.instanceId,P=j||!!(!n[D]&&T),X=hy(T&&T.span),ae=!j&&T?this.computeSegHStyle(T):{left:0,right:0},G=!!T&&T.stackForward>0,M=!!T&&T.span.end-T.span.start<u;return B("div",{className:"fc-timegrid-event-harness"+(G?" fc-timegrid-event-harness-inset":""),key:c||D,style:Object.assign(Object.assign({visibility:P?"":"hidden"},X),ae)},B(BM,Object.assign({seg:O,isDragging:r,isResizing:a,isDateSelecting:i,isSelected:D===v,isShort:M},ii(O,y,N))))}))}renderHiddenGroups(t,n){let{extraDateSpan:r,dateProfile:a,todayRange:i,nowDate:c,eventSelection:d,eventDrag:u,eventResize:h}=this.props;return B(Lt,null,t.map(m=>{let p=hy(m.span),g=FJ(m.entries,n);return B(TJ,{key:jR(uM(g)),hiddenSegs:g,top:p.top,bottom:p.bottom,extraDateSpan:r,dateProfile:a,todayRange:i,nowDate:c,eventSelection:d,eventDrag:u,eventResize:h})}))}renderFillSegs(t,n){let{props:r,context:a}=this,c=wA(t,r.date,r.slatCoords,a.options.eventMinHeight).map((d,u)=>{let h=t[u];return B("div",{key:qR(h.eventRange),className:"fc-timegrid-bg-harness",style:hy(d)},n==="bg-event"?B(lM,Object.assign({seg:h},ii(h,r.todayRange,r.nowDate))):oM(n))});return B(Lt,null,c)}renderNowIndicator(t){let{slatCoords:n,date:r}=this.props;return n?t.map((a,i)=>B(CN,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(a.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(t){let{isRtl:n,options:r}=this.context,a=r.slotEventOverlap,i=t.levelCoord,c=t.levelCoord+t.thickness,d,u;a&&(c=Math.min(1,i+(c-i)*2)),n?(d=1-c,u=i):(d=i,u=1-c);let h={zIndex:t.stackDepth+1,left:d*100+"%",right:u*100+"%"};return a&&!t.stackForward&&(h[n?"marginLeft":"marginRight"]=20),h}}function qM(e,{todayRange:t,nowDate:n,eventSelection:r,eventDrag:a,eventResize:i}){let c=(a?a.affectedInstances:null)||(i?i.affectedInstances:null)||{};return B(Lt,null,e.map(d=>{let u=d.eventRange.instance.instanceId;return B("div",{key:u,style:{visibility:c[u]?"hidden":""}},B(BM,Object.assign({seg:d,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===r,isShort:!1},ii(d,t,n))))}))}function hy(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function FJ(e,t){return e.map(n=>t[n.index])}class VJ extends bt{constructor(){super(...arguments),this.splitFgEventSegs=Fe(Cu),this.splitBgEventSegs=Fe(Cu),this.splitBusinessHourSegs=Fe(Cu),this.splitNowIndicatorSegs=Fe(Cu),this.splitDateSelectionSegs=Fe(Cu),this.splitEventDrag=Fe(bA),this.splitEventResize=Fe(bA),this.rootElRef=Es(),this.cellElRefs=new ti}render(){let{props:t,context:n}=this,r=n.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),a=t.cells.length,i=this.splitFgEventSegs(t.fgEventSegs,a),c=this.splitBgEventSegs(t.bgEventSegs,a),d=this.splitBusinessHourSegs(t.businessHourSegs,a),u=this.splitNowIndicatorSegs(t.nowIndicatorSegs,a),h=this.splitDateSelectionSegs(t.dateSelectionSegs,a),m=this.splitEventDrag(t.eventDrag,a),p=this.splitEventResize(t.eventResize,a);return B("div",{className:"fc-timegrid-cols",ref:this.rootElRef},B("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,B("tbody",{role:"presentation"},B("tr",{role:"row"},t.axis&&B("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},B("div",{className:"fc-timegrid-col-frame"},B("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&B(CN,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:t.nowDate})))),t.cells.map((g,v)=>B(HJ,{key:g.key,elRef:this.cellElRefs.createRef(g.key),dateProfile:t.dateProfile,date:g.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,fgEventSegs:i[v],bgEventSegs:c[v],businessHourSegs:d[v],nowIndicatorSegs:u[v],dateSelectionSegs:h[v],eventDrag:m[v],eventResize:p[v],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new td(this.rootElRef.current,GJ(this.cellElRefs.currentMap,t.cells),!0,!1))}}function GJ(e,t){return t.map(n=>e[n.key])}class KJ extends sa{constructor(){super(...arguments),this.processSlotOptions=Fe(YJ),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(t.time){let a=r.computeTimeTop(t.time);a=Math.ceil(a),a&&(a+=1),n(a)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:n}=this;return B("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},B(DJ,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),B(VJ,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,n){let{dateEnv:r,options:a}=this.context,{colCoords:i}=this,{dateProfile:c}=this.props,{slatCoords:d}=this.state,{snapDuration:u,snapsPerSlot:h}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),m=i.leftToIndex(t),p=d.positions.topToIndex(n);if(m!=null&&p!=null){let g=this.props.cells[m],v=d.positions.tops[p],y=d.positions.getHeight(p),N=(n-v)/y,j=Math.floor(N*h),_=p*h+j,C=this.props.cells[m].date,E=mj(c.slotMinTime,oK(u,_)),k=r.add(C,E),O=r.add(k,u);return{dateProfile:c,dateSpan:Object.assign({range:{start:k,end:O},allDay:!1},g.extraDateSpan),dayEl:i.els[m],rect:{left:i.lefts[m],right:i.rights[m],top:v,bottom:v+y},layer:0}}return null}}function YJ(e,t){let n=t||e,r=nN(e,n);return r===null&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class WJ extends eM{sliceRange(t,n){let r=[];for(let a=0;a<n.length;a+=1){let i=gl(t,n[a]);i&&r.push({start:i.start,end:i.end,isStart:i.start.valueOf()===t.start.valueOf(),isEnd:i.end.valueOf()===t.end.valueOf(),col:a})}return r}}class QJ extends sa{constructor(){super(...arguments),this.buildDayRanges=Fe(XJ),this.slicer=new WJ,this.timeColsRef=Es()}render(){let{props:t,context:n}=this,{dateProfile:r,dayTableModel:a}=t,{nowIndicator:i,nextDayThreshold:c}=n.options,d=this.buildDayRanges(a,r,n.dateEnv);return B(Uo,{unit:i?"minute":"day"},(u,h)=>B(KJ,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,r,null,n,d),{forPrint:t.forPrint,axis:t.axis,dateProfile:r,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:a.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:u,nowIndicatorSegs:i&&this.slicer.sliceNowDate(u,r,c,n,d),todayRange:h,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function XJ(e,t,n){let r=[];for(let a of e.headerDates)r.push({start:n.add(a,t.slotMinTime),end:n.add(a,t.slotMaxTime)});return r}const NA=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function ZJ(e,t,n,r,a){let i=new Date(0),c=e,d=ht(0),u=n||JJ(r),h=[];for(;Kr(c)<Kr(t);){let m=a.add(i,c),p=nN(d,u)!==null;h.push({date:m,time:c,key:m.toISOString(),isoTimeStr:SK(m),isLabeled:p}),c=mj(c,r),d=mj(d,r)}return h}function JJ(e){let t,n,r;for(t=NA.length-1;t>=0;t-=1)if(n=ht(NA[t]),r=nN(n,e),r!==null&&r>1)return n;return e}class eee extends CJ{constructor(){super(...arguments),this.buildTimeColsModel=Fe(tee),this.buildSlatMetas=Fe(ZJ)}render(){let{options:t,dateEnv:n,dateProfileGenerator:r}=this.context,{props:a}=this,{dateProfile:i}=a,c=this.buildTimeColsModel(i,r),d=this.allDaySplitter.splitProps(a),u=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,t.slotLabelInterval,t.slotDuration,n),{dayMinWidth:h}=t,m=!h,p=h,g=t.dayHeaders&&B(XR,{dates:c.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:m?this.renderHeadAxis:null}),v=t.allDaySlot!==!1&&(N=>B(kM,Object.assign({},d.allDay,{dateProfile:i,dayTableModel:c,nextDayThreshold:t.nextDayThreshold,tableMinWidth:N.tableMinWidth,colGroupNode:N.tableColGroupNode,renderRowIntro:m?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:N.clientWidth,clientHeight:N.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),y=N=>B(QJ,Object.assign({},d.timed,{dayTableModel:c,dateProfile:i,axis:m,slotDuration:t.slotDuration,slatMetas:u,forPrint:a.forPrint,tableColGroupNode:N.tableColGroupNode,tableMinWidth:N.tableMinWidth,clientWidth:N.clientWidth,clientHeight:N.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:N.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return p?this.renderHScrollLayout(g,v,y,c.colCnt,h,u,this.state.slatCoords):this.renderSimpleLayout(g,v,y)}}function tee(e,t){let n=new ZR(e.renderRange,t);return new JR(n,!1)}var nee='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Ax(nee);const see={allDaySlot:Boolean};var ree=Ra({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:see,views:{timeGrid:{component:eee,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class aee extends bt{constructor(){super(...arguments),this.state={textId:ol()}}render(){let{theme:t,dateEnv:n,options:r,viewApi:a}=this.context,{cellId:i,dayDate:c,todayRange:d}=this.props,{textId:u}=this.state,h=yN(c,d),m=r.listDayFormat?n.format(c,r.listDayFormat):"",p=r.listDaySideFormat?n.format(c,r.listDaySideFormat):"",g=Object.assign({date:n.toDate(c),view:a,textId:u,text:m,sideText:p,navLinkAttrs:ed(this.context,c),sideNavLinkAttrs:ed(this.context,c,"day",!1)},h);return B(js,{elTag:"tr",elClasses:["fc-list-day",...Rx(h,t)],elAttrs:{"data-date":Cf(c)},renderProps:g,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:iee,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},v=>B("th",{scope:"colgroup",colSpan:3,id:i,"aria-labelledby":u},B(v,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function iee(e){return B(Lt,null,e.text&&B("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&B("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const lee=Zt({hour:"numeric",minute:"2-digit",meridiem:"short"});class oee extends bt{render(){let{props:t,context:n}=this,{options:r}=n,{seg:a,timeHeaderId:i,eventHeaderId:c,dateHeaderId:d}=t,u=r.eventTimeFormat||lee;return B(Mx,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",a.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>cee(a,n),seg:a,timeText:"",disableDragging:!0,disableResizing:!0}),(h,m)=>B(Lt,null,dee(a,u,n,i,d),B("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},B("span",{className:"fc-list-event-dot",style:{borderColor:m.borderColor||m.backgroundColor}})),B(h,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${c} ${d}`}})))}}function cee(e,t){let n=gN(e,t);return B("a",Object.assign({},n),e.eventRange.def.title)}function dee(e,t,n,r,a){let{options:i}=n;if(i.displayEventTime!==!1){let c=e.eventRange.def,d=e.eventRange.instance,u=!1,h;if(c.allDay?u=!0:dY(e.eventRange.range)?e.isStart?h=Hu(e,t,n,null,null,d.range.start,e.end):e.isEnd?h=Hu(e,t,n,null,null,e.start,d.range.end):u=!0:h=Hu(e,t,n),u){let m={text:n.options.allDayText,view:n.viewApi};return B(js,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${a}`},renderProps:m,generatorName:"allDayContent",customGenerator:i.allDayContent,defaultGenerator:uee,classNameGenerator:i.allDayClassNames,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount})}return B("td",{className:"fc-list-event-time"},h)}return null}function uee(e){return e.text}class fee extends sa{constructor(){super(...arguments),this.computeDateVars=Fe(hee),this.eventStoreToSegs=Fe(this._eventStoreToSegs),this.state={timeHeaderId:ol(),eventHeaderId:ol(),dateHeaderIdRoot:ol()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:n}=this,{dayDates:r,dayRanges:a}=this.computeDateVars(t.dateProfile),i=this.eventStoreToSegs(t.eventStore,t.eventUiBases,a);return B(Zu,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},B(rM,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},i.length>0?this.renderSegList(i,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:n}=this.context,r={text:t.noEventsText,view:n};return B(js,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:mee,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},a=>B(a,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,n){let{theme:r,options:a}=this.context,{timeHeaderId:i,eventHeaderId:c,dateHeaderIdRoot:d}=this.state,u=pee(t);return B(Uo,{unit:"day"},(h,m)=>{let p=[];for(let g=0;g<u.length;g+=1){let v=u[g];if(v){let y=Cf(n[g]),N=d+"-"+y;p.push(B(aee,{key:y,cellId:N,dayDate:n[g],todayRange:m})),v=xN(v,a.eventOrder);for(let j of v)p.push(B(oee,Object.assign({key:y+":"+j.eventRange.instance.instanceId,seg:j,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:c,dateHeaderId:N},ii(j,m,h))))}}return B("table",{className:"fc-list-table "+r.getClass("table")},B("thead",null,B("tr",null,B("th",{scope:"col",id:i},a.timeHint),B("th",{scope:"col","aria-hidden":!0}),B("th",{scope:"col",id:c},a.eventHint))),B("tbody",null,p))})}_eventStoreToSegs(t,n,r){return this.eventRangesToSegs(vj(t,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(t,n){let r=[];for(let a of t)r.push(...this.eventRangeToSegs(a,n));return r}eventRangeToSegs(t,n){let{dateEnv:r}=this.context,{nextDayThreshold:a}=this.context.options,i=t.range,c=t.def.allDay,d,u,h,m=[];for(d=0;d<n.length;d+=1)if(u=gl(i,n[d]),u&&(h={component:this,eventRange:t,start:u.start,end:u.end,isStart:t.isStart&&u.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&u.end.valueOf()===i.end.valueOf(),dayIndex:d},m.push(h),!h.isEnd&&!c&&d+1<n.length&&i.end<r.add(n[d+1].start,a))){h.end=i.end,h.isEnd=!0;break}return m}}function mee(e){return e.text}function hee(e){let t=$t(e.renderRange.start),n=e.renderRange.end,r=[],a=[];for(;t<n;)r.push(t),a.push({start:t,end:Rn(t,1)}),t=Rn(t,1);return{dayDates:r,dayRanges:a}}function pee(e){let t=[],n,r;for(n=0;n<e.length;n+=1)r=e[n],(t[r.dayIndex]||(t[r.dayIndex]=[])).push(r);return t}var xee=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Ax(xee);const gee={listDayFormat:SA,listDaySideFormat:SA,noEventsClassNames:me,noEventsContent:me,noEventsDidMount:me,noEventsWillUnmount:me};function SA(e){return e===!1?null:Zt(e)}var vee=Ra({name:"@fullcalendar/list",optionRefiners:gee,views:{list:{component:fee,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});NN.touchMouseIgnoreWait=500;let Sj=0,jp=0,_j=!1;class $M{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&yee(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let a=n.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,bee()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:r-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=t,this.emitter=new Tx,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),jee()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),wee()}tryStart(t){let n=this.querySubjectEl(t),r=t.target;return n&&(!this.handleSelector||gs(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){_j=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?gs(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Sj||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(_j=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,n){let r=0,a=0;return n?(this.origPageX=t.pageX,this.origPageY=t.pageY):(r=t.pageX-this.origPageX,a=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:r,deltaY:a}}createEventFromTouch(t,n){let r=t.touches,a,i,c=0,d=0;return r&&r.length?(a=r[0].pageX,i=r[0].pageY):(a=t.pageX,i=t.pageY),n?(this.origPageX=a,this.origPageY=i):(c=a-this.origPageX,d=i-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:i,deltaX:c,deltaY:d}}}function yee(e){return e.button===0&&!e.ctrlKey}function bee(){Sj+=1,setTimeout(()=>{Sj-=1},NN.touchMouseIgnoreWait)}function jee(){jp+=1,jp===1&&window.addEventListener("touchmove",HM,{passive:!1})}function wee(){jp-=1,jp||window.removeEventListener("touchmove",HM,{passive:!1})}function HM(e){_j&&e.preventDefault()}class Nee{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,n,r){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,n){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,n){let r=()=>{this.cleanup(),n()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(t,n){let r=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Bu(r,{left:a.left,top:a.top}),KG(r,()=>{r.style.transition="",t()})}cleanup(){this.mirrorEl&&(Jw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Bu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Bu(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class FM extends jN{constructor(t,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=n,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class VM extends FM{constructor(t,n){super(new vW(t),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return xW(this.scrollController.el)}}class See extends FM{constructor(t){super(new yW,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const _A=typeof performance=="function"?performance.now:Date.now;class _ee{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let n=_A();this.handleSide(t,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(t,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,n))}handleMove(t,n){if(this.isEnabled){let r=t-window.scrollX,a=n-window.scrollY,i=this.pointerScreenY===null?0:a-this.pointerScreenY,c=this.pointerScreenX===null?0:r-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),c<0?this.everMovedLeft=!0:c>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_A()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,n){let{scrollCache:r}=t,{edgeThreshold:a}=this,i=a-t.distance,c=i*i/(a*a)*this.maxVelocity*n,d=1;switch(t.name){case"left":d=-1;case"right":r.setScrollLeft(r.getScrollLeft()+c*d);break;case"top":d=-1;case"bottom":r.setScrollTop(r.getScrollTop()+c*d);break}}computeBestEdge(t,n){let{edgeThreshold:r}=this,a=null,i=this.scrollCaches||[];for(let c of i){let d=c.clientRect,u=t-d.left,h=d.right-t,m=n-d.top,p=d.bottom-n;u>=0&&h>=0&&m>=0&&p>=0&&(m<=r&&this.everMovedUp&&c.canScrollUp()&&(!a||a.distance>m)&&(a={scrollCache:c,name:"top",distance:m}),p<=r&&this.everMovedDown&&c.canScrollDown()&&(!a||a.distance>p)&&(a={scrollCache:c,name:"bottom",distance:p}),u<=r&&this.everMovedLeft&&c.canScrollLeft()&&(!a||a.distance>u)&&(a={scrollCache:c,name:"left",distance:u}),h<=r&&this.everMovedRight&&c.canScrollRight()&&(!a||a.distance>h)&&(a={scrollCache:c,name:"right",distance:h}))}return a}buildCaches(t){return this.queryScrollEls(t).map(n=>n===window?new See(!1):new VM(n,!1))}queryScrollEls(t){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(r)));return n}}class Af extends wW{constructor(t,n){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,YG(document.body),QG(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let i=this.minDistance,c,{deltaX:d,deltaY:u}=a;c=d*d+u*u,c>=i*i&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,WG(document.body),XG(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new $M(t);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Nee,this.autoScroller=new _ee}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class Cee{constructor(t){this.el=t,this.origRect=bN(t),this.scrollCaches=KR(t).map(n=>new VM(n,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let n of this.scrollCaches)t+=n.origScrollLeft-n.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let n of this.scrollCaches)t+=n.origScrollTop-n.getScrollTop();return t}isWithinClipping(t,n){let r={left:t,top:n};for(let a of this.scrollCaches)if(!Eee(a.getEventTarget())&&!sW(r,a.clientRect))return!1;return!0}}function Eee(e){let t=e.tagName;return t==="HTML"||t==="BODY"}class Px{constructor(t,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):a.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new Tx}processFirstCoord(t){let n={left:t.pageX,top:t.pageY},r=n,a=t.subjectEl,i;a instanceof HTMLElement&&(i=bN(a),r=rW(r,i));let c=this.initialHit=this.queryHitForOffset(r.left,r.top);if(c){if(this.useSubjectCenter&&i){let d=VR(i,c.rect);d&&(r=aW(d))}this.coordAdjust=iW(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(t,n){let r=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(n||!Ix(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,t))}prepareHits(){this.offsetTrackers=ci(this.droppableStore,t=>(t.component.prepareHits(),new Cee(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let n in t)t[n].destroy();this.offsetTrackers={}}queryHitForOffset(t,n){let{droppableStore:r,offsetTrackers:a}=this,i=null;for(let c in r){let d=r[c].component,u=a[c];if(u&&u.isWithinClipping(t,n)){let h=u.computeLeft(),m=u.computeTop(),p=t-h,g=n-m,{origRect:v}=u,y=v.right-v.left,N=v.bottom-v.top;if(p>=0&&p<y&&g>=0&&g<N){let j=d.queryHit(p,g,y,N);j&&Dx(j.dateProfile.activeRange,j.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(p+h-window.scrollX,g+m-window.scrollY)))&&(!i||j.layer>i.layer)&&(j.componentId=c,j.context=d.context,j.rect.left+=h,j.rect.right+=h,j.rect.top+=m,j.rect.bottom+=m,i=j)}}}return i}}function Ix(e,t){return!e&&!t?!0:!!e!=!!t?!1:GY(e.dateSpan,t.dateSpan)}function GM(e,t){let n={};for(let r of t.pluginHooks.datePointTransforms)Object.assign(n,r(e,t));return Object.assign(n,Aee(e,t.dateEnv)),n}function Aee(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}class kee extends bd{constructor(t){super(t),this.handlePointerDown=r=>{let{dragging:a}=this,i=r.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=r=>{let{component:a}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:c,finalHit:d}=this.hitDragging;if(c&&d&&Ix(c,d)){let{context:u}=a,h=Object.assign(Object.assign({},GM(c.dateSpan,u)),{dayEl:c.dayEl,jsEvent:r.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",h)}}},this.dragging=new Af(t.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Px(this.dragging,vN(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Dee extends bd{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=c=>{let{component:d,dragging:u}=this,{options:h}=d.context,m=h.selectable&&d.isValidDateDownEl(c.origEvent.target);u.setIgnoreMove(!m),u.delay=c.isTouch?Oee(d):null},this.handleDragStart=c=>{this.component.context.calendarApi.unselect(c)},this.handleHitUpdate=(c,d)=>{let{context:u}=this.component,h=null,m=!1;if(c){let p=this.hitDragging.initialHit;c.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,c)||(h=Tee(p,c,u.pluginHooks.dateSelectionTransformers)),(!h||!AW(h,c.dateProfile,u))&&(m=!0,h=null)}h?u.dispatch({type:"SELECT_DATES",selection:h}):d||u.dispatch({type:"UNSELECT_DATES"}),m?eN():tN(),d||(this.dragSelection=h)},this.handlePointerUp=c=>{this.dragSelection&&(zR(this.dragSelection,c,this.component.context),this.dragSelection=null)};let{component:n}=t,{options:r}=n.context,a=this.dragging=new Af(t.el);a.touchScrollAllowed=!1,a.minDistance=r.selectMinDistance||0,a.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Px(this.dragging,vN(t));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Oee(e){let{options:t}=e.context,n=t.selectLongPressDelay;return n==null&&(n=t.longPressDelay),n}function Tee(e,t,n){let r=e.dateSpan,a=t.dateSpan,i=[r.range.start,r.range.end,a.range.start,a.range.end];i.sort(nK);let c={};for(let d of n){let u=d(e,t);if(u===!1)return null;u&&Object.assign(c,u)}return c.range={start:i[0],end:i[3]},c.allDay=r.allDay,c}class kf extends bd{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let d=c.origEvent.target,{component:u,dragging:h}=this,{mirror:m}=h,{options:p}=u.context,g=u.context;this.subjectEl=c.subjectEl;let v=this.subjectSeg=Jc(c.subjectEl),N=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=fN(g.getCurrentData().eventStore,N),h.minDistance=c.isTouch?0:p.eventDragMinDistance,h.delay=c.isTouch&&N!==u.props.eventSelection?Mee(u):null,p.fixedMirrorParent?m.parentNode=p.fixedMirrorParent:m.parentNode=gs(d,".fc"),m.revertDuration=p.dragRevertDuration;let j=u.isValidSegDownEl(d)&&!gs(d,".fc-event-resizer");h.setIgnoreMove(!j),this.isDragging=j&&c.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=c=>{let d=this.component.context,u=this.eventRange,h=u.instance.instanceId;c.isTouch?h!==this.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:h}):d.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(d.calendarApi.unselect(c),d.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ln(d,u.def,u.instance),jsEvent:c.origEvent,view:d.viewApi}))},this.handleHitUpdate=(c,d)=>{if(!this.isDragging)return;let u=this.relevantEvents,h=this.hitDragging.initialHit,m=this.component.context,p=null,g=null,v=null,y=!1,N={affectedEvents:u,mutatedEvents:lr(),isEvent:!0};if(c){p=c.context;let j=p.options;m===p||j.editable&&j.droppable?(g=Ree(h,c,this.eventRange.instance.range.start,p.getCurrentData().pluginHooks.eventDragMutationMassagers),g&&(v=pN(u,p.getCurrentData().eventUiBases,g,p),N.mutatedEvents=v,tM(N,c.dateProfile,p)||(y=!0,g=null,v=null,N.mutatedEvents=lr()))):p=null}this.displayDrag(p,N),y?eN():tN(),d||(m===p&&Ix(h,c)&&(g=null),this.dragging.setMirrorNeedsRevert(!g),this.dragging.setMirrorIsVisible(!c||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=p,this.validMutation=g,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=c=>{if(this.isDragging){let d=this.component.context,u=d.viewApi,{receivingContext:h,validMutation:m}=this,p=this.eventRange.def,g=this.eventRange.instance,v=new ln(d,p,g),y=this.relevantEvents,N=this.mutatedRelevantEvents,{finalHit:j}=this.hitDragging;if(this.clearDrag(),d.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:c.origEvent,view:u}),m){if(h===d){let _=new ln(d,N.defs[p.defId],g?N.instances[g.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:N});let C={oldEvent:v,event:_,relatedEvents:uo(N,d,g),revert(){d.dispatch({type:"MERGE_EVENTS",eventStore:y})}},E={};for(let k of d.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(E,k(m,d));d.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},C),E),{el:c.subjectEl,delta:m.datesDelta,jsEvent:c.origEvent,view:u})),d.emitter.trigger("eventChange",C)}else if(h){let _={event:v,relatedEvents:uo(y,d,g),revert(){d.dispatch({type:"MERGE_EVENTS",eventStore:y})}};d.emitter.trigger("eventLeave",Object.assign(Object.assign({},_),{draggedEl:c.subjectEl,view:u})),d.dispatch({type:"REMOVE_EVENTS",eventStore:y}),d.emitter.trigger("eventRemove",_);let C=N.defs[p.defId],E=N.instances[g.instanceId],k=new ln(h,C,E);h.dispatch({type:"MERGE_EVENTS",eventStore:N});let O={event:k,relatedEvents:uo(N,h,E),revert(){h.dispatch({type:"REMOVE_EVENTS",eventStore:N})}};h.emitter.trigger("eventAdd",O),c.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:g.instanceId}),h.emitter.trigger("drop",Object.assign(Object.assign({},GM(j.dateSpan,h)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:j.context.viewApi})),h.emitter.trigger("eventReceive",Object.assign(Object.assign({},O),{draggedEl:c.subjectEl,view:j.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,a=this.dragging=new Af(t.el);a.pointer.selector=kf.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Px(this.dragging,yj);i.useSubjectCenter=t.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let r=this.component.context,a=this.receivingContext;a&&a!==t&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:lr(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}kf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Ree(e,t,n,r){let a=e.dateSpan,i=t.dateSpan,c=a.range.start,d=i.range.start,u={};a.allDay!==i.allDay&&(u.allDay=i.allDay,u.hasEnd=t.context.options.allDayMaintainDuration,i.allDay?c=$t(n):c=n);let h=Bc(c,d,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);h.milliseconds&&(u.allDay=!1);let m={datesDelta:h,standardProps:u};for(let p of r)p(m,e,t);return m}function Mee(e){let{options:t}=e.context,n=t.eventLongPressDelay;return n==null&&(n=t.longPressDelay),n}class Pee extends bd{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:c}=this,d=this.querySegEl(i),u=Jc(d),h=this.eventRange=u.eventRange;this.dragging.minDistance=c.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==h.instance.instanceId)},this.handleDragStart=i=>{let{context:c}=this.component,d=this.eventRange;this.relevantEvents=fN(c.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(i);this.draggingSegEl=u,this.draggingSeg=Jc(u),c.calendarApi.unselect(),c.emitter.trigger("eventResizeStart",{el:u,event:new ln(c,d.def,d.instance),jsEvent:i.origEvent,view:c.viewApi})},this.handleHitUpdate=(i,c,d)=>{let{context:u}=this.component,h=this.relevantEvents,m=this.hitDragging.initialHit,p=this.eventRange.instance,g=null,v=null,y=!1,N={affectedEvents:h,mutatedEvents:lr(),isEvent:!0};i&&(i.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,i)||(g=Iee(m,i,d.subjectEl.classList.contains("fc-event-resizer-start"),p.range))),g&&(v=pN(h,u.getCurrentData().eventUiBases,g,u),N.mutatedEvents=v,tM(N,i.dateProfile,u)||(y=!0,g=null,v=null,N.mutatedEvents=null)),v?u.dispatch({type:"SET_EVENT_RESIZE",state:N}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),y?eN():tN(),c||(g&&Ix(m,i)&&(g=null),this.validMutation=g,this.mutatedRelevantEvents=v)},this.handleDragEnd=i=>{let{context:c}=this.component,d=this.eventRange.def,u=this.eventRange.instance,h=new ln(c,d,u),m=this.relevantEvents,p=this.mutatedRelevantEvents;if(c.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:h,jsEvent:i.origEvent,view:c.viewApi}),this.validMutation){let g=new ln(c,p.defs[d.defId],u?p.instances[u.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:p});let v={oldEvent:h,event:g,relatedEvents:uo(p,c,u),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:m})}};c.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ht(0),endDelta:this.validMutation.endDelta||ht(0),jsEvent:i.origEvent,view:c.viewApi})),c.emitter.trigger("eventChange",v)}else c.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=t,r=this.dragging=new Af(t.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let a=this.hitDragging=new Px(this.dragging,vN(t));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return gs(t.subjectEl,".fc-event")}}function Iee(e,t,n,r){let a=e.context.dateEnv,i=e.dateSpan.range.start,c=t.dateSpan.range.start,d=Bc(i,c,a,e.largeUnit);if(n){if(a.add(r.start,d)<r.end)return{startDelta:d}}else if(a.add(r.end,d)>r.start)return{endDelta:d};return null}class Lee{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let a=this.context.options.unselectCancel,i=xR(r.origEvent);this.matchesCancel=!!gs(i,a),this.matchesEvent=!!gs(i,kf.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:a}=this,{documentPointer:i}=this,c=a.getCurrentData();if(!i.wasTouchScroll){if(c.dateSelection&&!this.isRecentPointerDateSelect){let d=a.options.unselectAuto;d&&(!d||!this.matchesCancel)&&a.calendarApi.unselect(r)}c.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new $M(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const zee={fixedMirrorParent:me},Uee={dateClick:me,eventDragStart:me,eventDragStop:me,eventDrop:me,eventResizeStart:me,eventResizeStop:me,eventResize:me,drop:me,eventReceive:me,eventLeave:me};NN.dataAttrPrefix="";var Bee=Ra({name:"@fullcalendar/interaction",componentInteractions:[kee,Dee,kf,Pee],calendarInteractions:[Lee],elementDraggingImpl:Af,optionRefiners:zee,listenerRefiners:Uee});const qee=[{key:"rotation",label:"Rotations",color:"#3b82f6"},{key:"hour_log",label:"Hour Logs",color:"#22c55e"},{key:"evaluation",label:"Evaluations",color:"#f97316"},{key:"deadline",label:"Deadlines",color:"#ef4444"},{key:"application",label:"Applications",color:"#f59e0b"}];function $ee(){const e=Ut(),[t,n]=b.useState(null),[r,a]=b.useState(new Set),{data:i}=aV(t?.start??null,t?.end??null),c=b.useCallback(p=>{n({start:p.startStr.split("T")[0],end:p.endStr.split("T")[0]})},[]),d=b.useCallback(p=>{const v=p.event.extendedProps?.link;v&&e(v)},[e]),u=p=>{a(g=>{const v=new Set(g);return v.has(p)?v.delete(p):v.add(p),v})},h=(i??[]).filter(p=>!r.has(p.type)).map(p=>({id:p.id,title:p.title,start:p.start,end:p.end,allDay:p.allDay,color:p.color,extendedProps:{...p.meta,type:p.type}})),m=typeof window<"u"&&window.innerWidth<768;return s.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fl,{className:"w-6 h-6 text-primary-600"}),s.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Calendar"})]})}),s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:qee.map(p=>s.jsxs("button",{onClick:()=>u(p.key),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all border ${r.has(p.key)?"border-stone-200 text-stone-400 bg-white":"border-transparent text-white"}`,style:r.has(p.key)?void 0:{backgroundColor:p.color},children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:p.color}}),p.label]},p.key))}),s.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 p-2 sm:p-4 shadow-sm",children:s.jsx(DN,{plugins:[DM,ree,vee,Bee],initialView:m?"listWeek":"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listWeek"},events:h,datesSet:c,eventClick:d,height:"auto",eventDisplay:"block",dayMaxEvents:3,nowIndicator:!0,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:"short"}})})]})}const CA=["Clinical Skills","Professionalism","Communication","Critical Thinking","Patient Care","Medical Knowledge","Practice-Based Learning","Systems-Based Practice","Interpersonal Skills","Documentation","Clinical Judgment","Time Management","Teamwork & Collaboration","Ethics & Integrity","Patient Safety","Cultural Competency","Leadership","Problem Solving","Evidence-Based Practice","Self-Directed Learning","Technical Competence","Empathy & Compassion","Adaptability","Accountability","Initiative"],Hee={mid_rotation:"Mid-Rotation",final:"Final",student_feedback:"Student Feedback"};function Fee(){const[e,t]=b.useState(""),[n,r]=b.useState(""),{data:a,isLoading:i}=MT({university_id:e||void 0,type:n||void 0}),{data:c}=Io(),d=c?.data||[],u=fV(),h=mV(),m=hV(),[p,g]=b.useState(!1),[v,y]=b.useState(null),[N,j]=b.useState(""),[_,C]=b.useState("mid_rotation"),[E,k]=b.useState(""),[O,T]=b.useState([{key:"clinical_skills",label:"Clinical Skills",description:"",weight:""},{key:"professionalism",label:"Professionalism",description:"",weight:""},{key:"communication",label:"Communication",description:"",weight:""}]),D=()=>{y(null),j(""),C("mid_rotation"),k(e||""),T([{key:"clinical_skills",label:"Clinical Skills",description:"",weight:""},{key:"professionalism",label:"Professionalism",description:"",weight:""},{key:"communication",label:"Communication",description:"",weight:""}]),g(!0)},P=Z=>{y(Z),j(Z.name),C(Z.type),k(Z.university_id),T(Z.categories.map(fe=>({key:fe.key,label:fe.label,description:fe.description||"",weight:fe.weight!=null?String(fe.weight):""}))),g(!0)},X=()=>{const Z=`category_${O.length+1}`;T([...O,{key:Z,label:"",description:"",weight:""}])},ae=Z=>{T(O.filter((fe,U)=>U!==Z))},G=(Z,fe,U)=>{T(O.map((L,I)=>{if(I!==Z)return L;const se={...L,[fe]:U};return fe==="label"&&(se.key=U.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"")),se}))},M=()=>{if(!N||!E||O.some(fe=>!fe.label)){J.error("Please fill in all required fields");return}const Z=O.map(fe=>({key:fe.key,label:fe.label,description:fe.description||void 0,weight:fe.weight?Number(fe.weight):void 0}));v?h.mutate({id:v.id,data:{name:N,categories:Z}},{onSuccess:()=>{J.success("Template updated"),g(!1)},onError:fe=>J.error(fe.message)}):u.mutate({university_id:E,type:_,name:N,categories:Z},{onSuccess:()=>{J.success("Template created"),g(!1)},onError:fe=>J.error(fe.message)})},Y=Z=>{confirm("Delete this template?")&&m.mutate(Z,{onSuccess:()=>J.success("Template deleted"),onError:fe=>J.error(fe.message)})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Evaluation Templates"}),s.jsx("p",{className:"text-stone-500",children:"Manage custom evaluation rating categories per university"})]}),s.jsxs(q,{onClick:D,children:[s.jsx(Ct,{className:"w-4 h-4"})," New Template"]})]}),s.jsx(Q,{children:s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("select",{value:e,onChange:Z=>t(Z.target.value),className:"rounded-xl border border-stone-300 px-3 py-2 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"All Universities"}),d.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),s.jsxs("select",{value:n,onChange:Z=>r(Z.target.value),className:"rounded-xl border border-stone-300 px-3 py-2 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"mid_rotation",children:"Mid-Rotation"}),s.jsx("option",{value:"final",children:"Final"}),s.jsx("option",{value:"student_feedback",children:"Student Feedback"})]})]})}),i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Et,{className:"w-8 h-8 animate-spin text-primary-500"})}):!a||a.length===0?s.jsxs(Q,{className:"text-center py-12",children:[s.jsx(Yu,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No templates found"}),s.jsx("p",{className:"text-stone-500",children:"Create a template to customize evaluation categories"})]}):s.jsx("div",{className:"grid gap-4",children:a.map(Z=>s.jsx(Q,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-stone-900",children:Z.name}),s.jsx(ge,{variant:Z.is_active?"success":"default",size:"sm",children:Z.is_active?"Active":"Inactive"}),s.jsx(ge,{variant:"primary",size:"sm",children:Hee[Z.type]||Z.type})]}),s.jsx("p",{className:"text-sm text-stone-500 mb-3",children:Z.university?.name}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:Z.categories.map(fe=>s.jsxs("span",{className:"text-xs bg-stone-100 text-stone-600 px-2 py-1 rounded-lg",children:[fe.label,fe.weight?` (${fe.weight}%)`:""]},fe.key))})]}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx("button",{onClick:()=>P(Z),className:"p-2 rounded-lg hover:bg-stone-100 text-stone-500 transition-colors",children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Y(Z.id),className:"p-2 rounded-lg hover:bg-red-50 text-stone-500 hover:text-red-600 transition-colors",children:s.jsx(hn,{className:"w-4 h-4"})})]})]})},Z.id))}),s.jsx(We,{isOpen:p,onClose:()=>g(!1),title:v?"Edit Template":"New Evaluation Template",size:"xl",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Template Name *"}),s.jsx("input",{value:N,onChange:Z=>j(Z.target.value),placeholder:"e.g. Standard Mid-Rotation",className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),!v&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Type *"}),s.jsxs("select",{value:_,onChange:Z=>C(Z.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"mid_rotation",children:"Mid-Rotation"}),s.jsx("option",{value:"final",children:"Final"}),s.jsx("option",{value:"student_feedback",children:"Student Feedback"})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"University *"}),s.jsxs("select",{value:E,onChange:Z=>k(Z.target.value),className:"w-full rounded-xl border border-stone-300 px-3 py-2.5 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select university..."}),d.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-stone-700",children:"Rating Categories *"}),s.jsxs(q,{size:"sm",variant:"outline",onClick:X,children:[s.jsx(Ct,{className:"w-3 h-3"})," Add"]})]}),s.jsx("div",{className:"space-y-2",children:O.map((Z,fe)=>s.jsxs("div",{className:"flex items-start gap-2 bg-stone-50 rounded-xl p-3",children:[s.jsx(mT,{className:"w-4 h-4 text-stone-400 mt-2.5 shrink-0"}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-3 gap-2",children:[CA.includes(Z.label)||Z.label===""?s.jsxs("select",{value:Z.label,onChange:U=>{U.target.value==="__other__"?(G(fe,"label",""),T(L=>L.map((I,se)=>se===fe?{...I,key:"__custom__",label:""}:I))):G(fe,"label",U.target.value)},className:"rounded-lg border border-stone-200 px-3 py-2 text-sm bg-white focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",children:[s.jsx("option",{value:"",children:"Select category..."}),CA.filter(U=>U===Z.label||!O.some(L=>L.label===U)).map(U=>s.jsx("option",{value:U,children:U},U)),s.jsx("option",{value:"__other__",children:"Other (custom)..."})]}):s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{value:Z.label,onChange:U=>G(fe,"label",U.target.value),placeholder:"Custom category name *",className:"flex-1 rounded-lg border border-stone-200 px-3 py-2 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none",autoFocus:!0}),s.jsx("button",{type:"button",onClick:()=>G(fe,"label",""),className:"px-2 py-1 text-xs text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors shrink-0",title:"Switch back to preset list",children:"Presets"})]}),s.jsx("input",{value:Z.description,onChange:U=>G(fe,"description",U.target.value),placeholder:"Description (optional)",className:"rounded-lg border border-stone-200 px-3 py-2 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"}),s.jsx("input",{value:Z.weight,onChange:U=>G(fe,"weight",U.target.value),placeholder:"Weight % (optional)",type:"number",min:"0",max:"100",className:"rounded-lg border border-stone-200 px-3 py-2 text-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"})]}),O.length>1&&s.jsx("button",{onClick:()=>ae(fe),className:"p-1.5 rounded-lg hover:bg-red-50 text-stone-400 hover:text-red-600 mt-1.5",children:s.jsx(us,{className:"w-4 h-4"})})]},fe))})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(q,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),s.jsxs(q,{onClick:M,disabled:u.isPending||h.isPending,children:[(u.isPending||h.isPending)&&s.jsx(Et,{className:"w-4 h-4 animate-spin"}),v?"Update Template":"Create Template"]})]})]})})]})}const Vee={mentor_bronze:{label:"Bronze Mentor",color:"bg-amber-100 text-amber-700"},mentor_silver:{label:"Silver Mentor",color:"bg-stone-100 text-stone-600"},mentor_gold:{label:"Gold Mentor",color:"bg-yellow-100 text-yellow-700"},hours_100:{label:"Century Supervisor",color:"bg-blue-100 text-blue-700"},hours_500:{label:"Master Supervisor",color:"bg-purple-100 text-purple-700"},top_rated:{label:"Top Rated",color:"bg-green-100 text-green-700"},quick_responder:{label:"Quick Responder",color:"bg-sky-100 text-sky-700"},multi_specialty:{label:"Multi-Specialty",color:"bg-pink-100 text-pink-700"}};function Gee({entry:e,onClick:t}){const n=e.availability_status==="available"?"bg-green-500":e.availability_status==="limited"?"bg-yellow-500":"bg-stone-400",r=e.availability_status==="available"?"Available":e.availability_status==="limited"?"Limited":"Unavailable";return s.jsxs("div",{onClick:t,className:"bg-white border border-stone-200 rounded-xl p-5 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 cursor-pointer",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-lg shrink-0",children:[e.first_name[0],e.last_name[0]]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h3",{className:"font-semibold text-stone-900 truncate",children:[e.first_name," ",e.last_name]}),s.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${n} shrink-0`,title:r})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[[1,2,3,4,5].map(a=>s.jsx(Un,{className:`w-3.5 h-3.5 ${(e.average_rating??0)>=a?"text-yellow-400 fill-yellow-400":"text-stone-300"}`},a)),s.jsxs("span",{className:"text-xs text-stone-500 ml-1",children:["(",e.review_count,")"]})]})]})]}),e.specialties.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-3",children:[e.specialties.slice(0,3).map(a=>s.jsx("span",{className:"px-2 py-0.5 bg-primary-50 text-primary-700 rounded-full text-xs font-medium",children:a},a)),e.specialties.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-500 rounded-full text-xs",children:["+",e.specialties.length-3]})]}),e.bio&&s.jsx("p",{className:"text-sm text-stone-600 mt-3 line-clamp-2",children:e.bio}),e.badges.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:e.badges.slice(0,3).map(a=>{const i=Vee[a];return i?s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${i.color}`,children:i.label},a):null})}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-stone-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ut,{className:"w-3.5 h-3.5"}),e.total_students_mentored," mentored"]}),e.years_experience!=null&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3.5 h-3.5"}),e.years_experience,"y exp"]})]})]})}const Kee=["Family Medicine","Internal Medicine","Pediatrics","OB/GYN","Psychiatry","Surgery","Emergency Medicine","Cardiology","Dermatology","Neurology","Oncology","Orthopedics","Radiology","Anesthesiology","Geriatrics","Other"];function Yee(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(""),[c,d]=b.useState(1),[u,h]=b.useState(!1),{data:m,isLoading:p}=vV({search:e||void 0,specialty:n||void 0,availability:a||void 0,page:c}),{data:g}=yV(),v=m?.data||[],y=m?.last_page||1;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(lj,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-stone-900 to-stone-600 bg-clip-text text-transparent",children:"Preceptor Directory"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Find and connect with clinical preceptors"})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{value:e,onChange:N=>{t(N.target.value),d(1)},placeholder:"Search by name...",className:"w-full pl-10 pr-4 py-2.5 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white"})]}),s.jsxs("select",{value:n,onChange:N=>{r(N.target.value),d(1)},className:"px-3 py-2.5 border border-stone-200 rounded-xl text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"All Specialties"}),Kee.map(N=>s.jsx("option",{value:N,children:N},N))]}),s.jsxs("select",{value:a,onChange:N=>{i(N.target.value),d(1)},className:"px-3 py-2.5 border border-stone-200 rounded-xl text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"All Availability"}),s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"limited",children:"Limited"}),s.jsx("option",{value:"unavailable",children:"Unavailable"})]})]}),g?.leaderboard&&g.leaderboard.length>0&&s.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl",children:[s.jsxs("button",{onClick:()=>h(!u),className:"w-full flex items-center justify-between p-4 text-left hover:bg-stone-50 transition-colors rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pH,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{className:"font-semibold text-stone-900 text-sm",children:"Top Preceptors"})]}),u?s.jsx(hl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Ks,{className:"w-4 h-4 text-stone-400"})]}),u&&s.jsx("div",{className:"px-4 pb-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:g.leaderboard.slice(0,6).map((N,j)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-stone-50 rounded-xl",children:[s.jsxs("span",{className:"text-lg font-bold text-stone-300 w-6",children:["#",j+1]}),s.jsxs("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-xs shrink-0",children:[N.first_name[0],N.last_name[0]]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-stone-900 truncate",children:[N.first_name," ",N.last_name]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[N.total_students_mentored," students mentored"]})]})]},N.id))})]}),p?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(N=>s.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl p-5 animate-pulse",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-200"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-stone-200 rounded w-2/3"}),s.jsx("div",{className:"h-3 bg-stone-100 rounded w-1/2"})]})]}),s.jsx("div",{className:"h-3 bg-stone-100 rounded w-full mt-4"}),s.jsx("div",{className:"h-3 bg-stone-100 rounded w-3/4 mt-2"})]},N))}):v.length===0?s.jsxs("div",{className:"text-center py-16 bg-white border border-stone-200 rounded-xl",children:[s.jsx(lj,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500 font-medium",children:"No preceptors found"}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Try adjusting your search filters"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(N=>s.jsx(Gee,{entry:N},N.id))}),y>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{disabled:c<=1,onClick:()=>d(N=>N-1),className:"px-4 py-2 text-sm border border-stone-200 rounded-xl hover:bg-stone-50 disabled:opacity-40 transition-colors",children:"Previous"}),s.jsxs("span",{className:"text-sm text-stone-500",children:["Page ",c," of ",y]}),s.jsx("button",{disabled:c>=y,onClick:()=>d(N=>N+1),className:"px-4 py-2 text-sm border border-stone-200 rounded-xl hover:bg-stone-50 disabled:opacity-40 transition-colors",children:"Next"})]})]})}function KM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=KM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=KM(e))&&(r&&(r+=" "),r+=t);return r}var Wee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PN(e){if(typeof e!="string")return!1;var t=Wee;return t.includes(e)}var Qee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xee=new Set(Qee);function YM(e){return typeof e!="string"?!1:Xee.has(e)}function WM(e){return typeof e=="string"&&e.startsWith("data-")}function Tr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YM(n)||WM(n))&&(t[n]=e[n]);return t}function No(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Tr(t)}return typeof e=="object"&&!Array.isArray(e)?Tr(e):null}function ks(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YM(n)||WM(n)||PN(n))&&(t[n]=e[n]);return t}function Zee(e){return e==null?null:b.isValidElement(e)?ks(e.props):typeof e=="object"&&!Array.isArray(e)?ks(e):null}var Jee=["children","width","height","viewBox","className","style","title","desc"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cj.apply(null,arguments)}function ete(e,t){if(e==null)return{};var n,r,a=tte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IN=b.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:c,style:d,title:u,desc:h}=e,m=ete(e,Jee),p=i||{width:r,height:a,x:0,y:0},g=vt("recharts-surface",c);return b.createElement("svg",Cj({},ks(m),{className:g,width:r,height:a,style:d,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),b.createElement("title",null,u),b.createElement("desc",null,h),n)}),nte=["children","className"];function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ej.apply(null,arguments)}function ste(e,t){if(e==null)return{};var n,r,a=rte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,a=ste(e,nte),i=vt("recharts-layer",r);return b.createElement("g",Ej({className:i},ks(a),{ref:t}),n)}),QM=b.createContext(null),ate=()=>b.useContext(QM);function Vt(e){return function(){return e}}const XM=Math.cos,wp=Math.sin,ra=Math.sqrt,Np=Math.PI,Lx=2*Np,Aj=Math.PI,kj=2*Aj,Jl=1e-6,ite=kj-Jl;function ZM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZM;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class ote{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZM:lte(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+c}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let c=this._x1,d=this._y1,u=r-t,h=a-n,m=c-t,p=d-n,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Jl)if(!(Math.abs(p*u-h*m)>Jl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-c,y=a-d,N=u*u+h*h,j=v*v+y*y,_=Math.sqrt(N),C=Math.sqrt(g),E=i*Math.tan((Aj-Math.acos((N+g-j)/(2*_*C)))/2),k=E/C,O=E/_;Math.abs(k-1)>Jl&&this._append`L${t+k*m},${n+k*p}`,this._append`A${i},${i},0,0,${+(p*v>m*y)},${this._x1=t+O*u},${this._y1=n+O*h}`}}arc(t,n,r,a,i,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),u=r*Math.sin(a),h=t+d,m=n+u,p=1^c,g=c?a-i:i-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Jl||Math.abs(this._y1-m)>Jl)&&this._append`L${h},${m}`,r&&(g<0&&(g=g%kj+kj),g>ite?this._append`A${r},${r},0,1,${p},${t-d},${n-u}A${r},${r},0,1,${p},${this._x1=h},${this._y1=m}`:g>Jl&&this._append`A${r},${r},0,${+(g>=Aj)},${p},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function LN(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ote(t)}function zN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JM(e){this._context=e}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zx(e){return new JM(e)}function eP(e){return e[0]}function tP(e){return e[1]}function nP(e,t){var n=Vt(!0),r=null,a=zx,i=null,c=LN(d);e=typeof e=="function"?e:e===void 0?eP:Vt(e),t=typeof t=="function"?t:t===void 0?tP:Vt(t);function d(u){var h,m=(u=zN(u)).length,p,g=!1,v;for(r==null&&(i=a(v=c())),h=0;h<=m;++h)!(h<m&&n(p=u[h],h,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,h,u),+t(p,h,u));if(v)return i=null,v+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:Vt(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:Vt(+u),d):t},d.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Vt(!!u),d):n},d.curve=function(u){return arguments.length?(a=u,r!=null&&(i=a(r)),d):a},d.context=function(u){return arguments.length?(u==null?r=i=null:i=a(r=u),d):r},d}function bh(e,t,n){var r=null,a=Vt(!0),i=null,c=zx,d=null,u=LN(h);e=typeof e=="function"?e:e===void 0?eP:Vt(+e),t=typeof t=="function"?t:Vt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tP:Vt(+n);function h(p){var g,v,y,N=(p=zN(p)).length,j,_=!1,C,E=new Array(N),k=new Array(N);for(i==null&&(d=c(C=u())),g=0;g<=N;++g){if(!(g<N&&a(j=p[g],g,p))===_)if(_=!_)v=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),y=g-1;y>=v;--y)d.point(E[y],k[y]);d.lineEnd(),d.areaEnd()}_&&(E[g]=+e(j,g,p),k[g]=+t(j,g,p),d.point(r?+r(j,g,p):E[g],n?+n(j,g,p):k[g]))}if(C)return d=null,C+""||null}function m(){return nP().defined(a).curve(c).context(i)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:Vt(+p),r=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Vt(+p),h):e},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Vt(+p),h):r},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:Vt(+p),n=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Vt(+p),h):t},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Vt(+p),h):n},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(n)},h.lineX1=function(){return m().x(r).y(t)},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Vt(!!p),h):a},h.curve=function(p){return arguments.length?(c=p,i!=null&&(d=c(i)),h):c},h.context=function(p){return arguments.length?(p==null?i=d=null:d=c(i=p),h):i},h}class sP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function cte(e){return new sP(e,!0)}function dte(e){return new sP(e,!1)}const UN={draw(e,t){const n=ra(t/Np);e.moveTo(n,0),e.arc(0,0,n,0,Lx)}},ute={draw(e,t){const n=ra(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},rP=ra(1/3),fte=rP*2,mte={draw(e,t){const n=ra(t/fte),r=n*rP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},hte={draw(e,t){const n=ra(t),r=-n/2;e.rect(r,r,n,n)}},pte=.8908130915292852,aP=wp(Np/10)/wp(7*Np/10),xte=wp(Lx/10)*aP,gte=-XM(Lx/10)*aP,vte={draw(e,t){const n=ra(t*pte),r=xte*n,a=gte*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const c=Lx*i/5,d=XM(c),u=wp(c);e.lineTo(u*n,-d*n),e.lineTo(d*r-u*a,u*r+d*a)}e.closePath()}},py=ra(3),yte={draw(e,t){const n=-ra(t/(py*3));e.moveTo(0,n*2),e.lineTo(-py*n,-n),e.lineTo(py*n,-n),e.closePath()}},Nr=-.5,Sr=ra(3)/2,Dj=1/ra(12),bte=(Dj/2+1)*3,jte={draw(e,t){const n=ra(t/bte),r=n/2,a=n*Dj,i=r,c=n*Dj+n,d=-i,u=c;e.moveTo(r,a),e.lineTo(i,c),e.lineTo(d,u),e.lineTo(Nr*r-Sr*a,Sr*r+Nr*a),e.lineTo(Nr*i-Sr*c,Sr*i+Nr*c),e.lineTo(Nr*d-Sr*u,Sr*d+Nr*u),e.lineTo(Nr*r+Sr*a,Nr*a-Sr*r),e.lineTo(Nr*i+Sr*c,Nr*c-Sr*i),e.lineTo(Nr*d+Sr*u,Nr*u-Sr*d),e.closePath()}};function wte(e,t){let n=null,r=LN(a);e=typeof e=="function"?e:Vt(e||UN),t=typeof t=="function"?t:Vt(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Vt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Vt(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Sp(){}function _p(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function iP(e){this._context=e}iP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nte(e){return new iP(e)}function lP(e){this._context=e}lP.prototype={areaStart:Sp,areaEnd:Sp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ste(e){return new lP(e)}function oP(e){this._context=e}oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _te(e){return new oP(e)}function cP(e){this._context=e}cP.prototype={areaStart:Sp,areaEnd:Sp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Cte(e){return new cP(e)}function EA(e){return e<0?-1:1}function AA(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),d=(i*a+c*r)/(r+a);return(EA(i)+EA(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(d))||0}function kA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xy(e,t,n){var r=e._x0,a=e._y0,i=e._x1,c=e._y1,d=(i-r)/3;e._context.bezierCurveTo(r+d,a+d*t,i-d,c-d*n,i,c)}function Cp(e){this._context=e}Cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xy(this,this._t0,kA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xy(this,kA(this,n=AA(this,e,t)),n);break;default:xy(this,this._t0,n=AA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dP(e){this._context=new uP(e)}(dP.prototype=Object.create(Cp.prototype)).point=function(e,t){Cp.prototype.point.call(this,t,e)};function uP(e){this._context=e}uP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function Ete(e){return new Cp(e)}function Ate(e){return new dP(e)}function fP(e){this._context=e}fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=DA(e),a=DA(t),i=0,c=1;c<n;++i,++c)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function DA(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),c=new Array(n);for(a[0]=0,i[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function kte(e){return new fP(e)}function Ux(e,t){this._context=e,this._t=t}Ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Dte(e){return new Ux(e,.5)}function Ote(e){return new Ux(e,0)}function Tte(e){return new Ux(e,1)}function So(e,t){if((c=e.length)>1)for(var n=1,r,a,i=e[t[0]],c,d=i.length;n<c;++n)for(a=i,i=e[t[n]],r=0;r<d;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Oj(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Rte(e,t){return e[t]}function Mte(e){const t=[];return t.key=e,t}function Pte(){var e=Vt([]),t=Oj,n=So,r=Rte;function a(i){var c=Array.from(e.apply(this,arguments),Mte),d,u=c.length,h=-1,m;for(const p of i)for(d=0,++h;d<u;++d)(c[d][h]=[0,+r(p,c[d].key,h,i)]).data=p;for(d=0,m=zN(t(c));d<u;++d)c[m[d]].index=d;return n(c,m),c}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Vt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Vt(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?Oj:typeof i=="function"?i:Vt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??So,a):n},a}function Ite(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,c;a<i;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}So(e,t)}}function Lte(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var c=0,d=0;c<a;++c)d+=e[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}So(e,t)}}function zte(e,t){if(!(!((c=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,c;r<i;++r){for(var d=0,u=0,h=0;d<c;++d){for(var m=e[t[d]],p=m[r][1]||0,g=m[r-1][1]||0,v=(p-g)/2,y=0;y<d;++y){var N=e[t[y]],j=N[r][1]||0,_=N[r-1][1]||0;v+=j-_}u+=p,h+=v*p}a[r-1][1]+=a[r-1][0]=n,u&&(n-=h/u)}a[r-1][1]+=a[r-1][0]=n,So(e,t)}}var gy={},vy={},OA;function Ute(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(vy)),vy}var yy={},TA;function mP(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(yy)),yy}var by={},RA;function BN(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(by)),by}var jy={},wy={},MA;function Bte(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(wy)),wy}var PA;function qN(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bte(),n=BN();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],c=a.length;if(c===0)return i;let d=0,u="",h="",m=!1;for(a.charCodeAt(0)===46&&(i.push(""),d++);d<c;){const p=a[d];h?p==="\\"&&d+1<c?(d++,u+=a[d]):p===h?h="":u+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,i.push(u),u=""):u+=p:p==="["?(m=!0,u&&(i.push(u),u="")):p==="."?u&&(i.push(u),u=""):u+=p,d++}return u&&i.push(u),i}e.toPath=r})(jy)),jy}var IA;function $N(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ute(),n=mP(),r=BN(),a=qN();function i(d,u,h){if(d==null)return h;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return h;const m=d[u];return m===void 0?n.isDeepKey(u)?i(d,a.toPath(u),h):h:m}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const m=d[u];return m===void 0?h:m}default:{if(Array.isArray(u))return c(d,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return h;const m=d[u];return m===void 0?h:m}}}function c(d,u,h){if(u.length===0)return h;let m=d;for(let p=0;p<u.length;p++){if(m==null||t.isUnsafeProperty(u[p]))return h;m=m[u[p]]}return m===void 0?h:m}e.get=i})(gy)),gy}var Ny,LA;function qte(){return LA||(LA=1,Ny=$N().get),Ny}var $te=qte();const _o=Da($te);var Hte=4;function al(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hte,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,c)=>{var d=n[c-1];return typeof d=="string"?a+d+i:d!==void 0?a+al(d)+i:a+i},"")}var ds=e=>e===0?0:e>0?1:-1,Ea=e=>typeof e=="number"&&e!=+e,Co=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!Ea(e),Aa=e=>Be(e)||typeof e=="string",Fte=0,ef=e=>{var t=++Fte;return"".concat(e||"").concat(t)},bs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return r;var i;if(Co(t)){if(n==null)return r;var c=t.indexOf("%");i=n*parseFloat(t.slice(0,c))/100}else i=+t;return Ea(i)&&(i=r),a&&n!=null&&i>n&&(i=n),i},hP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function sn(e,t,n){return Be(e)&&Be(t)?al(e+n*(t-e)):t}function pP(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):_o(r,t))===n)}var pn=e=>e===null||typeof e>"u",Df=e=>pn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function ya(e){return e!=null}function Bo(){}var Vte=["type","size","sizeType"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tj.apply(null,arguments)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){Gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gte(e,t,n){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wte(e,t){if(e==null)return{};var n,r,a=Qte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xP={symbolCircle:UN,symbolCross:ute,symbolDiamond:mte,symbolSquare:hte,symbolStar:vte,symbolTriangle:yte,symbolWye:jte},Xte=Math.PI/180,Zte=e=>{var t="symbol".concat(Df(e));return xP[t]||UN},Jte=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Xte;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ene=(e,t)=>{xP["symbol".concat(Df(e))]=t},HN=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=Wte(e,Vte),i=UA(UA({},a),{},{type:t,size:n,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var g=Zte(c),v=wte().type(g).size(Jte(n,r,c)),y=v();if(y!==null)return y},{className:u,cx:h,cy:m}=i,p=ks(i);return Be(h)&&Be(m)&&Be(n)?b.createElement("path",Tj({},p,{className:vt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};HN.registerSymbol=ene;var gP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,FN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{PN(a)&&(r[a]=(i=>n[a](n,i)))}),r},tne=(e,t,n)=>r=>(e(t,n,r),null),Of=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];PN(a)&&typeof i=="function"&&(r||(r={}),r[a]=tne(i,t,n))}),r};function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sne(e,t,n){return(t=rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rne(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qn(e,t){var n=nne({},e),r=t,a=Object.keys(t),i=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return i}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(null,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ine(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lne(e,t,n){return(t=one(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function one(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cr=32,dne={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function une(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Cr/2,i=Cr/6,c=Cr/3,d=t.inactive?r:t.color,u=n??t.type;if(u==="none")return null;if(u==="plainline"){var h;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:Cr,y2:a,className:"recharts-legend-icon"})}if(u==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Cr,"M").concat(2*c,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return b.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var m=ine({},t);return delete m.legendIcon,b.cloneElement(t.legendIcon,m)}return b.createElement(HN,{fill:d,cx:a,cy:a,size:Cr,sizeType:"diameter",type:u})}function fne(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:c}=e,d={x:0,y:0,width:Cr,height:Cr},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,p)=>{var g=m.formatter||a,v=vt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var y=m.inactive?i:m.color,N=g?g(m.value,m,p):m.value;return b.createElement("li",Ep({className:v,style:u,key:"legend-item-".concat(p)},Of(e,m,p)),b.createElement(IN,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(N," legend icon")},b.createElement(une,{data:m,iconType:c,inactiveColor:i})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},N))})}var mne=e=>{var t=qn(e,dne),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},b.createElement(fne,Ep({},t,{payload:n})))},Sy={},_y={},$A;function hne(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const c=n[i],d=r(c,i,n);a.has(d)||a.set(d,c)}return Array.from(a.values())}e.uniqBy=t})(_y)),_y}var Cy={},HA;function pne(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(Cy)),Cy}var Ey={},FA;function vP(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ey)),Ey}var Ay={},ky={},Dy={},VA;function xne(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Dy)),Dy}var GA;function VN(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xne();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(ky)),ky}var Oy={},KA;function gne(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Oy)),Oy}var YA;function vne(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VN(),n=gne();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(Ay)),Ay}var Ty={},Ry={},WA;function yne(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$N();function n(r){return function(a){return t.get(a,r)}}e.property=n})(Ry)),Ry}var My={},Py={},Iy={},Ly={},QA;function yP(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Ly)),Ly}var zy={},XA;function bP(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(zy)),zy}var Uy={},ZA;function jP(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Uy)),Uy}var JA;function bne(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP(),n=bP(),r=jP();function a(m,p,g){return typeof g!="function"?a(m,p,()=>{}):i(m,p,function v(y,N,j,_,C,E){const k=g(y,N,j,_,C,E);return k!==void 0?!!k:i(y,N,v,E)},new Map)}function i(m,p,g,v){if(p===m)return!0;switch(typeof p){case"object":return c(m,p,g,v);case"function":return Object.keys(p).length>0?i(m,{...p},g,v):r.isEqualsSameValueZero(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(m,p)}}function c(m,p,g,v){if(p==null)return!0;if(Array.isArray(p))return u(m,p,g,v);if(p instanceof Map)return d(m,p,g,v);if(p instanceof Set)return h(m,p,g,v);const y=Object.keys(p);if(m==null||n.isPrimitive(m))return y.length===0;if(y.length===0)return!0;if(v?.has(p))return v.get(p)===m;v?.set(p,m);try{for(let N=0;N<y.length;N++){const j=y[N];if(!n.isPrimitive(m)&&!(j in m)||p[j]===void 0&&m[j]!==void 0||p[j]===null&&m[j]!==null||!g(m[j],p[j],j,m,p,v))return!1}return!0}finally{v?.delete(p)}}function d(m,p,g,v){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,N]of p.entries()){const j=m.get(y);if(g(j,N,y,m,p,v)===!1)return!1}return!0}function u(m,p,g,v){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let N=0;N<p.length;N++){const j=p[N];let _=!1;for(let C=0;C<m.length;C++){if(y.has(C))continue;const E=m[C];let k=!1;if(g(E,j,N,m,p,v)&&(k=!0),k){y.add(C),_=!0;break}}if(!_)return!1}return!0}function h(m,p,g,v){return p.size===0?!0:m instanceof Set?u([...m],[...p],g,v):!1}e.isMatchWith=a,e.isSetMatch=h})(Iy)),Iy}var ek;function wP(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bne();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(Py)),Py}var By={},qy={},$y={},tk;function jne(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})($y)),$y}var Hy={},nk;function GN(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Hy)),Hy}var Fy={},sk;function NP(){return sk||(sk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",c="[object Symbol]",d="[object Date]",u="[object Map]",h="[object Set]",m="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",y="[object Error]",N="[object DataView]",j="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",O="[object Int8Array]",T="[object Int16Array]",D="[object Int32Array]",P="[object BigInt64Array]",X="[object Float32Array]",ae="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=N,e.dateTag=d,e.errorTag=y,e.float32ArrayTag=X,e.float64ArrayTag=ae,e.functionTag=p,e.int16ArrayTag=T,e.int32ArrayTag=D,e.int8ArrayTag=O,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=C,e.uint32ArrayTag=E,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=_})(Fy)),Fy}var Vy={},rk;function wne(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Vy)),Vy}var ak;function SP(){return ak||(ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jne(),n=GN(),r=NP(),a=bP(),i=wne();function c(m,p){return d(m,void 0,m,new Map,p)}function d(m,p,g,v=new Map,y=void 0){const N=y?.(m,p,g,v);if(N!==void 0)return N;if(a.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const j=new Array(m.length);v.set(m,j);for(let _=0;_<m.length;_++)j[_]=d(m[_],_,g,v,y);return Object.hasOwn(m,"index")&&(j.index=m.index),Object.hasOwn(m,"input")&&(j.input=m.input),j}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const j=new RegExp(m.source,m.flags);return j.lastIndex=m.lastIndex,j}if(m instanceof Map){const j=new Map;v.set(m,j);for(const[_,C]of m)j.set(_,d(C,_,g,v,y));return j}if(m instanceof Set){const j=new Set;v.set(m,j);for(const _ of m)j.add(d(_,void 0,g,v,y));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const j=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,j);for(let _=0;_<m.length;_++)j[_]=d(m[_],_,g,v,y);return j}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const j=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,j),u(j,m,g,v,y),j}if(typeof File<"u"&&m instanceof File){const j=new File([m],m.name,{type:m.type});return v.set(m,j),u(j,m,g,v,y),j}if(typeof Blob<"u"&&m instanceof Blob){const j=new Blob([m],{type:m.type});return v.set(m,j),u(j,m,g,v,y),j}if(m instanceof Error){const j=new m.constructor;return v.set(m,j),j.message=m.message,j.name=m.name,j.stack=m.stack,j.cause=m.cause,u(j,m,g,v,y),j}if(m instanceof Boolean){const j=new Boolean(m.valueOf());return v.set(m,j),u(j,m,g,v,y),j}if(m instanceof Number){const j=new Number(m.valueOf());return v.set(m,j),u(j,m,g,v,y),j}if(m instanceof String){const j=new String(m.valueOf());return v.set(m,j),u(j,m,g,v,y),j}if(typeof m=="object"&&h(m)){const j=Object.create(Object.getPrototypeOf(m));return v.set(m,j),u(j,m,g,v,y),j}return m}function u(m,p,g=m,v,y){const N=[...Object.keys(p),...t.getSymbols(p)];for(let j=0;j<N.length;j++){const _=N[j],C=Object.getOwnPropertyDescriptor(m,_);(C==null||C.writable)&&(m[_]=d(p[_],_,g,v,y))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=u})(qy)),qy}var ik;function Nne(){return ik||(ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(By)),By}var lk;function Sne(){return lk||(lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP(),n=Nne();function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(My)),My}var Gy={},Ky={},Yy={},ok;function _ne(){return ok||(ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP(),n=GN(),r=NP();function a(i,c){return t.cloneDeepWith(i,(d,u,h,m)=>{const p=c?.(d,u,h,m);if(p!==void 0)return p;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const g={};return m.set(i,g),t.copyProperties(g,i,h,m),g}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new i.constructor(i?.valueOf());return t.copyProperties(g,i),g}case r.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}}})}e.cloneDeepWith=a})(Yy)),Yy}var ck;function Cne(){return ck||(ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_ne();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Ky)),Ky}var Wy={},Qy={},dk;function _P(){return dk||(dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Qy)),Qy}var Xy={},uk;function Ene(){return uk||(uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GN();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Xy)),Xy}var fk;function Ane(){return fk||(fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP(),n=_P(),r=Ene(),a=qN();function i(c,d){let u;if(Array.isArray(d)?u=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?u=a.toPath(d):u=[d],u.length===0)return!1;let h=c;for(let m=0;m<u.length;m++){const p=u[m];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}e.has=i})(Wy)),Wy}var mk;function kne(){return mk||(mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP(),n=BN(),r=Cne(),a=$N(),i=Ane();function c(d,u){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return u=r.cloneDeep(u),function(h){const m=a.get(h,d);return m===void 0?i.has(h,d):u===void 0?m===void 0:t.isMatch(m,u)}}e.matchesProperty=c})(Gy)),Gy}var hk;function Dne(){return hk||(hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP(),n=yne(),r=Sne(),a=kne();function i(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=i})(Ty)),Ty}var pk;function One(){return pk||(pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hne(),n=pne(),r=vP(),a=vne(),i=Dne();function c(d,u=r.identity){return a.isArrayLikeObject(d)?t.uniqBy(Array.from(d),n.ary(i.iteratee(u),1)):[]}e.uniqBy=c})(Sy)),Sy}var Zy,xk;function Tne(){return xk||(xk=1,Zy=One().uniqBy),Zy}var Rne=Tne();const gk=Da(Rne);function CP(e,t,n){return t===!0?gk(e,n):typeof t=="function"?gk(e,t):e}var Jy={exports:{}},eb={},tb={exports:{}},nb={};var vk;function Mne(){if(vk)return nb;vk=1;var e=cd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function d(p,g){var v=g(),y=r({inst:{value:v,getSnapshot:g}}),N=y[0].inst,j=y[1];return i(function(){N.value=v,N.getSnapshot=g,u(N)&&j({inst:N})},[p,v,g]),a(function(){return u(N)&&j({inst:N}),p(function(){u(N)&&j({inst:N})})},[p]),c(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function h(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return nb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,nb}var yk;function Pne(){return yk||(yk=1,tb.exports=Mne()),tb.exports}var bk;function Ine(){if(bk)return eb;bk=1;var e=cd(),t=Pne();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,i=e.useRef,c=e.useEffect,d=e.useMemo,u=e.useDebugValue;return eb.useSyncExternalStoreWithSelector=function(h,m,p,g,v){var y=i(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=d(function(){function _(T){if(!C){if(C=!0,E=T,T=g(T),v!==void 0&&N.hasValue){var D=N.value;if(v(D,T))return k=D}return k=T}if(D=k,r(E,T))return D;var P=g(T);return v!==void 0&&v(D,P)?(E=T,D):(E=T,k=P)}var C=!1,E,k,O=p===void 0?null:p;return[function(){return _(m())},O===null?void 0:function(){return _(O())}]},[m,p,g,v]);var j=a(h,y[0],y[1]);return c(function(){N.hasValue=!0,N.value=j},[j]),u(j),j},eb}var jk;function Lne(){return jk||(jk=1,Jy.exports=Ine()),Jy.exports}var zne=Lne(),KN=b.createContext(null),Une=e=>e,Yt=()=>{var e=b.useContext(KN);return e?e.store.dispatch:Une},Gh=()=>{},Bne=()=>Gh,qne=(e,t)=>e===t;function ze(e){var t=b.useContext(KN),n=b.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Gh,[t,e]);return zne.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Bne,t?t.store.getState:Gh,t?t.store.getState:Gh,n,qne)}function $ne(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Hne(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Fne(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var wk=e=>Array.isArray(e)?e:[e];function Vne(e){const t=Array.isArray(e[0])?e[0]:e;return Fne(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Gne(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var Kne=class{constructor(e){this.value=e}deref(){return this.value}},Yne=typeof WeakRef<"u"?WeakRef:Kne,Wne=0,Nk=1;function jh(){return{s:Wne,v:void 0,o:null,p:null}}function EP(e,t={}){let n=jh();const{resultEqualityCheck:r}=t;let a,i=0;function c(){let d=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=d.o;y===null&&(d.o=y=new WeakMap);const N=y.get(v);N===void 0?(d=jh(),y.set(v,d)):d=N}else{let y=d.p;y===null&&(d.p=y=new Map);const N=y.get(v);N===void 0?(d=jh(),y.set(v,d)):d=N}}const h=d;let m;if(d.s===Nk)m=d.v;else if(m=e.apply(null,arguments),i++,r){const p=a?.deref?.()??a;p!=null&&r(p,m)&&(m=p,i!==0&&i--),a=typeof m=="object"&&m!==null||typeof m=="function"?new Yne(m):m}return h.s=Nk,h.v=m,m}return c.clearCache=()=>{n=jh(),c.resetResultsCount()},c.resultsCount=()=>i,c.resetResultsCount=()=>{i=0},c}function Qne(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,c=0,d,u={},h=a.pop();typeof h=="object"&&(u=h,h=a.pop()),$ne(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=EP,argsMemoizeOptions:y=[]}=m,N=wk(g),j=wk(y),_=Vne(a),C=p(function(){return i++,h.apply(null,arguments)},...N),E=v(function(){c++;const O=Gne(_,arguments);return d=C.apply(null,O),d},...j);return Object.assign(E,{resultFunc:h,memoizedResultFunc:C,dependencies:_,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var le=Qne(EP),Xne=Object.assign((e,t=le)=>{Hne(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((c,d,u)=>(c[n[u]]=d,c),{}))},{withTypes:()=>Xne}),sb={},rb={},ab={},Sk;function Zne(){return Sk||(Sk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const c=t(r),d=t(a);if(c===d&&c===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?d-c:c-d}return 0};e.compareValues=n})(ab)),ab}var ib={},lb={},_k;function AP(){return _k||(_k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(lb)),lb}var Ck;function Jne(){return Ck||(Ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,c){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||c!=null&&Object.hasOwn(c,i)}e.isKey=a})(ib)),ib}var Ek;function ese(){return Ek||(Ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zne(),n=Jne(),r=qN();function a(i,c,d,u){if(i==null)return[];d=u?void 0:d,Array.isArray(i)||(i=Object.values(i)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const h=(v,y)=>{let N=v;for(let j=0;j<y.length&&N!=null;++j)N=N[y[j]];return N},m=(v,y)=>y==null||v==null?y:typeof v=="object"&&"key"in v?Object.hasOwn(y,v.key)?y[v.key]:h(y,v.path):typeof v=="function"?v(y):Array.isArray(v)?h(y,v):typeof y=="object"?y[v]:y,p=c.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return i.map(v=>({original:v,criteria:p.map(y=>m(y,v))})).slice().sort((v,y)=>{for(let N=0;N<p.length;N++){const j=t.compareValues(v.criteria[N],y.criteria[N],d[N]);if(j!==0)return j}return 0}).map(v=>v.original)}e.orderBy=a})(rb)),rb}var ob={},Ak;function tse(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),c=(d,u)=>{for(let h=0;h<d.length;h++){const m=d[h];Array.isArray(m)&&u<i?c(m,u+1):a.push(m)}};return c(n,0),a}e.flatten=t})(ob)),ob}var cb={},kk;function kP(){return kk||(kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P(),n=VN(),r=yP(),a=jP();function i(c,d,u){return r.isObject(u)&&(typeof d=="number"&&n.isArrayLike(u)&&t.isIndex(d)&&d<u.length||typeof d=="string"&&d in u)?a.isEqualsSameValueZero(u[d],c):!1}e.isIterateeCall=i})(cb)),cb}var Dk;function nse(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ese(),n=tse(),r=kP();function a(i,...c){const d=c.length;return d>1&&r.isIterateeCall(i,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(i,n.flatten(c),["asc"])}e.sortBy=a})(sb)),sb}var db,Ok;function sse(){return Ok||(Ok=1,db=nse().sortBy),db}var rse=sse();const Bx=Da(rse);var DP=e=>e.legend.settings,ase=e=>e.legend.size,ise=e=>e.legend.payload,lse=le([ise,DP],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Bx(r,n):r});function ose(){return ze(lse)}var wh=1;function OP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),c={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(c.height-t.height)>wh||Math.abs(c.left-t.left)>wh||Math.abs(c.top-t.top)>wh||Math.abs(c.width-t.width)>wh)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ls(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cse=typeof Symbol=="function"&&Symbol.observable||"@@observable",Tk=cse,ub=()=>Math.random().toString(36).substring(7).split("").join("."),dse={INIT:`@@redux/INIT${ub()}`,REPLACE:`@@redux/REPLACE${ub()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ub()}`},Ap=dse;function YN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function TP(e,t,n){if(typeof e!="function")throw new Error(ls(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ls(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ls(1));return n(TP)(e,t)}let r=e,a=t,i=new Map,c=i,d=0,u=!1;function h(){c===i&&(c=new Map,i.forEach((j,_)=>{c.set(_,j)}))}function m(){if(u)throw new Error(ls(3));return a}function p(j){if(typeof j!="function")throw new Error(ls(4));if(u)throw new Error(ls(5));let _=!0;h();const C=d++;return c.set(C,j),function(){if(_){if(u)throw new Error(ls(6));_=!1,h(),c.delete(C),i=null}}}function g(j){if(!YN(j))throw new Error(ls(7));if(typeof j.type>"u")throw new Error(ls(8));if(typeof j.type!="string")throw new Error(ls(17));if(u)throw new Error(ls(9));try{u=!0,a=r(a,j)}finally{u=!1}return(i=c).forEach(C=>{C()}),j}function v(j){if(typeof j!="function")throw new Error(ls(10));r=j,g({type:Ap.REPLACE})}function y(){const j=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(ls(11));function C(){const k=_;k.next&&k.next(m())}return C(),{unsubscribe:j(C)}},[Tk](){return this}}}return g({type:Ap.INIT}),{dispatch:g,subscribe:p,getState:m,replaceReducer:v,[Tk]:y}}function use(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ap.INIT})>"u")throw new Error(ls(12));if(typeof n(void 0,{type:Ap.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ls(13))})}function RP(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const c=t[i];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let a;try{use(n)}catch(i){a=i}return function(c={},d){if(a)throw a;let u=!1;const h={};for(let m=0;m<r.length;m++){const p=r[m],g=n[p],v=c[p],y=g(v,d);if(typeof y>"u")throw d&&d.type,new Error(ls(14));h[p]=y,u=u||y!==v}return u=u||r.length!==Object.keys(c).length,u?h:c}}function kp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function fse(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(ls(15))};const c={getState:a.getState,dispatch:(u,...h)=>i(u,...h)},d=e.map(u=>u(c));return i=kp(...d)(a.dispatch),{...a,dispatch:i}}}function MP(e){return YN(e)&&"type"in e&&typeof e.type=="string"}var PP=Symbol.for("immer-nothing"),Rk=Symbol.for("immer-draftable"),Ds=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ar=Object,nd=ar.getPrototypeOf,Dp="constructor",qx="prototype",Rj="configurable",Op="enumerable",Kh="writable",tf="value",di=e=>!!e&&!!e[Ds];function ta(e){return e?IP(e)||Hx(e)||!!e[Rk]||!!e[Dp]?.[Rk]||Fx(e)||Vx(e):!1}var mse=ar[qx][Dp].toString(),Mk=new WeakMap;function IP(e){if(!e||!WN(e))return!1;const t=nd(e);if(t===null||t===ar[qx])return!0;const n=ar.hasOwnProperty.call(t,Dp)&&t[Dp];if(n===Object)return!0;if(!zc(n))return!1;let r=Mk.get(n);return r===void 0&&(r=Function.toString.call(n),Mk.set(n,r)),r===mse}function $x(e,t,n=!0){Tf(e)===0?(n?Reflect.ownKeys(e):ar.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Tf(e){const t=e[Ds];return t?t.type_:Hx(e)?1:Fx(e)?2:Vx(e)?3:0}var Pk=(e,t,n=Tf(e))=>n===2?e.has(t):ar[qx].hasOwnProperty.call(e,t),Mj=(e,t,n=Tf(e))=>n===2?e.get(t):e[t],Tp=(e,t,n,r=Tf(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function hse(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Hx=Array.isArray,Fx=e=>e instanceof Map,Vx=e=>e instanceof Set,WN=e=>typeof e=="object",zc=e=>typeof e=="function",fb=e=>typeof e=="boolean";function pse(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ja=e=>e.copy_||e.base_,QN=e=>e.modified_?e.copy_:e.base_;function Pj(e,t){if(Fx(e))return new Map(e);if(Vx(e))return new Set(e);if(Hx(e))return Array[qx].slice.call(e);const n=IP(e);if(t===!0||t==="class_only"&&!n){const r=ar.getOwnPropertyDescriptors(e);delete r[Ds];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const c=a[i],d=r[c];d[Kh]===!1&&(d[Kh]=!0,d[Rj]=!0),(d.get||d.set)&&(r[c]={[Rj]:!0,[Kh]:!0,[Op]:d[Op],[tf]:e[c]})}return ar.create(nd(e),r)}else{const r=nd(e);if(r!==null&&n)return{...e};const a=ar.create(r);return ar.assign(a,e)}}function XN(e,t=!1){return Gx(e)||di(e)||!ta(e)||(Tf(e)>1&&ar.defineProperties(e,{set:Nh,add:Nh,clear:Nh,delete:Nh}),ar.freeze(e),t&&$x(e,(n,r)=>{XN(r,!0)},!1)),e}function xse(){Hr(2)}var Nh={[tf]:xse};function Gx(e){return e===null||!WN(e)?!0:ar.isFrozen(e)}var Rp="MapSet",Ij="Patches",Ik="ArrayMethods",LP={};function Eo(e){const t=LP[e];return t||Hr(0,e),t}var Lk=e=>!!LP[e],nf,zP=()=>nf,gse=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Lk(Rp)?Eo(Rp):void 0,arrayMethodsPlugin_:Lk(Ik)?Eo(Ik):void 0});function zk(e,t){t&&(e.patchPlugin_=Eo(Ij),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lj(e){zj(e),e.drafts_.forEach(vse),e.drafts_=null}function zj(e){e===nf&&(nf=e.parent_)}var Uk=e=>nf=gse(nf,e);function vse(e){const t=e[Ds];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Bk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ds].modified_&&(Lj(t),Hr(4)),ta(e)&&(e=qk(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[Ds].base_,e,t)}else e=qk(t,n);return yse(t,e,!0),Lj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PP?e:void 0}function qk(e,t){if(Gx(t))return t;const n=t[Ds];if(!n)return Mp(t,e.handledSet_,e);if(!Kx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);qP(n,e)}return n.copy_}function yse(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XN(t,n)}function UP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kx=(e,t)=>e.scope_===t,bse=[];function BP(e,t,n,r){const a=Ja(e),i=e.type_;if(r!==void 0&&Mj(a,r,i)===t){Tp(a,r,n,i);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;$x(a,(u,h)=>{if(di(h)){const m=d.get(h)||[];m.push(u),d.set(h,m)}})}const c=e.draftLocations_.get(t)??bse;for(const d of c)Tp(a,d,n,i)}function jse(e,t,n){e.callbacks_.push(function(a){const i=t;if(!i||!Kx(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const c=QN(i);BP(e,i.draft_??i,c,n),qP(i,a)})}function qP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}UP(e)}}function wse(e,t,n){const{scope_:r}=e;if(di(n)){const a=n[Ds];Kx(a,r)&&a.callbacks_.push(function(){Yh(e);const c=QN(a);BP(e,n,c,t)})}else ta(n)&&e.callbacks_.push(function(){const i=Ja(e);e.type_===3?i.has(n)&&Mp(n,r.handledSet_,r):Mj(i,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Mp(Mj(e.copy_,t,e.type_),r.handledSet_,r)})}function Mp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||di(e)||t.has(e)||!ta(e)||Gx(e)||(t.add(e),$x(e,(r,a)=>{if(di(a)){const i=a[Ds];if(Kx(i,n)){const c=QN(i);Tp(e,r,c,e.type_),UP(i)}}else ta(a)&&Mp(a,t,n)})),e}function Nse(e,t){const n=Hx(e),r={type_:n?1:0,scope_:t?t.scope_:zP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Pp;n&&(a=[r],i=sf);const{revoke:c,proxy:d}=Proxy.revocable(a,i);return r.draft_=d,r.revoke_=c,[d,r]}var Pp={get(e,t){if(t===Ds)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Ja(e);if(!Pk(a,t,e.type_))return Sse(e,a,t);const i=a[t];if(e.finalized_||!ta(i)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&pse(t))return i;if(i===mb(e.base_,t)){Yh(e);const c=e.type_===1?+t:t,d=Bj(e.scope_,i,e,c);return e.copy_[c]=d}return i},has(e,t){return t in Ja(e)},ownKeys(e){return Reflect.ownKeys(Ja(e))},set(e,t,n){const r=$P(Ja(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=mb(Ja(e),t),i=a?.[Ds];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(hse(n,a)&&(n!==void 0||Pk(e.base_,t,e.type_)))return!0;Yh(e),Uj(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),wse(e,t,n)),!0},deleteProperty(e,t){return Yh(e),mb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Uj(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ja(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Kh]:!0,[Rj]:e.type_!==1||t!=="length",[Op]:r[Op],[tf]:n[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return nd(e.base_)},setPrototypeOf(){Hr(12)}},sf={};for(let e in Pp){let t=Pp[e];sf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}sf.deleteProperty=function(e,t){return sf.set.call(this,e,t,void 0)};sf.set=function(e,t,n){return Pp.set.call(this,e[0],t,n,e[0])};function mb(e,t){const n=e[Ds];return(n?Ja(n):e)[t]}function Sse(e,t,n){const r=$P(t,n);return r?tf in r?r[tf]:r.get?.call(e.draft_):void 0}function $P(e,t){if(!(t in e))return;let n=nd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=nd(n)}}function Uj(e){e.modified_||(e.modified_=!0,e.parent_&&Uj(e.parent_))}function Yh(e){e.copy_||(e.assigned_=new Map,e.copy_=Pj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _se=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(zc(n)&&!zc(r)){const c=r;r=n;const d=this;return function(h=c,...m){return d.produce(h,p=>r.call(this,p,...m))}}zc(r)||Hr(6),a!==void 0&&!zc(a)&&Hr(7);let i;if(ta(n)){const c=Uk(this),d=Bj(c,n,void 0);let u=!0;try{i=r(d),u=!1}finally{u?Lj(c):zj(c)}return zk(c,a),Bk(i,c)}else if(!n||!WN(n)){if(i=r(n),i===void 0&&(i=n),i===PP&&(i=void 0),this.autoFreeze_&&XN(i,!0),a){const c=[],d=[];Eo(Ij).generateReplacementPatches_(n,i,{patches_:c,inversePatches_:d}),a(c,d)}return i}else Hr(1,n)},this.produceWithPatches=(n,r)=>{if(zc(n))return(d,...u)=>this.produceWithPatches(d,h=>n(h,...u));let a,i;return[this.produce(n,r,(d,u)=>{a=d,i=u}),a,i]},fb(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),fb(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),fb(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ta(t)||Hr(8),di(t)&&(t=Xr(t));const n=Uk(this),r=Bj(n,t,void 0);return r[Ds].isManual_=!0,zj(n),r}finishDraft(t,n){const r=t&&t[Ds];(!r||!r.isManual_)&&Hr(9);const{scope_:a}=r;return zk(a,n),Bk(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const i=n[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(n=n.slice(r+1));const a=Eo(Ij).applyPatches_;return di(t)?a(t,n):this.produce(t,i=>a(i,n))}};function Bj(e,t,n,r){const[a,i]=Fx(t)?Eo(Rp).proxyMap_(t,n):Vx(t)?Eo(Rp).proxySet_(t,n):Nse(t,n);return(n?.scope_??zP()).drafts_.push(a),i.callbacks_=n?.callbacks_??[],i.key_=r,n&&r!==void 0?jse(n,i,r):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:h}=u;i.modified_&&h&&h.generatePatches_(i,[],u)}),a}function Xr(e){return di(e)||Hr(10,e),HP(e)}function HP(e){if(!ta(e)||Gx(e))return e;const t=e[Ds];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Pj(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Pj(e,!0);return $x(n,(a,i)=>{Tp(n,a,HP(i))},r),t&&(t.finalized_=!1),n}var Cse=new _se,FP=Cse.produce;function VP(e){return({dispatch:n,getState:r})=>a=>i=>typeof i=="function"?i(n,r,e):a(i)}var Ese=VP(),Ase=VP,kse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kp:kp.apply(null,arguments)};function Rr(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(or(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>MP(r)&&r.type===e,n}var GP=class Lu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Lu.prototype)}static get[Symbol.species](){return Lu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Lu(...t[0].concat(this)):new Lu(...t.concat(this))}};function $k(e){return ta(e)?FP(e,()=>{}):e}function Sh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Dse(e){return typeof e=="boolean"}var Ose=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let c=new GP;return n&&(Dse(n)?c.push(Ese):c.push(Ase(n.extraArgument))),c},KP="RTK_autoBatch",nn=()=>e=>({payload:e,meta:{[KP]:!0}}),Hk=e=>t=>{setTimeout(t,e)},YP=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,c=!1;const d=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Hk(10):e.type==="callback"?e.queueNotification:Hk(e.timeout),h=()=>{c=!1,i&&(i=!1,d.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>a&&m(),g=r.subscribe(p);return d.add(m),()=>{g(),d.delete(m)}},dispatch(m){try{return a=!m?.meta?.[KP],i=!a,i&&(c||(c=!0,u(h))),r.dispatch(m)}finally{a=!0}}})},Tse=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new GP(e);return r&&a.push(YP(typeof r=="object"?r:void 0)),a};function Rse(e){const t=Ose(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(YN(n))d=RP(n);else throw new Error(or(1));let u;typeof r=="function"?u=r(t):u=t();let h=kp;a&&(h=kse({trace:!1,...typeof a=="object"&&a}));const m=fse(...u),p=Tse(m);let g=typeof c=="function"?c(p):p();const v=h(...g);return TP(d,i,v)}function WP(e){const t={},n=[];let r;const a={addCase(i,c){const d=typeof i=="string"?i:i.type;if(!d)throw new Error(or(28));if(d in t)throw new Error(or(29));return t[d]=c,a},addAsyncThunk(i,c){return c.pending&&(t[i.pending.type]=c.pending),c.rejected&&(t[i.rejected.type]=c.rejected),c.fulfilled&&(t[i.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:i.settled,reducer:c.settled}),a},addMatcher(i,c){return n.push({matcher:i,reducer:c}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function Mse(e){return typeof e=="function"}function Pse(e,t){let[n,r,a]=WP(t),i;if(Mse(e))i=()=>$k(e());else{const d=$k(e);i=()=>d}function c(d=i(),u){let h=[n[u.type],...r.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,p)=>{if(p)if(di(m)){const v=p(m,u);return v===void 0?m:v}else{if(ta(m))return FP(m,g=>p(g,u));{const g=p(m,u);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},d)}return c.getInitialState=i,c}var Ise="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Lse=(e=21)=>{let t="",n=e;for(;n--;)t+=Ise[Math.random()*64|0];return t},zse=Symbol.for("rtk-slice-createasyncthunk");function Use(e,t){return`${e}/${t}`}function Bse({creators:e}={}){const t=e?.asyncThunk?.[zse];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(or(11));const c=(typeof r.reducers=="function"?r.reducers($se()):r.reducers)||{},d=Object.keys(c),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,k){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(or(12));if(O in u.sliceCaseReducersByType)throw new Error(or(13));return u.sliceCaseReducersByType[O]=k,h},addMatcher(E,k){return u.sliceMatchers.push({matcher:E,reducer:k}),h},exposeAction(E,k){return u.actionCreators[E]=k,h},exposeCaseReducer(E,k){return u.sliceCaseReducersByName[E]=k,h}};d.forEach(E=>{const k=c[E],O={reducerName:E,type:Use(a,E),createNotation:typeof r.reducers=="function"};Fse(k)?Gse(O,k,h,t):Hse(O,k,h)});function m(){const[E={},k=[],O=void 0]=typeof r.extraReducers=="function"?WP(r.extraReducers):[r.extraReducers],T={...E,...u.sliceCaseReducersByType};return Pse(r.initialState,D=>{for(let P in T)D.addCase(P,T[P]);for(let P of u.sliceMatchers)D.addMatcher(P.matcher,P.reducer);for(let P of k)D.addMatcher(P.matcher,P.reducer);O&&D.addDefaultCase(O)})}const p=E=>E,g=new Map,v=new WeakMap;let y;function N(E,k){return y||(y=m()),y(E,k)}function j(){return y||(y=m()),y.getInitialState()}function _(E,k=!1){function O(D){let P=D[E];return typeof P>"u"&&k&&(P=Sh(v,O,j)),P}function T(D=p){const P=Sh(g,k,()=>new WeakMap);return Sh(P,D,()=>{const X={};for(const[ae,G]of Object.entries(r.selectors??{}))X[ae]=qse(G,D,()=>Sh(v,D,j),k);return X})}return{reducerPath:E,getSelectors:T,get selectors(){return T(O)},selectSlice:O}}const C={name:a,reducer:N,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,..._(i),injectInto(E,{reducerPath:k,...O}={}){const T=k??i;return E.inject({reducerPath:T,reducer:N},O),{...C,..._(T,!0)}}};return C}}function qse(e,t,n,r){function a(i,...c){let d=t(i);return typeof d>"u"&&r&&(d=n()),e(d,...c)}return a.unwrapped=e,a}var Qs=Bse();function $se(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Hse({type:e,reducerName:t,createNotation:n},r,a){let i,c;if("reducer"in r){if(n&&!Vse(r))throw new Error(or(17));i=r.reducer,c=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,c?Rr(e,c):Rr(e))}function Fse(e){return e._reducerDefinitionType==="asyncThunk"}function Vse(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Gse({type:e,reducerName:t},n,r,a){if(!a)throw new Error(or(18));const{payloadCreator:i,fulfilled:c,pending:d,rejected:u,settled:h,options:m}=n,p=a(e,i,m);r.exposeAction(t,p),c&&r.addCase(p.fulfilled,c),d&&r.addCase(p.pending,d),u&&r.addCase(p.rejected,u),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(t,{fulfilled:c||_h,pending:d||_h,rejected:u||_h,settled:h||_h})}function _h(){}var Kse="task",QP="listener",XP="completed",ZN="cancelled",Yse=`task-${ZN}`,Wse=`task-${XP}`,qj=`${QP}-${ZN}`,Qse=`${QP}-${XP}`,Yx=class{constructor(e){this.code=e,this.message=`${Kse} ${ZN} (reason: ${e})`}name="TaskAbortError";message},JN=(e,t)=>{if(typeof e!="function")throw new TypeError(or(32))},Ip=()=>{},ZP=(e,t=Ip)=>(e.catch(t),e),JP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mo=e=>{if(e.aborted)throw new Yx(e.reason)};function e6(e,t){let n=Ip;return new Promise((r,a)=>{const i=()=>a(new Yx(e.reason));if(e.aborted){i();return}n=JP(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Ip})}var Xse=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Yx?"cancelled":"rejected",error:n}}finally{t?.()}},Lp=e=>t=>ZP(e6(e,t).then(n=>(mo(e),n))),t6=e=>{const t=Lp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Gc}=Object,Fk={},Wx="listenerMiddleware",Zse=(e,t)=>{const n=r=>JP(e,()=>r.abort(e.reason));return(r,a)=>{JN(r);const i=new AbortController;n(i);const c=Xse(async()=>{mo(e),mo(i.signal);const d=await r({pause:Lp(i.signal),delay:t6(i.signal),signal:i.signal});return mo(i.signal),d},()=>i.abort(Wse));return a?.autoJoin&&t.push(c.catch(Ip)),{result:Lp(e)(c),cancel(){i.abort(Yse)}}}},Jse=(e,t)=>{const n=async(r,a)=>{mo(t);let i=()=>{};const d=[new Promise((u,h)=>{let m=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});i=()=>{m(),h()}})];a!=null&&d.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await e6(t,Promise.race(d));return mo(t),u}finally{i()}};return(r,a)=>ZP(n(r,a))},n6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Rr(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(or(21));return JN(i),{predicate:a,type:t,effect:i}},s6=Gc(e=>{const{type:t,predicate:n,effect:r}=n6(e);return{id:Lse(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>s6}),Vk=(e,t)=>{const{type:n,effect:r,predicate:a}=n6(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},$j=e=>{e.pending.forEach(t=>{t.abort(qj)})},ere=(e,t)=>()=>{for(const n of t.keys())$j(n);e.clear()},Gk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},r6=Gc(Rr(`${Wx}/add`),{withTypes:()=>r6}),tre=Rr(`${Wx}/removeAll`),a6=Gc(Rr(`${Wx}/remove`),{withTypes:()=>a6}),nre=(...e)=>{console.error(`${Wx}/error`,...e)},Rf=(e={})=>{const t=new Map,n=new Map,r=v=>{const y=n.get(v)??0;n.set(v,y+1)},a=v=>{const y=n.get(v)??1;y===1?n.delete(v):n.set(v,y-1)},{extra:i,onError:c=nre}=e;JN(c);const d=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),y=>{v.unsubscribe(),y?.cancelActive&&$j(v)}),u=v=>{const y=Vk(t,v)??s6(v);return d(y)};Gc(u,{withTypes:()=>u});const h=v=>{const y=Vk(t,v);return y&&(y.unsubscribe(),v.cancelActive&&$j(y)),!!y};Gc(h,{withTypes:()=>h});const m=async(v,y,N,j)=>{const _=new AbortController,C=Jse(u,_.signal),E=[];try{v.pending.add(_),r(v),await Promise.resolve(v.effect(y,Gc({},N,{getOriginalState:j,condition:(k,O)=>C(k,O).then(Boolean),take:C,delay:t6(_.signal),pause:Lp(_.signal),extra:i,signal:_.signal,fork:Zse(_.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((k,O,T)=>{k!==_&&(k.abort(qj),T.delete(k))})},cancel:()=>{_.abort(qj),v.pending.delete(_)},throwIfCancelled:()=>{mo(_.signal)}})))}catch(k){k instanceof Yx||Gk(c,k,{raisedBy:"effect"})}finally{await Promise.all(E),_.abort(Qse),a(v),v.pending.delete(_)}},p=ere(t,n);return{middleware:v=>y=>N=>{if(!MP(N))return y(N);if(r6.match(N))return u(N.payload);if(tre.match(N)){p();return}if(a6.match(N))return h(N.payload);let j=v.getState();const _=()=>{if(j===Fk)throw new Error(or(23));return j};let C;try{if(C=y(N),t.size>0){const E=v.getState(),k=Array.from(t.values());for(const O of k){let T=!1;try{T=O.predicate(N,E,j)}catch(D){T=!1,Gk(c,D,{raisedBy:"predicate"})}T&&m(O,N,v,_)}}}finally{j=Fk}return C},startListening:u,stopListening:h,clearListeners:p}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i6=Qs({name:"chartLayout",initialState:sre,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:rre,setLayout:are,setChartSize:ire,setScale:lre}=i6.actions,ore=i6.reducer;function l6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function _t(e){return Number.isFinite(e)}function vl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(n),!0).forEach(function(r){cre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cre(e,t,n){return(t=dre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dre(e){var t=ure(e,"string");return typeof t=="symbol"?t:t+""}function ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t,n){return pn(e)||pn(t)?n:Aa(t)?_o(e,t,n):typeof t=="function"?t(e):n}var fre=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&i!=="center"&&Be(e[i]))return qc(qc({},e),{},{[i]:e[i]+(r||0)});if((d==="horizontal"||d==="vertical"&&i==="center")&&c!=="middle"&&Be(e[c]))return qc(qc({},e),{},{[c]:e[c]+(a||0)})}return e},vi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mre=(e,t)=>{if(!t||t.length!==2||!Be(t[0])||!Be(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Be(e[0])||e[0]<n)&&(a[0]=n),(!Be(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},hre=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,c=0,d=0;d<n;++d){var u=e[d],h=u?.[a];if(h!=null){var m=h[1],p=h[0],g=Ea(m)?p:m;g>=0?(h[0]=i,i+=g,h[1]=i):(h[0]=c,c+=g,h[1]=c)}}}},pre=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,c=0;c<n;++c){var d=e[c],u=d?.[a];if(u!=null){var h=Ea(u[1])?u[0]:u[1];h>=0?(u[0]=i,i+=h,u[1]=i):(u[0]=0,u[1]=0)}}}},xre={sign:hre,expand:Ite,none:So,silhouette:Lte,wiggle:zte,positive:pre},gre=(e,t,n)=>{var r,a=(r=xre[n])!==null&&r!==void 0?r:So,i=Pte().keys(t).value((d,u)=>Number(zt(d,u,0))).order(Oj).offset(a),c=i(e);return c.forEach((d,u)=>{d.forEach((h,m)=>{var p=zt(e[m],t[u],0);Array.isArray(p)&&p.length===2&&Be(p[0])&&Be(p[1])&&(h[0]=p[0],h[1]=p[1])})}),c};function vre(e){return e==null?void 0:String(e)}function Yk(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pn(a[t.dataKey])){var d=pP(n,"value",a[t.dataKey]);if(d)return d.coordinate+r/2}return n!=null&&n[i]?n[i].coordinate+r/2:null}var u=zt(a,pn(c)?t.dataKey:c),h=t.scale.map(u);return Be(h)?h:null}var Wk=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var d=zt(i,t.dataKey,t.scale.domain()[c]);if(pn(d))return null;var u=t.scale.map(d);return Be(u)?u-a/2+r:null},yre=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},bre=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},jre=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wre=(e,t,n)=>{if(e!=null)return jre(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:c}=i,d=c.reduce((u,h)=>{var m=l6(h,t,n),p=bre(m);return!_t(p[0])||!_t(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},Qk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Bx(t,m=>m.coordinate),i=1/0,c=1,d=a.length;c<d;c++){var u=a[c],h=a[c-1];i=Math.min((u?.coordinate||0)-(h?.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Zk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return qc(qc({},t),{},{dataKey:n,payload:r,value:a,name:i})}function jd(e,t){if(e)return String(e);if(typeof t=="string")return t}var Nre=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Sre=(e,t)=>t==="centric"?e.angle:e.radius,yi=e=>e.layout.width,bi=e=>e.layout.height,_re=e=>e.layout.scale,o6=e=>e.layout.margin,Qx=le(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xx=le(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),c6="data-recharts-item-index",d6="data-recharts-item-id",Mf=60;function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(n),!0).forEach(function(r){Cre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cre(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kre=e=>e.brush.height;function Dre(e){var t=Xx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Mf;return n+a}return n},0)}function Ore(e){var t=Xx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Mf;return n+a}return n},0)}function Tre(e){var t=Qx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Rre(e){var t=Qx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var $n=le([yi,bi,o6,kre,Dre,Ore,Tre,Rre,DP,ase],(e,t,n,r,a,i,c,d,u,h)=>{var m={left:(n.left||0)+a,right:(n.right||0)+i},p={top:(n.top||0)+c,bottom:(n.bottom||0)+d},g=Ch(Ch({},p),m),v=g.bottom;g.bottom+=r,g=fre(g,u,h);var y=e-g.left-g.right,N=t-g.top-g.bottom;return Ch(Ch({brushBottom:v},g),{},{width:Math.max(y,0),height:Math.max(N,0)})}),Mre=le($n,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),e1=le(yi,bi,(e,t)=>({x:0,y:0,width:e,height:t})),Pre=b.createContext(null),Os=()=>b.useContext(Pre)!=null,Zx=e=>e.brush,Jx=le([Zx,$n,o6],(e,t,n)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Be(e.width)?e.width:t.width})),hb={},pb={},xb={},e4;function Ire(){return e4||(e4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let c,d=null;const u=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),m=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},p=()=>{h&&m(),N()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},y=()=>{g!==null&&(clearTimeout(g),g=null)},N=()=>{y(),c=void 0,d=null},j=()=>{m()},_=function(...C){if(a?.aborted)return;c=this,d=C;const E=g==null;v(),u&&E&&m()};return _.schedule=v,_.cancel=N,_.flush=j,a?.addEventListener("abort",N,{once:!0}),_}e.debounce=t})(xb)),xb}var t4;function Lre(){return t4||(t4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ire();function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:c=!1,trailing:d=!0,maxWait:u}=i,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let m,p=null;const g=t.debounce(function(...N){m=r.apply(this,N),p=null},a,{edges:h}),v=function(...N){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=r.apply(this,N),p=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,N),m)},y=()=>(g.flush(),m);return v.cancel=g.cancel,v.flush=y,v}e.debounce=n})(pb)),pb}var n4;function zre(){return n4||(n4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lre();function n(r,a=0,i={}){const{leading:c=!0,trailing:d=!0}=i;return t.debounce(r,a,{leading:c,maxWait:a,trailing:d})}e.throttle=n})(hb)),hb}var gb,s4;function Ure(){return s4||(s4=1,gb=zre().throttle),gb}var Bre=Ure();const qre=Da(Bre);var r4=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},ba={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},u6=(e,t,n)=>{var{width:r=ba.width,height:a=ba.height,aspect:i,maxHeight:c}=n,d=Co(r)?e:Number(r),u=Co(a)?t:Number(a);return i&&i>0&&(d?u=d/i:u&&(d=u*i),c&&u!=null&&u>c&&(u=c)),{calculatedWidth:d,calculatedHeight:u}},$re={width:0,height:0,overflow:"visible"},Hre={width:0,overflowX:"visible"},Fre={height:0,overflowY:"visible"},Vre={},Gre=e=>{var{width:t,height:n}=e,r=Co(t),a=Co(n);return r&&a?$re:r?Hre:a?Fre:Vre};function Kre(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a=ba.width,i=ba.height):a===void 0?a=r&&r>0?void 0:ba.width:i===void 0&&(i=r&&r>0?void 0:ba.height),{width:a,height:i}}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hj.apply(null,arguments)}function a4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(n),!0).forEach(function(r){Yre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yre(e,t,n){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wre(e){var t=Qre(e,"string");return typeof t=="symbol"?t:t+""}function Qre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f6=b.createContext(ba.initialDimension);function Xre(e){return vl(e.width)&&vl(e.height)}function m6(e){var{children:t,width:n,height:r}=e,a=b.useMemo(()=>({width:n,height:r}),[n,r]);return Xre(a)?b.createElement(f6.Provider,{value:a},t):null}var t1=()=>b.useContext(f6),Zre=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=ba.initialDimension,width:a,height:i,minWidth:c=ba.minWidth,minHeight:d,maxHeight:u,children:h,debounce:m=ba.debounce,id:p,className:g,onResize:v,style:y={}}=e,N=b.useRef(null),j=b.useRef();j.current=v,b.useImperativeHandle(t,()=>N.current);var[_,C]=b.useState({containerWidth:r.width,containerHeight:r.height}),E=b.useCallback((P,X)=>{C(ae=>{var G=Math.round(P),M=Math.round(X);return ae.containerWidth===G&&ae.containerHeight===M?ae:{containerWidth:G,containerHeight:M}})},[]);b.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return Bo;var P=M=>{var Y,Z=M[0];if(Z!=null){var{width:fe,height:U}=Z.contentRect;E(fe,U),(Y=j.current)===null||Y===void 0||Y.call(j,fe,U)}};m>0&&(P=qre(P,m,{trailing:!0,leading:!1}));var X=new ResizeObserver(P),{width:ae,height:G}=N.current.getBoundingClientRect();return E(ae,G),X.observe(N.current),()=>{X.disconnect()}},[E,m]);var{containerWidth:k,containerHeight:O}=_;r4(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:D}=u6(k,O,{width:a,height:i,aspect:n,maxHeight:u});return r4(T!=null&&T>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,a,i,c,d,n),b.createElement("div",{id:p?"".concat(p):void 0,className:vt("recharts-responsive-container",g),style:i4(i4({},y),{},{width:a,height:i,minWidth:c,minHeight:d,maxHeight:u}),ref:N},b.createElement("div",{style:Gre({width:a,height:i})},b.createElement(m6,{width:T,height:D},h)))}),n1=b.forwardRef((e,t)=>{var n=t1();if(vl(n.width)&&vl(n.height))return e.children;var{width:r,height:a}=Kre({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:c}=u6(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Be(i)&&Be(c)?b.createElement(m6,{width:i,height:c},e.children):b.createElement(Zre,Hj({},e,{width:r,height:a,ref:t}))});function s1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var eg=()=>{var e,t=Os(),n=ze(Mre),r=ze(Jx),a=(e=ze(Zx))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Jre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eae=()=>{var e;return(e=ze($n))!==null&&e!==void 0?e:Jre},h6=()=>ze(yi),p6=()=>ze(bi),tae=()=>ze(e=>e.layout.margin),jt=e=>e.layout.layoutType,qo=()=>ze(jt),x6=()=>{var e=qo();if(e==="horizontal"||e==="vertical")return e},g6=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},nae=()=>{var e=qo();return e!==void 0},Pf=e=>{var t=Yt(),n=Os(),{width:r,height:a}=e,i=t1(),c=r,d=a;return i&&(c=i.width>0?i.width:r,d=i.height>0?i.height:a),b.useEffect(()=>{!n&&vl(c)&&vl(d)&&t(ire({width:c,height:d}))},[t,n,c,d]),null},v6=Symbol.for("immer-nothing"),l4=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rf=Object.getPrototypeOf;function rd(e){return!!e&&!!e[cr]}function Ao(e){return e?y6(e)||Array.isArray(e)||!!e[l4]||!!e.constructor?.[l4]||If(e)||ng(e):!1}var sae=Object.prototype.constructor.toString(),o4=new WeakMap;function y6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=o4.get(n);return r===void 0&&(r=Function.toString.call(n),o4.set(n,r)),r===sae}function zp(e,t,n=!0){tg(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function tg(e){const t=e[cr];return t?t.type_:Array.isArray(e)?1:If(e)?2:ng(e)?3:0}function Fj(e,t){return tg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b6(e,t,n){const r=tg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function rae(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function If(e){return e instanceof Map}function ng(e){return e instanceof Set}function eo(e){return e.copy_||e.base_}function Vj(e,t){if(If(e))return new Map(e);if(ng(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=y6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[cr];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const c=a[i],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(rf(e),r)}else{const r=rf(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function r1(e,t=!1){return sg(e)||rd(e)||!Ao(e)||(tg(e)>1&&Object.defineProperties(e,{set:Eh,add:Eh,clear:Eh,delete:Eh}),Object.freeze(e),t&&Object.values(e).forEach(n=>r1(n,!0))),e}function aae(){Fr(2)}var Eh={value:aae};function sg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var iae={};function ko(e){const t=iae[e];return t||Fr(0,e),t}var af;function j6(){return af}function lae(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c4(e,t){t&&(ko("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gj(e){Kj(e),e.drafts_.forEach(oae),e.drafts_=null}function Kj(e){e===af&&(af=e.parent_)}function d4(e){return af=lae(af,e)}function oae(e){const t=e[cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function u4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[cr].modified_&&(Gj(t),Fr(4)),Ao(e)&&(e=Up(t,e),t.parent_||Bp(t,e)),t.patches_&&ko("Patches").generateReplacementPatches_(n[cr].base_,e,t.patches_,t.inversePatches_)):e=Up(t,n,[]),Gj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==v6?e:void 0}function Up(e,t,n){if(sg(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[cr];if(!a)return zp(t,(i,c)=>f4(e,a,t,i,c,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Bp(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let c=i,d=!1;a.type_===3&&(c=new Set(i),i.clear(),d=!0),zp(c,(u,h)=>f4(e,a,i,u,h,n,d),r),Bp(e,i,!1),n&&e.patches_&&ko("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function f4(e,t,n,r,a,i,c){if(a==null||typeof a!="object"&&!c)return;const d=sg(a);if(!(d&&!c)){if(rd(a)){const u=i&&t&&t.type_!==3&&!Fj(t.assigned_,r)?i.concat(r):void 0,h=Up(e,a,u);if(b6(n,r,h),rd(h))e.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Ao(a)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&d)return;Up(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(If(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Bp(e,a)}}}function Bp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&r1(t,n)}function cae(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:j6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=a1;n&&(a=[r],i=lf);const{revoke:c,proxy:d}=Proxy.revocable(a,i);return r.draft_=d,r.revoke_=c,d}var a1={get(e,t){if(t===cr)return e;const n=eo(e);if(!Fj(n,t))return dae(e,n,t);const r=n[t];return e.finalized_||!Ao(r)?r:r===vb(e.base_,t)?(yb(e),e.copy_[t]=Wj(r,e)):r},has(e,t){return t in eo(e)},ownKeys(e){return Reflect.ownKeys(eo(e))},set(e,t,n){const r=w6(eo(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=vb(eo(e),t),i=a?.[cr];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(rae(n,a)&&(n!==void 0||Fj(e.base_,t)))return!0;yb(e),Yj(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return vb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,yb(e),Yj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=eo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return rf(e.base_)},setPrototypeOf(){Fr(12)}},lf={};zp(a1,(e,t)=>{lf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lf.deleteProperty=function(e,t){return lf.set.call(this,e,t,void 0)};lf.set=function(e,t,n){return a1.set.call(this,e[0],t,n,e[0])};function vb(e,t){const n=e[cr];return(n?eo(n):e)[t]}function dae(e,t,n){const r=w6(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function w6(e,t){if(!(t in e))return;let n=rf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rf(n)}}function Yj(e){e.modified_||(e.modified_=!0,e.parent_&&Yj(e.parent_))}function yb(e){e.copy_||(e.copy_=Vj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const c=this;return function(u=i,...h){return c.produce(u,m=>n.call(this,m,...h))}}typeof n!="function"&&Fr(6),r!==void 0&&typeof r!="function"&&Fr(7);let a;if(Ao(t)){const i=d4(this),c=Wj(t,void 0);let d=!0;try{a=n(c),d=!1}finally{d?Gj(i):Kj(i)}return c4(i,r),u4(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===v6&&(a=void 0),this.autoFreeze_&&r1(a,!0),r){const i=[],c=[];ko("Patches").generateReplacementPatches_(t,a,i,c),r(i,c)}return a}else Fr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,u=>t(u,...d));let r,a;return[this.produce(t,n,(c,d)=>{r=c,a=d}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ao(e)||Fr(8),rd(e)&&(e=fae(e));const t=d4(this),n=Wj(e,void 0);return n[cr].isManual_=!0,Kj(t),n}finishDraft(e,t){const n=e&&e[cr];(!n||!n.isManual_)&&Fr(9);const{scope_:r}=n;return c4(r,t),u4(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=ko("Patches").applyPatches_;return rd(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Wj(e,t){const n=If(e)?ko("MapSet").proxyMap_(e,t):ng(e)?ko("MapSet").proxySet_(e,t):cae(e,t);return(t?t.scope_:j6()).drafts_.push(n),n}function fae(e){return rd(e)||Fr(10,e),N6(e)}function N6(e){if(!Ao(e)||sg(e))return e;const t=e[cr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Vj(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Vj(e,!0);return zp(n,(a,i)=>{b6(n,a,N6(i))},r),t&&(t.finalized_=!1),n}var mae=new uae;mae.produce;var hae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},S6=Qs({name:"legend",initialState:hae,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Xr(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:nn()},removeLegendPayload:{reducer(e,t){var n=Xr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:nn()}}}),{setLegendSize:m4,setLegendSettings:pae,addLegendPayload:_6,replaceLegendPayload:C6,removeLegendPayload:E6}=S6.actions,xae=S6.reducer,gae=["contextPayload"];function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qj.apply(null,arguments)}function h4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(n),!0).forEach(function(r){vae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vae(e,t,n){return(t=yae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yae(e){var t=bae(e,"string");return typeof t=="symbol"?t:t+""}function bae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jae(e,t){if(e==null)return{};var n,r,a=wae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nae(e){return e.value}function Sae(e){var{contextPayload:t}=e,n=jae(e,gae),r=CP(t,e.payloadUniqBy,Nae),a=ad(ad({},n),{},{payload:r});return b.isValidElement(e.content)?b.cloneElement(e.content,a):typeof e.content=="function"?b.createElement(e.content,a):b.createElement(mne,a)}function _ae(e,t,n,r,a,i){var{layout:c,align:d,verticalAlign:u}=t,h,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?h={left:((r||0)-i.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?m={top:((a||0)-i.height)/2}:m=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ad(ad({},h),m)}function Cae(e){var t=Yt();return b.useEffect(()=>{t(pae(e))},[t,e]),null}function Eae(e){var t=Yt();return b.useEffect(()=>(t(m4(e)),()=>{t(m4({width:0,height:0}))}),[t,e]),null}function Aae(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var kae={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function i1(e){var t=qn(e,kae),n=ose(),r=ate(),a=tae(),{width:i,height:c,wrapperStyle:d,portal:u}=t,[h,m]=OP([n]),p=h6(),g=p6();if(p==null||g==null)return null;var v=p-(a?.left||0)-(a?.right||0),y=Aae(t.layout,c,i,v),N=u?d:ad(ad({position:"absolute",width:y?.width||i||"auto",height:y?.height||c||"auto"},_ae(d,t,a,p,g,h)),d),j=u??r;if(j==null||n==null)return null;var _=b.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:m},b.createElement(Cae,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&b.createElement(Eae,{width:h.width,height:h.height}),b.createElement(Sae,Qj({},t,y,{margin:a,chartWidth:p,chartHeight:g,contextPayload:n})));return go.createPortal(_,j)}i1.displayName="Legend";function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xj.apply(null,arguments)}function p4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(n),!0).forEach(function(r){Dae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dae(e,t,n){return(t=Oae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rae(e){return Array.isArray(e)&&Aa(e[0])&&Aa(e[1])?e.join(" ~ "):e}var Rc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Mae=e=>{var{separator:t=Rc.separator,contentStyle:n,itemStyle:r,labelStyle:a=Rc.labelStyle,payload:i,formatter:c,itemSorter:d,wrapperClassName:u,labelClassName:h,label:m,labelFormatter:p,accessibilityLayer:g=Rc.accessibilityLayer}=e,v=()=>{if(i&&i.length){var O={padding:0,margin:0},T=(d?Bx(i,d):i).map((D,P)=>{if(D.type==="none")return null;var X=D.formatter||c||Rae,{value:ae,name:G}=D,M=ae,Y=G;if(X){var Z=X(ae,G,D,P,i);if(Array.isArray(Z))[M,Y]=Z;else if(Z!=null)M=Z;else return null}var fe=Eu(Eu({},Rc.itemStyle),{},{color:D.color||Rc.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:fe},Aa(Y)?b.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Aa(Y)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},M),b.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},y=Eu(Eu({},Rc.contentStyle),n),N=Eu({margin:0},a),j=!pn(m),_=j?m:"",C=vt("recharts-default-tooltip",u),E=vt("recharts-tooltip-label",h);j&&p&&i!==void 0&&i!==null&&(_=p(m,i));var k=g?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Xj({className:C,style:y},k),b.createElement("p",{className:E,style:N},b.isValidElement(_)?_:"".concat(_)),v())},Au="recharts-tooltip-wrapper",Pae={visibility:"hidden"};function Iae(e){var{coordinate:t,translateX:n,translateY:r}=e;return vt(Au,{["".concat(Au,"-right")]:Be(n)&&t&&Be(t.x)&&n>=t.x,["".concat(Au,"-left")]:Be(n)&&t&&Be(t.x)&&n<t.x,["".concat(Au,"-bottom")]:Be(r)&&t&&Be(t.y)&&r>=t.y,["".concat(Au,"-top")]:Be(r)&&t&&Be(t.y)&&r<t.y})}function x4(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:a,position:i,reverseDirection:c,tooltipDimension:d,viewBox:u,viewBoxDimension:h}=e;if(i&&Be(i[r]))return i[r];var m=n[r]-d-(a>0?a:0),p=n[r]+a;if(t[r])return c[r]?m:p;var g=u[r];if(g==null)return 0;if(c[r]){var v=m,y=g;return v<y?Math.max(p,g):Math.max(m,g)}if(h==null)return 0;var N=p+d,j=g+h;return N>j?Math.max(m,g):Math.max(p,g)}function Lae(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function zae(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:a,position:i,reverseDirection:c,tooltipBox:d,useTranslate3d:u,viewBox:h}=e,m,p,g;return d.height>0&&d.width>0&&n?(p=x4({allowEscapeViewBox:t,coordinate:n,key:"x",offset:a,position:i,reverseDirection:c,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),g=x4({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:i,reverseDirection:c,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),m=Lae({translateX:p,translateY:g,useTranslate3d:u})):m=Pae,{cssProperties:m,cssClasses:Iae({translateX:p,translateY:g,coordinate:n})}}function g4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(n),!0).forEach(function(r){Zj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zj(e,t,n){return(t=Uae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uae(e){var t=Bae(e,"string");return typeof t=="symbol"?t:t+""}function Bae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qae extends b.PureComponent{constructor(){super(...arguments),Zj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zj(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:c,hasPayload:d,isAnimationActive:u,offset:h,position:m,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:y,lastBoundingBox:N,innerRef:j,hasPortalFromProps:_}=this.props,C=typeof h=="number"?h:h.x,E=typeof h=="number"?h:h.y,{cssClasses:k,cssProperties:O}=zae({allowEscapeViewBox:n,coordinate:c,offsetLeft:C,offsetTop:E,position:m,reverseDirection:p,tooltipBox:{height:N.height,width:N.width},useTranslate3d:g,viewBox:v}),T=_?{}:Ah(Ah({transition:u&&t?"transform ".concat(r,"ms ").concat(a):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=Ah(Ah({},T),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},y);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:D,ref:j},i)}}var A6=()=>{var e;return(e=ze(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jj.apply(null,arguments)}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function y4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(r){$ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ae(e,t,n){return(t=Hae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hae(e){var t=Fae(e,"string");return typeof t=="symbol"?t:t+""}function Fae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b4={curveBasisClosed:Ste,curveBasisOpen:_te,curveBasis:Nte,curveBumpX:cte,curveBumpY:dte,curveLinearClosed:Cte,curveLinear:zx,curveMonotoneX:Ete,curveMonotoneY:Ate,curveNatural:kte,curveStep:Dte,curveStepAfter:Tte,curveStepBefore:Ote},qp=e=>_t(e.x)&&_t(e.y),j4=e=>e.base!=null&&qp(e.base)&&qp(e),ku=e=>e.x,Du=e=>e.y,Vae=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Df(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=b4["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return b4[n]||zx},w4={connectNulls:!1,type:"linear"},Gae=e=>{var{type:t=w4.type,points:n=[],baseLine:r,layout:a,connectNulls:i=w4.connectNulls}=e,c=Vae(t,a),d=i?n.filter(qp):n;if(Array.isArray(r)){var u,h=n.map((y,N)=>y4(y4({},y),{},{base:r[N]}));a==="vertical"?u=bh().y(Du).x1(ku).x0(y=>y.base.x):u=bh().x(ku).y1(Du).y0(y=>y.base.y);var m=u.defined(j4).curve(c),p=i?h.filter(j4):h;return m(p)}var g;a==="vertical"&&Be(r)?g=bh().y(Du).x1(ku).x0(r):Be(r)?g=bh().x(ku).y1(Du).y0(r):g=nP().x(ku).y(Du);var v=g.defined(qp).curve(c);return v(d)},l1=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=qo();if((!n||!n.length)&&!r)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},d=n&&n.length?Gae(c):r;return b.createElement("path",Jj({},Tr(e),FN(e),{className:vt("recharts-curve",t),d:d===null?void 0:d,ref:a}))},Kae=["x","y","top","left","width","height","className"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}function N4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(n),!0).forEach(function(r){Wae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wae(e,t,n){return(t=Qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zae(e,t){if(e==null)return{};var n,r,a=Jae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eie=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),tie=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:c=0,className:d}=e,u=Zae(e,Kae),h=Yae({x:t,y:n,top:r,left:a,width:i,height:c},u);return!Be(t)||!Be(n)||!Be(i)||!Be(c)||!Be(r)||!Be(a)?null:b.createElement("path",ew({},ks(h),{className:vt("recharts-cross",d),d:eie(t,n,i,c,r,a)}))};function nie(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function S4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(n),!0).forEach(function(r){sie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sie(e,t,n){return(t=rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iie=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),k6=(e,t,n)=>e.map(r=>"".concat(iie(r)," ").concat(t,"ms ").concat(n)).join(","),lie=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),of=(e,t)=>Object.keys(t).reduce((n,r)=>_4(_4({},n),{},{[r]:e(r,t[r])}),{});function C4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(n),!0).forEach(function(r){oie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oie(e,t,n){return(t=cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p=(e,t,n)=>e+(t-e)*n,tw=e=>{var{from:t,to:n}=e;return t!==n},D6=(e,t,n)=>{var r=of((a,i)=>{if(tw(i)){var[c,d]=e(i.from,i.to,i.velocity);return Ln(Ln({},i),{},{from:c,velocity:d})}return i},t);return n<1?of((a,i)=>tw(i)&&r[a]!=null?Ln(Ln({},i),{},{velocity:$p(i.velocity,r[a].velocity,n),from:$p(i.from,r[a].from,n)}):i,t):D6(e,r,n-1)};function uie(e,t,n,r,a,i){var c,d=r.reduce((g,v)=>Ln(Ln({},g),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>of((g,v)=>v.from,d),h=()=>!Object.values(d).filter(tw).length,m=null,p=g=>{c||(c=g);var v=g-c,y=v/n.dt;d=D6(n,d,y),a(Ln(Ln(Ln({},e),t),u())),c=g,h()||(m=i.setTimeout(p))};return()=>(m=i.setTimeout(p),()=>{var g;(g=m)===null||g===void 0||g()})}function fie(e,t,n,r,a,i,c){var d=null,u=a.reduce((p,g)=>{var v=e[g],y=t[g];return v==null||y==null?p:Ln(Ln({},p),{},{[g]:[v,y]})},{}),h,m=p=>{h||(h=p);var g=(p-h)/r,v=of((N,j)=>$p(...j,n(g)),u);if(i(Ln(Ln(Ln({},e),t),v)),g<1)d=c.setTimeout(m);else{var y=of((N,j)=>$p(...j,n(1)),u);i(Ln(Ln(Ln({},e),t),y))}};return()=>(d=c.setTimeout(m),()=>{var p;(p=d)===null||p===void 0||p()})}const mie=(e,t,n,r,a,i)=>{var c=lie(e,t);return n==null?()=>(a(Ln(Ln({},e),t)),()=>{}):n.isStepper===!0?uie(e,t,n,c,a,i):fie(e,t,n,r,c,a,i)};var Hp=1e-4,O6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],T6=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),E4=(e,t)=>n=>{var r=O6(e,t);return T6(r,n)},hie=(e,t)=>n=>{var r=O6(e,t),a=[...r.map((i,c)=>i*c).slice(1),0];return T6(a,n)},pie=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},xie=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=pie(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},gie=(e,t,n,r)=>{var a=E4(e,n),i=E4(t,r),c=hie(e,n),d=h=>h>1?1:h<0?0:h,u=h=>{for(var m=h>1?1:h,p=m,g=0;g<8;++g){var v=a(p)-m,y=c(p);if(Math.abs(v-m)<Hp||y<Hp)return i(p);p=d(p-v/y)}return i(p)};return u.isStepper=!1,u},A4=function(){return gie(...xie(...arguments))},vie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,i=(c,d,u)=>{var h=-(c-d)*n,m=u*r,p=u+(h-m)*a/1e3,g=u*a/1e3+c;return Math.abs(g-d)<Hp&&Math.abs(p)<Hp?[d,0]:[g,p]};return i.isStepper=!0,i.dt=a,i},yie=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return A4(e);case"spring":return vie();default:if(e.split("(")[0]==="cubic-bezier")return A4(e)}return typeof e=="function"?e:null};function bie(e){var t,n=()=>null,r=!1,a=null,i=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[u,...h]=d;if(typeof u=="number"){a=e.setTimeout(i.bind(null,h),u);return}i(u),a=e.setTimeout(i.bind(null,h));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),i(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class jie{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function wie(){return bie(new jie)}var Nie=b.createContext(wie);function Sie(e,t){var n=b.useContext(Nie);return b.useMemo(()=>t??n(e),[e,t,n])}var _ie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rg={isSsr:_ie()},Cie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},k4={t:0},bb={t:1};function Lf(e){var t=qn(e,Cie),{isActive:n,canBegin:r,duration:a,easing:i,begin:c,onAnimationEnd:d,onAnimationStart:u,children:h}=t,m=n==="auto"?!rg.isSsr:n,p=Sie(t.animationId,t.animationManager),[g,v]=b.useState(m?k4:bb),y=b.useRef(null);return b.useEffect(()=>{m||v(bb)},[m]),b.useEffect(()=>{if(!m||!r)return Bo;var N=mie(k4,bb,yie(i),a,v,p.getTimeoutController()),j=()=>{y.current=N()};return p.start([u,c,j,a,d]),()=>{p.stop(),y.current&&y.current(),d()}},[m,r,a,i,c,u,d,p]),h(g.t)}function zf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(ef(t)),r=b.useRef(e);return r.current!==e&&(n.current=ef(t),r.current=e),n.current}var Eie=["radius"],Aie=["radius"],D4,O4,T4,R4,M4,P4,I4,L4,z4,U4;function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function q4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(r){kie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kie(e,t,n){return(t=Die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Die(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fp.apply(null,arguments)}function $4(e,t){if(e==null)return{};var n,r,a=Tie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ha(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var H4=(e,t,n,r,a)=>{var i=al(n),c=al(r),d=Math.min(Math.abs(i)/2,Math.abs(c)/2),u=c>=0?1:-1,h=i>=0?1:-1,m=c>=0&&i>=0||c<0&&i<0?1:0,p;if(d>0&&Array.isArray(a)){for(var g=[0,0,0,0],v=0,y=4;v<y;v++){var N,j=(N=a[v])!==null&&N!==void 0?N:0;g[v]=j>d?d:j}p=jn(D4||(D4=ha(["M",",",""])),e,t+u*g[0]),g[0]>0&&(p+=jn(O4||(O4=ha(["A ",",",",0,0,",",",",",""])),g[0],g[0],m,e+h*g[0],t)),p+=jn(T4||(T4=ha(["L ",",",""])),e+n-h*g[1],t),g[1]>0&&(p+=jn(R4||(R4=ha(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],m,e+n,t+u*g[1])),p+=jn(M4||(M4=ha(["L ",",",""])),e+n,t+r-u*g[2]),g[2]>0&&(p+=jn(P4||(P4=ha(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],m,e+n-h*g[2],t+r)),p+=jn(I4||(I4=ha(["L ",",",""])),e+h*g[3],t+r),g[3]>0&&(p+=jn(L4||(L4=ha(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],m,e,t+r-u*g[3])),p+="Z"}else if(d>0&&a===+a&&a>0){var _=Math.min(d,a);p=jn(z4||(z4=ha(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*_,_,_,m,e+h*_,t,e+n-h*_,t,_,_,m,e+n,t+u*_,e+n,t+r-u*_,_,_,m,e+n-h*_,t+r,e+h*_,t+r,_,_,m,e,t+r-u*_)}else p=jn(U4||(U4=ha(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},F4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R6=e=>{var t=qn(e,F4),n=b.useRef(null),[r,a]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&a(L)}catch{}},[]);var{x:i,y:c,width:d,height:u,radius:h,className:m}=t,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:y,isUpdateAnimationActive:N}=t,j=b.useRef(d),_=b.useRef(u),C=b.useRef(i),E=b.useRef(c),k=b.useMemo(()=>({x:i,y:c,width:d,height:u,radius:h}),[i,c,d,u,h]),O=zf(k,"rectangle-");if(i!==+i||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var T=vt("recharts-rectangle",m);if(!N){var D=ks(t),{radius:P}=D,X=$4(D,Eie);return b.createElement("path",Fp({},X,{x:al(i),y:al(c),width:al(d),height:al(u),radius:typeof h=="number"?h:void 0,className:T,d:H4(i,c,d,u,h)}))}var ae=j.current,G=_.current,M=C.current,Y=E.current,Z="0px ".concat(r===-1?1:r,"px"),fe="".concat(r,"px 0px"),U=k6(["strokeDasharray"],g,typeof p=="string"?p:F4.animationEasing);return b.createElement(Lf,{animationId:O,key:O,canBegin:r>0,duration:g,easing:p,isActive:N,begin:v},L=>{var I=sn(ae,d,L),se=sn(G,u,L),ye=sn(M,i,L),z=sn(Y,c,L);n.current&&(j.current=I,_.current=se,C.current=ye,E.current=z);var V;y?L>0?V={transition:U,strokeDasharray:fe}:V={strokeDasharray:Z}:V={strokeDasharray:fe};var re=ks(t),{radius:$}=re,ve=$4(re,Aie);return b.createElement("path",Fp({},ve,{radius:typeof h=="number"?h:void 0,className:T,d:H4(ye,z,I,se,h),ref:n,style:q4(q4({},V),t.style)}))})};function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function G4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(r){Rie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rie(e,t,n){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mie(e){var t=Pie(e,"string");return typeof t=="symbol"?t:t+""}function Pie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vp=Math.PI/180,Iie=e=>e*180/Math.PI,Tn=(e,t,n,r)=>({x:e+Math.cos(-Vp*r)*n,y:t+Math.sin(-Vp*r)*n}),M6=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Lie=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},zie=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,c=Lie({x:n,y:r},{x:a,y:i});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,u=Math.acos(d);return r>i&&(u=2*Math.PI-u),{radius:c,angle:Iie(u),angleInRadian:u}},Uie=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},Bie=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),c=Math.min(a,i);return e+c*360},qie=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=zie({x:n,y:r},t),{innerRadius:c,outerRadius:d}=t;if(a<c||a>d||a===0)return null;var{startAngle:u,endAngle:h}=Uie(t),m=i,p;if(u<=h){for(;m>h;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=h}else{for(;m>u;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=u}return p?G4(G4({},t),{},{radius:a,angle:Bie(m,t)}):null};function P6(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,c=Tn(t,n,r,a),d=Tn(t,n,r,i);return{points:[c,d],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var K4,Y4,W4,Q4,X4,Z4,J4;function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(null,arguments)}function ao(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $ie=(e,t)=>{var n=ds(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},kh=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:c,cornerRadius:d,cornerIsExternal:u}=e,h=d*(c?1:-1)+r,m=Math.asin(d/h)/Vp,p=u?a:a+i*m,g=Tn(t,n,h,p),v=Tn(t,n,r,p),y=u?a-i*m:a,N=Tn(t,n,h*Math.cos(m*Vp),y);return{center:g,circleTangency:v,lineTangency:N,theta:m}},I6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:c}=e,d=$ie(i,c),u=i+d,h=Tn(t,n,a,i),m=Tn(t,n,a,u),p=jn(K4||(K4=ao(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(d)>180),+(i>u),m.x,m.y);if(r>0){var g=Tn(t,n,r,i),v=Tn(t,n,r,u);p+=jn(Y4||(Y4=ao(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(d)>180),+(i<=u),g.x,g.y)}else p+=jn(W4||(W4=ao(["L ",","," Z"])),t,n);return p},Hie=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}=e,m=ds(h-u),{circleTangency:p,lineTangency:g,theta:v}=kh({cx:t,cy:n,radius:a,angle:u,sign:m,cornerRadius:i,cornerIsExternal:d}),{circleTangency:y,lineTangency:N,theta:j}=kh({cx:t,cy:n,radius:a,angle:h,sign:-m,cornerRadius:i,cornerIsExternal:d}),_=d?Math.abs(u-h):Math.abs(u-h)-v-j;if(_<0)return c?jn(Q4||(Q4=ao(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):I6({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:u,endAngle:h});var C=jn(X4||(X4=ao(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(m<0),p.x,p.y,a,a,+(_>180),+(m<0),y.x,y.y,i,i,+(m<0),N.x,N.y);if(r>0){var{circleTangency:E,lineTangency:k,theta:O}=kh({cx:t,cy:n,radius:r,angle:u,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),{circleTangency:T,lineTangency:D,theta:P}=kh({cx:t,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),X=d?Math.abs(u-h):Math.abs(u-h)-O-P;if(X<0&&i===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+=jn(Z4||(Z4=ao(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,i,i,+(m<0),T.x,T.y,r,r,+(X>180),+(m>0),E.x,E.y,i,i,+(m<0),k.x,k.y)}else C+=jn(J4||(J4=ao(["L",",","Z"])),t,n);return C},Fie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L6=e=>{var t=qn(e,Fie),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:u,startAngle:h,endAngle:m,className:p}=t;if(i<a||h===m)return null;var g=vt("recharts-sector",p),v=i-a,y=bs(c,v,0,!0),N;return y>0&&Math.abs(h-m)<360?N=Hie({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,v/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:h,endAngle:m}):N=I6({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:h,endAngle:m}),b.createElement("path",nw({},ks(t),{className:g,d:N}))};function Vie(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(gP(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:c,angle:d}=t,u=Tn(r,a,i,d),h=Tn(r,a,c,d);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return P6(t)}}var jb={},wb={},Nb={},eD;function Gie(){return eD||(eD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Nb)),Nb}var tD;function Kie(){return tD||(tD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gie();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(wb)),wb}var nD;function Yie(){return nD||(nD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP(),n=Kie();function r(a,i,c){c&&typeof c!="number"&&t.isIterateeCall(a,i,c)&&(i=c=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),c=c===void 0?a<i?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((i-a)/(c||1)),0),u=new Array(d);for(let h=0;h<d;h++)u[h]=a,a+=c;return u}e.range=r})(jb)),jb}var Sb,sD;function Wie(){return sD||(sD=1,Sb=Yie().range),Sb}var Qie=Wie();const z6=Da(Qie);function cl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xie(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o1(e){let t,n,r;e.length!==2?(t=cl,n=(d,u)=>cl(e(d),u),r=(d,u)=>e(d)-u):(t=e===cl||e===Xie?e:Zie,n=e,r=e);function a(d,u,h=0,m=d.length){if(h<m){if(t(u,u)!==0)return m;do{const p=h+m>>>1;n(d[p],u)<0?h=p+1:m=p}while(h<m)}return h}function i(d,u,h=0,m=d.length){if(h<m){if(t(u,u)!==0)return m;do{const p=h+m>>>1;n(d[p],u)<=0?h=p+1:m=p}while(h<m)}return h}function c(d,u,h=0,m=d.length){const p=a(d,u,h,m-1);return p>h&&r(d[p-1],u)>-r(d[p],u)?p-1:p}return{left:a,center:c,right:i}}function Zie(){return 0}function U6(e){return e===null?NaN:+e}function*Jie(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ele=o1(cl),Uf=ele.right;o1(U6).center;class rD extends Map{constructor(t,n=sle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(aD(this,t))}has(t){return super.has(aD(this,t))}set(t,n){return super.set(tle(this,t),n)}delete(t){return super.delete(nle(this,t))}}function aD({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function tle({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function nle({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function sle(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rle(e=cl){if(e===cl)return B6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function B6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ale=Math.sqrt(50),ile=Math.sqrt(10),lle=Math.sqrt(2);function Gp(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),c=i>=ale?10:i>=ile?5:i>=lle?2:1;let d,u,h;return a<0?(h=Math.pow(10,-a)/c,d=Math.round(e*h),u=Math.round(t*h),d/h<e&&++d,u/h>t&&--u,h=-h):(h=Math.pow(10,a)*c,d=Math.round(e/h),u=Math.round(t/h),d*h<e&&++d,u*h>t&&--u),u<d&&.5<=n&&n<2?Gp(e,t,n*2):[d,u,h]}function sw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,c]=r?Gp(t,e,n):Gp(e,t,n);if(!(i>=a))return[];const d=i-a+1,u=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)u[h]=(i-h)/-c;else for(let h=0;h<d;++h)u[h]=(i-h)*c;else if(c<0)for(let h=0;h<d;++h)u[h]=(a+h)/-c;else for(let h=0;h<d;++h)u[h]=(a+h)*c;return u}function rw(e,t,n){return t=+t,e=+e,n=+n,Gp(e,t,n)[2]}function aw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?rw(t,e,n):rw(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function iD(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lD(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function q6(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?B6:rle(a);r>n;){if(r-n>600){const u=r-n+1,h=t-n+1,m=Math.log(u),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(u-p)/u)*(h-u/2<0?-1:1),v=Math.max(n,Math.floor(t-h*p/u+g)),y=Math.min(r,Math.floor(t+(u-h)*p/u+g));q6(e,t,v,y,a)}const i=e[t];let c=n,d=r;for(Ou(e,n,t),a(e[r],i)>0&&Ou(e,n,r);c<d;){for(Ou(e,c,d),++c,--d;a(e[c],i)<0;)++c;for(;a(e[d],i)>0;)--d}a(e[n],i)===0?Ou(e,n,d):(++d,Ou(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Ou(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ole(e,t,n){if(e=Float64Array.from(Jie(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return lD(e);if(t>=1)return iD(e);var r,a=(r-1)*t,i=Math.floor(a),c=iD(q6(e,i).subarray(0,i+1)),d=lD(e.subarray(i+1));return c+(d-c)*(a-i)}}function cle(e,t,n=U6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),c=+n(e[i],i,e),d=+n(e[i+1],i+1,e);return c+(d-c)*(a-i)}}function dle(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iw=Symbol("implicit");function c1(){var e=new rD,t=[],n=[],r=iw;function a(i){let c=e.get(i);if(c===void 0){if(r!==iw)return r;e.set(i,c=t.push(i)-1)}return n[c%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rD;for(const c of i)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return c1(t,n).unknown(r)},Ir.apply(a,arguments),a}function d1(){var e=c1().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,c,d=!1,u=0,h=0,m=.5;delete e.unknown;function p(){var g=t().length,v=a<r,y=v?a:r,N=v?r:a;i=(N-y)/Math.max(1,g-u+h*2),d&&(i=Math.floor(i)),y+=(N-y-i*(g-u))*m,c=i*(1-u),d&&(y=Math.round(y),c=Math.round(c));var j=dle(g).map(function(_){return y+i*_});return n(v?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,a]=g,r=+r,a=+a,p()):[r,a]},e.rangeRound=function(g){return[r,a]=g,r=+r,a=+a,d=!0,p()},e.bandwidth=function(){return c},e.step=function(){return i},e.round=function(g){return arguments.length?(d=!!g,p()):d},e.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},e.copy=function(){return d1(t(),[r,a]).round(d).paddingInner(u).paddingOuter(h).align(m)},Ir.apply(p(),arguments)}function $6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $6(t())},e}function ule(){return $6(d1.apply(null,arguments).paddingInner(1))}function u1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function H6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bf(){}var cf=.7,Kp=1/cf,Kc="\\s*([+-]?\\d+)\\s*",df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fle=/^#([0-9a-f]{3,8})$/,mle=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),hle=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),ple=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${df}\\)$`),xle=new RegExp(`^rgba\\(${wa},${wa},${wa},${df}\\)$`),gle=new RegExp(`^hsl\\(${df},${wa},${wa}\\)$`),vle=new RegExp(`^hsla\\(${df},${wa},${wa},${df}\\)$`),oD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u1(Bf,uf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cD,formatHex:cD,formatHex8:yle,formatHsl:ble,formatRgb:dD,toString:dD});function cD(){return this.rgb().formatHex()}function yle(){return this.rgb().formatHex8()}function ble(){return F6(this).formatHsl()}function dD(){return this.rgb().formatRgb()}function uf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fle.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uD(t):n===3?new Gs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mle.exec(e))?new Gs(t[1],t[2],t[3],1):(t=hle.exec(e))?new Gs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ple.exec(e))?Dh(t[1],t[2],t[3],t[4]):(t=xle.exec(e))?Dh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gle.exec(e))?hD(t[1],t[2]/100,t[3]/100,1):(t=vle.exec(e))?hD(t[1],t[2]/100,t[3]/100,t[4]):oD.hasOwnProperty(e)?uD(oD[e]):e==="transparent"?new Gs(NaN,NaN,NaN,0):null}function uD(e){return new Gs(e>>16&255,e>>8&255,e&255,1)}function Dh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gs(e,t,n,r)}function jle(e){return e instanceof Bf||(e=uf(e)),e?(e=e.rgb(),new Gs(e.r,e.g,e.b,e.opacity)):new Gs}function lw(e,t,n,r){return arguments.length===1?jle(e):new Gs(e,t,n,r??1)}function Gs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}u1(Gs,lw,H6(Bf,{brighter(e){return e=e==null?Kp:Math.pow(Kp,e),new Gs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cf:Math.pow(cf,e),new Gs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gs(ho(this.r),ho(this.g),ho(this.b),Yp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fD,formatHex:fD,formatHex8:wle,formatRgb:mD,toString:mD}));function fD(){return`#${io(this.r)}${io(this.g)}${io(this.b)}`}function wle(){return`#${io(this.r)}${io(this.g)}${io(this.b)}${io((isNaN(this.opacity)?1:this.opacity)*255)}`}function mD(){const e=Yp(this.opacity);return`${e===1?"rgb(":"rgba("}${ho(this.r)}, ${ho(this.g)}, ${ho(this.b)}${e===1?")":`, ${e})`}`}function Yp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ho(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function io(e){return e=ho(e),(e<16?"0":"")+e.toString(16)}function hD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,n,r)}function F6(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof Bf||(e=uf(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),c=NaN,d=i-a,u=(i+a)/2;return d?(t===i?c=(n-r)/d+(n<r)*6:n===i?c=(r-t)/d+2:c=(t-n)/d+4,d/=u<.5?i+a:2-i-a,c*=60):d=u>0&&u<1?0:c,new Vr(c,d,u,e.opacity)}function Nle(e,t,n,r){return arguments.length===1?F6(e):new Vr(e,t,n,r??1)}function Vr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}u1(Vr,Nle,H6(Bf,{brighter(e){return e=e==null?Kp:Math.pow(Kp,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cf:Math.pow(cf,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Gs(_b(e>=240?e-240:e+120,a,r),_b(e,a,r),_b(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Vr(pD(this.h),Oh(this.s),Oh(this.l),Yp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yp(this.opacity);return`${e===1?"hsl(":"hsla("}${pD(this.h)}, ${Oh(this.s)*100}%, ${Oh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pD(e){return e=(e||0)%360,e<0?e+360:e}function Oh(e){return Math.max(0,Math.min(1,e||0))}function _b(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const f1=e=>()=>e;function Sle(e,t){return function(n){return e+n*t}}function _le(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Cle(e){return(e=+e)==1?V6:function(t,n){return n-t?_le(t,n,e):f1(isNaN(t)?n:t)}}function V6(e,t){var n=t-e;return n?Sle(e,n):f1(isNaN(e)?t:e)}const xD=(function e(t){var n=Cle(t);function r(a,i){var c=n((a=lw(a)).r,(i=lw(i)).r),d=n(a.g,i.g),u=n(a.b,i.b),h=V6(a.opacity,i.opacity);return function(m){return a.r=c(m),a.g=d(m),a.b=u(m),a.opacity=h(m),a+""}}return r.gamma=e,r})(1);function Ele(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Ale(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kle(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),c;for(c=0;c<r;++c)a[c]=wd(e[c],t[c]);for(;c<n;++c)i[c]=t[c];return function(d){for(c=0;c<r;++c)i[c]=a[c](d);return i}}function Dle(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ole(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=wd(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var ow=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cb=new RegExp(ow.source,"g");function Tle(e){return function(){return e}}function Rle(e){return function(t){return e(t)+""}}function Mle(e,t){var n=ow.lastIndex=Cb.lastIndex=0,r,a,i,c=-1,d=[],u=[];for(e=e+"",t=t+"";(r=ow.exec(e))&&(a=Cb.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),d[c]?d[c]+=i:d[++c]=i),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,u.push({i:c,x:Wp(r,a)})),n=Cb.lastIndex;return n<t.length&&(i=t.slice(n),d[c]?d[c]+=i:d[++c]=i),d.length<2?u[0]?Rle(u[0].x):Tle(t):(t=u.length,function(h){for(var m=0,p;m<t;++m)d[(p=u[m]).i]=p.x(h);return d.join("")})}function wd(e,t){var n=typeof t,r;return t==null||n==="boolean"?f1(t):(n==="number"?Wp:n==="string"?(r=uf(t))?(t=r,xD):Mle:t instanceof uf?xD:t instanceof Date?Dle:Ale(t)?Ele:Array.isArray(t)?kle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ole:Wp)(e,t)}function m1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ple(e,t){t===void 0&&(t=e,e=wd);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return i[d](c-d)}}function Ile(e){return function(){return e}}function Qp(e){return+e}var gD=[0,1];function Cs(e){return e}function cw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ile(isNaN(t)?NaN:.5)}function Lle(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zle(e,t,n){var r=e[0],a=e[1],i=t[0],c=t[1];return a<r?(r=cw(a,r),i=n(c,i)):(r=cw(r,a),i=n(i,c)),function(d){return i(r(d))}}function Ule(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=cw(e[c],e[c+1]),i[c]=n(t[c],t[c+1]);return function(d){var u=Uf(e,d,1,r)-1;return i[u](a[u](d))}}function qf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ag(){var e=gD,t=gD,n=wd,r,a,i,c=Cs,d,u,h;function m(){var g=Math.min(e.length,t.length);return c!==Cs&&(c=Lle(e[0],e[g-1])),d=g>2?Ule:zle,u=h=null,p}function p(g){return g==null||isNaN(g=+g)?i:(u||(u=d(e.map(r),t,n)))(r(c(g)))}return p.invert=function(g){return c(a((h||(h=d(t,e.map(r),Wp)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Qp),m()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=m1,m()},p.clamp=function(g){return arguments.length?(c=g?!0:Cs,m()):c!==Cs},p.interpolate=function(g){return arguments.length?(n=g,m()):n},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,v){return r=g,a=v,m()}}function h1(){return ag()(Cs,Cs)}function Ble(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function id(e){return e=Xp(Math.abs(e)),e?e[1]:NaN}function qle(e,t){return function(n,r){for(var a=n.length,i=[],c=0,d=e[0],u=0;a>0&&d>0&&(u+d+1>r&&(d=Math.max(1,r-u)),i.push(n.substring(a-=d,a+d)),!((u+=d+1)>r));)d=e[c=(c+1)%e.length];return i.reverse().join(t)}}function $le(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Hle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ff(e){if(!(t=Hle.exec(e)))throw new Error("invalid format: "+e);var t;return new p1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ff.prototype=p1.prototype;function p1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}p1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fle(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Zp;function Vle(e,t){var n=Xp(e,t);if(!n)return Zp=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(Zp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return i===c?r:i>c?r+new Array(i-c+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Xp(e,Math.max(0,t+i-1))[0]}function vD(e,t){var n=Xp(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const yD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ble,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vD(e*100,t),r:vD,s:Vle,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bD(e){return e}var jD=Array.prototype.map,wD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gle(e){var t=e.grouping===void 0||e.thousands===void 0?bD:qle(jD.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?bD:$le(jD.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p,g){p=ff(p);var v=p.fill,y=p.align,N=p.sign,j=p.symbol,_=p.zero,C=p.width,E=p.comma,k=p.precision,O=p.trim,T=p.type;T==="n"?(E=!0,T="g"):yD[T]||(k===void 0&&(k=12),O=!0,T="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var D=(g&&g.prefix!==void 0?g.prefix:"")+(j==="$"?n:j==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),P=(j==="$"?r:/[%p]/.test(T)?c:"")+(g&&g.suffix!==void 0?g.suffix:""),X=yD[T],ae=/[defgprs%]/.test(T);k=k===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function G(M){var Y=D,Z=P,fe,U,L;if(T==="c")Z=X(M)+Z,M="";else{M=+M;var I=M<0||1/M<0;if(M=isNaN(M)?u:X(Math.abs(M),k),O&&(M=Fle(M)),I&&+M==0&&N!=="+"&&(I=!1),Y=(I?N==="("?N:d:N==="-"||N==="("?"":N)+Y,Z=(T==="s"&&!isNaN(M)&&Zp!==void 0?wD[8+Zp/3]:"")+Z+(I&&N==="("?")":""),ae){for(fe=-1,U=M.length;++fe<U;)if(L=M.charCodeAt(fe),48>L||L>57){Z=(L===46?a+M.slice(fe+1):M.slice(fe))+Z,M=M.slice(0,fe);break}}}E&&!_&&(M=t(M,1/0));var se=Y.length+M.length+Z.length,ye=se<C?new Array(C-se+1).join(v):"";switch(E&&_&&(M=t(ye+M,ye.length?C-Z.length:1/0),ye=""),y){case"<":M=Y+M+Z+ye;break;case"=":M=Y+ye+M+Z;break;case"^":M=ye.slice(0,se=ye.length>>1)+Y+M+Z+ye.slice(se);break;default:M=ye+Y+M+Z;break}return i(M)}return G.toString=function(){return p+""},G}function m(p,g){var v=Math.max(-8,Math.min(8,Math.floor(id(g)/3)))*3,y=Math.pow(10,-v),N=h((p=ff(p),p.type="f",p),{suffix:wD[8+v/3]});return function(j){return N(y*j)}}return{format:h,formatPrefix:m}}var Th,x1,G6;Kle({thousands:",",grouping:[3],currency:["$",""]});function Kle(e){return Th=Gle(e),x1=Th.format,G6=Th.formatPrefix,Th}function Yle(e){return Math.max(0,-id(Math.abs(e)))}function Wle(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(id(t)/3)))*3-id(Math.abs(e)))}function Qle(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,id(t)-id(e))+1}function K6(e,t,n,r){var a=aw(e,t,n),i;switch(r=ff(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Wle(a,c))&&(r.precision=i),G6(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Qle(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Yle(a))&&(r.precision=i-(r.type==="%")*2);break}}return x1(r)}function Al(e){var t=e.domain;return e.ticks=function(n){var r=t();return sw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return K6(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,c=r[a],d=r[i],u,h,m=10;for(d<c&&(h=c,c=d,d=h,h=a,a=i,i=h);m-- >0;){if(h=rw(c,d,n),h===u)return r[a]=c,r[i]=d,t(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;u=h}return e},e}function Y6(){var e=h1();return e.copy=function(){return qf(e,Y6())},Ir.apply(e,arguments),Al(e)}function W6(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Qp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return W6(e).unknown(t)},e=arguments.length?Array.from(e,Qp):[0,1],Al(n)}function Q6(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],c;return i<a&&(c=n,n=r,r=c,c=a,a=i,i=c),e[n]=t.floor(a),e[r]=t.ceil(i),e}function ND(e){return Math.log(e)}function SD(e){return Math.exp(e)}function Xle(e){return-Math.log(-e)}function Zle(e){return-Math.exp(-e)}function Jle(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eoe(e){return e===10?Jle:e===Math.E?Math.exp:t=>Math.pow(e,t)}function toe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _D(e){return(t,n)=>-e(-t,n)}function g1(e){const t=e(ND,SD),n=t.domain;let r=10,a,i;function c(){return a=toe(r),i=eoe(r),n()[0]<0?(a=_D(a),i=_D(i),e(Xle,Zle)):e(ND,SD),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const u=n();let h=u[0],m=u[u.length-1];const p=m<h;p&&([h,m]=[m,h]);let g=a(h),v=a(m),y,N;const j=d==null?10:+d;let _=[];if(!(r%1)&&v-g<j){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(y=1;y<r;++y)if(N=g<0?y/i(-g):y*i(g),!(N<h)){if(N>m)break;_.push(N)}}else for(;g<=v;++g)for(y=r-1;y>=1;--y)if(N=g>0?y/i(-g):y*i(g),!(N<h)){if(N>m)break;_.push(N)}_.length*2<j&&(_=sw(h,m,j))}else _=sw(g,v,Math.min(v-g,j)).map(i);return p?_.reverse():_},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ff(u)).precision==null&&(u.trim=!0),u=x1(u)),d===1/0)return u;const h=Math.max(1,r*d/t.ticks().length);return m=>{let p=m/i(Math.round(a(m)));return p*r<r-.5&&(p*=r),p<=h?u(m):""}},t.nice=()=>n(Q6(n(),{floor:d=>i(Math.floor(a(d))),ceil:d=>i(Math.ceil(a(d)))})),t}function X6(){const e=g1(ag()).domain([1,10]);return e.copy=()=>qf(e,X6()).base(e.base()),Ir.apply(e,arguments),e}function CD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ED(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function v1(e){var t=1,n=e(CD(t),ED(t));return n.constant=function(r){return arguments.length?e(CD(t=+r),ED(t)):t},Al(n)}function Z6(){var e=v1(ag());return e.copy=function(){return qf(e,Z6()).constant(e.constant())},Ir.apply(e,arguments)}function AD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function noe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function soe(e){return e<0?-e*e:e*e}function y1(e){var t=e(Cs,Cs),n=1;function r(){return n===1?e(Cs,Cs):n===.5?e(noe,soe):e(AD(n),AD(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Al(t)}function b1(){var e=y1(ag());return e.copy=function(){return qf(e,b1()).exponent(e.exponent())},Ir.apply(e,arguments),e}function roe(){return b1.apply(null,arguments).exponent(.5)}function kD(e){return Math.sign(e)*e*e}function aoe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function J6(){var e=h1(),t=[0,1],n=!1,r;function a(i){var c=aoe(e(i));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(i){return e.invert(kD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Qp)).map(kD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return J6(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ir.apply(a,arguments),Al(a)}function eI(){var e=[],t=[],n=[],r;function a(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=cle(e,c/d);return i}function i(c){return c==null||isNaN(c=+c)?r:t[Uf(n,c)]}return i.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},i.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(cl),a()},i.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},i.unknown=function(c){return arguments.length?(r=c,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return eI().domain(e).range(t).unknown(r)},Ir.apply(i,arguments)}function tI(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function c(u){return u!=null&&u<=u?a[Uf(r,u,0,n)]:i}function d(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return c}return c.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},c.range=function(u){return arguments.length?(n=(a=Array.from(u)).length-1,d()):a.slice()},c.invertExtent=function(u){var h=a.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},c.unknown=function(u){return arguments.length&&(i=u),c},c.thresholds=function(){return r.slice()},c.copy=function(){return tI().domain([e,t]).range(a).unknown(i)},Ir.apply(Al(c),arguments)}function nI(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Uf(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var c=t.indexOf(i);return[e[c-1],e[c]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return nI().domain(e).range(t).unknown(n)},Ir.apply(a,arguments)}const Eb=new Date,Ab=new Date;function Hn(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const c=a(i),d=a.ceil(i);return i-c<d-i?c:d},a.offset=(i,c)=>(t(i=new Date(+i),c==null?1:Math.floor(c)),i),a.range=(i,c,d)=>{const u=[];if(i=a.ceil(i),d=d==null?1:Math.floor(d),!(i<c)||!(d>0))return u;let h;do u.push(h=new Date(+i)),t(i,d),e(i);while(h<i&&i<c);return u},a.filter=i=>Hn(c=>{if(c>=c)for(;e(c),!i(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!i(c););else for(;--d>=0;)for(;t(c,1),!i(c););}),n&&(a.count=(i,c)=>(Eb.setTime(+i),Ab.setTime(+c),e(Eb),e(Ab),Math.floor(n(Eb,Ab))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?c=>r(c)%i===0:c=>a.count(0,c)%i===0):a)),a}const Jp=Hn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jp);Jp.range;const ni=1e3,Ar=ni*60,si=Ar*60,ui=si*24,j1=ui*7,DD=ui*30,kb=ui*365,lo=Hn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getUTCSeconds());lo.range;const w1=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ni)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getMinutes());w1.range;const N1=Hn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getUTCMinutes());N1.range;const S1=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ni-e.getMinutes()*Ar)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getHours());S1.range;const _1=Hn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCHours());_1.range;const $f=Hn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/ui,e=>e.getDate()-1);$f.range;const ig=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ui,e=>e.getUTCDate()-1);ig.range;const sI=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ui,e=>Math.floor(e/ui));sI.range;function $o(e){return Hn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/j1)}const lg=$o(0),ex=$o(1),ioe=$o(2),loe=$o(3),ld=$o(4),ooe=$o(5),coe=$o(6);lg.range;ex.range;ioe.range;loe.range;ld.range;ooe.range;coe.range;function Ho(e){return Hn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/j1)}const og=Ho(0),tx=Ho(1),doe=Ho(2),uoe=Ho(3),od=Ho(4),foe=Ho(5),moe=Ho(6);og.range;tx.range;doe.range;uoe.range;od.range;foe.range;moe.range;const C1=Hn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());C1.range;const E1=Hn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());E1.range;const fi=Hn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fi.range;const mi=Hn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});mi.range;function rI(e,t,n,r,a,i){const c=[[lo,1,ni],[lo,5,5*ni],[lo,15,15*ni],[lo,30,30*ni],[i,1,Ar],[i,5,5*Ar],[i,15,15*Ar],[i,30,30*Ar],[a,1,si],[a,3,3*si],[a,6,6*si],[a,12,12*si],[r,1,ui],[r,2,2*ui],[n,1,j1],[t,1,DD],[t,3,3*DD],[e,1,kb]];function d(h,m,p){const g=m<h;g&&([h,m]=[m,h]);const v=p&&typeof p.range=="function"?p:u(h,m,p),y=v?v.range(h,+m+1):[];return g?y.reverse():y}function u(h,m,p){const g=Math.abs(m-h)/p,v=o1(([,,j])=>j).right(c,g);if(v===c.length)return e.every(aw(h/kb,m/kb,p));if(v===0)return Jp.every(Math.max(aw(h,m,p),1));const[y,N]=c[g/c[v-1][2]<c[v][2]/g?v-1:v];return y.every(N)}return[d,u]}const[hoe,poe]=rI(mi,E1,og,sI,_1,N1),[xoe,goe]=rI(fi,C1,lg,$f,S1,w1);function Db(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ob(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function voe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,c=e.shortDays,d=e.months,u=e.shortMonths,h=Ru(a),m=Mu(a),p=Ru(i),g=Mu(i),v=Ru(c),y=Mu(c),N=Ru(d),j=Mu(d),_=Ru(u),C=Mu(u),E={a:L,A:I,b:se,B:ye,c:null,d:ID,e:ID,f:qoe,g:Xoe,G:Joe,H:zoe,I:Uoe,j:Boe,L:aI,m:$oe,M:Hoe,p:z,q:V,Q:UD,s:BD,S:Foe,u:Voe,U:Goe,V:Koe,w:Yoe,W:Woe,x:null,X:null,y:Qoe,Y:Zoe,Z:ece,"%":zD},k={a:re,A:$,b:ve,B:W,c:null,d:LD,e:LD,f:rce,g:hce,G:xce,H:tce,I:nce,j:sce,L:lI,m:ace,M:ice,p:we,q:De,Q:UD,s:BD,S:lce,u:oce,U:cce,V:dce,w:uce,W:fce,x:null,X:null,y:mce,Y:pce,Z:gce,"%":zD},O={a:ae,A:G,b:M,B:Y,c:Z,d:MD,e:MD,f:Moe,g:RD,G:TD,H:PD,I:PD,j:Doe,L:Roe,m:koe,M:Ooe,p:X,q:Aoe,Q:Ioe,s:Loe,S:Toe,u:Noe,U:Soe,V:_oe,w:woe,W:Coe,x:fe,X:U,y:RD,Y:TD,Z:Eoe,"%":Poe};E.x=T(n,E),E.X=T(r,E),E.c=T(t,E),k.x=T(n,k),k.X=T(r,k),k.c=T(t,k);function T(pe,Me){return function(Ie){var F=[],Ke=-1,te=0,ke=pe.length,et,ft,Pn;for(Ie instanceof Date||(Ie=new Date(+Ie));++Ke<ke;)pe.charCodeAt(Ke)===37&&(F.push(pe.slice(te,Ke)),(ft=OD[et=pe.charAt(++Ke)])!=null?et=pe.charAt(++Ke):ft=et==="e"?" ":"0",(Pn=Me[et])&&(et=Pn(Ie,ft)),F.push(et),te=Ke+1);return F.push(pe.slice(te,Ke)),F.join("")}}function D(pe,Me){return function(Ie){var F=Tu(1900,void 0,1),Ke=P(F,pe,Ie+="",0),te,ke;if(Ke!=Ie.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(Me&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(te=Ob(Tu(F.y,0,1)),ke=te.getUTCDay(),te=ke>4||ke===0?tx.ceil(te):tx(te),te=ig.offset(te,(F.V-1)*7),F.y=te.getUTCFullYear(),F.m=te.getUTCMonth(),F.d=te.getUTCDate()+(F.w+6)%7):(te=Db(Tu(F.y,0,1)),ke=te.getDay(),te=ke>4||ke===0?ex.ceil(te):ex(te),te=$f.offset(te,(F.V-1)*7),F.y=te.getFullYear(),F.m=te.getMonth(),F.d=te.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),ke="Z"in F?Ob(Tu(F.y,0,1)).getUTCDay():Db(Tu(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(ke+5)%7:F.w+F.U*7-(ke+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Ob(F)):Db(F)}}function P(pe,Me,Ie,F){for(var Ke=0,te=Me.length,ke=Ie.length,et,ft;Ke<te;){if(F>=ke)return-1;if(et=Me.charCodeAt(Ke++),et===37){if(et=Me.charAt(Ke++),ft=O[et in OD?Me.charAt(Ke++):et],!ft||(F=ft(pe,Ie,F))<0)return-1}else if(et!=Ie.charCodeAt(F++))return-1}return F}function X(pe,Me,Ie){var F=h.exec(Me.slice(Ie));return F?(pe.p=m.get(F[0].toLowerCase()),Ie+F[0].length):-1}function ae(pe,Me,Ie){var F=v.exec(Me.slice(Ie));return F?(pe.w=y.get(F[0].toLowerCase()),Ie+F[0].length):-1}function G(pe,Me,Ie){var F=p.exec(Me.slice(Ie));return F?(pe.w=g.get(F[0].toLowerCase()),Ie+F[0].length):-1}function M(pe,Me,Ie){var F=_.exec(Me.slice(Ie));return F?(pe.m=C.get(F[0].toLowerCase()),Ie+F[0].length):-1}function Y(pe,Me,Ie){var F=N.exec(Me.slice(Ie));return F?(pe.m=j.get(F[0].toLowerCase()),Ie+F[0].length):-1}function Z(pe,Me,Ie){return P(pe,t,Me,Ie)}function fe(pe,Me,Ie){return P(pe,n,Me,Ie)}function U(pe,Me,Ie){return P(pe,r,Me,Ie)}function L(pe){return c[pe.getDay()]}function I(pe){return i[pe.getDay()]}function se(pe){return u[pe.getMonth()]}function ye(pe){return d[pe.getMonth()]}function z(pe){return a[+(pe.getHours()>=12)]}function V(pe){return 1+~~(pe.getMonth()/3)}function re(pe){return c[pe.getUTCDay()]}function $(pe){return i[pe.getUTCDay()]}function ve(pe){return u[pe.getUTCMonth()]}function W(pe){return d[pe.getUTCMonth()]}function we(pe){return a[+(pe.getUTCHours()>=12)]}function De(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Me=T(pe+="",E);return Me.toString=function(){return pe},Me},parse:function(pe){var Me=D(pe+="",!1);return Me.toString=function(){return pe},Me},utcFormat:function(pe){var Me=T(pe+="",k);return Me.toString=function(){return pe},Me},utcParse:function(pe){var Me=D(pe+="",!0);return Me.toString=function(){return pe},Me}}}var OD={"-":"",_:" ",0:"0"},es=/^\s*\d+/,yoe=/^%/,boe=/[\\^$*+?|[\]().{}]/g;function yt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function joe(e){return e.replace(boe,"\\$&")}function Ru(e){return new RegExp("^(?:"+e.map(joe).join("|")+")","i")}function Mu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function woe(e,t,n){var r=es.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Noe(e,t,n){var r=es.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Soe(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _oe(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Coe(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function TD(e,t,n){var r=es.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function RD(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eoe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Aoe(e,t,n){var r=es.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function koe(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function MD(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Doe(e,t,n){var r=es.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PD(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ooe(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Toe(e,t,n){var r=es.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Roe(e,t,n){var r=es.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Moe(e,t,n){var r=es.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Poe(e,t,n){var r=yoe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ioe(e,t,n){var r=es.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Loe(e,t,n){var r=es.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ID(e,t){return yt(e.getDate(),t,2)}function zoe(e,t){return yt(e.getHours(),t,2)}function Uoe(e,t){return yt(e.getHours()%12||12,t,2)}function Boe(e,t){return yt(1+$f.count(fi(e),e),t,3)}function aI(e,t){return yt(e.getMilliseconds(),t,3)}function qoe(e,t){return aI(e,t)+"000"}function $oe(e,t){return yt(e.getMonth()+1,t,2)}function Hoe(e,t){return yt(e.getMinutes(),t,2)}function Foe(e,t){return yt(e.getSeconds(),t,2)}function Voe(e){var t=e.getDay();return t===0?7:t}function Goe(e,t){return yt(lg.count(fi(e)-1,e),t,2)}function iI(e){var t=e.getDay();return t>=4||t===0?ld(e):ld.ceil(e)}function Koe(e,t){return e=iI(e),yt(ld.count(fi(e),e)+(fi(e).getDay()===4),t,2)}function Yoe(e){return e.getDay()}function Woe(e,t){return yt(ex.count(fi(e)-1,e),t,2)}function Qoe(e,t){return yt(e.getFullYear()%100,t,2)}function Xoe(e,t){return e=iI(e),yt(e.getFullYear()%100,t,2)}function Zoe(e,t){return yt(e.getFullYear()%1e4,t,4)}function Joe(e,t){var n=e.getDay();return e=n>=4||n===0?ld(e):ld.ceil(e),yt(e.getFullYear()%1e4,t,4)}function ece(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function LD(e,t){return yt(e.getUTCDate(),t,2)}function tce(e,t){return yt(e.getUTCHours(),t,2)}function nce(e,t){return yt(e.getUTCHours()%12||12,t,2)}function sce(e,t){return yt(1+ig.count(mi(e),e),t,3)}function lI(e,t){return yt(e.getUTCMilliseconds(),t,3)}function rce(e,t){return lI(e,t)+"000"}function ace(e,t){return yt(e.getUTCMonth()+1,t,2)}function ice(e,t){return yt(e.getUTCMinutes(),t,2)}function lce(e,t){return yt(e.getUTCSeconds(),t,2)}function oce(e){var t=e.getUTCDay();return t===0?7:t}function cce(e,t){return yt(og.count(mi(e)-1,e),t,2)}function oI(e){var t=e.getUTCDay();return t>=4||t===0?od(e):od.ceil(e)}function dce(e,t){return e=oI(e),yt(od.count(mi(e),e)+(mi(e).getUTCDay()===4),t,2)}function uce(e){return e.getUTCDay()}function fce(e,t){return yt(tx.count(mi(e)-1,e),t,2)}function mce(e,t){return yt(e.getUTCFullYear()%100,t,2)}function hce(e,t){return e=oI(e),yt(e.getUTCFullYear()%100,t,2)}function pce(e,t){return yt(e.getUTCFullYear()%1e4,t,4)}function xce(e,t){var n=e.getUTCDay();return e=n>=4||n===0?od(e):od.ceil(e),yt(e.getUTCFullYear()%1e4,t,4)}function gce(){return"+0000"}function zD(){return"%"}function UD(e){return+e}function BD(e){return Math.floor(+e/1e3)}var Mc,cI,dI;vce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vce(e){return Mc=voe(e),cI=Mc.format,Mc.parse,dI=Mc.utcFormat,Mc.utcParse,Mc}function yce(e){return new Date(e)}function bce(e){return e instanceof Date?+e:+new Date(+e)}function A1(e,t,n,r,a,i,c,d,u,h){var m=h1(),p=m.invert,g=m.domain,v=h(".%L"),y=h(":%S"),N=h("%I:%M"),j=h("%I %p"),_=h("%a %d"),C=h("%b %d"),E=h("%B"),k=h("%Y");function O(T){return(u(T)<T?v:d(T)<T?y:c(T)<T?N:i(T)<T?j:r(T)<T?a(T)<T?_:C:n(T)<T?E:k)(T)}return m.invert=function(T){return new Date(p(T))},m.domain=function(T){return arguments.length?g(Array.from(T,bce)):g().map(yce)},m.ticks=function(T){var D=g();return e(D[0],D[D.length-1],T??10)},m.tickFormat=function(T,D){return D==null?O:h(D)},m.nice=function(T){var D=g();return(!T||typeof T.range!="function")&&(T=t(D[0],D[D.length-1],T??10)),T?g(Q6(D,T)):m},m.copy=function(){return qf(m,A1(e,t,n,r,a,i,c,d,u,h))},m}function jce(){return Ir.apply(A1(xoe,goe,fi,C1,lg,$f,S1,w1,lo,cI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wce(){return Ir.apply(A1(hoe,poe,mi,E1,og,ig,_1,N1,lo,dI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cg(){var e=0,t=1,n,r,a,i,c=Cs,d=!1,u;function h(p){return p==null||isNaN(p=+p)?u:c(a===0?.5:(p=(i(p)-n)*a,d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(c=p,h):c};function m(p){return function(g){var v,y;return arguments.length?([v,y]=g,c=p(v,y),h):[c(0),c(1)]}}return h.range=m(wd),h.rangeRound=m(m1),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return i=p,n=p(e),r=p(t),a=n===r?0:1/(r-n),h}}function kl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uI(){var e=Al(cg()(Cs));return e.copy=function(){return kl(e,uI())},ji.apply(e,arguments)}function fI(){var e=g1(cg()).domain([1,10]);return e.copy=function(){return kl(e,fI()).base(e.base())},ji.apply(e,arguments)}function mI(){var e=v1(cg());return e.copy=function(){return kl(e,mI()).constant(e.constant())},ji.apply(e,arguments)}function k1(){var e=y1(cg());return e.copy=function(){return kl(e,k1()).exponent(e.exponent())},ji.apply(e,arguments)}function Nce(){return k1.apply(null,arguments).exponent(.5)}function hI(){var e=[],t=Cs;function n(r){if(r!=null&&!isNaN(r=+r))return t((Uf(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(cl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>ole(e,i/r))},n.copy=function(){return hI(t).domain(e)},ji.apply(n,arguments)}function dg(){var e=0,t=.5,n=1,r=1,a,i,c,d,u,h=Cs,m,p=!1,g;function v(N){return isNaN(N=+N)?g:(N=.5+((N=+m(N))-i)*(r*N<r*i?d:u),h(p?Math.max(0,Math.min(1,N)):N))}v.domain=function(N){return arguments.length?([e,t,n]=N,a=m(e=+e),i=m(t=+t),c=m(n=+n),d=a===i?0:.5/(i-a),u=i===c?0:.5/(c-i),r=i<a?-1:1,v):[e,t,n]},v.clamp=function(N){return arguments.length?(p=!!N,v):p},v.interpolator=function(N){return arguments.length?(h=N,v):h};function y(N){return function(j){var _,C,E;return arguments.length?([_,C,E]=j,h=Ple(N,[_,C,E]),v):[h(0),h(.5),h(1)]}}return v.range=y(wd),v.rangeRound=y(m1),v.unknown=function(N){return arguments.length?(g=N,v):g},function(N){return m=N,a=N(e),i=N(t),c=N(n),d=a===i?0:.5/(i-a),u=i===c?0:.5/(c-i),r=i<a?-1:1,v}}function pI(){var e=Al(dg()(Cs));return e.copy=function(){return kl(e,pI())},ji.apply(e,arguments)}function xI(){var e=g1(dg()).domain([.1,1,10]);return e.copy=function(){return kl(e,xI()).base(e.base())},ji.apply(e,arguments)}function gI(){var e=v1(dg());return e.copy=function(){return kl(e,gI()).constant(e.constant())},ji.apply(e,arguments)}function D1(){var e=y1(dg());return e.copy=function(){return kl(e,D1()).exponent(e.exponent())},ji.apply(e,arguments)}function Sce(){return D1.apply(null,arguments).exponent(.5)}const zu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:d1,scaleDiverging:pI,scaleDivergingLog:xI,scaleDivergingPow:D1,scaleDivergingSqrt:Sce,scaleDivergingSymlog:gI,scaleIdentity:W6,scaleImplicit:iw,scaleLinear:Y6,scaleLog:X6,scaleOrdinal:c1,scalePoint:ule,scalePow:b1,scaleQuantile:eI,scaleQuantize:tI,scaleRadial:J6,scaleSequential:uI,scaleSequentialLog:fI,scaleSequentialPow:k1,scaleSequentialQuantile:hI,scaleSequentialSqrt:Nce,scaleSequentialSymlog:mI,scaleSqrt:roe,scaleSymlog:Z6,scaleThreshold:nI,scaleTime:jce,scaleUtc:wce,tickFormat:K6},Symbol.toStringTag,{value:"Module"}));var wi=e=>e.chartData,ug=le([wi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),O1=(e,t,n,r)=>r?ug(e):wi(e),_ce=(e,t,n)=>n?ug(e):wi(e);function hi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(_t(t)&&_t(n))return!0}return!1}function qD(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(_t(n))a=n;else if(typeof n=="function")return;if(_t(r))i=r;else if(typeof r=="function")return;var c=[a,i];if(hi(c))return c}}function Cce(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(hi(r))return qD(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,c,d;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Be(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&Qk.test(a)){var u=Qk.exec(a);if(u==null||u[1]==null||t==null)c=void 0;else{var h=+u[1];c=t[0]-h}}else c=t?.[0];if(i==="auto")t!=null&&(d=Math.max(...t));else if(Be(i))d=i;else if(typeof i=="function")try{t!=null&&(d=i(t?.[1]))}catch{}else if(typeof i=="string"&&Xk.test(i)){var m=Xk.exec(i);if(m==null||m[1]==null||t==null)d=void 0;else{var p=+m[1];d=t[1]+p}}else d=t?.[1];var g=[c,d];if(hi(g))return t==null?g:qD(g,t,n)}}}var Nd=1e9,Ece={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},R1,on=!0,Mr="[DecimalError] ",po=Mr+"Invalid argument: ",T1=Mr+"Exponent out of range: ",Sd=Math.floor,to=Math.pow,Ace=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,Xn=1e7,Xt=7,yI=9007199254740991,nx=Sd(yI/Xt),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(e){return li(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,n=t.constructor;return Ht(li(t,new n(e),0,1),n.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return Mn(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rr))throw Error(Mr+"NaN");if(n.s<1)throw Error(Mr+(n.s?"NaN":"-Infinity"));return n.eq(rr)?new r(0):(on=!1,t=li(mf(n,i),mf(e,i),i),on=!0,Ht(t,a))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wI(t,e):bI(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Mr+"NaN");return n.s?(on=!1,t=li(n,e,0,1).times(e),on=!0,n.minus(t)):Ht(new r(n),a)};Re.naturalExponential=Re.exp=function(){return jI(this)};Re.naturalLogarithm=Re.ln=function(){return mf(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bI(t,e):wI(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(po+e);if(t=Mn(a)+1,r=a.d.length-1,n=r*Xt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Re.squareRoot=Re.sqrt=function(){var e,t,n,r,a,i,c,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Mr+"NaN")}for(e=Mn(d),on=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=ja(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Sd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(a.toString()),n=u.precision,a=c=n+3;;)if(i=r,r=i.plus(li(d,i,c+2)).times(.5),ja(i.d).slice(0,c)===(t=ja(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Ht(i,n+1,0),i.times(i).eq(d)){r=i;break}}else if(t!="9999")break;c+=4}return on=!0,Ht(r,n)};Re.times=Re.mul=function(e){var t,n,r,a,i,c,d,u,h,m=this,p=m.constructor,g=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,u=g.length,h=v.length,u<h&&(i=g,g=v,v=i,c=u,u=h,h=c),i=[],c=u+h,r=c;r--;)i.push(0);for(r=h;--r>=0;){for(t=0,a=u+r;a>r;)d=i[a]+v[r]*g[a-r-1]+t,i[a--]=d%Xn|0,t=d/Xn|0;i[a]=(i[a]+t)%Xn|0}for(;!i[--c];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,on?Ht(e,p.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ka(e,0,Nd),t===void 0?t=r.rounding:ka(t,0,8),Ht(n,e+Mn(n)+1,t))};Re.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Do(r,!0):(ka(e,0,Nd),t===void 0?t=a.rounding:ka(t,0,8),r=Ht(new a(r),e+1,t),n=Do(r,!0,e+1)),n};Re.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Do(a):(ka(e,0,Nd),t===void 0?t=i.rounding:ka(t,0,8),r=Ht(new i(a),e+Mn(a)+1,t),n=Do(r.abs(),!1,e+Mn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),Mn(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,n,r,a,i,c,d=this,u=d.constructor,h=12,m=+(e=new u(e));if(!e.s)return new u(rr);if(d=new u(d),!d.s){if(e.s<1)throw Error(Mr+"Infinity");return d}if(d.eq(rr))return d;if(r=u.precision,e.eq(rr))return Ht(d,r);if(t=e.e,n=e.d.length-1,c=t>=n,i=d.s,c){if((n=m<0?-m:m)<=yI){for(a=new u(rr),t=Math.ceil(r/Xt+4),on=!1;n%2&&(a=a.times(d),HD(a.d,t)),n=Sd(n/2),n!==0;)d=d.times(d),HD(d.d,t);return on=!0,e.s<0?new u(rr).div(a):Ht(a,r)}}else if(i<0)throw Error(Mr+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,on=!1,a=e.times(mf(d,r+h)),on=!0,a=jI(a),a.s=i,a};Re.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Mn(a),r=Do(a,n<=i.toExpNeg||n>=i.toExpPos)):(ka(e,1,Nd),t===void 0?t=i.rounding:ka(t,0,8),a=Ht(new i(a),e,t),n=Mn(a),r=Do(a,e<=n||n<=i.toExpNeg,e)),r};Re.toSignificantDigits=Re.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ka(e,1,Nd),t===void 0?t=r.rounding:ka(t,0,8)),Ht(new r(n),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mn(e),n=e.constructor;return Do(e,t<=n.toExpNeg||t>=n.toExpPos)};function bI(e,t){var n,r,a,i,c,d,u,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),on?Ht(t,p):t;if(u=e.d,h=t.d,c=e.e,a=t.e,u=u.slice(),i=c-a,i){for(i<0?(r=u,i=-i,d=h.length):(r=h,a=c,d=u.length),c=Math.ceil(p/Xt),d=c>d?c+1:d+1,i>d&&(i=d,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(d=u.length,i=h.length,d-i<0&&(i=d,r=h,h=u,u=r),n=0;i;)n=(u[--i]=u[i]+h[i]+n)/Xn|0,u[i]%=Xn;for(n&&(u.unshift(n),++a),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=a,on?Ht(t,p):t}function ka(e,t,n){if(e!==~~e||e<t||e>n)throw Error(po+e)}function ja(e){var t,n,r,a=e.length-1,i="",c=e[0];if(a>0){for(i+=c,t=1;t<a;t++)r=e[t]+"",n=Xt-r.length,n&&(i+=Zi(n)),i+=r;c=e[t],r=c+"",n=Xt-r.length,n&&(i+=Zi(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return i+c}var li=(function(){function e(r,a){var i,c=0,d=r.length;for(r=r.slice();d--;)i=r[d]*a+c,r[d]=i%Xn|0,c=i/Xn|0;return c&&r.unshift(c),r}function t(r,a,i,c){var d,u;if(i!=c)u=i>c?1:-1;else for(d=u=0;d<i;d++)if(r[d]!=a[d]){u=r[d]>a[d]?1:-1;break}return u}function n(r,a,i){for(var c=0;i--;)r[i]-=c,c=r[i]<a[i]?1:0,r[i]=c*Xn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,c){var d,u,h,m,p,g,v,y,N,j,_,C,E,k,O,T,D,P,X=r.constructor,ae=r.s==a.s?1:-1,G=r.d,M=a.d;if(!r.s)return new X(r);if(!a.s)throw Error(Mr+"Division by zero");for(u=r.e-a.e,D=M.length,O=G.length,v=new X(ae),y=v.d=[],h=0;M[h]==(G[h]||0);)++h;if(M[h]>(G[h]||0)&&--u,i==null?C=i=X.precision:c?C=i+(Mn(r)-Mn(a))+1:C=i,C<0)return new X(0);if(C=C/Xt+2|0,h=0,D==1)for(m=0,M=M[0],C++;(h<O||m)&&C--;h++)E=m*Xn+(G[h]||0),y[h]=E/M|0,m=E%M|0;else{for(m=Xn/(M[0]+1)|0,m>1&&(M=e(M,m),G=e(G,m),D=M.length,O=G.length),k=D,N=G.slice(0,D),j=N.length;j<D;)N[j++]=0;P=M.slice(),P.unshift(0),T=M[0],M[1]>=Xn/2&&++T;do m=0,d=t(M,N,D,j),d<0?(_=N[0],D!=j&&(_=_*Xn+(N[1]||0)),m=_/T|0,m>1?(m>=Xn&&(m=Xn-1),p=e(M,m),g=p.length,j=N.length,d=t(p,N,g,j),d==1&&(m--,n(p,D<g?P:M,g))):(m==0&&(d=m=1),p=M.slice()),g=p.length,g<j&&p.unshift(0),n(N,p,j),d==-1&&(j=N.length,d=t(M,N,D,j),d<1&&(m++,n(N,D<j?P:M,j))),j=N.length):d===0&&(m++,N=[0]),y[h++]=m,d&&N[0]?N[j++]=G[k]||0:(N=[G[k]],j=1);while((k++<O||N[0]!==void 0)&&C--)}return y[0]||y.shift(),v.e=u,Ht(v,c?i+Mn(v)+1:i)}})();function jI(e,t){var n,r,a,i,c,d,u=0,h=0,m=e.constructor,p=m.precision;if(Mn(e)>16)throw Error(T1+Mn(e));if(!e.s)return new m(rr);for(on=!1,d=p,c=new m(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(r=Math.log(to(2,h))/Math.LN10*2+5|0,d+=r,n=a=i=new m(rr),m.precision=d;;){if(a=Ht(a.times(e),d),n=n.times(++u),c=i.plus(li(a,n,d)),ja(c.d).slice(0,d)===ja(i.d).slice(0,d)){for(;h--;)i=Ht(i.times(i),d);return m.precision=p,t==null?(on=!0,Ht(i,p)):i}i=c}}function Mn(e){for(var t=e.e*Xt,n=e.d[0];n>=10;n/=10)t++;return t}function Tb(e,t,n){if(t>e.LN10.sd())throw on=!0,n&&(e.precision=n),Error(Mr+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function Zi(e){for(var t="";e--;)t+="0";return t}function mf(e,t){var n,r,a,i,c,d,u,h,m,p=1,g=10,v=e,y=v.d,N=v.constructor,j=N.precision;if(v.s<1)throw Error(Mr+(v.s?"NaN":"-Infinity"));if(v.eq(rr))return new N(0);if(t==null?(on=!1,h=j):h=t,v.eq(10))return t==null&&(on=!0),Tb(N,h);if(h+=g,N.precision=h,n=ja(y),r=n.charAt(0),i=Mn(v),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=ja(v.d),r=n.charAt(0),p++;i=Mn(v),r>1?(v=new N("0."+n),i++):v=new N(r+"."+n.slice(1))}else return u=Tb(N,h+2,j).times(i+""),v=mf(new N(r+"."+n.slice(1)),h-g).plus(u),N.precision=j,t==null?(on=!0,Ht(v,j)):v;for(d=c=v=li(v.minus(rr),v.plus(rr),h),m=Ht(v.times(v),h),a=3;;){if(c=Ht(c.times(m),h),u=d.plus(li(c,new N(a),h)),ja(u.d).slice(0,h)===ja(d.d).slice(0,h))return d=d.times(2),i!==0&&(d=d.plus(Tb(N,h+2,j).times(i+""))),d=li(d,new N(p),h),N.precision=j,t==null?(on=!0,Ht(d,j)):d;d=u,a+=2}}function $D(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Sd(n/Xt),e.d=[],r=(n+1)%Xt,n<0&&(r+=Xt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Xt;r<a;)e.d.push(+t.slice(r,r+=Xt));t=t.slice(r),r=Xt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),on&&(e.e>nx||e.e<-nx))throw Error(T1+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,n){var r,a,i,c,d,u,h,m,p=e.d;for(c=1,i=p[0];i>=10;i/=10)c++;if(r=t-c,r<0)r+=Xt,a=t,h=p[m=0];else{if(m=Math.ceil((r+1)/Xt),i=p.length,m>=i)return e;for(h=i=p[m],c=1;i>=10;i/=10)c++;r%=Xt,a=r-Xt+c}if(n!==void 0&&(i=to(10,c-a-1),d=h/i%10|0,u=t<0||p[m+1]!==void 0||h%i,u=n<4?(d||u)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||u||n==6&&(r>0?a>0?h/to(10,c-a):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(i=Mn(e),p.length=1,t=t-i-1,p[0]=to(10,(Xt-t%Xt)%Xt),e.e=Sd(-t/Xt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,i=1,m--):(p.length=m+1,i=to(10,Xt-r),p[m]=a>0?(h/to(10,c-a)%to(10,a)|0)*i:0),u)for(;;)if(m==0){(p[0]+=i)==Xn&&(p[0]=1,++e.e);break}else{if(p[m]+=i,p[m]!=Xn)break;p[m--]=0,i=1}for(r=p.length;p[--r]===0;)p.pop();if(on&&(e.e>nx||e.e<-nx))throw Error(T1+Mn(e));return e}function wI(e,t){var n,r,a,i,c,d,u,h,m,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),on?Ht(t,v):t;if(u=e.d,p=t.d,r=t.e,h=e.e,u=u.slice(),c=h-r,c){for(m=c<0,m?(n=u,c=-c,d=p.length):(n=p,r=h,d=u.length),a=Math.max(Math.ceil(v/Xt),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=u.length,d=p.length,m=a<d,m&&(d=a),a=0;a<d;a++)if(u[a]!=p[a]){m=u[a]<p[a];break}c=0}for(m&&(n=u,u=p,p=n,t.s=-t.s),d=u.length,a=p.length-d;a>0;--a)u[d++]=0;for(a=p.length;a>c;){if(u[--a]<p[a]){for(i=a;i&&u[--i]===0;)u[i]=Xn-1;--u[i],u[a]+=Xn}u[a]-=p[a]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,on?Ht(t,v):t):new g(0)}function Do(e,t,n){var r,a=Mn(e),i=ja(e.d),c=i.length;return t?(n&&(r=n-c)>0?i=i.charAt(0)+"."+i.slice(1)+Zi(r):c>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Zi(-a-1)+i,n&&(r=n-c)>0&&(i+=Zi(r))):a>=c?(i+=Zi(a+1-c),n&&(r=n-a-1)>0&&(i=i+"."+Zi(r))):((r=a+1)<c&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(i+="."),i+=Zi(r))),e.s<0?"-"+i:i}function HD(e,t){if(e.length>t)return e.length=t,!0}function NI(e){var t,n,r;function a(i){var c=this;if(!(c instanceof a))return new a(i);if(c.constructor=a,i instanceof a){c.s=i.s,c.e=i.e,c.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(po+i);if(i>0)c.s=1;else if(i<0)i=-i,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(i===~~i&&i<1e7){c.e=0,c.d=[i];return}return $D(c,i.toString())}else if(typeof i!="string")throw Error(po+i);if(i.charCodeAt(0)===45?(i=i.slice(1),c.s=-1):c.s=1,Ace.test(i))$D(c,i);else throw Error(po+i)}if(a.prototype=Re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=NI,a.config=a.set=kce,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function kce(e){if(!e||typeof e!="object")throw Error(Mr+"Object expected");var t,n,r,a=["precision",1,Nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Sd(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(po+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(po+n+": "+r);return this}var R1=NI(Ece);rr=new R1(1);const Ot=R1;function SI(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function _I(e,t,n){for(var r=new Ot(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var CI=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},EI=(e,t,n)=>{if(e.lte(0))return new Ot(0);var r=SI(e.toNumber()),a=new Ot(10).pow(r),i=e.div(a),c=r!==1?.05:.1,d=new Ot(Math.ceil(i.div(c).toNumber())).add(n).mul(c),u=d.mul(a);return t?new Ot(u.toNumber()):new Ot(Math.ceil(u.toNumber()))},Dce=(e,t,n)=>{var r=new Ot(1),a=new Ot(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Ot(10).pow(SI(e)-1),a=new Ot(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Ot(Math.floor(e)))}else e===0?a=new Ot(Math.floor((t-1)/2)):n||(a=new Ot(Math.floor(e)));for(var c=Math.floor((t-1)/2),d=[],u=0;u<t;u++)d.push(a.add(new Ot(u-c).mul(r)).toNumber());return d},AI=function(t,n,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var c=EI(new Ot(n).sub(t).div(r-1),a,i),d;t<=0&&n>=0?d=new Ot(0):(d=new Ot(t).add(n).div(2),d=d.sub(new Ot(d).mod(c)));var u=Math.ceil(d.sub(t).div(c).toNumber()),h=Math.ceil(new Ot(n).sub(d).div(c).toNumber()),m=u+h+1;return m>r?AI(t,n,r,a,i+1):(m<r&&(h=n>0?h+(r-m):h,u=n>0?u:u+(r-m)),{step:c,tickMin:d.sub(new Ot(u).mul(c)),tickMax:d.add(new Ot(h).mul(c))})},Oce=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,u]=CI([n,r]);if(d===-1/0||u===1/0){var h=u===1/0?[d,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),u];return n>r?h.reverse():h}if(d===u)return Dce(d,a,i);var{step:m,tickMin:p,tickMax:g}=AI(d,u,c,i,0),v=_I(p,g.add(new Ot(.1).mul(m)),m);return n>r?v.reverse():v},Tce=function(t,n){var[r,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=CI([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var u=Math.max(n,2),h=EI(new Ot(d).sub(c).div(u-1),i,0),m=[..._I(new Ot(c),new Ot(d),h),d];return i===!1&&(m=m.map(p=>Math.round(p))),r>a?m.reverse():m},kI=e=>e.rootProps.maxBarSize,Rce=e=>e.rootProps.barGap,DI=e=>e.rootProps.barCategoryGap,Mce=e=>e.rootProps.barSize,Hf=e=>e.rootProps.stackOffset,OI=e=>e.rootProps.reverseStackOrder,M1=e=>e.options.chartName,P1=e=>e.rootProps.syncId,TI=e=>e.rootProps.syncMethod,I1=e=>e.options.eventEmitter,Bn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ql={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},pa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},fg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function mg(e,t,n){if(n!=="auto")return n;if(e!=null)return vi(e,t)?"category":"number"}function FD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(n),!0).forEach(function(r){Pce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pce(e,t,n){return(t=Ice(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ice(e){var t=Lce(e,"string");return typeof t=="symbol"?t:t+""}function Lce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VD={allowDataOverflow:Ql.allowDataOverflow,allowDecimals:Ql.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ql.angleAxisId,includeHidden:!1,name:void 0,reversed:Ql.reversed,scale:Ql.scale,tick:Ql.tick,tickCount:void 0,ticks:void 0,type:Ql.type,unit:void 0},GD={allowDataOverflow:pa.allowDataOverflow,allowDecimals:pa.allowDecimals,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:pa.includeHidden,name:void 0,reversed:pa.reversed,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:pa.type,unit:void 0},zce=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},L1=le([zce,g6],(e,t)=>{var n;if(e!=null)return e;var r=(n=mg(t,"angleAxis",VD.type))!==null&&n!==void 0?n:"category";return sx(sx({},VD),{},{type:r})}),Uce=(e,t)=>e.polarAxis.radiusAxis[t],z1=le([Uce,g6],(e,t)=>{var n;if(e!=null)return e;var r=(n=mg(t,"radiusAxis",GD.type))!==null&&n!==void 0?n:"category";return sx(sx({},GD),{},{type:r})}),hg=e=>e.polarOptions,U1=le([yi,bi,$n],M6),RI=le([hg,U1],(e,t)=>{if(e!=null)return bs(e.innerRadius,t,0)}),MI=le([hg,U1],(e,t)=>{if(e!=null)return bs(e.outerRadius,t,t*.8)}),Bce=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},PI=le([hg],Bce);le([L1,PI],fg);var II=le([U1,RI,MI],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});le([z1,II],fg);var LI=le([jt,hg,RI,MI,yi,bi],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:d,startAngle:u,endAngle:h}=t;return{cx:bs(c,a,a/2),cy:bs(d,i,i/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:h,clockWise:!1}}}),xn=(e,t)=>t,Ff=(e,t,n)=>n;function B1(e){return e?.id}function zI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,c=new Map;return e.forEach(d=>{var u,h=(u=d.data)!==null&&u!==void 0?u:r;if(!(h==null||h.length===0)){var m=B1(d);h.forEach((p,g)=>{var v=i==null||a?g:String(zt(p,i,null)),y=zt(p,d.dataKey,0),N;c.has(v)?N=c.get(v):N={},Object.assign(N,{[m]:y}),c.set(v,N)})}}),Array.from(c.values())}function pg(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var xg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function qce(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ts=e=>{var t=jt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_d=e=>e.tooltip.settings.axisId;function $ce(e){if(e in zu)return zu[e]();var t="scale".concat(Df(e));if(t in zu)return zu[t]()}function KD(e){var t=e.ticks,n=e.bandwidth,r=e.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(i){function c(){return i.apply(this,arguments)}return c.toString=function(){return i.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(i){var c=a[0],d=a[1];return c<=d?i>=c&&i<=d:i>=d&&i<=c},bandwidth:n?()=>n.call(e):void 0,ticks:t?i=>t.call(e,i):void 0,map:(i,c)=>{var d=e(i);if(d!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var u=e.bandwidth();switch(c.position){case"middle":d+=u/2;break;case"end":d+=u;break}}return d}}}}function YD(e,t,n){if(typeof e=="function")return KD(e.copy().domain(t).range(n));if(e!=null){var r=$ce(e);if(r!=null)return r.domain(t).range(n),KD(r)}}var UI=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!hi(t)){for(var n,r,a=0;a<t.length;a++){var i=t[a];_t(i)&&((n===void 0||i<n)&&(n=i),(r===void 0||i>r)&&(r=i))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){Hce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hce(e,t,n){return(t=Fce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fce(e){var t=Vce(e,"string");return typeof t=="symbol"?t:t+""}function Vce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dw=[0,"auto"],Wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BI=(e,t)=>e.cartesianAxis.xAxis[t],Ni=(e,t)=>{var n=BI(e,t);return n??Wn},Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mf},qI=(e,t)=>e.cartesianAxis.yAxis[t],Si=(e,t)=>{var n=qI(e,t);return n??Qn},Gce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},q1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Gce},Nn=(e,t,n)=>{switch(t){case"xAxis":return Ni(e,n);case"yAxis":return Si(e,n);case"zAxis":return q1(e,n);case"angleAxis":return L1(e,n);case"radiusAxis":return z1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Kce=(e,t,n)=>{switch(t){case"xAxis":return Ni(e,n);case"yAxis":return Si(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cd=(e,t,n)=>{switch(t){case"xAxis":return Ni(e,n);case"yAxis":return Si(e,n);case"angleAxis":return L1(e,n);case"radiusAxis":return z1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$I=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $1(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var vg=e=>e.graphicalItems.cartesianItems,Yce=le([xn,Ff],$1),H1=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Vf=le([vg,Nn,Yce],H1,{memoizeOptions:{resultEqualityCheck:gg}}),HI=le([Vf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pg)),FI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Wce=le([Vf],FI),F1=e=>e.map(t=>t.data).filter(Boolean).flat(1),Qce=le([Vf],F1,{memoizeOptions:{resultEqualityCheck:gg}}),V1=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},G1=le([Qce,O1],V1),K1=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:zt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:zt(a,r)}))):e.map(r=>({value:r})),yg=le([G1,Nn,Vf],K1);function VI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wh(e){if(Aa(e)||e instanceof Date){var t=Number(e);if(_t(t))return t}}function QD(e){if(Array.isArray(e)){var t=[Wh(e[0]),Wh(e[1])];return hi(t)?t:void 0}var n=Wh(e);if(n!=null)return[n,n]}function pi(e){return e.map(Wh).filter(ya)}function Xce(e,t,n){return!n||typeof t!="number"||Ea(t)?[]:n.length?pi(n.flatMap(r=>{var a=zt(e,r.dataKey),i,c;if(Array.isArray(a)?[i,c]=a:i=c=a,!(!_t(i)||!_t(c)))return[t-i,t+c]})):[]}var Fn=e=>{var t=ts(e),n=_d(e);return Cd(e,t,n)},Gf=le([Fn],e=>e?.dataKey),Zce=le([HI,O1,Fn],zI),GI=(e,t,n,r)=>{var a={},i=t.reduce((c,d)=>{if(d.stackId==null)return c;var u=c[d.stackId];return u==null&&(u=[]),u.push(d),c[d.stackId]=u,c},a);return Object.fromEntries(Object.entries(i).map(c=>{var[d,u]=c,h=r?[...u].reverse():u,m=h.map(B1);return[d,{stackedData:gre(e,m,n),graphicalItems:h}]}))},uw=le([Zce,HI,Hf,OI],GI),KI=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var c=wre(e,a,i);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Jce=le([Nn],e=>e.allowDataOverflow),Y1=e=>{var t;if(e==null||!("domain"in e))return dw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=pi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:dw},W1=le([Nn],Y1),Q1=le([W1,Jce],vI),ede=le([uw,wi,xn,Q1],KI,{memoizeOptions:{resultEqualityCheck:xg}}),bg=e=>e.errorBars,tde=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>VI(n,r)),ax=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),c=Math.min(...i),d=Math.max(...i);return[c,d]}},X1=(e,t,n,r,a)=>{var i,c;if(n.length>0&&e.forEach(d=>{n.forEach(u=>{var h,m,p=(h=r[u.id])===null||h===void 0?void 0:h.filter(_=>VI(a,_)),g=zt(d,(m=t.dataKey)!==null&&m!==void 0?m:u.dataKey),v=Xce(d,g,p);if(v.length>=2){var y=Math.min(...v),N=Math.max(...v);(i==null||y<i)&&(i=y),(c==null||N>c)&&(c=N)}var j=QD(g);j!=null&&(i=i==null?j[0]:Math.min(i,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var u=QD(zt(d,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),c=c==null?u[1]:Math.max(c,u[1]))}),_t(i)&&_t(c))return[i,c]},nde=le([G1,Nn,Wce,bg,xn],X1,{memoizeOptions:{resultEqualityCheck:xg}});function sde(e){var{value:t}=e;if(Aa(t)||t instanceof Date)return t}var rde=(e,t,n)=>{var r=e.map(sde).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hP(r))?z6(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},YI=e=>e.referenceElements.dots,Ed=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),ade=le([YI,xn,Ff],Ed),WI=e=>e.referenceElements.areas,ide=le([WI,xn,Ff],Ed),QI=e=>e.referenceElements.lines,lde=le([QI,xn,Ff],Ed),XI=(e,t)=>{if(e!=null){var n=pi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ode=le(ade,xn,XI),ZI=(e,t)=>{if(e!=null){var n=pi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},cde=le([ide,xn],ZI);function dde(e){var t;if(e.x!=null)return pi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:pi(n)}function ude(e){var t;if(e.y!=null)return pi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:pi(n)}var JI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?dde(r):ude(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},fde=le([lde,xn],JI),mde=le(ode,fde,cde,(e,t,n)=>ax(e,n,t)),Z1=(e,t,n,r,a,i,c,d)=>{if(n!=null)return n;var u=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=u?ax(r,i,a):ax(i,a);return Cce(t,h,e.allowDataOverflow)},hde=le([Nn,W1,Q1,ede,nde,mde,jt,xn],Z1,{memoizeOptions:{resultEqualityCheck:xg}}),pde=[0,1],J1=(e,t,n,r,a,i,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:u}=e,h=vi(t,i);if(h&&d==null){var m;return z6(0,(m=n?.length)!==null&&m!==void 0?m:0)}return u==="category"?rde(r,e,h):a==="expand"?pde:c}},eS=le([Nn,jt,G1,yg,Hf,xn,hde],J1);function xde(e){return e in zu}var eL=(e,t,n)=>{if(e!=null){var{scale:r,type:a}=e;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var i="scale".concat(Df(r));return xde(i)?i:"point"}}},Dl=le([Nn,$I,M1],eL);function tS(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?YD(e.scale,n,r):YD(t,n,r)}var nS=(e,t,n)=>{var r=Y1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hi(e))return Oce(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&hi(e))return Tce(e,t.tickCount,t.allowDecimals)}},sS=le([eS,Cd,Dl],nS),rS=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&hi(t)&&Array.isArray(n)&&n.length>0){var a,i,c=t[0],d=(a=n[0])!==null&&a!==void 0?a:0,u=t[1],h=(i=n[n.length-1])!==null&&i!==void 0?i:0;return[Math.min(c,d),Math.max(u,h)]}return t},gde=le([Nn,eS,sS,xn],rS),vde=le(yg,Nn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(pi(e.map(p=>p.value))).sort((p,g)=>p-g),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var c=i-a;if(c===0)return 1/0;for(var d=0;d<r.length-1;d++){var u=r[d],h=r[d+1];if(!(u==null||h==null)){var m=h-u;n=Math.min(n,m)}}return n/c}}),tL=le(vde,jt,DI,$n,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!_t(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var c=bs(n,e*i),d=e*i/2;return d-c-(d-c)/i*c}return 0}),yde=(e,t,n)=>{var r=Ni(e,t);return r==null||typeof r.padding!="string"?0:tL(e,"xAxis",t,n,r.padding)},bde=(e,t,n)=>{var r=Si(e,t);return r==null||typeof r.padding!="string"?0:tL(e,"yAxis",t,n,r.padding)},jde=le(Ni,yde,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),wde=le(Si,bde,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),Nde=le([$n,jde,Jx,Zx,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Sde=le([$n,jt,wde,Jx,Zx,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:c}=a;return i?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Kf=(e,t,n,r)=>{var a;switch(t){case"xAxis":return Nde(e,n,r);case"yAxis":return Sde(e,n,r);case"zAxis":return(a=q1(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return PI(e);case"radiusAxis":return II(e,n);default:return}},nL=le([Nn,Kf],fg),_de=le([Dl,gde],UI),jg=le([Nn,Dl,_de,nL],tS);le([Vf,bg,xn],tde);function sL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wg=(e,t)=>t,Ng=(e,t,n)=>n,Cde=le(Qx,wg,Ng,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sL)),Ede=le(Xx,wg,Ng,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sL)),rL=(e,t)=>({width:e.width,height:t.height}),Ade=(e,t)=>{var n=typeof t.width=="number"?t.width:Mf;return{width:n,height:e.height}},aL=le($n,Ni,rL),kde=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Dde=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Ode=le(bi,$n,Cde,wg,Ng,(e,t,n,r,a)=>{var i={},c;return n.forEach(d=>{var u=rL(t,d);c==null&&(c=kde(t,r,e));var h=r==="top"&&!a||r==="bottom"&&a;i[d.id]=c-Number(h)*u.height,c+=(h?-1:1)*u.height}),i}),Tde=le(yi,$n,Ede,wg,Ng,(e,t,n,r,a)=>{var i={},c;return n.forEach(d=>{var u=Ade(t,d);c==null&&(c=Dde(t,r,e));var h=r==="left"&&!a||r==="right"&&a;i[d.id]=c-Number(h)*u.width,c+=(h?-1:1)*u.width}),i}),Rde=(e,t)=>{var n=Ni(e,t);if(n!=null)return Ode(e,n.orientation,n.mirror)},Mde=le([$n,Ni,Rde,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Pde=(e,t)=>{var n=Si(e,t);if(n!=null)return Tde(e,n.orientation,n.mirror)},Ide=le([$n,Si,Pde,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),iL=le($n,Si,(e,t)=>{var n=typeof t.width=="number"?t.width:Mf;return{width:n,height:e.height}}),XD=(e,t,n)=>{switch(t){case"xAxis":return aL(e,n).width;case"yAxis":return iL(e,n).height;default:return}},lL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:c}=n,d=vi(e,r),u=t.map(h=>h.value);if(c&&d&&i==="category"&&a&&hP(u))return u}},aS=le([jt,yg,Nn,xn],lL),oL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,c=vi(e,r);if(c&&(a==="number"||i!=="auto"))return t.map(d=>d.value)}},iS=le([jt,yg,Cd,xn],oL);le([jt,Kce,Dl,jg,aS,iS,Kf,sS,xn],(e,t,n,r,a,i,c,d,u)=>{if(t!=null){var h=vi(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}});var Lde=(e,t,n,r,a,i,c,d,u)=>{if(!(t==null||r==null)){var h=vi(e,u),{type:m,ticks:p,tickCount:g}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=m==="category"&&r.bandwidth?r.bandwidth()/v:0;y=u==="angleAxis"&&i!=null&&i.length>=2?ds(i[0]-i[1])*2*y:y;var N=p||a;return N?N.map((j,_)=>{var C=c?c.indexOf(j):j,E=r.map(C);return _t(E)?{index:_,coordinate:E+y,value:j,offset:y}:null}).filter(ya):h&&d?d.map((j,_)=>{var C=r.map(j);return _t(C)?{coordinate:C+y,value:j,index:_,offset:y}:null}).filter(ya):r.ticks?r.ticks(g).map((j,_)=>{var C=r.map(j);return _t(C)?{coordinate:C+y,value:j,index:_,offset:y}:null}).filter(ya):r.domain().map((j,_)=>{var C=r.map(j);return _t(C)?{coordinate:C+y,value:c?c[j]:j,index:_,offset:y}:null}).filter(ya)}},cL=le([jt,Cd,Dl,jg,sS,Kf,aS,iS,xn],Lde),zde=(e,t,n,r,a,i,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=vi(e,c),{tickCount:u}=t,h=0;return h=c==="angleAxis"&&r?.length>=2?ds(r[0]-r[1])*2*h:h,d&&i?i.map((m,p)=>{var g=n.map(m);return _t(g)?{coordinate:g+h,value:m,index:p,offset:h}:null}).filter(ya):n.ticks?n.ticks(u).map((m,p)=>{var g=n.map(m);return _t(g)?{coordinate:g+h,value:m,index:p,offset:h}:null}).filter(ya):n.domain().map((m,p)=>{var g=n.map(m);return _t(g)?{coordinate:g+h,value:a?a[m]:m,index:p,offset:h}:null}).filter(ya)}},yl=le([jt,Cd,jg,Kf,aS,iS,xn],zde),bl=le(Nn,jg,(e,t)=>{if(!(e==null||t==null))return rx(rx({},e),{},{scale:t})}),Ude=le([Nn,Dl,eS,nL],tS);le((e,t,n)=>q1(e,n),Ude,(e,t)=>{if(!(e==null||t==null))return rx(rx({},e),{},{scale:t})});var Bde=le([jt,Qx,Xx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dL=e=>e.options.defaultTooltipEventType,uL=e=>e.options.validateTooltipEventTypes;function fL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function lS(e,t){var n=dL(e),r=uL(e);return fL(t,n,r)}function qde(e){return ze(t=>lS(t,e))}var mL=(e,t)=>{var n,r=Number(t);if(!(Ea(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},$de=e=>e.tooltip.settings,el={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Hde={itemInteraction:{click:el,hover:el},axisInteraction:{click:el,hover:el},keyboardInteraction:el,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},hL=Qs({name:"tooltip",initialState:Hde,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Xr(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:nn()},removeTooltipEntrySettings:{reducer(e,t){var n=Xr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:nn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Fde,replaceTooltipEntrySettings:Vde,removeTooltipEntrySettings:Gde,setTooltipSettingsState:Kde,setActiveMouseOverItemIndex:pL,mouseLeaveItem:Yde,mouseLeaveChart:xL,setActiveClickItemIndex:Wde,setMouseOverAxisIndex:gL,setMouseClickAxisIndex:Qde,setSyncInteraction:fw,setKeyboardInteraction:mw}=hL.actions,Xde=hL.reducer;function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){Zde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zde(e,t,n){return(t=Jde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jde(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tue(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function nue(e){return e.index!=null}var vL=(e,t,n,r)=>{if(t==null)return el;var a=tue(e,t,n);if(a==null)return el;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(nue(a)){if(i)return Rh(Rh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Rh(Rh({},el),{},{coordinate:a.coordinate})};function sue(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function rue(e,t){var n=sue(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),c=Math.max(r,a);return n>=i&&n<=c}function aue(e,t,n){if(n==null||t==null)return!0;var r=zt(e,t);return r==null||!hi(n)?!0:rue(r,n)}var oS=(e,t,n,r)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!_t(i))return a;var c=0,d=1/0;t.length>0&&(d=t.length-1);var u=Math.max(c,Math.min(i,d)),h=t[u];return h==null||aue(h,n,r)?String(u):null},yL=(e,t,n,r,a,i,c)=>{if(i!=null){var d=c[0],u=d?.getPosition(i);if(u!=null)return u;var h=a?.[Number(i)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:h.coordinate}}},bL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.graphicalItemId)===a})},jL=e=>e.options.tooltipPayloadSearcher,Ad=e=>e.tooltip;function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function e3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(r){iue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iue(e,t,n){return(t=lue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cue(e,t){return e??t}var wL=(e,t,n,r,a,i,c)=>{if(!(t==null||i==null)){var{chartData:d,computedData:u,dataStartIndex:h,dataEndIndex:m}=n,p=[];return e.reduce((g,v)=>{var y,{dataDefinedOnItem:N,settings:j}=v,_=cue(N,d),C=Array.isArray(_)?l6(_,h,m):_,E=(y=j?.dataKey)!==null&&y!==void 0?y:r,k=j?.nameKey,O;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&c==="axis"?O=pP(C,r,a):O=i(C,t,u,k),Array.isArray(O))O.forEach(D=>{var P=e3(e3({},j),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(Zk({tooltipEntrySettings:P,dataKey:D.dataKey,payload:D.payload,value:zt(D.payload,D.dataKey),name:D.name}))});else{var T;g.push(Zk({tooltipEntrySettings:j,dataKey:E,payload:O,value:zt(O,E),name:(T=zt(O,k))!==null&&T!==void 0?T:j?.name}))}return g},p)}},cS=le([Fn,$I,M1],eL),due=le([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),uue=le([ts,_d],$1),kd=le([due,Fn,uue],H1,{memoizeOptions:{resultEqualityCheck:gg}}),fue=le([kd],e=>e.filter(pg)),mue=le([kd],F1,{memoizeOptions:{resultEqualityCheck:gg}}),Dd=le([mue,wi],V1),hue=le([fue,wi,Fn],zI),dS=le([Dd,Fn,kd],K1),NL=le([Fn],Y1),pue=le([Fn],e=>e.allowDataOverflow),SL=le([NL,pue],vI),xue=le([kd],e=>e.filter(pg)),gue=le([hue,xue,Hf,OI],GI),vue=le([gue,wi,ts,SL],KI),yue=le([kd],FI),bue=le([Dd,Fn,yue,bg,ts],X1,{memoizeOptions:{resultEqualityCheck:xg}}),jue=le([YI,ts,_d],Ed),wue=le([jue,ts],XI),Nue=le([WI,ts,_d],Ed),Sue=le([Nue,ts],ZI),_ue=le([QI,ts,_d],Ed),Cue=le([_ue,ts],JI),Eue=le([wue,Cue,Sue],ax),Aue=le([Fn,NL,SL,vue,bue,Eue,jt,ts],Z1),Yf=le([Fn,jt,Dd,dS,Hf,ts,Aue],J1),kue=le([Yf,Fn,cS],nS),Due=le([Fn,Yf,kue,ts],rS),_L=e=>{var t=ts(e),n=_d(e),r=!1;return Kf(e,t,n,r)},CL=le([Fn,_L],fg),EL=le([Fn,cS,Due,CL],tS),Oue=le([jt,dS,Fn,ts],lL),Tue=le([jt,dS,Fn,ts],oL),Rue=(e,t,n,r,a,i,c,d)=>{if(t){var{type:u}=t,h=vi(e,d);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=d==="angleAxis"&&a!=null&&a?.length>=2?ds(a[0]-a[1])*2*p:p,h&&c?c.map((g,v)=>{var y=r.map(g);return _t(y)?{coordinate:y+p,value:g,index:v,offset:p}:null}).filter(ya):r.domain().map((g,v)=>{var y=r.map(g);return _t(y)?{coordinate:y+p,value:i?i[g]:g,index:v,offset:p}:null}).filter(ya)}}},_i=le([jt,Fn,cS,EL,_L,Oue,Tue,ts],Rue),uS=le([dL,uL,$de],(e,t,n)=>fL(n.shared,e,t)),AL=e=>e.tooltip.settings.trigger,fS=e=>e.tooltip.settings.defaultIndex,Wf=le([Ad,uS,AL,fS],vL),jl=le([Wf,Dd,Gf,Yf],oS),kL=le([_i,jl],mL),mS=le([Wf],e=>{if(e)return e.dataKey}),Mue=le([Wf],e=>{if(e)return e.graphicalItemId}),DL=le([Ad,uS,AL,fS],bL),Pue=le([yi,bi,jt,$n,_i,fS,DL],yL),Iue=le([Wf,Pue],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Lue=le([Wf],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),zue=le([DL,jl,wi,Gf,kL,jL,uS],wL),Uue=le([zue],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(r){Bue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bue(e,t,n){return(t=que(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function que(e){var t=$ue(e,"string");return typeof t=="symbol"?t:t+""}function $ue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hue=()=>ze(Fn),Fue=()=>{var e=Hue(),t=ze(_i),n=ze(EL);return sd(!e||!n?void 0:n3(n3({},e),{},{scale:n}),t)};function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(r){Vue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vue(e,t,n){return(t=Gue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gue(e){var t=Kue(e,"string");return typeof t=="symbol"?t:t+""}function Kue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yue=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},Wue=(e,t,n,r)=>{var a=t.find(h=>h&&h.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:c}=r;return Pc(Pc(Pc({},r),Tn(r.cx,r.cy,c,i)),{},{angle:i,radius:c})}var d=a.coordinate,{angle:u}=r;return Pc(Pc(Pc({},r),Tn(r.cx,r.cy,d,u)),{},{angle:u,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Que(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var OL=(e,t,n,r,a)=>{var i,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var u,h,m,p,g,v=d>0?(u=n[d-1])===null||u===void 0?void 0:u.coordinate:(h=n[c-1])===null||h===void 0?void 0:h.coordinate,y=(m=n[d])===null||m===void 0?void 0:m.coordinate,N=d>=c-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[d+1])===null||g===void 0?void 0:g.coordinate,j=void 0;if(!(v==null||y==null||N==null))if(ds(y-v)!==ds(N-y)){var _=[];if(ds(N-y)===ds(a[1]-a[0])){j=N;var C=y+a[1]-a[0];_[0]=Math.min(C,(C+v)/2),_[1]=Math.max(C,(C+v)/2)}else{j=v;var E=N+a[1]-a[0];_[0]=Math.min(y,(E+y)/2),_[1]=Math.max(y,(E+y)/2)}var k=[Math.min(y,(j+y)/2),Math.max(y,(j+y)/2)];if(e>k[0]&&e<=k[1]||e>=_[0]&&e<=_[1]){var O;return(O=n[d])===null||O===void 0?void 0:O.index}}else{var T=Math.min(v,N),D=Math.max(v,N);if(e>(T+y)/2&&e<=(D+y)/2){var P;return(P=n[d])===null||P===void 0?void 0:P.index}}}else if(t)for(var X=0;X<c;X++){var ae=t[X];if(ae!=null){var G=t[X+1],M=t[X-1];if(X===0&&G!=null&&e<=(ae.coordinate+G.coordinate)/2||X===c-1&&M!=null&&e>(ae.coordinate+M.coordinate)/2||X>0&&X<c-1&&M!=null&&G!=null&&e>(ae.coordinate+M.coordinate)/2&&e<=(ae.coordinate+G.coordinate)/2)return ae.index}}return-1},Xue=()=>ze(M1),hS=(e,t)=>t,TL=(e,t,n)=>n,pS=(e,t,n,r)=>r,Zue=le(_i,e=>Bx(e,t=>t.coordinate)),xS=le([Ad,hS,TL,pS],vL),gS=le([xS,Dd,Gf,Yf],oS),Jue=(e,t,n)=>{if(t!=null){var r=Ad(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},RL=le([Ad,hS,TL,pS],bL),ix=le([yi,bi,jt,$n,_i,pS,RL],yL),efe=le([xS,ix],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),ML=le([_i,gS],mL),tfe=le([RL,gS,wi,Gf,ML,jL,hS],wL),nfe=le([xS,gS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),sfe=(e,t,n,r,a,i,c)=>{if(!(!e||!n||!r||!a)&&Que(e,c)){var d=Nre(e,t),u=OL(d,i,a,n,r),h=Yue(t,a,u,e);return{activeIndex:String(u),activeCoordinate:h}}},rfe=(e,t,n,r,a,i,c)=>{if(!(!e||!r||!a||!i||!n)){var d=qie(e,n);if(d){var u=Sre(d,t),h=OL(u,c,i,r,a),m=Wue(t,i,h,d);return{activeIndex:String(h),activeCoordinate:m}}}},afe=(e,t,n,r,a,i,c,d)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?sfe(e,t,r,a,i,c,d):rfe(e,t,n,r,a,i,c)},ife=le(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),lfe=le(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Bn)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:qce}});function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(r){ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ofe(e,t,n){return(t=cfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cfe(e){var t=dfe(e,"string");return typeof t=="symbol"?t:t+""}function dfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ufe={},ffe={zIndexMap:Object.values(Bn).reduce((e,t)=>a3(a3({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),ufe)},mfe=new Set(Object.values(Bn));function hfe(e){return mfe.has(e)}var PL=Qs({name:"zIndex",initialState:ffe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:nn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!hfe(n)&&delete e.zIndexMap[n])},prepare:nn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:nn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:nn()}}}),{registerZIndexPortal:pfe,unregisterZIndexPortal:xfe,registerZIndexPortalElement:gfe,unregisterZIndexPortalElement:vfe}=PL.actions,yfe=PL.reducer;function ur(e){var{zIndex:t,children:n}=e,r=nae(),a=r&&t!==void 0&&t!==0,i=Os(),c=Yt();b.useLayoutEffect(()=>a?(c(pfe({zIndex:t})),()=>{c(xfe({zIndex:t}))}):Bo,[c,t,a]);var d=ze(u=>ife(u,t,i));return a?d?go.createPortal(n,d):null:n}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(null,arguments)}function i3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(n),!0).forEach(function(r){bfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bfe(e,t,n){return(t=jfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jfe(e){var t=wfe(e,"string");return typeof t=="symbol"?t:t+""}function wfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nfe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function Sfe(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:c,layout:d,cursor:u,tooltipEventType:h,chartName:m}=e,p=n,g=r,v=a;if(!u||!p||m!=="ScatterChart"&&h!=="axis")return null;var y,N,j;if(m==="ScatterChart")y=p,N=tie,j=Bn.cursorLine;else if(m==="BarChart")y=nie(d,p,i,c),N=R6,j=Bn.cursorRectangle;else if(d==="radial"&&gP(p)){var{cx:_,cy:C,radius:E,startAngle:k,endAngle:O}=P6(p);y={cx:_,cy:C,startAngle:k,endAngle:O,innerRadius:E,outerRadius:E},N=L6,j=Bn.cursorLine}else y={points:Vie(d,p,i)},N=l1,j=Bn.cursorLine;var T=typeof u=="object"&&"className"in u?u.className:void 0,D=Mh(Mh(Mh(Mh({stroke:"#ccc",pointerEvents:"none"},i),y),No(u)),{},{payload:g,payloadIndex:v,className:vt("recharts-tooltip-cursor",T)});return b.createElement(ur,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},b.createElement(Nfe,{cursor:u,cursorComp:N,cursorProps:D}))}function _fe(e){var t=Fue(),n=eae(),r=qo(),a=Xue();return t==null||n==null||r==null||a==null?null:b.createElement(Sfe,hw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var IL=b.createContext(null),Cfe=()=>b.useContext(IL),Rb={exports:{}},l3;function Efe(){return l3||(l3=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(u,h,m){this.fn=u,this.context=h,this.once=m||!1}function i(u,h,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,p||u,g),y=n?n+h:h;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],v]:u._events[y].push(v):(u._events[y]=v,u._eventsCount++),u}function c(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)t.call(m,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},d.prototype.listeners=function(h){var m=n?n+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,y=new Array(v);g<v;g++)y[g]=p[g].fn;return y},d.prototype.listenerCount=function(h){var m=n?n+h:h,p=this._events[m];return p?p.fn?1:p.length:0},d.prototype.emit=function(h,m,p,g,v,y){var N=n?n+h:h;if(!this._events[N])return!1;var j=this._events[N],_=arguments.length,C,E;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),_){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,p),!0;case 4:return j.fn.call(j.context,m,p,g),!0;case 5:return j.fn.call(j.context,m,p,g,v),!0;case 6:return j.fn.call(j.context,m,p,g,v,y),!0}for(E=1,C=new Array(_-1);E<_;E++)C[E-1]=arguments[E];j.fn.apply(j.context,C)}else{var k=j.length,O;for(E=0;E<k;E++)switch(j[E].once&&this.removeListener(h,j[E].fn,void 0,!0),_){case 1:j[E].fn.call(j[E].context);break;case 2:j[E].fn.call(j[E].context,m);break;case 3:j[E].fn.call(j[E].context,m,p);break;case 4:j[E].fn.call(j[E].context,m,p,g);break;default:if(!C)for(O=1,C=new Array(_-1);O<_;O++)C[O-1]=arguments[O];j[E].fn.apply(j[E].context,C)}}return!0},d.prototype.on=function(h,m,p){return i(this,h,m,p,!1)},d.prototype.once=function(h,m,p){return i(this,h,m,p,!0)},d.prototype.removeListener=function(h,m,p,g){var v=n?n+h:h;if(!this._events[v])return this;if(!m)return c(this,v),this;var y=this._events[v];if(y.fn)y.fn===m&&(!g||y.once)&&(!p||y.context===p)&&c(this,v);else{for(var N=0,j=[],_=y.length;N<_;N++)(y[N].fn!==m||g&&!y[N].once||p&&y[N].context!==p)&&j.push(y[N]);j.length?this._events[v]=j.length===1?j[0]:j:c(this,v)}return this},d.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&c(this,m)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(Rb)),Rb.exports}var Afe=Efe();const kfe=Da(Afe);var hf=new kfe,pw="recharts.syncEvent.tooltip",o3="recharts.syncEvent.brush",vS=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Ea(n))return e[n]}},Dfe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},LL=Qs({name:"options",initialState:Dfe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ofe=LL.reducer,{createEventEmitter:Tfe}=LL.actions;function Rfe(e){return e.tooltip.syncInteraction}var Mfe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},zL=Qs({name:"chartData",initialState:Mfe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:c3,setDataStartEndIndexes:Pfe,setComputedData:kye}=zL.actions,Ife=zL.reducer,Lfe=["x","y"];function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(r){zfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zfe(e,t,n){return(t=Ufe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ufe(e){var t=Bfe(e,"string");return typeof t=="symbol"?t:t+""}function Bfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qfe(e,t){if(e==null)return{};var n,r,a=$fe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $fe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hfe(){var e=ze(P1),t=ze(I1),n=Yt(),r=ze(TI),a=ze(_i),i=qo(),c=eg(),d=ze(u=>u.rootProps.className);b.useEffect(()=>{if(e==null)return Bo;var u=(h,m,p)=>{if(t!==p&&e===h){if(r==="index"){var g;if(c&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:y,y:N}=v,j=qfe(v,Lfe),{x:_,y:C,width:E,height:k}=m.payload.sourceViewBox,O=Ic(Ic({},j),{},{x:c.x+(E?(y-_)/E:0)*c.width,y:c.y+(k?(N-C)/k:0)*c.height});n(Ic(Ic({},m),{},{payload:Ic(Ic({},m.payload),{},{coordinate:O})}))}else n(m);return}if(a!=null){var T;if(typeof r=="function"){var D={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},P=r(a,D);T=a[P]}else r==="value"&&(T=a.find(U=>String(U.value)===m.payload.label));var{coordinate:X}=m.payload;if(T==null||m.payload.active===!1||X==null||c==null){n(fw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ae,y:G}=X,M=Math.min(ae,c.x+c.width),Y=Math.min(G,c.y+c.height),Z={x:i==="horizontal"?T.coordinate:M,y:i==="horizontal"?Y:T.coordinate},fe=fw({active:m.payload.active,coordinate:Z,dataKey:m.payload.dataKey,index:String(T.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(fe)}}};return hf.on(pw,u),()=>{hf.off(pw,u)}},[d,n,t,e,r,a,i,c])}function Ffe(){var e=ze(P1),t=ze(I1),n=Yt();b.useEffect(()=>{if(e==null)return Bo;var r=(a,i,c)=>{t!==c&&e===a&&n(Pfe(i))};return hf.on(o3,r),()=>{hf.off(o3,r)}},[n,t,e])}function Vfe(){var e=Yt();b.useEffect(()=>{e(Tfe())},[e]),Hfe(),Ffe()}function Gfe(e,t,n,r,a,i){var c=ze(v=>Jue(v,e,t)),d=ze(I1),u=ze(P1),h=ze(TI),m=ze(Rfe),p=m?.active,g=eg();b.useEffect(()=>{if(!p&&u!=null&&d!=null){var v=fw({active:i,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});hf.emit(pw,u,v,d)}},[p,n,c,a,r,d,u,h,i,g])}function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function f3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(r){Kfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kfe(e,t,n){return(t=Yfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yfe(e){var t=Wfe(e,"string");return typeof t=="symbol"?t:t+""}function Wfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qfe(e){return e.dataKey}function Xfe(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(Mae,t)}var m3=[],Zfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yS(e){var t,n,r=qn(e,Zfe),{active:a,allowEscapeViewBox:i,animationDuration:c,animationEasing:d,content:u,filterNull:h,isAnimationActive:m,offset:p,payloadUniqBy:g,position:v,reverseDirection:y,useTranslate3d:N,wrapperStyle:j,cursor:_,shared:C,trigger:E,defaultIndex:k,portal:O,axisId:T}=r,D=Yt(),P=typeof k=="number"?String(k):k;b.useEffect(()=>{D(Kde({shared:C,trigger:E,axisId:T,active:a,defaultIndex:P}))},[D,C,E,T,a,P]);var X=eg(),ae=A6(),G=qde(C),{activeIndex:M,isActive:Y}=(t=ze(we=>nfe(we,G,E,P)))!==null&&t!==void 0?t:{},Z=ze(we=>tfe(we,G,E,P)),fe=ze(we=>ML(we,G,E,P)),U=ze(we=>efe(we,G,E,P)),L=Z,I=Cfe(),se=(n=a??Y)!==null&&n!==void 0?n:!1,[ye,z]=OP([L,se]),V=G==="axis"?fe:void 0;Gfe(G,E,U,V,M,se);var re=O??I;if(re==null||X==null||G==null)return null;var $=L??m3;se||($=m3),h&&$.length&&($=CP($.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),g,Qfe));var ve=$.length>0,W=b.createElement(qae,{allowEscapeViewBox:i,animationDuration:c,animationEasing:d,isAnimationActive:m,active:se,coordinate:U,hasPayload:ve,offset:p,position:v,reverseDirection:y,useTranslate3d:N,viewBox:X,wrapperStyle:j,lastBoundingBox:ye,innerRef:z,hasPortalFromProps:!!O},Xfe(u,f3(f3({},r),{},{payload:$,label:V,active:se,activeIndex:M,coordinate:U,accessibilityLayer:ae})));return b.createElement(b.Fragment,null,go.createPortal(W,re),se&&b.createElement(_fe,{cursor:_,tooltipEventType:G,coordinate:U,payload:$,index:M}))}var Qf=e=>null;Qf.displayName="Cell";function Jfe(e,t,n){return(t=eme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eme(e){var t=tme(e,"string");return typeof t=="symbol"?t:t+""}function tme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nme{constructor(t){Jfe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(r){rme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rme(e,t,n){return(t=ame(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ame(e){var t=ime(e,"string");return typeof t=="symbol"?t:t+""}function ime(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lme={cacheSize:2e3,enableCache:!0},UL=sme({},lme),p3=new nme(UL.cacheSize),ome={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x3="recharts_measurement_span";function cme(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(c,"|").concat(d)}var g3=(e,t)=>{try{var n=document.getElementById(x3);n||(n=document.createElement("span"),n.setAttribute("id",x3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ome,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rg.isSsr)return{width:0,height:0};if(!UL.enableCache)return g3(t,n);var r=cme(t,n),a=p3.get(r);if(a)return a;var i=g3(t,n);return p3.set(r,i),i},BL;function dme(e,t,n){return(t=ume(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ume(e){var t=fme(e,"string");return typeof t=="symbol"?t:t+""}function fme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pme={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xme=["cm","mm","pt","pc","in","Q","px"];function gme(e){return xme.includes(e)}var $c="NaN";function vme(e,t){return e*pme[t]}class os{static parse(t){var n,[,r,a]=(n=hme.exec(t))!==null&&n!==void 0?n:[];return r==null?os.NaN:new os(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ea(t)&&(this.unit=""),n!==""&&!mme.test(n)&&(this.num=NaN,this.unit=""),gme(n)&&(this.num=vme(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new os(NaN,""):new os(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new os(NaN,""):new os(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new os(NaN,""):new os(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new os(NaN,""):new os(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ea(this.num)}}BL=os;dme(os,"NaN",new BL(NaN,""));function qL(e){if(e==null||e.includes($c))return $c;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=v3.exec(t))!==null&&n!==void 0?n:[],c=os.parse(r??""),d=os.parse(i??""),u=a==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return $c;t=t.replace(v3,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,m,p,g]=(h=y3.exec(t))!==null&&h!==void 0?h:[],v=os.parse(m??""),y=os.parse(g??""),N=p==="+"?v.add(y):v.subtract(y);if(N.isNaN())return $c;t=t.replace(y3,N.toString())}return t}var b3=/\(([^()]*)\)/;function yme(e){for(var t=e,n;(n=b3.exec(t))!=null;){var[,r]=n;t=t.replace(b3,qL(r))}return t}function bme(e){var t=e.replace(/\s+/g,"");return t=yme(t),t=qL(t),t}function jme(e){try{return bme(e)}catch{return $c}}function Mb(e){var t=jme(e.slice(5,-1));return t===$c?"":t}var wme=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nme=["dx","dy","angle","className","breakAll"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(null,arguments)}function j3(e,t){if(e==null)return{};var n,r,a=Sme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Sme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $L=/[ \f\n\r\t\v\u2028\u2029]+/,HL=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];pn(t)||(n?a=t.toString().split(""):a=t.toString().split($L));var i=a.map(d=>({word:d,width:Vu(d,r).width})),c=n?0:Vu("",r).width;return{wordsWithComputedWidth:i,spaceWidth:c}}catch{return null}};function _me(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var FL=(e,t,n,r)=>e.reduce((a,i)=>{var{word:c,width:d}=i,u=a[a.length-1];if(u&&d!=null&&(t==null||r||u.width+d+n<Number(t)))u.words.push(c),u.width+=d+n;else{var h={words:[c],width:d};a.push(h)}return a},[]),VL=e=>e.reduce((t,n)=>t.width>n.width?t:n),Cme="",w3=(e,t,n,r,a,i,c,d)=>{var u=e.slice(0,t),h=HL({breakAll:n,style:r,children:u+Cme});if(!h)return[!1,[]];var m=FL(h.wordsWithComputedWidth,i,c,d),p=m.length>a||VL(m).width>Number(i);return[p,m]},Eme=(e,t,n,r,a)=>{var{maxLines:i,children:c,style:d,breakAll:u}=e,h=Be(i),m=String(c),p=FL(t,r,n,a);if(!h||a)return p;var g=p.length>i||VL(p).width>Number(r);if(!g)return p;for(var v=0,y=m.length-1,N=0,j;v<=y&&N<=m.length-1;){var _=Math.floor((v+y)/2),C=_-1,[E,k]=w3(m,C,u,d,i,r,n,a),[O]=w3(m,_,u,d,i,r,n,a);if(!E&&!O&&(v=_+1),E&&O&&(y=_-1),!E&&O){j=k;break}N++}return j||p},N3=e=>{var t=pn(e)?[]:e.toString().split($L);return[{words:t,width:void 0}]},Ame=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:c}=e;if((t||n)&&!rg.isSsr){var d,u,h=HL({breakAll:i,children:r,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;d=m,u=p}else return N3(r);return Eme({breakAll:i,children:r,maxLines:c,style:a},d,u,t,!!n)}return N3(r)},GL="#808080",kme={angle:0,breakAll:!1,capHeight:"0.71em",fill:GL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Sg=b.forwardRef((e,t)=>{var n=qn(e,kme),{x:r,y:a,lineHeight:i,capHeight:c,fill:d,scaleToFit:u,textAnchor:h,verticalAnchor:m}=n,p=j3(n,wme),g=b.useMemo(()=>Ame({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:y,angle:N,className:j,breakAll:_}=p,C=j3(p,Nme);if(!Aa(r)||!Aa(a)||g.length===0)return null;var E=Number(r)+(Be(v)?v:0),k=Number(a)+(Be(y)?y:0);if(!_t(E)||!_t(k))return null;var O;switch(m){case"start":O=Mb("calc(".concat(c,")"));break;case"middle":O=Mb("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:O=Mb("calc(".concat(g.length-1," * -").concat(i,")"));break}var T=[],D=g[0];if(u&&D!=null){var P=D.width,{width:X}=p;T.push("scale(".concat(Be(X)&&Be(P)?X/P:1,")"))}return N&&T.push("rotate(".concat(N,", ").concat(E,", ").concat(k,")")),T.length&&(C.transform=T.join(" ")),b.createElement("text",xw({},ks(C),{ref:t,x:E,y:k,className:vt("recharts-text",j),textAnchor:h,fill:d.includes("url")?GL:d}),g.map((ae,G)=>{var M=ae.words.join(_?"":" ");return b.createElement("tspan",{x:E,dy:G===0?O:i,key:"".concat(M,"-").concat(G)},M)}))});Sg.displayName="Text";function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(r){Dme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dme(e,t,n){return(t=Ome(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ome(e){var t=Tme(e,"string");return typeof t=="symbol"?t:t+""}function Tme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rme=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:a}=e,{x:i,y:c,height:d,upperWidth:u,lowerWidth:h}=s1(t),m=i,p=i+(u-h)/2,g=(m+p)/2,v=(u+h)/2,y=m+u/2,N=d>=0?1:-1,j=N*r,_=N>0?"end":"start",C=N>0?"start":"end",E=u>=0?1:-1,k=E*r,O=E>0?"end":"start",T=E>0?"start":"end",D=a;if(n==="top"){var P={x:m+u/2,y:c-j,horizontalAnchor:"middle",verticalAnchor:_};return D&&(P.height=Math.max(c-D.y,0),P.width=u),P}if(n==="bottom"){var X={x:p+h/2,y:c+d+j,horizontalAnchor:"middle",verticalAnchor:C};return D&&(X.height=Math.max(D.y+D.height-(c+d),0),X.width=h),X}if(n==="left"){var ae={x:g-k,y:c+d/2,horizontalAnchor:O,verticalAnchor:"middle"};return D&&(ae.width=Math.max(ae.x-D.x,0),ae.height=d),ae}if(n==="right"){var G={x:g+v+k,y:c+d/2,horizontalAnchor:T,verticalAnchor:"middle"};return D&&(G.width=Math.max(D.x+D.width-G.x,0),G.height=d),G}var M=D?{width:v,height:d}:{};return n==="insideLeft"?xa({x:g+k,y:c+d/2,horizontalAnchor:T,verticalAnchor:"middle"},M):n==="insideRight"?xa({x:g+v-k,y:c+d/2,horizontalAnchor:O,verticalAnchor:"middle"},M):n==="insideTop"?xa({x:m+u/2,y:c+j,horizontalAnchor:"middle",verticalAnchor:C},M):n==="insideBottom"?xa({x:p+h/2,y:c+d-j,horizontalAnchor:"middle",verticalAnchor:_},M):n==="insideTopLeft"?xa({x:m+k,y:c+j,horizontalAnchor:T,verticalAnchor:C},M):n==="insideTopRight"?xa({x:m+u-k,y:c+j,horizontalAnchor:O,verticalAnchor:C},M):n==="insideBottomLeft"?xa({x:p+k,y:c+d-j,horizontalAnchor:T,verticalAnchor:_},M):n==="insideBottomRight"?xa({x:p+h-k,y:c+d-j,horizontalAnchor:O,verticalAnchor:_},M):n&&typeof n=="object"&&(Be(n.x)||Co(n.x))&&(Be(n.y)||Co(n.y))?xa({x:i+bs(n.x,v),y:c+bs(n.y,d),horizontalAnchor:"end",verticalAnchor:"end"},M):xa({x:y,y:c+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},M)},Mme=["labelRef"],Pme=["content"];function _3(e,t){if(e==null)return{};var n,r,a=Ime(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ime(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(r){Lme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lme(e,t,n){return(t=zme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zme(e){var t=Ume(e,"string");return typeof t=="symbol"?t:t+""}function Ume(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(null,arguments)}var KL=b.createContext(null),Bme=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:c,children:d}=e,u=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:c}),[t,n,r,a,i,c]);return b.createElement(KL.Provider,{value:u},d)},YL=()=>{var e=b.useContext(KL),t=eg();return e||(t?s1(t):void 0)},qme=b.createContext(null),$me=()=>{var e=b.useContext(qme),t=ze(LI);return e||t},Hme=e=>{var{value:t,formatter:n}=e,r=pn(e.children)?t:e.children;return typeof n=="function"?n(r):r},bS=e=>e!=null&&typeof e=="function",Fme=(e,t)=>{var n=ds(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Vme=(e,t,n,r,a)=>{var{offset:i,className:c}=e,{cx:d,cy:u,innerRadius:h,outerRadius:m,startAngle:p,endAngle:g,clockWise:v}=a,y=(h+m)/2,N=Fme(p,g),j=N>=0?1:-1,_,C;switch(t){case"insideStart":_=p+j*i,C=v;break;case"insideEnd":_=g-j*i,C=!v;break;case"end":_=g+j*i,C=v;break;default:throw new Error("Unsupported position ".concat(t))}C=N<=0?C:!C;var E=Tn(d,u,y,_),k=Tn(d,u,y,_+(C?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),T=pn(e.id)?ef("recharts-radial-line-"):e.id;return b.createElement("text",ei({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",c)}),b.createElement("defs",null,b.createElement("path",{id:T,d:O})),b.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Gme=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:c,startAngle:d,endAngle:u}=e,h=(d+u)/2;if(n==="outside"){var{x:m,y:p}=Tn(r,a,c+t,h);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+c)/2,{x:v,y}=Tn(r,a,g,h);return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},Qh=e=>e!=null&&"cx"in e&&Be(e.cx),Kme={angle:0,offset:5,zIndex:Bn.label,position:"middle",textBreakAll:!1};function Yme(e){if(!Qh(e))return e;var{cx:t,cy:n,outerRadius:r}=e,a=r*2;return{x:t-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function Ji(e){var t=qn(e,Kme),{viewBox:n,parentViewBox:r,position:a,value:i,children:c,content:d,className:u="",textBreakAll:h,labelRef:m}=t,p=$me(),g=YL(),v=a==="center"?g:p??g,y,N,j;n==null?y=v:Qh(n)?y=n:y=s1(n);var _=Yme(y);if(!y||pn(i)&&pn(c)&&!b.isValidElement(d)&&typeof d!="function")return null;var C=Uu(Uu({},t),{},{viewBox:y});if(b.isValidElement(d)){var{labelRef:E}=C,k=_3(C,Mme);return b.cloneElement(d,k)}if(typeof d=="function"){var{content:O}=C,T=_3(C,Pme);if(N=b.createElement(d,T),b.isValidElement(N))return N}else N=Hme(t);var D=ks(t);if(Qh(y)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Vme(t,a,N,D,y);j=Gme(y,t.offset,t.position)}else{if(!_)return null;var P=Rme({viewBox:_,position:a,offset:t.offset,parentViewBox:Qh(r)?void 0:r});j=Uu(Uu({x:P.x,y:P.y,textAnchor:P.horizontalAnchor,verticalAnchor:P.verticalAnchor},P.width!==void 0?{width:P.width}:{}),P.height!==void 0?{height:P.height}:{})}return b.createElement(ur,{zIndex:t.zIndex},b.createElement(Sg,ei({ref:m,className:vt("recharts-label",u)},D,j,{textAnchor:_me(D.textAnchor)?D.textAnchor:j.textAnchor,breakAll:h}),N))}Ji.displayName="Label";var Wme=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Ji,ei({key:"label-implicit"},r)):Aa(e)?b.createElement(Ji,ei({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Ji?b.cloneElement(e,Uu({key:"label-implicit"},r)):b.createElement(Ji,ei({key:"label-implicit",content:e},r)):bS(e)?b.createElement(Ji,ei({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Ji,ei({},e,{key:"label-implicit"},r)):null};function Qme(e){var{label:t,labelRef:n}=e,r=YL();return Wme(t,r,n)||null}var Pb={},Ib={},E3;function Xme(){return E3||(E3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Ib)),Ib}var Lb={},A3;function Zme(){return A3||(A3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Lb)),Lb}var k3;function Jme(){return k3||(k3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xme(),n=Zme(),r=VN();function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(Pb)),Pb}var zb,D3;function ehe(){return D3||(D3=1,zb=Jme().last),zb}var the=ehe();const nhe=Da(the);var she=["valueAccessor"],rhe=["dataKey","clockWise","id","textBreakAll","zIndex"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lx.apply(null,arguments)}function O3(e,t){if(e==null)return{};var n,r,a=ahe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ahe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ihe=e=>Array.isArray(e.value)?nhe(e.value):e.value,WL=b.createContext(void 0),QL=WL.Provider,XL=b.createContext(void 0),lhe=XL.Provider;function ohe(){return b.useContext(WL)}function che(){return b.useContext(XL)}function Xh(e){var{valueAccessor:t=ihe}=e,n=O3(e,she),{dataKey:r,clockWise:a,id:i,textBreakAll:c,zIndex:d}=n,u=O3(n,rhe),h=ohe(),m=che(),p=h||m;return!p||!p.length?null:b.createElement(ur,{zIndex:d??Bn.label},b.createElement(Jn,{className:"recharts-label-list"},p.map((g,v)=>{var y,N=pn(r)?t(g,v):zt(g.payload,r),j=pn(i)?{}:{id:"".concat(i,"-").concat(v)};return b.createElement(Ji,lx({key:"label-".concat(v)},ks(g),u,j,{fill:(y=n.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:N,textBreakAll:c,viewBox:g.viewBox,index:v,zIndex:0}))})))}Xh.displayName="LabelList";function jS(e){var{label:t}=e;return t?t===!0?b.createElement(Xh,{key:"labelList-implicit"}):b.isValidElement(t)||bS(t)?b.createElement(Xh,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Xh,lx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(null,arguments)}var ZL=e=>{var{cx:t,cy:n,r,className:a}=e,i=vt("recharts-dot",a);return Be(t)&&Be(n)&&Be(r)?b.createElement("circle",gw({},Tr(e),FN(e),{className:i,cx:t,cy:n,r})):null},JL=e=>e.graphicalItems.polarItems,dhe=le([xn,Ff],$1),_g=le([JL,Nn,dhe],H1),uhe=le([_g],F1),Cg=le([uhe,ug],V1),fhe=le([Cg,Nn,_g],K1);le([Cg,Nn,_g],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,c=zt(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:zt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var T3=()=>{},mhe=le([Cg,Nn,_g,bg,xn],X1),hhe=le([Nn,W1,Q1,T3,mhe,T3,jt,xn],Z1),ez=le([Nn,jt,Cg,fhe,Hf,xn,hhe],J1),phe=le([ez,Cd,Dl],nS),xhe=le([Nn,ez,phe,xn],rS);le([Dl,xhe],UI);var ghe={radiusAxis:{},angleAxis:{}},tz=Qs({name:"polarAxis",initialState:ghe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Dye,removeRadiusAxis:Oye,addAngleAxis:Tye,removeAngleAxis:Rye}=tz.actions,vhe=tz.reducer;function nz(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function R3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(n),!0).forEach(function(r){yhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yhe(e,t,n){return(t=bhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bhe(e){var t=jhe(e,"string");return typeof t=="symbol"?t:t+""}function jhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var whe=(e,t)=>t,wS=le([JL,whe],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Nhe=[],NS=(e,t,n)=>n?.length===0?Nhe:n,sz=le([ug,wS,NS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>M3(M3({},t.presentationProps),i.props))),a!=null)return a}}),She=le([sz,wS,NS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,c=zt(r,t.nameKey,t.name),d;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:jd(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),_he=le([sz,wS,NS,$n],(e,t,n,r)=>{if(!(t==null||e==null))return Cpe({offset:r,pieSettings:t,displayedData:e,cells:n})}),Ub={exports:{}},It={};var P3;function Che(){if(P3)return It;P3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function y(N){if(typeof N=="object"&&N!==null){var j=N.$$typeof;switch(j){case e:switch(N=N.type,N){case n:case a:case r:case u:case h:case g:return N;default:switch(N=N&&N.$$typeof,N){case c:case d:case p:case m:return N;case i:return N;default:return j}}case t:return j}}}return It.ContextConsumer=i,It.ContextProvider=c,It.Element=e,It.ForwardRef=d,It.Fragment=n,It.Lazy=p,It.Memo=m,It.Portal=t,It.Profiler=a,It.StrictMode=r,It.Suspense=u,It.SuspenseList=h,It.isContextConsumer=function(N){return y(N)===i},It.isContextProvider=function(N){return y(N)===c},It.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},It.isForwardRef=function(N){return y(N)===d},It.isFragment=function(N){return y(N)===n},It.isLazy=function(N){return y(N)===p},It.isMemo=function(N){return y(N)===m},It.isPortal=function(N){return y(N)===t},It.isProfiler=function(N){return y(N)===a},It.isStrictMode=function(N){return y(N)===r},It.isSuspense=function(N){return y(N)===u},It.isSuspenseList=function(N){return y(N)===h},It.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===a||N===r||N===u||N===h||typeof N=="object"&&N!==null&&(N.$$typeof===p||N.$$typeof===m||N.$$typeof===c||N.$$typeof===i||N.$$typeof===d||N.$$typeof===v||N.getModuleId!==void 0)},It.typeOf=y,It}var I3;function Ehe(){return I3||(I3=1,Ub.exports=Che()),Ub.exports}var Ahe=Ehe(),L3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",z3=null,Bb=null,rz=e=>{if(e===z3&&Array.isArray(Bb))return Bb;var t=[];return b.Children.forEach(e,n=>{pn(n)||(Ahe.isFragment(n)?t=t.concat(rz(n.props.children)):t.push(n))}),Bb=t,z3=e,t};function SS(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>L3(a)):r=[L3(t)],rz(e).forEach(a=>{var i=_o(a,"type.displayName")||_o(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var az=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qb={},U3;function khe(){return U3||(U3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(qb)),qb}var $b,B3;function Dhe(){return B3||(B3=1,$b=khe().isPlainObject),$b}var Ohe=Dhe();const The=Da(Ohe);var q3,$3,H3,F3,V3;function G3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(n),!0).forEach(function(r){Rhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rhe(e,t,n){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=Phe(e,"string");return typeof t=="symbol"?t:t+""}function Phe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ox.apply(null,arguments)}function Pu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y3=(e,t,n,r,a)=>{var i=n-r,c;return c=jn(q3||(q3=Pu(["M ",",",""])),e,t),c+=jn($3||($3=Pu(["L ",",",""])),e+n,t),c+=jn(H3||(H3=Pu(["L ",",",""])),e+n-i/2,t+a),c+=jn(F3||(F3=Pu(["L ",",",""])),e+n-i/2-r,t+a),c+=jn(V3||(V3=Pu(["L ",","," Z"])),e,t),c},Ihe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lhe=e=>{var t=qn(e,Ihe),{x:n,y:r,upperWidth:a,lowerWidth:i,height:c,className:d}=t,{animationEasing:u,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t,g=b.useRef(null),[v,y]=b.useState(-1),N=b.useRef(a),j=b.useRef(i),_=b.useRef(c),C=b.useRef(n),E=b.useRef(r),k=zf(e,"trapezoid-");if(b.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var Z=g.current.getTotalLength();Z&&y(Z)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||c!==+c||a===0&&i===0||c===0)return null;var O=vt("recharts-trapezoid",d);if(!p)return b.createElement("g",null,b.createElement("path",ox({},ks(t),{className:O,d:Y3(n,r,a,i,c)})));var T=N.current,D=j.current,P=_.current,X=C.current,ae=E.current,G="0px ".concat(v===-1?1:v,"px"),M="".concat(v,"px 0px"),Y=k6(["strokeDasharray"],h,u);return b.createElement(Lf,{animationId:k,key:k,canBegin:v>0,duration:h,easing:u,isActive:p,begin:m},Z=>{var fe=sn(T,a,Z),U=sn(D,i,Z),L=sn(P,c,Z),I=sn(X,n,Z),se=sn(ae,r,Z);g.current&&(N.current=fe,j.current=U,_.current=L,C.current=I,E.current=se);var ye=Z>0?{transition:Y,strokeDasharray:M}:{strokeDasharray:G};return b.createElement("path",ox({},ks(t),{className:O,d:Y3(I,se,fe,U,L),ref:g,style:K3(K3({},ye),t.style)}))})},zhe=["option","shapeType","activeClassName"];function Uhe(e,t){if(e==null)return{};var n,r,a=Bhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function W3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(n),!0).forEach(function(r){qhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qhe(e,t,n){return(t=$he(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $he(e){var t=Hhe(e,"string");return typeof t=="symbol"?t:t+""}function Hhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fhe(e,t){return cx(cx({},t),e)}function Vhe(e,t){return e==="symbols"}function Q3(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(R6,n);case"trapezoid":return b.createElement(Lhe,n);case"sector":return b.createElement(L6,n);case"symbols":if(Vhe(t))return b.createElement(HN,n);break;case"curve":return b.createElement(l1,n);default:return null}}function Ghe(e){return b.isValidElement(e)?e.props:e}function _S(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=Uhe(e,zhe),i;if(b.isValidElement(t))i=b.cloneElement(t,cx(cx({},a),Ghe(t)));else if(typeof t=="function")i=t(a,a.index);else if(The(t)&&typeof t!="boolean"){var c=Fhe(t,a);i=b.createElement(Q3,{shapeType:n,elementProps:c})}else{var d=a;i=b.createElement(Q3,{shapeType:n,elementProps:d})}return a.isActive?b.createElement(Jn,{className:r},i):i}var CS=(e,t,n)=>{var r=Yt();return(a,i)=>c=>{e?.(a,i,c),r(pL({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},ES=e=>{var t=Yt();return(n,r)=>a=>{e?.(n,r,a),t(Yde())}},AS=(e,t,n)=>{var r=Yt();return(a,i)=>c=>{e?.(a,i,c),r(Wde({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function kS(e){var{tooltipEntrySettings:t}=e,n=Yt(),r=Os(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(Fde(t)):a.current!==t&&n(Vde({prev:a.current,next:t})),a.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{a.current&&(n(Gde(a.current)),a.current=null)},[n]),null}function iz(e){var{legendPayload:t}=e,n=Yt(),r=Os(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(_6(t)):a.current!==t&&n(C6({prev:a.current,next:t})),a.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{a.current&&(n(E6(a.current)),a.current=null)},[n]),null}function Khe(e){var{legendPayload:t}=e,n=Yt(),r=ze(jt),a=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(_6(t)):a.current!==t&&n(C6({prev:a.current,next:t})),a.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{a.current&&(n(E6(a.current)),a.current=null)},[n]),null}var Hb,Yhe=()=>{var[e]=b.useState(()=>ef("uid-"));return e},Whe=(Hb=u7.useId)!==null&&Hb!==void 0?Hb:Yhe;function Qhe(e,t){var n=Whe();return t||(e?"".concat(e,"-").concat(n):n)}var Xhe=b.createContext(void 0),DS=e=>{var{id:t,type:n,children:r}=e,a=Qhe("recharts-".concat(n),t);return b.createElement(Xhe.Provider,{value:a},r(a))},Zhe={cartesianItems:[],polarItems:[]},lz=Qs({name:"graphicalItems",initialState:Zhe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Xr(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:nn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Xr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:nn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nn()},removePolarGraphicalItem:{reducer(e,t){var n=Xr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:nn()}}}),{addCartesianGraphicalItem:Jhe,replaceCartesianGraphicalItem:epe,removeCartesianGraphicalItem:tpe,addPolarGraphicalItem:npe,removePolarGraphicalItem:spe}=lz.actions,rpe=lz.reducer,ape=e=>{var t=Yt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(Jhe(e)):n.current!==e&&t(epe({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(tpe(n.current)),n.current=null)},[t]),null},oz=b.memo(ape);function ipe(e){var t=Yt();return b.useLayoutEffect(()=>(t(npe(e)),()=>{t(spe(e))}),[t,e]),null}var lpe=["key"],ope=["onMouseEnter","onClick","onMouseLeave"],cpe=["id"],dpe=["id"];function X3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(n),!0).forEach(function(r){upe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function upe(e,t,n){return(t=fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fpe(e){var t=mpe(e,"string");return typeof t=="symbol"?t:t+""}function mpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(null,arguments)}function Eg(e,t){if(e==null)return{};var n,r,a=hpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ppe(e){var t=b.useMemo(()=>SS(e.children,Qf),[e.children]),n=ze(r=>She(r,e.id,t));return n==null?null:b.createElement(Khe,{legendPayload:n})}var xpe=b.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:c,name:d,hide:u,tooltipType:h,id:m}=e,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),getPosition:g=>{var v;return(v=r[Number(g)])===null||v===void 0?void 0:v.tooltipPosition},settings:{stroke:a,strokeWidth:i,fill:c,dataKey:t,nameKey:n,name:jd(d,t),hide:u,type:h,color:c,unit:"",graphicalItemId:m}};return b.createElement(kS,{tooltipEntrySettings:p})}),gpe=(e,t)=>e>t?"start":e<t?"end":"middle",vpe=(e,t,n)=>bs(typeof t=="function"?t(e):t,n,n*.8),ype=(e,t,n)=>{var{top:r,left:a,width:i,height:c}=t,d=M6(i,c),u=a+bs(e.cx,i,i/2),h=r+bs(e.cy,c,c/2),m=bs(e.innerRadius,d,0),p=vpe(n,e.outerRadius,d),g=e.maxRadius||Math.sqrt(i*i+c*c)/2;return{cx:u,cy:h,innerRadius:m,outerRadius:p,maxRadius:g}},bpe=(e,t)=>{var n=ds(t-e),r=Math.min(Math.abs(t-e),360);return n*r},jpe=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=vt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=Eg(t,lpe);return b.createElement(l1,wl({},a,{type:"linear",className:n}))},wpe=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var a=vt("recharts-pie-label-text",nz(e));return b.createElement(Sg,wl({},t,{alignmentBaseline:"middle",className:a}),r)};function Npe(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:c}=n;if(!r||!a||!t)return null;var d=Tr(n),u=No(a),h=No(i),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,p=t.map((g,v)=>{var y=(g.startAngle+g.endAngle)/2,N=Tn(g.cx,g.cy,g.outerRadius+m,y),j=wn(wn(wn(wn({},d),g),{},{stroke:"none"},u),{},{index:v,textAnchor:gpe(N.x,g.cx)},N),_=wn(wn(wn(wn({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Tn(g.cx,g.cy,g.outerRadius,y),N],key:"line"});return b.createElement(ur,{zIndex:Bn.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},b.createElement(Jn,null,i&&jpe(i,_),wpe(a,j,zt(g,c))))});return b.createElement(Jn,{className:"recharts-pie-labels"},p)}function Spe(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?b.createElement(jS,{label:a}):b.createElement(Npe,{sectors:t,props:n,showLabels:r})}function _pe(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:c}=e,d=ze(jl),u=ze(mS),h=ze(Mue),{onMouseEnter:m,onClick:p,onMouseLeave:g}=a,v=Eg(a,ope),y=CS(m,a.dataKey,c),N=ES(g),j=AS(p,a.dataKey,c);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((_,C)=>{if(_?.startAngle===0&&_?.endAngle===0&&t.length!==1)return null;var E=h==null||h===c,k=String(C)===d&&(u==null||a.dataKey===u)&&E,O=d?r:null,T=n&&k?n:O,D=wn(wn({},_),{},{stroke:_.stroke,tabIndex:-1,[c6]:C,[d6]:c});return b.createElement(Jn,wl({key:"sector-".concat(_?.startAngle,"-").concat(_?.endAngle,"-").concat(_.midAngle,"-").concat(C),tabIndex:-1,className:"recharts-pie-sector"},Of(v,_,C),{onMouseEnter:y(_,C),onMouseLeave:N(_,C),onClick:j(_,C)}),b.createElement(_S,wl({option:i??T,index:C,shapeType:"sector",isActive:k},D)))}))}function Cpe(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:c,startAngle:d,endAngle:u,dataKey:h,nameKey:m,tooltipType:p}=n,g=Math.abs(n.minAngle),v=bpe(d,u),y=Math.abs(v),N=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(T=>zt(T,h,0)!==0).length,_=(y>=360?j:j-1)*N,C=y-j*g-_,E=r.reduce((T,D)=>{var P=zt(D,h,0);return T+(Be(P)?P:0)},0),k;if(E>0){var O;k=r.map((T,D)=>{var P=zt(T,h,0),X=zt(T,m,D),ae=ype(n,i,T),G=(Be(P)?P:0)/E,M,Y=wn(wn({},T),a&&a[D]&&a[D].props);D?M=O.endAngle+ds(v)*N*(P!==0?1:0):M=d;var Z=M+ds(v)*((P!==0?g:0)+G*C),fe=(M+Z)/2,U=(ae.innerRadius+ae.outerRadius)/2,L=[{name:X,value:P,payload:Y,dataKey:h,type:p,graphicalItemId:n.id}],I=Tn(ae.cx,ae.cy,U,fe);return O=wn(wn(wn(wn({},n.presentationProps),{},{percent:G,cornerRadius:typeof c=="string"?parseFloat(c):c,name:X,tooltipPayload:L,midAngle:fe,middleRadius:U,tooltipPosition:I},Y),ae),{},{value:P,dataKey:h,startAngle:M,endAngle:Z,payload:Y,paddingAngle:ds(v)*N}),O})}return k}function Epe(e){var{showLabels:t,sectors:n,children:r}=e,a=b.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return b.createElement(lhe,{value:t?a:void 0},r)}function Ape(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:c,animationDuration:d,animationEasing:u,activeShape:h,inactiveShape:m,onAnimationStart:p,onAnimationEnd:g}=t,v=zf(t,"recharts-pie-"),y=n.current,[N,j]=b.useState(!1),_=b.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),C=b.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return b.createElement(Epe,{showLabels:!N,sectors:a},b.createElement(Lf,{animationId:v,begin:c,duration:d,isActive:i,easing:u,onAnimationStart:C,onAnimationEnd:_,key:v},E=>{var k,O=[],T=a&&a[0],D=(k=T?.startAngle)!==null&&k!==void 0?k:0;return a?.forEach((P,X)=>{var ae=y&&y[X],G=X>0?_o(P,"paddingAngle",0):0;if(ae){var M=sn(ae.endAngle-ae.startAngle,P.endAngle-P.startAngle,E),Y=wn(wn({},P),{},{startAngle:D+G,endAngle:D+M+G});O.push(Y),D=Y.endAngle}else{var{endAngle:Z,startAngle:fe}=P,U=sn(0,Z-fe,E),L=wn(wn({},P),{},{startAngle:D+G,endAngle:D+U+G});O.push(L),D=L.endAngle}}),n.current=O,b.createElement(Jn,null,b.createElement(_pe,{sectors:O,activeShape:h,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:r}))}),b.createElement(Spe,{showLabels:!N,sectors:a,props:t}),t.children)}var kpe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Bn.area};function Dpe(e){var{id:t}=e,n=Eg(e,cpe),{hide:r,className:a,rootTabIndex:i}=e,c=b.useMemo(()=>SS(e.children,Qf),[e.children]),d=ze(m=>_he(m,t,c)),u=b.useRef(null),h=vt("recharts-pie",a);return r||d==null?(u.current=null,b.createElement(Jn,{tabIndex:i,className:h})):b.createElement(ur,{zIndex:e.zIndex},b.createElement(xpe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),b.createElement(Jn,{tabIndex:i,className:h},b.createElement(Ape,{props:wn(wn({},n),{},{sectors:d}),previousSectorsRef:u,id:t})))}function cz(e){var t=qn(e,kpe),{id:n}=t,r=Eg(t,dpe),a=Tr(r);return b.createElement(DS,{id:n,type:"pie"},i=>b.createElement(b.Fragment,null,b.createElement(ipe,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),b.createElement(ppe,wl({},r,{id:i})),b.createElement(Dpe,wl({},r,{id:i}))))}cz.displayName="Pie";var Ope=["points"];function Z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(n),!0).forEach(function(r){Tpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tpe(e,t,n){return(t=Rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rpe(e){var t=Mpe(e,"string");return typeof t=="symbol"?t:t+""}function Mpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(null,arguments)}function Ppe(e,t){if(e==null)return{};var n,r,a=Ipe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ipe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lpe(e){var{option:t,dotProps:n,className:r}=e;if(b.isValidElement(t))return b.cloneElement(t,n);if(typeof t=="function")return t(n);var a=vt(r,typeof t!="boolean"?t.className:""),i=n??{},{points:c}=i,d=Ppe(i,Ope);return b.createElement(ZL,dx({},d,{className:a}))}function zpe(e,t){return e==null?!1:t?!0:e.length===1}function Upe(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:c,needClip:d,clipPathId:u,zIndex:h=Bn.scatter}=e;if(!zpe(t,n))return null;var m=az(n),p=Zee(n),g=t.map((y,N)=>{var j,_,C=Fb(Fb(Fb({r:3},c),p),{},{index:N,cx:(j=y.x)!==null&&j!==void 0?j:void 0,cy:(_=y.y)!==null&&_!==void 0?_:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return b.createElement(Lpe,{key:"dot-".concat(N),option:n,dotProps:C,className:a})}),v={};return d&&u!=null&&(v.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),b.createElement(ur,{zIndex:h},b.createElement(Jn,dx({className:r},v),g))}function J3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(n),!0).forEach(function(r){Bpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bpe(e,t,n){return(t=qpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qpe(e){var t=$pe(e,"string");return typeof t=="symbol"?t:t+""}function $pe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dz=0,Hpe={xAxis:{},yAxis:{},zAxis:{}},uz=Qs({name:"cartesianAxis",initialState:Hpe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:nn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:nn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:nn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==a.width&&Math.abs(r-((i=c[0])!==null&&i!==void 0?i:0))<=1)return;var d=[...c,r].slice(-3);e.yAxis[n]=eO(eO({},a),{},{width:r,widthHistory:d})}}}}),{addXAxis:Fpe,replaceXAxis:Vpe,removeXAxis:Gpe,addYAxis:Kpe,replaceYAxis:Ype,removeYAxis:Wpe,addZAxis:Mye,replaceZAxis:Pye,removeZAxis:Iye,updateYAxisWidth:Qpe}=uz.actions,Xpe=uz.reducer,Zpe=le([$n],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Jpe=le([Zpe,yi,bi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),OS=()=>ze(Jpe),exe=()=>ze(Uue);function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(r){txe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function txe(e,t,n){return(t=nxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nxe(e){var t=sxe(e,"string");return typeof t=="symbol"?t:t+""}function sxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rxe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:c}=e;if(a===!1||t.x==null||t.y==null)return null;var d={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Vb(Vb(Vb({},d),No(a)),FN(a)),h;return b.isValidElement(a)?h=b.cloneElement(a,u):typeof a=="function"?h=a(u):h=b.createElement(ZL,u),b.createElement(Jn,{className:"recharts-active-dot",clipPath:c},h)};function axe(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:c=Bn.activeDot}=e,d=ze(jl),u=exe();if(t==null||u==null)return null;var h=t.find(m=>u.includes(m.payload));return pn(h)?null:b.createElement(ur,{zIndex:c},b.createElement(rxe,{point:h,childIndex:Number(d),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var nO=(e,t,n)=>{var r=n??e;if(!pn(r))return bs(r,t,0)},ixe=(e,t,n)=>{var r={},a=e.filter(pg),i=e.filter(h=>h.stackId==null),c=a.reduce((h,m)=>{var p=h[m.stackId];return p==null&&(p=[]),p.push(m),h[m.stackId]=p,h},r),d=Object.entries(c).map(h=>{var m,[p,g]=h,v=g.map(N=>N.dataKey),y=nO(t,n,(m=g[0])===null||m===void 0?void 0:m.barSize);return{stackId:p,dataKeys:v,barSize:y}}),u=i.map(h=>{var m=[h.dataKey].filter(g=>g!=null),p=nO(t,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...d,...u]};function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){lxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lxe(e,t,n){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oxe(e){var t=cxe(e,"string");return typeof t=="symbol"?t:t+""}function cxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e,t,n,r,a){var i,c=r.length;if(!(c<1)){var d=bs(e,n,0,!0),u,h=[];if(_t((i=r[0])===null||i===void 0?void 0:i.barSize)){var m=!1,p=n/c,g=r.reduce((C,E)=>C+(E.barSize||0),0);g+=(c-1)*d,g>=n&&(g-=(c-1)*d,d=0),g>=n&&p>0&&(m=!0,p*=.9,g=c*p);var v=(n-g)/2>>0,y={offset:v-d,size:0};u=r.reduce((C,E)=>{var k,O={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y.offset+y.size+d,size:m?p:(k=E.barSize)!==null&&k!==void 0?k:0}},T=[...C,O];return y=O.position,T},h)}else{var N=bs(t,n,0,!0);n-2*N-(c-1)*d<=0&&(d=0);var j=(n-2*N-(c-1)*d)/c;j>1&&(j>>=0);var _=_t(a)?Math.min(j,a):j;u=r.reduce((C,E,k)=>[...C,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:N+(j+d)*k+(j-_)/2,size:_}}],h)}return u}}var uxe=(e,t,n,r,a,i,c)=>{var d=pn(c)?t:c,u=dxe(n,r,a!==i?a:i,e,d);return a!==i&&u!=null&&(u=u.map(h=>Ph(Ph({},h),{},{position:Ph(Ph({},h.position),{},{offset:h.position.offset-a/2})}))),u},fxe=(e,t)=>{var n=B1(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:i}=a;if(i)return i.find(c=>c.key===n)}}}},mxe=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function hxe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&_t(e.zIndex)?e.zIndex:t}var fz=e=>{var{chartData:t}=e,n=Yt(),r=Os();return b.useEffect(()=>r?()=>{}:(n(c3(t)),()=>{n(c3(void 0))}),[t,n,r]),null},rO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},mz=Qs({name:"brush",initialState:rO,reducers:{setBrushSettings(e,t){return t.payload==null?rO:t.payload}}}),{setBrushSettings:Lye}=mz.actions,pxe=mz.reducer;function xxe(e){return(e%180+180)%180}var gxe=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=xxe(a),c=i*Math.PI/180,d=Math.atan(r/n),u=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(u)},vxe={dots:[],areas:[],lines:[]},hz=Qs({name:"referenceElements",initialState:vxe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Xr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Xr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Xr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:zye,removeDot:Uye,addArea:Bye,removeArea:qye,addLine:$ye,removeLine:Hye}=hz.actions,yxe=hz.reducer,bxe=b.createContext(void 0),jxe=e=>{var{children:t}=e,[n]=b.useState("".concat(ef("recharts"),"-clip")),r=OS();if(r==null)return null;var{x:a,y:i,width:c,height:d}=r;return b.createElement(bxe.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:a,y:i,height:d,width:c}))),t)};function pz(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function wxe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return gxe(r,n)}function Nxe(e,t,n){var r=n==="width",{x:a,y:i,width:c,height:d}=e;return t===1?{start:r?a:i,end:r?a+c:i+d}:{start:r?a+c:i+d,end:r?a:i}}function pf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function Sxe(e,t){return pz(e,t+1)}function _xe(e,t,n,r,a){for(var i=(r||[]).slice(),{start:c,end:d}=t,u=0,h=1,m=c,p=function(){var y=r?.[u];if(y===void 0)return{v:pz(r,h)};var N=u,j,_=()=>(j===void 0&&(j=n(y,N)),j),C=y.coordinate,E=u===0||pf(e,C,_,m,d);E||(u=0,m=c,h+=1),E&&(m=C+e*(_()/2+a),u+=h)},g;h<=i.length;)if(g=p(),g)return g.v;return[]}function Cxe(e,t,n,r,a){var i=(r||[]).slice(),c=i.length;if(c===0)return[];for(var{start:d,end:u}=t,h=1;h<=c;h++){for(var m=(c-1)%h,p=d,g=!0,v=function(){var k=r[N];if(k==null)return 0;var O=N,T,D=()=>(T===void 0&&(T=n(k,O)),T),P=k.coordinate,X=N===m||pf(e,P,D,p,u);if(!X)return g=!1,1;X&&(p=P+e*(D()/2+a))},y,N=m;N<c&&(y=v(),!(y!==0&&y===1));N+=h);if(g){for(var j=[],_=m;_<c;_+=h){var C=r[_];C!=null&&j.push(C)}return j}}return[]}function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(r){Exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Exe(e,t,n){return(t=Axe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Axe(e){var t=kxe(e,"string");return typeof t=="symbol"?t:t+""}function kxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dxe(e,t,n,r,a){for(var i=(r||[]).slice(),c=i.length,{start:d}=t,{end:u}=t,h=function(g){var v=i[g];if(v==null)return 1;var y=v,N,j=()=>(N===void 0&&(N=n(v,g)),N);if(g===c-1){var _=e*(y.coordinate+e*j()/2-u);i[g]=y=ps(ps({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else i[g]=y=ps(ps({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var C=pf(e,y.tickCoord,j,d,u);C&&(u=y.tickCoord-e*(j()/2+a),i[g]=ps(ps({},y),{},{isShow:!0}))}},m=c-1;m>=0;m--)h(m);return i}function Oxe(e,t,n,r,a,i){var c=(r||[]).slice(),d=c.length,{start:u,end:h}=t;if(i){var m=r[d-1];if(m!=null){var p=n(m,d-1),g=e*(m.coordinate+e*p/2-h);if(c[d-1]=m=ps(ps({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate}),m.tickCoord!=null){var v=pf(e,m.tickCoord,()=>p,u,h);v&&(h=m.tickCoord-e*(p/2+a),c[d-1]=ps(ps({},m),{},{isShow:!0}))}}}for(var y=i?d-1:d,N=function(C){var E=c[C];if(E==null)return 1;var k=E,O,T=()=>(O===void 0&&(O=n(E,C)),O);if(C===0){var D=e*(k.coordinate-e*T()/2-u);c[C]=k=ps(ps({},k),{},{tickCoord:D<0?k.coordinate-D*e:k.coordinate})}else c[C]=k=ps(ps({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var P=pf(e,k.tickCoord,T,u,h);P&&(u=k.tickCoord+e*(T()/2+a),c[C]=ps(ps({},k),{},{isShow:!0}))}},j=0;j<y;j++)N(j);return c}function Txe(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:c,orientation:d,interval:u,tickFormatter:h,unit:m,angle:p}=e;if(!a||!a.length||!r)return[];if(Be(u)||rg.isSsr){var g;return(g=Sxe(a,Be(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],y=d==="top"||d==="bottom"?"width":"height",N=m&&y==="width"?Vu(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(O,T)=>{var D=typeof h=="function"?h(O.value,T):O.value;return y==="width"?wxe(Vu(D,{fontSize:t,letterSpacing:n}),N,p):Vu(D,{fontSize:t,letterSpacing:n})[y]},_=a[0],C=a[1],E=a.length>=2&&_!=null&&C!=null?ds(C.coordinate-_.coordinate):1,k=Nxe(i,E,y);return u==="equidistantPreserveStart"?_xe(E,k,j,a,c):u==="equidistantPreserveEnd"?Cxe(E,k,j,a,c):(u==="preserveStart"||u==="preserveStartEnd"?v=Oxe(E,k,j,a,c,u==="preserveStartEnd"):v=Dxe(E,k,j,a,c),v.filter(O=>O.isShow))}var Rxe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,c=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>c&&(c=p.width)}});var d=n?n.getBoundingClientRect().width:0,u=a+i,h=c+u+d+(n?r:0);return Math.round(h)}return 0},Mxe=["axisLine","width","height","className","hide","ticks","axisType"];function Pxe(e,t){if(e==null)return{};var n,r,a=Ixe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ixe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oo.apply(null,arguments)}function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(r){Lxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lxe(e,t,n){return(t=zxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zxe(e){var t=Uxe(e,"string");return typeof t=="symbol"?t:t+""}function Uxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bn.axis};function Bxe(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:c,axisLine:d,otherSvgProps:u}=e;if(!d)return null;var h=bn(bn(bn({},u),Tr(d)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!c||i==="bottom"&&c);h=bn(bn({},h),{},{x1:t,y1:n+m*a,x2:t+r,y2:n+m*a})}else{var p=+(i==="left"&&!c||i==="right"&&c);h=bn(bn({},h),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+a})}return b.createElement("line",Oo({},h,{className:vt("recharts-cartesian-axis-line",_o(d,"className"))}))}function qxe(e,t,n,r,a,i,c,d,u){var h,m,p,g,v,y,N=d?-1:1,j=e.tickSize||c,_=Be(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":h=m=e.coordinate,g=n+ +!d*a,p=g-N*j,y=p-N*u,v=_;break;case"left":p=g=e.coordinate,m=t+ +!d*r,h=m-N*j,v=h-N*u,y=_;break;case"right":p=g=e.coordinate,m=t+ +d*r,h=m+N*j,v=h+N*u,y=_;break;default:h=m=e.coordinate,g=n+ +d*a,p=g+N*j,y=p+N*u,v=_;break}return{line:{x1:h,y1:p,x2:m,y2:g},tick:{x:v,y}}}function $xe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Hxe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Fxe(e){var{option:t,tickProps:n,value:r}=e,a,i=vt(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))a=b.cloneElement(t,bn(bn({},n),{},{className:i}));else if(typeof t=="function")a=t(bn(bn({},n),{},{className:i}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=vt(c,nz(t))),a=b.createElement(Sg,Oo({},n,{className:c}),r)}return a}var Vxe=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:c,unit:d,padding:u,tickTextProps:h,orientation:m,mirror:p,x:g,y:v,width:y,height:N,tickSize:j,tickMargin:_,fontSize:C,letterSpacing:E,getTicksConfig:k,events:O,axisType:T}=e,D=Txe(bn(bn({},k),{},{ticks:n}),C,E),P=$xe(m,p),X=Hxe(m,p),ae=Tr(k),G=No(r),M={};typeof a=="object"&&(M=a);var Y=bn(bn({},ae),{},{fill:"none"},M),Z=D.map(L=>bn({entry:L},qxe(L,g,v,y,N,m,j,p,_))),fe=Z.map(L=>{var{entry:I,line:se}=L;return b.createElement(Jn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},a&&b.createElement("line",Oo({},Y,se,{className:vt("recharts-cartesian-axis-tick-line",_o(a,"className"))})))}),U=Z.map((L,I)=>{var se,ye,{entry:z,tick:V}=L,re=bn(bn(bn(bn({verticalAnchor:X},ae),{},{textAnchor:P,stroke:"none",fill:i},V),{},{index:I,payload:z,visibleTicksCount:D.length,tickFormatter:c,padding:u},h),{},{angle:(se=(ye=h?.angle)!==null&&ye!==void 0?ye:ae.angle)!==null&&se!==void 0?se:0}),$=bn(bn({},re),G);return b.createElement(Jn,Oo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},Of(O,z,I)),r&&b.createElement(Fxe,{option:r,tickProps:$,value:"".concat(typeof c=="function"?c(z.value,I):z.value).concat(d||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},U.length>0&&b.createElement(ur,{zIndex:Bn.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},U)),fe.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},fe))}),Gxe=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:c,ticks:d,axisType:u}=e,h=Pxe(e,Mxe),[m,p]=b.useState(""),[g,v]=b.useState(""),y=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return Rxe({ticks:y.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=b.useCallback(j=>{if(j){var _=j.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=_;var C=_[0];if(C){var E=window.getComputedStyle(C),k=E.fontSize,O=E.letterSpacing;(k!==m||O!==g)&&(p(k),v(O))}}},[m,g]);return c||r!=null&&r<=0||a!=null&&a<=0?null:b.createElement(ur,{zIndex:e.zIndex},b.createElement(Jn,{className:vt("recharts-cartesian-axis",i)},b.createElement(Bxe,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Tr(e)}),b.createElement(Vxe,{ref:N,axisType:u,events:h,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(Bme,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(Qme,{label:e.label,labelRef:e.labelRef}),e.children)))}),TS=b.forwardRef((e,t)=>{var n=qn(e,xo);return b.createElement(Gxe,Oo({},n,{ref:t}))});TS.displayName="CartesianAxis";var Kxe={},xz=Qs({name:"errorBars",initialState:Kxe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Fye,replaceErrorBar:Vye,removeErrorBar:Gye}=xz.actions,Yxe=xz.reducer,Wxe=["children"];function Qxe(e,t){if(e==null)return{};var n,r,a=Xxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zxe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Jxe=b.createContext(Zxe);function gz(e){var{children:t}=e,n=Qxe(e,Wxe);return b.createElement(Jxe.Provider,{value:n},t)}function RS(e,t){var n,r,a=ze(h=>Ni(h,e)),i=ze(h=>Si(h,t)),c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Wn.allowDataOverflow,d=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Qn.allowDataOverflow,u=c||d;return{needClip:u,needClipX:c,needClipY:d}}function vz(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=OS(),{needClipX:i,needClipY:c,needClip:d}=RS(t,n);if(!d||!a)return null;var{x:u,y:h,width:m,height:p}=a;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:i?u:u-m/2,y:c?h:h-p/2,width:i?m:m*2,height:c?p:p*2}))}var yz=(e,t,n,r)=>bl(e,"xAxis",t,r),bz=(e,t,n,r)=>yl(e,"xAxis",t,r),jz=(e,t,n,r)=>bl(e,"yAxis",n,r),wz=(e,t,n,r)=>yl(e,"yAxis",n,r),ege=le([jt,yz,jz,bz,wz],(e,t,n,r,a)=>vi(e,"xAxis")?sd(t,r,!1):sd(n,a,!1)),tge=(e,t,n,r,a)=>a;function nge(e){return e.type==="line"}var sge=le([vg,tge],(e,t)=>e.filter(nge).find(n=>n.id===t)),rge=le([jt,yz,jz,bz,wz,sge,ege,O1],(e,t,n,r,a,i,c,d)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:m}=d;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:g}=i,v;if(g!=null&&g.length>0?v=g:v=u?.slice(h,m+1),v!=null)return Vge({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:p,bandSize:c,displayedData:v})}});function age(e){var t=No(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,c=Number(a),d=Number(i);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(d)||d<0)&&(d=r),{r:c,strokeWidth:d}}return{r:n,strokeWidth:r}}var Gb={exports:{}},Kb={};var lO;function ige(){if(lO)return Kb;lO=1;var e=cd();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Kb.useSyncExternalStoreWithSelector=function(u,h,m,p,g){var v=a(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=c(function(){function j(O){if(!_){if(_=!0,C=O,O=p(O),g!==void 0&&y.hasValue){var T=y.value;if(g(T,O))return E=T}return E=O}if(T=E,n(C,O))return T;var D=p(O);return g!==void 0&&g(T,D)?(C=O,T):(C=O,E=D)}var _=!1,C,E,k=m===void 0?null:m;return[function(){return j(h())},k===null?void 0:function(){return j(k())}]},[h,m,p,g]);var N=r(u,v[0],v[1]);return i(function(){y.hasValue=!0,y.value=N},[N]),d(N),N},Kb}var oO;function lge(){return oO||(oO=1,Gb.exports=ige()),Gb.exports}lge();function oge(e){e()}function cge(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oge(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var cO={notify(){},get:()=>[]};function dge(e,t){let n,r=cO,a=0,i=!1;function c(N){m();const j=r.subscribe(N);let _=!1;return()=>{_||(_=!0,j(),p())}}function d(){r.notify()}function u(){y.onStateChange&&y.onStateChange()}function h(){return i}function m(){a++,n||(n=e.subscribe(u),r=cge())}function p(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=cO)}function g(){i||(i=!0,m())}function v(){i&&(i=!1,p())}const y={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return y}var uge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fge=uge(),mge=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hge=mge(),pge=()=>fge||hge?b.useLayoutEffect:b.useEffect,xge=pge();function dO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function gge(e,t){if(dO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!dO(e[n[a]],t[n[a]]))return!1;return!0}var vge=Symbol.for("react-redux-context"),yge=typeof globalThis<"u"?globalThis:{};function bge(){if(!b.createContext)return{};const e=yge[vge]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var jge=bge();function wge(e){const{children:t,context:n,serverState:r,store:a}=e,i=b.useMemo(()=>{const u=dge(a);return{store:a,subscription:u,getServerState:r?()=>r:void 0}},[a,r]),c=b.useMemo(()=>a.getState(),[a]);xge(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,c]);const d=n||jge;return b.createElement(d.Provider,{value:i},t)}var Nge=wge,Sge=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function _ge(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ag(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Sge.has(r)){if(e[r]==null&&t[r]==null)continue;if(!gge(e[r],t[r]))return!1}else if(!_ge(e[r],t[r]))return!1;return!0}var Cge=["id"],Ege=["type","layout","connectNulls","needClip","shape"],Age=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf.apply(null,arguments)}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){kge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kge(e,t,n){return(t=Dge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dge(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MS(e,t){if(e==null)return{};var n,r,a=Tge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rge=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:jd(n,t),payload:e}]},Mge=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:c,hide:d,unit:u,tooltipType:h,id:m}=e,p={dataDefinedOnItem:n,getPosition:Bo,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:jd(c,t),hide:d,type:h,color:r,unit:u,graphicalItemId:m}};return b.createElement(kS,{tooltipEntrySettings:p})}),Nz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Pge(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Ige=(e,t,n)=>{var r=n.reduce((v,y)=>v+y);if(!r)return Nz(t,e);for(var a=Math.floor(e/r),i=e%r,c=t-e,d=[],u=0,h=0;u<n.length;h+=(m=n[u])!==null&&m!==void 0?m:0,++u){var m,p=n[u];if(p!=null&&h+p>i){d=[...n.slice(0,u),i-h];break}}var g=d.length%2===0?[0,c]:[c];return[...Pge(n,a),...d,...g].map(v=>"".concat(v,"px")).join(", ")};function Lge(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:c}=r,{id:d}=r,u=MS(r,Cge),h=Tr(u);return b.createElement(Upe,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:h,needClip:c,clipPathId:t})}function zge(e){var{showLabels:t,children:n,points:r}=e,a=b.useMemo(()=>r?.map(i=>{var c,d,u={x:(c=i.x)!==null&&c!==void 0?c:0,y:(d=i.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return va(va({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(QL,{value:t?a:void 0},n)}function fO(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:c,layout:d,connectNulls:u,needClip:h,shape:m}=i,p=MS(i,Ege),g=va(va({},ks(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:d,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return b.createElement(b.Fragment,null,r?.length>1&&b.createElement(_S,xf({shapeType:"curve",option:m},g,{pathRef:n})),b.createElement(Lge,{points:r,clipPathId:t,props:i}))}function Uge(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Bge(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:c,strokeDasharray:d,isAnimationActive:u,animationBegin:h,animationDuration:m,animationEasing:p,animateNewValues:g,width:v,height:y,onAnimationEnd:N,onAnimationStart:j}=n,_=a.current,C=zf(c,"recharts-line-"),E=b.useRef(C),[k,O]=b.useState(!1),T=!k,D=b.useCallback(()=>{typeof N=="function"&&N(),O(!1)},[N]),P=b.useCallback(()=>{typeof j=="function"&&j(),O(!0)},[j]),X=Uge(r.current),ae=b.useRef(0);E.current!==C&&(ae.current=i.current,E.current=C);var G=ae.current;return b.createElement(zge,{points:c,showLabels:T},n.children,b.createElement(Lf,{animationId:C,begin:h,duration:m,isActive:u,easing:p,onAnimationEnd:D,onAnimationStart:P,key:C},M=>{var Y=sn(G,X+G,M),Z=Math.min(Y,X),fe;if(u)if(d){var U="".concat(d).split(/[,\s]+/gim).map(se=>parseFloat(se));fe=Ige(Z,X,U)}else fe=Nz(X,Z);else fe=d==null?void 0:String(d);if(M>0&&X>0&&(a.current=c,i.current=Math.max(i.current,Z)),_){var L=_.length/c.length,I=M===1?c:c.map((se,ye)=>{var z=Math.floor(ye*L);if(_[z]){var V=_[z];return va(va({},se),{},{x:sn(V.x,se.x,M),y:sn(V.y,se.y,M)})}return g?va(va({},se),{},{x:sn(v*2,se.x,M),y:sn(y/2,se.y,M)}):va(va({},se),{},{x:se.x,y:se.y})});return a.current=I,b.createElement(fO,{props:n,points:I,clipPathId:t,pathRef:r,strokeDasharray:fe})}return b.createElement(fO,{props:n,points:c,clipPathId:t,pathRef:r,strokeDasharray:fe})}),b.createElement(jS,{label:n.label}))}function qge(e){var{clipPathId:t,props:n}=e,r=b.useRef(null),a=b.useRef(0),i=b.useRef(null);return b.createElement(Bge,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var $ge=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:zt(e.payload,t)}};class Hge extends b.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:c,top:d,left:u,width:h,height:m,id:p,needClip:g,zIndex:v}=this.props;if(t)return null;var y=vt("recharts-line",a),N=p,{r:j,strokeWidth:_}=age(n),C=az(n),E=j*2+_,k=g?"url(#clipPath-".concat(C?"":"dots-").concat(N,")"):void 0;return b.createElement(ur,{zIndex:v},b.createElement(Jn,{className:y},g&&b.createElement("defs",null,b.createElement(vz,{clipPathId:N,xAxisId:i,yAxisId:c}),!C&&b.createElement("clipPath",{id:"clipPath-dots-".concat(N)},b.createElement("rect",{x:u-E/2,y:d-E/2,width:h+E,height:m+E}))),b.createElement(gz,{xAxisId:i,yAxisId:c,data:r,dataPointFormatter:$ge,errorBarOffset:0},b.createElement(qge,{props:this.props,clipPathId:N}))),b.createElement(axe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var Sz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Bn.line,type:"linear"};function Fge(e){var t=qn(e,Sz),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:c,connectNulls:d,dot:u,hide:h,isAnimationActive:m,label:p,legendType:g,xAxisId:v,yAxisId:y,id:N}=t,j=MS(t,Age),{needClip:_}=RS(v,y),C=OS(),E=qo(),k=Os(),O=ze(ae=>rge(ae,v,y,k,N));if(E!=="horizontal"&&E!=="vertical"||O==null||C==null)return null;var{height:T,width:D,x:P,y:X}=C;return b.createElement(Hge,xf({},j,{id:N,connectNulls:d,dot:u,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:c,isAnimationActive:m,hide:h,label:p,legendType:g,xAxisId:v,yAxisId:y,points:O,layout:E,height:T,width:D,left:P,top:X,needClip:_}))}function Vge(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:c,bandSize:d,displayedData:u}=e;return u.map((h,m)=>{var p=zt(h,c);if(t==="horizontal"){var g=Yk({axis:n,ticks:a,bandSize:d,entry:h,index:m}),v=pn(p)?null:r.scale.map(p);return{x:g,y:v??null,value:p,payload:h}}var y=pn(p)?null:n.scale.map(p),N=Yk({axis:r,ticks:i,bandSize:d,entry:h,index:m});return y==null||N==null?null:{x:y,y:N,value:p,payload:h}}).filter(Boolean)}function Gge(e){var t=qn(e,Sz),n=Os();return b.createElement(DS,{id:t.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(iz,{legendPayload:Rge(t)}),b.createElement(Mge,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(oz,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),b.createElement(Fge,xf({},t,{id:r}))))}var _z=b.memo(Gge,Ag);_z.displayName="Line";function Fo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:dz}function Vo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:dz}var Kge="Invariant failed";function Yge(e,t){throw new Error(Kge)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(null,arguments)}function ux(e){return b.createElement(_S,vw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Wge=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Be(t))return t;var i=Be(r)||pn(r);return i?t(r,a):(i||Yge(),n)}},Qge=(e,t,n)=>n,Xge=(e,t)=>t,Xf=le([vg,Xge],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Zge=le([Xf],e=>e?.maxBarSize),Jge=(e,t,n,r)=>r,e0e=le([jt,vg,Fo,Vo,Qge],(e,t,n,r,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),t0e=(e,t,n)=>{var r=jt(e),a=Fo(e,t),i=Vo(e,t);if(!(a==null||i==null))return r==="horizontal"?uw(e,"yAxis",i,n):uw(e,"xAxis",a,n)},n0e=(e,t)=>{var n=jt(e),r=Fo(e,t),a=Vo(e,t);if(!(r==null||a==null))return n==="horizontal"?XD(e,"xAxis",r):XD(e,"yAxis",a)},s0e=le([e0e,Mce,n0e],ixe),r0e=(e,t,n)=>{var r,a,i=Xf(e,t);if(i==null)return 0;var c=Fo(e,t),d=Vo(e,t);if(c==null||d==null)return 0;var u=jt(e),h=kI(e),{maxBarSize:m}=i,p=pn(m)?h:m,g,v;return u==="horizontal"?(g=bl(e,"xAxis",c,n),v=yl(e,"xAxis",c,n)):(g=bl(e,"yAxis",d,n),v=yl(e,"yAxis",d,n)),(r=(a=sd(g,v,!0))!==null&&a!==void 0?a:p)!==null&&r!==void 0?r:0},Cz=(e,t,n)=>{var r=jt(e),a=Fo(e,t),i=Vo(e,t);if(!(a==null||i==null)){var c,d;return r==="horizontal"?(c=bl(e,"xAxis",a,n),d=yl(e,"xAxis",a,n)):(c=bl(e,"yAxis",i,n),d=yl(e,"yAxis",i,n)),sd(c,d)}},a0e=le([s0e,kI,Rce,DI,r0e,Cz,Zge],uxe),i0e=(e,t,n)=>{var r=Fo(e,t);if(r!=null)return bl(e,"xAxis",r,n)},l0e=(e,t,n)=>{var r=Vo(e,t);if(r!=null)return bl(e,"yAxis",r,n)},o0e=(e,t,n)=>{var r=Fo(e,t);if(r!=null)return yl(e,"xAxis",r,n)},c0e=(e,t,n)=>{var r=Vo(e,t);if(r!=null)return yl(e,"yAxis",r,n)},d0e=le([a0e,Xf],mxe),u0e=le([t0e,Xf],fxe),f0e=le([$n,e1,i0e,l0e,o0e,c0e,d0e,jt,_ce,Cz,u0e,Xf,Jge],(e,t,n,r,a,i,c,d,u,h,m,p,g)=>{var{chartData:v,dataStartIndex:y,dataEndIndex:N}=u;if(!(p==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||i==null||h==null)){var{data:j}=p,_;if(j!=null&&j.length>0?_=j:_=v?.slice(y,N+1),_!=null)return B0e({layout:d,barSettings:p,pos:c,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,stackedData:m,displayedData:_,offset:e,cells:g,dataStartIndex:y})}}),m0e=["index"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(null,arguments)}function h0e(e,t){if(e==null)return{};var n,r,a=p0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ez=b.createContext(void 0),x0e=e=>{var t=b.useContext(Ez);if(t!=null)return t.stackId;if(e!=null)return vre(e)},g0e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),v0e=e=>{var t=b.useContext(Ez);if(t!=null){var{stackId:n}=t;return"url(#".concat(g0e(n,e),")")}},Az=e=>{var{index:t}=e,n=h0e(e,m0e),r=v0e(t);return b.createElement(Jn,yw({className:"recharts-bar-stack-layer",clipPath:r},n))},y0e=["onMouseEnter","onMouseLeave","onClick"],b0e=["value","background","tooltipPosition"],j0e=["id"],w0e=["onMouseEnter","onClick","onMouseLeave"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(null,arguments)}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){N0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N0e(e,t,n){return(t=S0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S0e(e){var t=_0e(e,"string");return typeof t=="symbol"?t:t+""}function _0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fx(e,t){if(e==null)return{};var n,r,a=C0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function C0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var E0e=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:jd(n,t),payload:e}]},A0e=b.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:c,unit:d,tooltipType:u,id:h}=e,m={dataDefinedOnItem:void 0,getPosition:Bo,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:jd(i,t),hide:c,type:u,color:a,unit:d,graphicalItemId:h}};return b.createElement(kS,{tooltipEntrySettings:m})});function k0e(e){var t=ze(jl),{data:n,dataKey:r,background:a,allOtherBarProps:i}=e,{onMouseEnter:c,onMouseLeave:d,onClick:u}=i,h=fx(i,y0e),m=CS(c,r,i.id),p=ES(d),g=AS(u,r,i.id);if(!a||n==null)return null;var v=No(a);return b.createElement(ur,{zIndex:hxe(a,Bn.barBackground)},n.map((y,N)=>{var{value:j,background:_,tooltipPosition:C}=y,E=fx(y,b0e);if(!_)return null;var k=m(y,N),O=p(y,N),T=g(y,N),D=_s(_s(_s(_s(_s({option:a,isActive:String(N)===t},E),{},{fill:"#eee"},_),v),Of(h,y,N)),{},{onMouseEnter:k,onMouseLeave:O,onClick:T,dataKey:r,index:N,className:"recharts-bar-background-rectangle"});return b.createElement(ux,xi({key:"background-bar-".concat(N)},D))}))}function D0e(e){var{showLabels:t,children:n,rects:r}=e,a=r?.map(i=>{var c={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return _s(_s({},c),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:c,fill:i.fill})});return b.createElement(QL,{value:t?a:void 0},n)}function O0e(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:i,dataKey:c}=e,d=ze(jl),u=ze(mS),h=n&&String(i)===d&&(u==null||c===u),m=h?n:t;return h?b.createElement(ur,{zIndex:Bn.activeBar},b.createElement(Az,{index:i},b.createElement(ux,xi({},r,{name:String(r.name)},a,{isActive:h,option:m,index:i,dataKey:c})))):b.createElement(ux,xi({},r,{name:String(r.name)},a,{isActive:h,option:m,index:i,dataKey:c}))}function T0e(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:i}=e;return b.createElement(ux,xi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:i}))}function R0e(e){var t,{data:n,props:r}=e,a=(t=Tr(r))!==null&&t!==void 0?t:{},{id:i}=a,c=fx(a,j0e),{shape:d,dataKey:u,activeBar:h}=r,{onMouseEnter:m,onClick:p,onMouseLeave:g}=r,v=fx(r,w0e),y=CS(m,u,i),N=ES(g),j=AS(p,u,i);return n?b.createElement(b.Fragment,null,n.map((_,C)=>b.createElement(Az,xi({index:C,key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(C),className:"recharts-bar-rectangle"},Of(v,_,C),{onMouseEnter:y(_,C),onMouseLeave:N(_,C),onClick:j(_,C)}),h?b.createElement(O0e,{shape:d,activeBar:h,baseProps:c,entry:_,index:C,dataKey:u}):b.createElement(T0e,{shape:d,baseProps:c,entry:_,index:C,dataKey:u})))):null}function M0e(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:i,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationEnd:h,onAnimationStart:m}=t,p=n.current,g=zf(t,"recharts-bar-"),[v,y]=b.useState(!1),N=!v,j=b.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),_=b.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return b.createElement(D0e,{showLabels:N,rects:r},b.createElement(Lf,{animationId:g,begin:c,duration:d,isActive:i,easing:u,onAnimationEnd:j,onAnimationStart:_,key:g},C=>{var E=C===1?r:r?.map((k,O)=>{var T=p&&p[O];if(T)return _s(_s({},k),{},{x:sn(T.x,k.x,C),y:sn(T.y,k.y,C),width:sn(T.width,k.width,C),height:sn(T.height,k.height,C)});if(a==="horizontal"){var D=sn(0,k.height,C),P=sn(k.stackedBarStart,k.y,C);return _s(_s({},k),{},{y:P,height:D})}var X=sn(0,k.width,C),ae=sn(k.stackedBarStart,k.x,C);return _s(_s({},k),{},{width:X,x:ae})});return C>0&&(n.current=E??null),E==null?null:b.createElement(Jn,null,b.createElement(R0e,{props:t,data:E}))}),b.createElement(jS,{label:t.label}),t.children)}function P0e(e){var t=b.useRef(null);return b.createElement(M0e,{previousRectanglesRef:t,props:e})}var kz=0,I0e=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:zt(e,t)}};class L0e extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:c,needClip:d,background:u,id:h}=this.props;if(t||n==null)return null;var m=vt("recharts-bar",a),p=h;return b.createElement(Jn,{className:m,id:h},d&&b.createElement("defs",null,b.createElement(vz,{clipPathId:p,xAxisId:i,yAxisId:c})),b.createElement(Jn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(p,")"):void 0},b.createElement(k0e,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),b.createElement(P0e,this.props)))}}var z0e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:kz,xAxisId:0,yAxisId:0,zIndex:Bn.bar};function U0e(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:c,animationBegin:d,animationDuration:u,animationEasing:h,isAnimationActive:m}=e,{needClip:p}=RS(t,n),g=qo(),v=Os(),y=SS(e.children,Qf),N=ze(C=>f0e(C,e.id,v,y));if(g!=="vertical"&&g!=="horizontal")return null;var j,_=N?.[0];return _==null||_.height==null||_.width==null?j=0:j=g==="vertical"?_.height/2:_.width/2,b.createElement(gz,{xAxisId:t,yAxisId:n,data:N,dataPointFormatter:I0e,errorBarOffset:j},b.createElement(L0e,xi({},e,{layout:g,needClip:p,data:N,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:c,animationBegin:d,animationDuration:u,animationEasing:h,isAnimationActive:m})))}function B0e(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:c,yAxis:d,xAxisTicks:u,yAxisTicks:h,stackedData:m,displayedData:p,offset:g,cells:v,parentViewBox:y,dataStartIndex:N}=e,j=t==="horizontal"?d:c,_=m?j.scale.domain():null,C=yre({numericAxis:j}),E=j.scale.map(C);return p.map((k,O)=>{var T,D,P,X,ae,G;if(m){var M=m[O+N];if(M==null)return null;T=mre(M,_)}else T=zt(k,n),Array.isArray(T)||(T=[C,T]);var Y=Wge(r,kz)(T[1],O);if(t==="horizontal"){var Z,fe=d.scale.map(T[0]),U=d.scale.map(T[1]);if(fe==null||U==null)return null;D=Wk({axis:c,ticks:u,bandSize:i,offset:a.offset,entry:k,index:O}),P=(Z=U??fe)!==null&&Z!==void 0?Z:void 0,X=a.size;var L=fe-U;if(ae=Ea(L)?0:L,G={x:D,y:g.top,width:X,height:g.height},Math.abs(Y)>0&&Math.abs(ae)<Math.abs(Y)){var I=ds(ae||Y)*(Math.abs(Y)-Math.abs(ae));P-=I,ae+=I}}else{var se=c.scale.map(T[0]),ye=c.scale.map(T[1]);if(se==null||ye==null)return null;if(D=se,P=Wk({axis:d,ticks:h,bandSize:i,offset:a.offset,entry:k,index:O}),X=ye-se,ae=a.size,G={x:g.left,y:P,width:g.width,height:ae},Math.abs(Y)>0&&Math.abs(X)<Math.abs(Y)){var z=ds(X||Y)*(Math.abs(Y)-Math.abs(X));X+=z}}if(D==null||P==null||X==null||ae==null)return null;var V=_s(_s({},k),{},{stackedBarStart:E,x:D,y:P,width:X,height:ae,value:m?T:T[1],payload:k,background:G,tooltipPosition:{x:D+X/2,y:P+ae/2},parentViewBox:y},v&&v[O]&&v[O].props);return V}).filter(Boolean)}function q0e(e){var t=qn(e,z0e),n=x0e(t.stackId),r=Os();return b.createElement(DS,{id:t.id,type:"bar"},a=>b.createElement(b.Fragment,null,b.createElement(iz,{legendPayload:E0e(t)}),b.createElement(A0e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),b.createElement(oz,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(ur,{zIndex:t.zIndex},b.createElement(U0e,xi({},t,{id:a})))))}var Dz=b.memo(q0e,Ag);Dz.displayName="Bar";var $0e=["domain","range"],H0e=["domain","range"];function hO(e,t){if(e==null)return{};var n,r,a=F0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Oz(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=hO(e,$0e),{domain:i,range:c}=t,d=hO(t,H0e);return!pO(n,i)||!pO(r,c)?!1:Ag(a,d)}var V0e=["type"],G0e=["dangerouslySetInnerHTML","ticks","scale"],K0e=["id","scale"];function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bw.apply(null,arguments)}function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(n),!0).forEach(function(r){Y0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y0e(e,t,n){return(t=W0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W0e(e){var t=Q0e(e,"string");return typeof t=="symbol"?t:t+""}function Q0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jw(e,t){if(e==null)return{};var n,r,a=X0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function X0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Z0e(e){var t=Yt(),n=b.useRef(null),r=x6(),{type:a}=e,i=jw(e,V0e),c=mg(r,"xAxis",a),d=b.useMemo(()=>{if(c!=null)return gO(gO({},i),{},{type:c})},[i,c]);return b.useLayoutEffect(()=>{d!=null&&(n.current===null?t(Fpe(d)):n.current!==d&&t(Vpe({prev:n.current,next:d})),n.current=d)},[d,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Gpe(n.current)),n.current=null)},[t]),null}var J0e=e=>{var{xAxisId:t,className:n}=e,r=ze(e1),a=Os(),i="xAxis",c=ze(_=>cL(_,i,t,a)),d=ze(_=>aL(_,t)),u=ze(_=>Mde(_,t)),h=ze(_=>BI(_,t));if(d==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:g}=e,v=jw(e,G0e),{id:y,scale:N}=h,j=jw(h,K0e);return b.createElement(TS,bw({},v,j,{x:u.x,y:u.y,width:d.width,height:d.height,className:vt("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:c,axisType:i}))},eve={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:Wn.allowDecimals,allowDuplicatedCategory:Wn.allowDuplicatedCategory,angle:Wn.angle,axisLine:xo.axisLine,height:Wn.height,hide:!1,includeHidden:Wn.includeHidden,interval:Wn.interval,label:!1,minTickGap:Wn.minTickGap,mirror:Wn.mirror,orientation:Wn.orientation,padding:Wn.padding,reversed:Wn.reversed,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,tickLine:xo.tickLine,tickSize:xo.tickSize,type:Wn.type,xAxisId:0},tve=e=>{var t=qn(e,eve);return b.createElement(b.Fragment,null,b.createElement(Z0e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(J0e,t))},PS=b.memo(tve,Oz);PS.displayName="XAxis";var nve=["type"],sve=["dangerouslySetInnerHTML","ticks","scale"],rve=["id","scale"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(null,arguments)}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){ave(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ave(e,t,n){return(t=ive(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ive(e){var t=lve(e,"string");return typeof t=="symbol"?t:t+""}function lve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nw(e,t){if(e==null)return{};var n,r,a=ove(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ove(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cve(e){var t=Yt(),n=b.useRef(null),r=x6(),{type:a}=e,i=Nw(e,nve),c=mg(r,"yAxis",a),d=b.useMemo(()=>{if(c!=null)return yO(yO({},i),{},{type:c})},[c,i]);return b.useLayoutEffect(()=>{d!=null&&(n.current===null?t(Kpe(d)):n.current!==d&&t(Ype({prev:n.current,next:d})),n.current=d)},[d,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Wpe(n.current)),n.current=null)},[t]),null}function dve(e){var{yAxisId:t,className:n,width:r,label:a}=e,i=b.useRef(null),c=b.useRef(null),d=ze(e1),u=Os(),h=Yt(),m="yAxis",p=ze(T=>iL(T,t)),g=ze(T=>Ide(T,t)),v=ze(T=>cL(T,m,t,u)),y=ze(T=>qI(T,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!p||bS(a)||b.isValidElement(a)||y==null)){var T=i.current;if(T){var D=T.getCalculatedWidth();Math.round(p.width)!==Math.round(D)&&h(Qpe({id:t,width:D}))}}},[v,p,h,a,t,r,y]),p==null||g==null||y==null)return null;var{dangerouslySetInnerHTML:N,ticks:j,scale:_}=e,C=Nw(e,sve),{id:E,scale:k}=y,O=Nw(y,rve);return b.createElement(TS,ww({},C,O,{ref:i,labelRef:c,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:vt("recharts-".concat(m," ").concat(m),n),viewBox:d,ticks:v,axisType:m}))}var uve={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:xo.axisLine,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,label:!1,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:xo.tickLine,tickSize:xo.tickSize,type:Qn.type,width:Qn.width,yAxisId:0},fve=e=>{var t=qn(e,uve);return b.createElement(b.Fragment,null,b.createElement(cve,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(dve,t))},IS=b.memo(fve,Oz);IS.displayName="YAxis";var mve=(e,t)=>t,LS=le([mve,jt,LI,ts,CL,_i,Zue,$n],afe),zS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Tz=Rr("mouseClick"),Rz=Rf();Rz.startListening({actionCreator:Tz,effect:(e,t)=>{var n=e.payload,r=LS(t.getState(),zS(n));r?.activeIndex!=null&&t.dispatch(Qde({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Sw=Rr("mouseMove"),Mz=Rf(),Ih=null;Mz.startListening({actionCreator:Sw,effect:(e,t)=>{var n=e.payload;Ih!==null&&cancelAnimationFrame(Ih);var r=zS(n);Ih=requestAnimationFrame(()=>{var a=t.getState(),i=lS(a,a.tooltip.settings.shared);if(i==="axis"){var c=LS(a,r);c?.activeIndex!=null?t.dispatch(gL({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(xL())}Ih=null})}});function hve(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var bO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Pz=Qs({name:"rootProps",initialState:bO,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:bO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),pve=Pz.reducer,{updateOptions:xve}=Pz.actions,gve=null,vve={updatePolarOptions:(e,t)=>t.payload},Iz=Qs({name:"polarOptions",initialState:gve,reducers:vve}),{updatePolarOptions:yve}=Iz.actions,bve=Iz.reducer,Lz=Rr("keyDown"),zz=Rr("focus"),US=Rf();US.startListening({actionCreator:Lz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var c=oS(a,Dd(n),Gf(n),Yf(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var u=_i(n);if(i==="Enter"){var h=ix(n,"axis","hover",String(a.index));t.dispatch(mw({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var m=Bde(n),p=m==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,v=d+g*p;if(!(u==null||v>=u.length||v<0)){var y=ix(n,"axis","hover",String(v));t.dispatch(mw({active:!0,activeIndex:v.toString(),activeCoordinate:y}))}}}}}});US.startListening({actionCreator:zz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",c=ix(n,"axis","hover",String(i));t.dispatch(mw({active:!0,activeIndex:i,activeCoordinate:c}))}}}});var _r=Rr("externalEvent"),Uz=Rf(),Yb=new Map;Uz.startListening({actionCreator:_r,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Yb.get(a);i!==void 0&&cancelAnimationFrame(i);var c=requestAnimationFrame(()=>{try{var d=t.getState(),u={activeCoordinate:Iue(d),activeDataKey:mS(d),activeIndex:jl(d),activeLabel:kL(d),activeTooltipIndex:jl(d),isTooltipActive:Lue(d)};n(u,r)}finally{Yb.delete(a)}});Yb.set(a,c)}}});var jve=le([Ad],e=>e.tooltipItemPayloads),wve=le([jve,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(i=>i.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(t)}}}),Bz=Rr("touchMove"),qz=Rf();qz.startListening({actionCreator:Bz,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=lS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var c=LS(r,zS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(gL({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var d,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(c6),p=(d=h.getAttribute(d6))!==null&&d!==void 0?d:void 0,g=kd(r).find(N=>N.id===p);if(m==null||g==null||p==null)return;var{dataKey:v}=g,y=wve(r,m,p);t.dispatch(pL({activeDataKey:v,activeIndex:m,activeCoordinate:y,activeGraphicalItemId:p}))}}}});var Nve=RP({brush:pxe,cartesianAxis:Xpe,chartData:Ife,errorBars:Yxe,graphicalItems:rpe,layout:ore,legend:xae,options:Ofe,polarAxis:vhe,polarOptions:bve,referenceElements:yxe,rootProps:pve,tooltip:Xde,zIndex:yfe}),Sve=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Rse({reducer:Nve,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([Rz.middleware,Mz.middleware,US.middleware,Uz.middleware,qz.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(YP({type:"raf"}))},devTools:{serialize:{replacer:hve},name:"recharts-".concat(n)}})};function $z(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Os(),i=b.useRef(null);if(a)return n;i.current==null&&(i.current=Sve(t,r));var c=KN;return b.createElement(Nge,{context:c,store:i.current},n)}function _ve(e){var{layout:t,margin:n}=e,r=Yt(),a=Os();return b.useEffect(()=>{a||(r(are(t)),r(rre(n)))},[r,a,t,n]),null}var Hz=b.memo(_ve,Ag);function Fz(e){var t=Yt();return b.useEffect(()=>{t(xve(e))},[t,e]),null}function jO(e){var{zIndex:t,isPanorama:n}=e,r=b.useRef(null),a=Yt();return b.useLayoutEffect(()=>(r.current&&a(gfe({zIndex:t,element:r.current,isPanorama:n})),()=>{a(vfe({zIndex:t,isPanorama:n}))}),[a,t,n]),b.createElement("g",{tabIndex:-1,ref:r})}function wO(e){var{children:t,isPanorama:n}=e,r=ze(lfe);if(!r||r.length===0)return t;var a=r.filter(c=>c<0),i=r.filter(c=>c>0);return b.createElement(b.Fragment,null,a.map(c=>b.createElement(jO,{key:c,zIndex:c,isPanorama:n})),t,i.map(c=>b.createElement(jO,{key:c,zIndex:c,isPanorama:n})))}var Cve=["children"];function Eve(e,t){if(e==null)return{};var n,r,a=Ave(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ave(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mx.apply(null,arguments)}var kve={width:"100%",height:"100%",display:"block"},Dve=b.forwardRef((e,t)=>{var n=h6(),r=p6(),a=A6();if(!vl(n)||!vl(r))return null;var{children:i,otherAttributes:c,title:d,desc:u}=e,h,m;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?m=c.role:m=a?"application":void 0),b.createElement(IN,mx({},c,{title:d,desc:u,role:m,tabIndex:h,width:n,height:r,style:kve,ref:t}),i)}),Ove=e=>{var{children:t}=e,n=ze(Jx);if(!n)return null;var{width:r,height:a,y:i,x:c}=n;return b.createElement(IN,{width:r,height:a,x:c,y:i},t)},NO=b.forwardRef((e,t)=>{var{children:n}=e,r=Eve(e,Cve),a=Os();return a?b.createElement(Ove,null,b.createElement(wO,{isPanorama:!0},n)):b.createElement(Dve,mx({ref:t},r),b.createElement(wO,{isPanorama:!1},n))});function Tve(){var e=Yt(),[t,n]=b.useState(null),r=ze(_re);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;_t(i)&&i!==r&&e(lre(i))}},[t,e,r]),n}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(r){Mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mve(e,t,n){return(t=Pve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pve(e){var t=Ive(e,"string");return typeof t=="symbol"?t:t+""}function Ive(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}var Lve=()=>(Vfe(),null);function hx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var zve=b.forwardRef((e,t)=>{var n,r,a=b.useRef(null),[i,c]=b.useState({containerWidth:hx((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:hx((r=e.style)===null||r===void 0?void 0:r.height)}),d=b.useCallback((h,m)=>{c(p=>{var g=Math.round(h),v=Math.round(m);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=b.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=h.getBoundingClientRect();d(m,p);var g=y=>{var N=y[0];if(N!=null){var{width:j,height:_}=N.contentRect;d(j,_)}},v=new ResizeObserver(g);v.observe(h),a.current=v}},[t,d]);return b.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[d]),b.createElement(b.Fragment,null,b.createElement(Pf,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",dl({ref:u},e)))}),Uve=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=b.useState({containerWidth:hx(n),containerHeight:hx(r)}),c=b.useCallback((u,h)=>{i(m=>{var p=Math.round(u),g=Math.round(h);return m.containerWidth===p&&m.containerHeight===g?m:{containerWidth:p,containerHeight:g}})},[]),d=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:h,height:m}=u.getBoundingClientRect();c(h,m)}},[t,c]);return b.createElement(b.Fragment,null,b.createElement(Pf,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",dl({ref:d},e)))}),Bve=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(Pf,{width:n,height:r}),b.createElement("div",dl({ref:t},e)))}),qve=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?b.createElement(Uve,dl({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?b.createElement(Bve,dl({},e,{width:n,height:r,ref:t})):b.createElement(b.Fragment,null,b.createElement(Pf,{width:n,height:r}),b.createElement("div",dl({ref:t},e)))});function $ve(e){return e?zve:qve}var Hve=b.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:c,onDoubleClick:d,onMouseDown:u,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:y,onTouchStart:N,style:j,width:_,responsive:C,dispatchTouchEvents:E=!0}=e,k=b.useRef(null),O=Yt(),[T,D]=b.useState(null),[P,X]=b.useState(null),ae=Tve(),G=t1(),M=G?.width>0?G.width:_,Y=G?.height>0?G.height:a,Z=b.useCallback(pe=>{ae(pe),typeof t=="function"&&t(pe),D(pe),X(pe),pe!=null&&(k.current=pe)},[ae,t,D,X]),fe=b.useCallback(pe=>{O(Tz(pe)),O(_r({handler:i,reactEvent:pe}))},[O,i]),U=b.useCallback(pe=>{O(Sw(pe)),O(_r({handler:h,reactEvent:pe}))},[O,h]),L=b.useCallback(pe=>{O(xL()),O(_r({handler:m,reactEvent:pe}))},[O,m]),I=b.useCallback(pe=>{O(Sw(pe)),O(_r({handler:p,reactEvent:pe}))},[O,p]),se=b.useCallback(()=>{O(zz())},[O]),ye=b.useCallback(pe=>{O(Lz(pe.key))},[O]),z=b.useCallback(pe=>{O(_r({handler:c,reactEvent:pe}))},[O,c]),V=b.useCallback(pe=>{O(_r({handler:d,reactEvent:pe}))},[O,d]),re=b.useCallback(pe=>{O(_r({handler:u,reactEvent:pe}))},[O,u]),$=b.useCallback(pe=>{O(_r({handler:g,reactEvent:pe}))},[O,g]),ve=b.useCallback(pe=>{O(_r({handler:N,reactEvent:pe}))},[O,N]),W=b.useCallback(pe=>{E&&O(Bz(pe)),O(_r({handler:y,reactEvent:pe}))},[O,E,y]),we=b.useCallback(pe=>{O(_r({handler:v,reactEvent:pe}))},[O,v]),De=$ve(C);return b.createElement(IL.Provider,{value:T},b.createElement(QM.Provider,{value:P},b.createElement(De,{width:M??j?.width,height:Y??j?.height,className:vt("recharts-wrapper",r),style:Rve({position:"relative",cursor:"default",width:M,height:Y},j),onClick:fe,onContextMenu:z,onDoubleClick:V,onFocus:se,onKeyDown:ye,onMouseDown:re,onMouseEnter:U,onMouseLeave:L,onMouseMove:I,onMouseUp:$,onTouchEnd:we,onTouchMove:W,onTouchStart:ve,ref:Z},b.createElement(Lve,null),n)))}),Fve=["width","height","responsive","children","className","style","compact","title","desc"];function Vve(e,t){if(e==null)return{};var n,r,a=Gve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vz=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:c,style:d,compact:u,title:h,desc:m}=e,p=Vve(e,Fve),g=Tr(p);return u?b.createElement(b.Fragment,null,b.createElement(Pf,{width:n,height:r}),b.createElement(NO,{otherAttributes:g,title:h,desc:m},i)):b.createElement(Hve,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(NO,{otherAttributes:g,title:h,desc:m,ref:t},b.createElement(jxe,null,i)))});function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_w.apply(null,arguments)}var Kve={top:5,right:5,bottom:5,left:5},Yve={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Kve,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Gz=b.forwardRef(function(t,n){var r,a=qn(t.categoricalChartProps,Yve),{chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,categoricalChartProps:h}=t,m={chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return b.createElement($z,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:i},b.createElement(fz,{chartData:h.data}),b.createElement(Hz,{layout:a.layout,margin:a.margin}),b.createElement(Fz,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(Vz,_w({},a,{ref:n})))}),Wve=["axis"],Qve=b.forwardRef((e,t)=>b.createElement(Gz,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wve,tooltipPayloadSearcher:vS,categoricalChartProps:e,ref:t})),Xve=["axis","item"],Zve=b.forwardRef((e,t)=>b.createElement(Gz,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xve,tooltipPayloadSearcher:vS,categoricalChartProps:e,ref:t}));function Jve(e){var t=Yt();return b.useEffect(()=>{t(yve(e))},[t,e]),null}var eye=["layout"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(null,arguments)}function tye(e,t){if(e==null)return{};var n,r,a=nye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sye={top:5,right:5,bottom:5,left:5},Kz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rye=b.forwardRef(function(t,n){var r,a=qn(t.categoricalChartProps,Kz),{layout:i}=a,c=tye(a,eye),{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,p={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return b.createElement($z,{preloadedState:{options:p},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},b.createElement(fz,{chartData:a.data}),b.createElement(Hz,{layout:i,margin:a.margin}),b.createElement(Fz,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(Jve,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(Vz,Cw({},c,{ref:n})))});function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){aye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aye(e,t,n){return(t=iye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iye(e){var t=lye(e,"string");return typeof t=="symbol"?t:t+""}function lye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oye=["item"],cye=CO(CO({},Kz),{},{layout:"centric",startAngle:0,endAngle:360}),dye=b.forwardRef((e,t)=>{var n=qn(e,cye);return b.createElement(rye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:oye,tooltipPayloadSearcher:vS,categoricalChartProps:n,ref:t})});const EO=["#3b82f6","#22c55e","#a8a29e","#f59e0b","#8b5cf6","#ec4899"];function uye({data:e}){const t=e.labels.map((n,r)=>{const a={name:n};return e.datasets.forEach(i=>{a[i.label]=i.data[r]??0}),a});return s.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl p-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-stone-900 mb-4",children:"Placement Trends"}),s.jsx(n1,{width:"100%",height:280,children:s.jsxs(Qve,{data:t,children:[s.jsx(PS,{dataKey:"name",tick:{fontSize:12},stroke:"#a8a29e"}),s.jsx(IS,{tick:{fontSize:12},stroke:"#a8a29e"}),s.jsx(yS,{contentStyle:{borderRadius:12,border:"1px solid #e7e5e4",fontSize:13}}),s.jsx(i1,{wrapperStyle:{fontSize:12}}),e.datasets.map((n,r)=>s.jsx(_z,{type:"monotone",dataKey:n.label,stroke:n.color||EO[r%EO.length],strokeWidth:2,dot:!1},n.label))]})})]})}function fye({data:e}){const t=e.slice(0,10);return s.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl p-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-stone-900 mb-4",children:"Specialty Demand"}),s.jsx(n1,{width:"100%",height:280,children:s.jsxs(Zve,{data:t,layout:"vertical",margin:{left:80},children:[s.jsx(PS,{type:"number",tick:{fontSize:12},stroke:"#a8a29e"}),s.jsx(IS,{dataKey:"specialty",type:"category",tick:{fontSize:11},stroke:"#a8a29e",width:80}),s.jsx(yS,{contentStyle:{borderRadius:12,border:"1px solid #e7e5e4",fontSize:13}}),s.jsx(Dz,{dataKey:"count",fill:"#3b82f6",radius:[0,4,4,0]})]})})]})}function mye({applied:e,accepted:t,completed:n}){const r=[{name:"Applied",value:e},{name:"Accepted",value:t},{name:"Completed",value:n}],a=["#3b82f6","#22c55e","#a8a29e"];return s.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl p-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-stone-900 mb-4",children:"Placement Funnel"}),s.jsx(n1,{width:"100%",height:280,children:s.jsxs(dye,{children:[s.jsx(cz,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:3,dataKey:"value",label:({name:i,value:c})=>`${i}: ${c}`,children:r.map((i,c)=>s.jsx(Qf,{fill:a[c]},c))}),s.jsx(yS,{contentStyle:{borderRadius:12,border:"1px solid #e7e5e4",fontSize:13}}),s.jsx(i1,{wrapperStyle:{fontSize:12}})]})})]})}function Xi({label:e,value:t,change:n,icon:r}){const a=n?.startsWith("+");return s.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-xs font-medium text-stone-500 uppercase tracking-wide",children:e}),r&&s.jsx("div",{className:"text-stone-400",children:r})]}),s.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-2",children:t}),n&&s.jsxs("p",{className:`text-xs mt-1 font-medium ${a?"text-green-600":"text-red-500"}`,children:[n," vs previous period"]})]})}function hye(e){const t=new Date().toISOString().split("T")[0],n=new Date;return e==="7d"?n.setDate(n.getDate()-7):e==="30d"?n.setDate(n.getDate()-30):e==="90d"?n.setDate(n.getDate()-90):n.setFullYear(n.getFullYear()-1),{from:n.toISOString().split("T")[0],to:t}}function pye(){const{user:e}=Je(),[t,n]=b.useState("30d"),[r,a]=b.useState("platform"),i=b.useMemo(()=>hye(t),[t]),{data:c,isLoading:d}=bV(),{data:u}=SV(),{data:h}=Ta(),m=e?.role==="admin",p=e?.role==="coordinator",g=e?.role==="site_manager",v=e?.student_profile?.university_id||null,y=h?.sites?.[0]?.id||null,N={period:t==="12m"?"monthly":"daily",from:i.from,to:i.to},{data:j}=jV(m&&r==="platform"?N:void 0),{data:_}=wV(p||m&&r==="university"?v||"none":null,N),{data:C}=NV(g||m&&r==="site"?y:null,N),E=m?r==="platform"?j:r==="university"?_:C:p?_:g?C:null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(ml,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-stone-900 to-stone-600 bg-clip-text text-transparent",children:"Analytics"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Track placement performance and trends"})]})]}),s.jsx("div",{className:"flex items-center gap-1 bg-stone-100 rounded-xl p-1",children:["7d","30d","90d","12m"].map(k=>s.jsx("button",{onClick:()=>n(k),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${t===k?"bg-white text-stone-900 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:k},k))})]}),m&&s.jsx("div",{className:"flex gap-1 bg-stone-100 rounded-xl p-1 w-fit",children:["platform","university","site"].map(k=>s.jsx("button",{onClick:()=>a(k),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${r===k?"bg-white text-stone-900 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:k},k))}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:d?[1,2,3,4].map(k=>s.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl p-5 h-24 animate-pulse",children:[s.jsx("div",{className:"h-3 bg-stone-200 rounded w-1/2 mb-3"}),s.jsx("div",{className:"h-6 bg-stone-200 rounded w-2/3"})]},k)):s.jsxs(s.Fragment,{children:[c?.total_placements!=null&&s.jsx(Xi,{label:"Total Placements",value:c.total_placements,icon:s.jsx(ij,{className:"w-5 h-5"})}),c?.placement_rate!=null&&s.jsx(Xi,{label:"Placement Rate",value:`${c.placement_rate.toFixed(1)}%`,icon:s.jsx(Xc,{className:"w-5 h-5"})}),c?.active_students!=null&&s.jsx(Xi,{label:"Active Students",value:c.active_students,icon:s.jsx(ut,{className:"w-5 h-5"})}),c?.avg_time_to_place!=null&&s.jsx(Xi,{label:"Avg Time to Place",value:`${c.avg_time_to_place.toFixed(0)}d`,icon:s.jsx(Ye,{className:"w-5 h-5"})}),c?.total_hours!=null&&s.jsx(Xi,{label:"Total Hours",value:c.total_hours.toLocaleString(),icon:s.jsx(Ye,{className:"w-5 h-5"})}),c?.slot_fill_rate!=null&&s.jsx(Xi,{label:"Slot Fill Rate",value:`${c.slot_fill_rate.toFixed(1)}%`,icon:s.jsx(ij,{className:"w-5 h-5"})}),c?.revenue!=null&&s.jsx(Xi,{label:"Revenue",value:`$${c.revenue.toLocaleString()}`,icon:s.jsx(np,{className:"w-5 h-5"})}),c?.platform_fees!=null&&s.jsx(Xi,{label:"Platform Fees",value:`$${c.platform_fees.toLocaleString()}`,icon:s.jsx(np,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E?.time_series&&s.jsx("div",{className:"lg:col-span-2",children:s.jsx(uye,{data:E.time_series})}),u?.specialties&&s.jsx(fye,{data:u.specialties}),E?.summary&&s.jsx(mye,{applied:typeof E.summary.total_placements=="number"?E.summary.total_placements*3:0,accepted:typeof E.summary.total_placements=="number"?E.summary.total_placements:0,completed:typeof E.summary.total_placements=="number"?Math.round(E.summary.total_placements*.8):0})]}),!d&&!c&&s.jsxs("div",{className:"text-center py-16 bg-white border border-stone-200 rounded-xl",children:[s.jsx(ml,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500 font-medium",children:"No analytics data available yet"}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Data will appear as placements and activities are recorded"})]})]})}const Yz=[{value:"annual_summary",label:"Annual Summary"},{value:"program_review",label:"Program Review"},{value:"site_evaluation",label:"Site Evaluation"},{value:"student_outcomes",label:"Student Outcomes"},{value:"clinical_hours",label:"Clinical Hours"}];function Wz(e){return Yz.find(t=>t.value===e)?.label||e}function xye(e){return e==="completed"?"bg-green-100 text-green-700":e==="generating"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}function gye(){const{user:e}=Je(),[t,n]=b.useState(1),[r,a]=b.useState(!1),[i,c]=b.useState(null),{data:d,isLoading:u}=_V({page:t}),h=d?.data||[],m=d?.last_page||1,p=EV(),g=async v=>{await p.mutateAsync(v),c(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(fT,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-stone-900 to-stone-600 bg-clip-text text-transparent",children:"Accreditation Reports"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Generate compliance reports for accrediting bodies"})]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"Generate Report"]})]}),s.jsx("div",{className:"bg-white border border-stone-200 rounded-xl overflow-hidden",children:u?s.jsx("div",{className:"p-12 text-center",children:s.jsx(Et,{className:"w-6 h-6 animate-spin text-stone-400 mx-auto"})}):h.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(At,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),s.jsx("p",{className:"text-stone-500 font-medium",children:"No reports generated yet"}),s.jsx("p",{className:"text-sm text-stone-400 mt-1",children:'Click "Generate Report" to create your first accreditation report'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-stone-100 bg-stone-50",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-stone-500",children:"Title"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-stone-500",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-stone-500",children:"Date Range"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-stone-500",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-stone-500",children:"Generated"}),s.jsx("th",{className:"text-right py-3 px-4 font-medium text-stone-500",children:"Actions"})]})}),s.jsx("tbody",{children:h.map(v=>s.jsxs("tr",{className:"border-b border-stone-50 hover:bg-stone-50 transition-colors",children:[s.jsx("td",{className:"py-3 px-4 font-medium text-stone-900",children:v.title}),s.jsx("td",{className:"py-3 px-4 text-stone-600",children:Wz(v.report_type)}),s.jsx("td",{className:"py-3 px-4 text-stone-500 text-xs",children:v.parameters.date_from&&v.parameters.date_to?`${v.parameters.date_from}  ${v.parameters.date_to}`:""}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${xye(v.status)}`,children:v.status})}),s.jsx("td",{className:"py-3 px-4 text-stone-500 text-xs",children:v.generated_at?new Date(v.generated_at).toLocaleDateString():""}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[v.status==="completed"&&s.jsx("a",{href:jx.downloadUrl(v.id),target:"_blank",rel:"noreferrer",className:"p-1.5 rounded-lg text-stone-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",title:"Download PDF",children:s.jsx(Ys,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>c(v.id),className:"p-1.5 rounded-lg text-stone-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete",children:s.jsx(hn,{className:"w-4 h-4"})})]})})]},v.id))})]})})}),m>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{disabled:t<=1,onClick:()=>n(v=>v-1),className:"px-4 py-2 text-sm border border-stone-200 rounded-xl hover:bg-stone-50 disabled:opacity-40 transition-colors",children:"Previous"}),s.jsxs("span",{className:"text-sm text-stone-500",children:["Page ",t," of ",m]}),s.jsx("button",{disabled:t>=m,onClick:()=>n(v=>v+1),className:"px-4 py-2 text-sm border border-stone-200 rounded-xl hover:bg-stone-50 disabled:opacity-40 transition-colors",children:"Next"})]}),r&&s.jsx(vye,{onClose:()=>a(!1)}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6",children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-2",children:"Delete Report?"}),s.jsx("p",{className:"text-sm text-stone-500 mb-4",children:"This action cannot be undone. The report file will be permanently deleted."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2.5 border border-stone-200 rounded-xl text-sm font-medium text-stone-600 hover:bg-stone-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>g(i),disabled:p.isPending,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-xl text-sm font-medium hover:bg-red-700 transition-colors disabled:opacity-50",children:p.isPending?"Deleting...":"Delete"})]})]})})]})}function vye({onClose:e}){const{user:t}=Je(),n=CV(),[r,a]=b.useState("annual_summary"),[i,c]=b.useState(""),[d,u]=b.useState(""),[h,m]=b.useState(""),[p,g]=b.useState(""),[v,y]=b.useState(""),[N,j]=b.useState(""),_=async()=>{const C={};d&&(C.date_from=d),h&&(C.date_to=h),v&&(C.program_id=v),N&&(C.site_id=N),await n.mutateAsync({report_type:r,title:i||`${Wz(r)}  ${d||"All Time"}`,university_id:p,parameters:C}),e()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-stone-100",children:[s.jsx("h2",{className:"font-semibold text-stone-900",children:"Generate Report"}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-lg text-stone-400 hover:text-stone-600 hover:bg-stone-100 transition-colors",children:s.jsx(us,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-5 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Report Type"}),s.jsx("select",{value:r,onChange:C=>a(C.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-xl text-sm bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:Yz.map(C=>s.jsx("option",{value:C.value,children:C.label},C.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Title (optional)"}),s.jsx("input",{value:i,onChange:C=>c(C.target.value),placeholder:"Auto-generated if empty",className:"w-full px-3 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"From"}),s.jsx("input",{type:"date",value:d,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"To"}),s.jsx("input",{type:"date",value:h,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"University ID"}),s.jsx("input",{value:p,onChange:C=>g(C.target.value),placeholder:"Required",className:"w-full px-3 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),r==="program_review"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Program ID (optional)"}),s.jsx("input",{value:v,onChange:C=>y(C.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),r==="site_evaluation"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Site ID (optional)"}),s.jsx("input",{value:N,onChange:C=>j(C.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{className:"flex gap-3 p-5 border-t border-stone-100",children:[s.jsx("button",{onClick:e,className:"flex-1 px-4 py-2.5 border border-stone-200 rounded-xl text-sm font-medium text-stone-600 hover:bg-stone-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:_,disabled:n.isPending||!p,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-xl text-sm font-medium hover:bg-primary-700 transition-colors disabled:opacity-50",children:n.isPending?"Generating...":"Generate PDF"})]})]})})}function yye(){const e=Ut();return s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-stone-200/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center",children:s.jsx(St,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"ClinicLink"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm font-medium text-stone-600",children:[s.jsx("button",{onClick:()=>e("/rotations"),className:"hover:text-primary-600 transition-colors",children:"Browse Rotations"}),s.jsx("button",{onClick:()=>e("/"),className:"hover:text-primary-600 transition-colors",children:"Home"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>e("/login"),children:"Sign In"}),s.jsx(q,{size:"sm",onClick:()=>e("/register"),children:"Get Started"})]})]})})}function Nt({children:e,roles:t}){const{isAuthenticated:n,user:r}=Je();return n?r&&!r.onboardingCompleted?s.jsx(oo,{to:"/onboarding",replace:!0}):t&&r&&!t.includes(r.role)?s.jsx(oo,{to:"/dashboard",replace:!0}):s.jsx(PT,{children:e}):s.jsx(oo,{to:"/login",replace:!0})}function Iu({children:e}){const{isAuthenticated:t}=Je();return t?s.jsx(oo,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e})}function bye({children:e}){const{isAuthenticated:t}=Je();return t?s.jsx(PT,{children:e}):s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx(yye,{}),s.jsx("div",{className:"pt-16 max-w-7xl mx-auto px-4 sm:px-6 py-8",children:e})]})}function jye(){const{isAuthenticated:e,user:t}=Je();return e?t&&t.onboardingCompleted?s.jsx(oo,{to:"/dashboard",replace:!0}):s.jsx(ZV,{}):s.jsx(oo,{to:"/login",replace:!0})}function wye(){return s.jsxs(hB,{children:[s.jsx(tt,{path:"/",element:s.jsx(Iu,{children:s.jsx(OV,{})})}),s.jsx(tt,{path:"/login",element:s.jsx(Iu,{children:s.jsx(TV,{})})}),s.jsx(tt,{path:"/register",element:s.jsx(Iu,{children:s.jsx(IV,{})})}),s.jsx(tt,{path:"/forgot-password",element:s.jsx(Iu,{children:s.jsx(dJ,{})})}),s.jsx(tt,{path:"/reset-password",element:s.jsx(Iu,{children:s.jsx(uJ,{})})}),s.jsx(tt,{path:"/verify/:certificateNumber",element:s.jsx(HZ,{})}),s.jsx(tt,{path:"/verify-ce/:uuid",element:s.jsx(cJ,{})}),s.jsx(tt,{path:"/invite/:token",element:s.jsx(YZ,{})}),s.jsx(tt,{path:"/rotations",element:s.jsx(bye,{children:s.jsx(FV,{})})}),s.jsx(tt,{path:"/onboarding",element:s.jsx(jye,{})}),s.jsx(tt,{path:"/dashboard",element:s.jsx(Nt,{children:s.jsx($V,{})})}),s.jsx(tt,{path:"/applications",element:s.jsx(Nt,{roles:["student"],children:s.jsx(VV,{})})}),s.jsx(tt,{path:"/hours",element:s.jsx(Nt,{roles:["student","preceptor"],children:s.jsx(GV,{})})}),s.jsx(tt,{path:"/evaluations",element:s.jsx(Nt,{roles:["student","preceptor"],children:s.jsx(JX,{})})}),s.jsx(tt,{path:"/slots",element:s.jsx(Nt,{roles:["site_manager","admin"],children:s.jsx(WX,{})})}),s.jsx(tt,{path:"/preceptors",element:s.jsx(Nt,{roles:["site_manager","admin"],children:s.jsx(FZ,{})})}),s.jsx(tt,{path:"/site-applications",element:s.jsx(Nt,{roles:["site_manager","admin"],children:s.jsx(QX,{})})}),s.jsx(tt,{path:"/certificates",element:s.jsx(Nt,{roles:["student","preceptor","coordinator","admin"],children:s.jsx(eZ,{})})}),s.jsx(tt,{path:"/settings",element:s.jsx(Nt,{children:s.jsx(dG,{})})}),s.jsx(tt,{path:"/site",element:s.jsx(Nt,{roles:["site_manager","preceptor"],children:s.jsx(oZ,{})})}),s.jsx(tt,{path:"/students",element:s.jsx(Nt,{roles:["preceptor","site_manager","coordinator","professor","admin"],children:s.jsx(iZ,{})})}),s.jsx(tt,{path:"/students/:id",element:s.jsx(Nt,{roles:["preceptor","site_manager","coordinator","professor","admin"],children:s.jsx(VZ,{})})}),s.jsx(tt,{path:"/programs",element:s.jsx(Nt,{roles:["coordinator","admin"],children:s.jsx(uZ,{})})}),s.jsx(tt,{path:"/placements",element:s.jsx(Nt,{roles:["coordinator","professor","admin"],children:s.jsx(vZ,{})})}),s.jsx(tt,{path:"/sites",element:s.jsx(Nt,{roles:["coordinator","admin"],children:s.jsx(cZ,{})})}),s.jsx(tt,{path:"/sites/:id",element:s.jsx(Nt,{roles:["coordinator","admin"],children:s.jsx(EZ,{})})}),s.jsx(tt,{path:"/universities",element:s.jsx(Nt,{roles:["coordinator","admin"],children:s.jsx(_Z,{})})}),s.jsx(tt,{path:"/universities/:id",element:s.jsx(Nt,{roles:["coordinator","admin"],children:s.jsx(kZ,{})})}),s.jsx(tt,{path:"/onboarding-checklists",element:s.jsx(Nt,{roles:["student","site_manager"],children:s.jsx($Z,{})})}),s.jsx(tt,{path:"/agreements",element:s.jsx(Nt,{roles:["coordinator","site_manager","admin"],children:s.jsx(WZ,{})})}),s.jsx(tt,{path:"/evaluation-templates",element:s.jsx(Nt,{roles:["coordinator","admin"],children:s.jsx(Fee,{})})}),s.jsx(tt,{path:"/messages",element:s.jsx(Nt,{children:s.jsx(yA,{})})}),s.jsx(tt,{path:"/messages/:id",element:s.jsx(Nt,{children:s.jsx(yA,{})})}),s.jsx(tt,{path:"/calendar",element:s.jsx(Nt,{children:s.jsx($ee,{})})}),s.jsx(tt,{path:"/compliance",element:s.jsx(Nt,{roles:["student","site_manager","coordinator","professor","admin"],children:s.jsx(eJ,{})})}),s.jsx(tt,{path:"/ce-credits",element:s.jsx(Nt,{roles:["preceptor","coordinator","admin"],children:s.jsx(tJ,{})})}),s.jsx(tt,{path:"/admin/users",element:s.jsx(Nt,{roles:["admin"],children:s.jsx(jZ,{})})}),s.jsx(tt,{path:"/admin/users/:id",element:s.jsx(Nt,{roles:["admin"],children:s.jsx(TZ,{})})}),s.jsx(tt,{path:"/preceptor-directory",element:s.jsx(Nt,{children:s.jsx(Yee,{})})}),s.jsx(tt,{path:"/analytics",element:s.jsx(Nt,{roles:["coordinator","site_manager","admin"],children:s.jsx(pye,{})})}),s.jsx(tt,{path:"/accreditation-reports",element:s.jsx(Nt,{roles:["coordinator","admin"],children:s.jsx(gye,{})})}),s.jsx(tt,{path:"*",element:s.jsx(oo,{to:"/",replace:!0})})]})}const Nye=new v9({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});g7.createRoot(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(UB,{basename:"/",children:s.jsx(y9,{client:Nye,children:s.jsxs(uq,{children:[s.jsx(wye,{}),s.jsx(sq,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{borderRadius:"16px",padding:"16px",fontSize:"14px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.06)"},classNames:{title:"font-semibold",description:"text-xs opacity-80"}}})]})})})}));
