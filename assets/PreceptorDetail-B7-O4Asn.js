import{c as q,y as E,u as z,r as F,co as O,cp as U,cq as H,j as e,w as y,cn as Q,f as w,m as V,l as N,g as o,U as _,av as f,G as S,A as r,i as P,ac as k}from"./index-GzcG7CSS.js";import{C as l}from"./Card-FSc1waky.js";import{B as K}from"./Breadcrumbs-B2TfZ2DQ.js";import{G as Y}from"./GradientAvatar-AwIYZPqW.js";import{u as Z}from"./usePageTitle-CSRQyC0a.js";import{S as c}from"./star-CqpiQmYF.js";import{S as A}from"./shield-B4OQBYN4.js";import{T as J}from"./target-nqDuZVMm.js";import{H as W}from"./heart-C_2-D3rA.js";import{S as X}from"./sparkles-CRFneB8Z.js";import"./chevron-right-D8jrJqqK.js";const ee=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],se=q("zap",ee),te={mentor_bronze:{label:"Bronze Mentor",color:"bg-amber-100 text-amber-700",icon:e.jsx(r,{className:"w-4 h-4"}),description:"5+ students mentored"},mentor_silver:{label:"Silver Mentor",color:"bg-stone-100 text-stone-600",icon:e.jsx(r,{className:"w-4 h-4"}),description:"15+ students mentored"},mentor_gold:{label:"Gold Mentor",color:"bg-yellow-100 text-yellow-700",icon:e.jsx(r,{className:"w-4 h-4"}),description:"30+ students mentored"},hours_100:{label:"Century Supervisor",color:"bg-blue-100 text-blue-700",icon:e.jsx(o,{className:"w-4 h-4"}),description:"100+ hours supervised"},hours_500:{label:"Master Supervisor",color:"bg-purple-100 text-purple-700",icon:e.jsx(o,{className:"w-4 h-4"}),description:"500+ hours supervised"},top_rated:{label:"Top Rated",color:"bg-green-100 text-green-700",icon:e.jsx(c,{className:"w-4 h-4"}),description:"4.5+ avg with 5+ reviews"},quick_responder:{label:"Quick Responder",color:"bg-sky-100 text-sky-700",icon:e.jsx(se,{className:"w-4 h-4"}),description:"90%+ reviews within 48hrs"},multi_specialty:{label:"Multi-Specialty",color:"bg-pink-100 text-pink-700",icon:e.jsx(X,{className:"w-4 h-4"}),description:"3+ specialties"}},ae={teaching_quality:{label:"Teaching Quality",icon:e.jsx(P,{className:"w-3.5 h-3.5"})},communication:{label:"Communication",icon:e.jsx(f,{className:"w-3.5 h-3.5"})},mentorship:{label:"Mentorship",icon:e.jsx(W,{className:"w-3.5 h-3.5"})},professionalism:{label:"Professionalism",icon:e.jsx(A,{className:"w-3.5 h-3.5"})},feedback_quality:{label:"Feedback Quality",icon:e.jsx(J,{className:"w-3.5 h-3.5"})},availability:{label:"Availability",icon:e.jsx(k,{className:"w-3.5 h-3.5"})},clinical_knowledge:{label:"Clinical Knowledge",icon:e.jsx(S,{className:"w-3.5 h-3.5"})},support:{label:"Support",icon:e.jsx(_,{className:"w-3.5 h-3.5"})}};function ue(){Z("Preceptor Profile");const{userId:n}=E(),g=z(),[b,C]=F.useState(!1),{data:L,isLoading:M}=O(n??null),{data:R,isLoading:$}=U(n??null),{data:x}=H(n??null);if(M)return e.jsx("div",{className:"flex justify-center py-24",children:e.jsx(y,{className:"w-8 h-8 animate-spin text-primary-500"})});const s=L?.profile;if(!s)return e.jsxs("div",{className:"text-center py-24",children:[e.jsx(Q,{className:"w-12 h-12 text-stone-300 mx-auto mb-3"}),e.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:"Preceptor not found"}),e.jsxs(w,{variant:"outline",className:"mt-4",onClick:()=>g("/preceptor-directory"),children:[e.jsx(V,{className:"w-4 h-4 mr-2"})," Back to Directory"]})]});const m=s.user,d=m?.first_name||"",p=m?.last_name||"";m?.email;const B=s.availability_status==="available"?"bg-green-500":s.availability_status==="limited"?"bg-yellow-500":"bg-stone-400",D=s.availability_status==="available"?"Available":s.availability_status==="limited"?"Limited Availability":"Unavailable",h=x?.average_score??s.review_stats?.average_score??null,v=x?.review_count??s.review_stats?.review_count??0,u=x?.category_averages??s.review_stats?.category_averages??null,i=R||[],G=b?i:i.slice(0,5);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(K,{items:[{label:"Preceptor Directory",path:"/preceptor-directory"},{label:`${d} ${p}`.trim()||"Preceptor"}]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-5",children:[e.jsx(Y,{name:`${d} ${p}`,size:"xl",className:"rounded-2xl"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("h1",{className:"text-2xl font-bold text-stone-900",children:[d," ",p]}),s.is_npi_verified&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-teal-50 text-teal-700 rounded-full text-xs font-medium",children:[e.jsx(N,{className:"w-3.5 h-3.5"})," NPI Verified"]}),e.jsxs("span",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${s.availability_status==="available"?"bg-green-100 text-green-700":s.availability_status==="limited"?"bg-yellow-100 text-yellow-700":"bg-stone-100 text-stone-600"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${B}`}),D]})]}),h!=null&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5",children:[[1,2,3,4,5].map(t=>e.jsx(c,{className:`w-4 h-4 ${h>=t?"text-yellow-400 fill-yellow-400":"text-stone-300"}`},t)),e.jsx("span",{className:"text-sm font-semibold text-stone-900 ml-1",children:h.toFixed(1)}),e.jsxs("span",{className:"text-sm text-stone-500",children:["(",v," review",v!==1?"s":"",")"]})]}),s.specialties.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:s.specialties.map(t=>e.jsx("span",{className:"px-2.5 py-1 bg-white/70 text-primary-700 rounded-full text-xs font-medium",children:t},t))}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-stone-600",children:[s.years_experience!=null&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4 text-stone-400"}),s.years_experience," years experience"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"w-4 h-4 text-stone-400"}),s.total_students_mentored," students mentored"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4 text-stone-400"}),s.total_hours_supervised,"h supervised"]})]})]})]}),s.bio&&e.jsx("p",{className:"mt-4 text-sm text-stone-600 leading-relaxed",children:s.bio})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.credentials&&s.credentials.length>0&&e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-primary-500"})," Credentials"]}),e.jsx("div",{className:"space-y-2",children:s.credentials.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:t.name}),e.jsxs("p",{className:"text-xs text-stone-500",children:[t.type,t.issuer?` · ${t.issuer}`:""]})]}),t.year&&e.jsx("span",{className:"text-xs text-stone-400",children:t.year})]},a))})]}),u&&Object.keys(u).length>0&&e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4 text-primary-500"})," Rating Breakdown"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(ae).map(([t,{label:a,icon:T}])=>{const j=u[t];if(j==null)return null;const I=j/5*100;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 w-40 shrink-0",children:[e.jsx("span",{className:"text-stone-400",children:T}),e.jsx("span",{className:"text-xs text-stone-600",children:a})]}),e.jsx("div",{className:"flex-1 h-2 bg-stone-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-400 to-primary-500 rounded-full transition-all duration-500",style:{width:`${I}%`}})}),e.jsx("span",{className:"text-xs font-semibold text-stone-700 w-8 text-right",children:j.toFixed(1)})]},t)})})]}),e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4 text-primary-500"})," Reviews (",i.length,")"]}),$?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(y,{className:"w-5 h-5 animate-spin text-stone-400"})}):i.length===0?e.jsx("p",{className:"text-sm text-stone-400 py-6 text-center",children:"No reviews yet"}):e.jsxs("div",{className:"space-y-3",children:[G.map(t=>e.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.is_anonymous||!t.student?e.jsx("span",{className:"text-sm font-medium text-stone-500",children:"Anonymous"}):e.jsxs("span",{className:"text-sm font-medium text-stone-900",children:[t.student.first_name," ",t.student.last_name]}),t.slot?.site&&e.jsxs("span",{className:"text-xs text-stone-400",children:["· ",t.slot.site.name]})]}),e.jsx("span",{className:"text-xs text-stone-400",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-0.5 mt-1.5",children:[[1,2,3,4,5].map(a=>e.jsx(c,{className:`w-3.5 h-3.5 ${t.overall_score>=a?"text-yellow-400 fill-yellow-400":"text-stone-300"}`},a)),e.jsx("span",{className:"text-xs text-stone-500 ml-1.5",children:t.overall_score.toFixed(1)})]}),t.comments&&e.jsx("p",{className:"text-sm text-stone-600 mt-2 leading-relaxed",children:t.comments})]},t.id)),i.length>5&&!b&&e.jsxs("button",{onClick:()=>C(!0),className:"w-full py-2 text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors",children:["Show all ",i.length," reviews"]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-primary-500"})," Mentoring Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"Students Mentored"}),e.jsx("span",{className:"text-sm font-bold text-stone-900",children:s.total_students_mentored})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"Hours Supervised"}),e.jsxs("span",{className:"text-sm font-bold text-stone-900",children:[s.total_hours_supervised,"h"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-xl",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"Max Students"}),e.jsx("span",{className:"text-sm font-bold text-stone-900",children:s.max_students})]})]})]}),s.npi_number&&e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-teal-500"})," NPI Verification"]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-teal-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-stone-900",children:["NPI #",s.npi_number]}),e.jsx("p",{className:"text-xs text-stone-500",children:s.is_npi_verified?"Verified against NPPES registry":"Pending verification"})]}),s.is_npi_verified&&e.jsx(N,{className:"w-5 h-5 text-teal-600"})]})]}),s.badges&&s.badges.length>0&&e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(r,{className:"w-4 h-4 text-primary-500"})," Badges & Achievements"]}),e.jsx("div",{className:"space-y-2",children:s.badges.map(t=>{const a=te[t];return a?e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${a.color}`,children:[a.icon,e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold",children:a.label}),e.jsx("p",{className:"text-[10px] opacity-70",children:a.description})]})]},t):null})})]}),s.teaching_philosophy&&e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-primary-500"})," Teaching Philosophy"]}),e.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:s.teaching_philosophy})]}),s.preferred_schedule&&e.jsxs(l,{children:[e.jsxs("h2",{className:"text-sm font-semibold text-stone-900 mb-3 flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-primary-500"})," Preferred Schedule"]}),e.jsx("p",{className:"text-sm text-stone-600",children:s.preferred_schedule})]}),e.jsxs(l,{children:[e.jsx("h2",{className:"text-sm font-semibold text-stone-900 mb-3",children:"Get in Touch"}),e.jsx("p",{className:"text-xs text-stone-500 mb-3",children:"Interested in learning from this preceptor? Send them a message."}),e.jsxs(w,{className:"w-full",onClick:()=>g(`/messages?to=${n}`),children:[e.jsx(f,{className:"w-4 h-4 mr-2"})," Send Message"]})]})]})]})]})}export{ue as PreceptorDetail};
